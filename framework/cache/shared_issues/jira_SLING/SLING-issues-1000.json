<!--
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Thu Oct 23 09:37:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+%22SLING%22+AND+issuetype+%3D+Bug+ORDER+BY+key+DESC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="1000" end="1200" total="4707"/>
                <build-info>
            <version>8.20.10</version>
            <build-number>820010</build-number>
            <build-date>22-06-2022</build-date>
        </build-info>

<item>
            <title>[SLING-9322] Resources without dot are not included in api jars</title>
                <link>https://issues.apache.org/jira/browse/SLING-9322</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When resources from the artifact jars are included and they dont have a dot in their name (like LICENSE or NOTICE), then these files are not included in the resulting jar&lt;/p&gt;</description>
                <environment></environment>
        <key id="13295690">SLING-9322</key>
            <summary>Resources without dot are not included in api jars</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Apr 2020 05:00:53 +0000</created>
                <updated>Sat, 18 Apr 2020 11:20:28 +0000</updated>
                            <resolved>Thu, 2 Apr 2020 13:57:27 +0000</resolved>
                                    <version>slingfeature-maven-plugin 1.1.24</version>
                                    <fixVersion>slingfeature-maven-plugin 1.2.0</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17073749" author="cziegeler" created="Thu, 2 Apr 2020 13:57:27 +0000"  >&lt;p&gt;This has been implemented as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9324&quot; title=&quot;Improve api jar generation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9324&quot;&gt;&lt;del&gt;SLING-9324&lt;/del&gt;&lt;/a&gt; in commit &lt;a href=&quot;https://github.com/apache/sling-slingfeature-maven-plugin/commit/c30072f224f5f9b4a28b0a6c45ac8421988eea97&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-slingfeature-maven-plugin/commit/c30072f224f5f9b4a28b0a6c45ac8421988eea97&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 29 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0d6z4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9321] Update to declarative services 1.4</title>
                <link>https://issues.apache.org/jira/browse/SLING-9321</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="13295563">SLING-9321</key>
            <summary>Update to declarative services 1.4</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cschneider">Christian Schneider</assignee>
                                    <reporter username="cschneider">Christian Schneider</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Apr 2020 15:40:09 +0000</created>
                <updated>Thu, 21 Sep 2023 13:12:04 +0000</updated>
                            <resolved>Thu, 21 Sep 2023 13:12:04 +0000</resolved>
                                    <version>Content Distribution Journal Core 0.1.10</version>
                                    <fixVersion>Content Distribution Journal Core 0.2.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 30 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0d66w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9319] sling:OsgiConfig nodetype is not registered anymore</title>
                <link>https://issues.apache.org/jira/browse/SLING-9319</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &lt;tt&gt;bnd.bnd&lt;/tt&gt; file has &lt;tt&gt;Sling-Nodetypes: SLING-INF/nodetypes/osgiconfig.cn&lt;/tt&gt; with a &quot;cn&quot; instead of &quot;cnd&quot; extension, as a result the &lt;tt&gt;sling:OsgiConfig&lt;/tt&gt; nodetype is not registered.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13295507">SLING-9319</key>
            <summary>sling:OsgiConfig nodetype is not registered anymore</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Apr 2020 11:07:10 +0000</created>
                <updated>Mon, 6 Apr 2020 11:18:30 +0000</updated>
                            <resolved>Wed, 1 Apr 2020 11:08:06 +0000</resolved>
                                    <version>JCR Installer 3.2.0</version>
                                    <fixVersion>JCR Installer 3.2.2</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17072655" author="bdelacretaz" created="Wed, 1 Apr 2020 11:08:06 +0000"  >&lt;p&gt;Fixed in commit 54a2e89&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 30 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0d5ug:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9314] NPE in ObjectModel.toBoolean(Object) when object.toString() returns null</title>
                <link>https://issues.apache.org/jira/browse/SLING-9314</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Though it is bad practice, it is possible that an object can return null from its toString() method. ObjectModel.toBoolean(Object) [&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-sightly-runtime/blob/master/src/main/java/org/apache/sling/scripting/sightly/render/ObjectModel.java#L161&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Line 161&lt;/a&gt;] calls .trim() on a potentially null object.&lt;/p&gt;

&lt;p&gt;This causes a difficult to troubleshoot, deeply nested, and cryptic exception to be raised. If object.toString() returns null, then it should be treated the same as nearly the rest of HTL, where null is considered &quot;falsey&quot;. Doing so will save hours of difficult troubleshooting.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13295403">SLING-9314</key>
            <summary>NPE in ObjectModel.toBoolean(Object) when object.toString() returns null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="paul.bjorkstrand">Paul Bjorkstrand</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Apr 2020 02:57:58 +0000</created>
                <updated>Tue, 29 Sep 2020 14:56:25 +0000</updated>
                            <resolved>Wed, 26 Aug 2020 16:21:55 +0000</resolved>
                                    <version>Scripting HTL Runtime 1.0.0-1.4.0</version>
                    <version>Scripting HTL Runtime 1.1.0-1.4.0</version>
                    <version>Scripting HTL Runtime 1.1.2-1.4.0</version>
                                    <fixVersion>Scripting HTL Runtime 1.2.4-1.4.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17184092" author="radu.cotescu" created="Tue, 25 Aug 2020 14:19:29 +0000"  >&lt;p&gt;If the object in question returns a &lt;tt&gt;null&lt;/tt&gt; for &lt;tt&gt;#toString&lt;/tt&gt;, then the processing will continue and check if the object is of other types. Just the fact that the object&apos;s &lt;tt&gt;#toString&lt;/tt&gt; method returns &lt;tt&gt;null&lt;/tt&gt; doesn&apos;t mean that the result of &lt;tt&gt;ObjectModel.toBoolean(Object)&lt;/tt&gt; will be &lt;tt&gt;false&lt;/tt&gt;. If you agree to this, then the fix is trivial.&lt;/p&gt;</comment>
                            <comment id="17184103" author="paul.bjorkstrand" created="Tue, 25 Aug 2020 14:51:18 +0000"  >&lt;p&gt;That works too, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu&quot; class=&quot;user-hover&quot; rel=&quot;radu&quot;&gt;radu&lt;/a&gt;. This was mainly a &quot;quick get the details down&quot; kind of report, that I did not yet follow up on. The suggestion for falsey was based on my specific situation. It might be worthwhile to add a warn/error log when toString returns null.&lt;/p&gt;

&lt;p&gt;As I stated in the first sentence, it is bad practice (and ostensibly breaks the contract of &lt;tt&gt;#toString&lt;/tt&gt;) but that does not stop bad code from sneaking in. Thinking for both allowing further processing and helping with troubleshooting something like this maybe (pseudocode):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
s = o.toString();

&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (s == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
 log warn or error with as much detail as possible
 s = EMPTY
}

s = s.trim()
... the &lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt; of the logic ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17184106" author="radu.cotescu" created="Tue, 25 Aug 2020 14:54:36 +0000"  >&lt;p&gt;Great, then we&apos;re on the same page. Thanks for the fast reply!&lt;/p&gt;

&lt;p&gt;One thing though: if the &lt;tt&gt;#toString()&lt;/tt&gt; method of the object returns &lt;tt&gt;null&lt;/tt&gt;, we should not assume that it actually returns &lt;tt&gt;&quot;&quot;&lt;/tt&gt;, since that would make &lt;tt&gt;ObjectModel#toBoolean()&lt;/tt&gt;  return &lt;tt&gt;false&lt;/tt&gt;. As stated before, the processing should continue. I&apos;ll open a PR so that we can review it together.&lt;/p&gt;</comment>
                            <comment id="17184178" author="radu.cotescu" created="Tue, 25 Aug 2020 16:30:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paul.bjorkstrand&quot; class=&quot;user-hover&quot; rel=&quot;paul.bjorkstrand&quot;&gt;paul.bjorkstrand&lt;/a&gt;, if I don&apos;t see any objections for &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-sightly-runtime/pull/6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-scripting-sightly-runtime/pull/6&lt;/a&gt; until tomorrow I will merge the change to &lt;tt&gt;master&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17185209" author="paul.bjorkstrand" created="Wed, 26 Aug 2020 14:13:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu&quot; class=&quot;user-hover&quot; rel=&quot;radu&quot;&gt;radu&lt;/a&gt;, I added a comment (rather lengthy, sorry) to the PR with an idea on how to both simplify the logic and to make it more readable. There is one non-backwards compatible change in the suggestion, though I feel it is worth eliminating that edge case. Let me know your thoughts on the impacts of that change.&lt;/p&gt;</comment>
                            <comment id="17185308" author="radu.cotescu" created="Wed, 26 Aug 2020 16:21:55 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-sightly-runtime/commit/9669c6b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 9669c6b&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0d57c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9313] Content Package Installer: do not return an InstallTask if the TaskResource is of an unsupported type</title>
                <link>https://issues.apache.org/jira/browse/SLING-9313</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &lt;tt&gt;org.apache.sling.installer.factory.packages.impl.PackageTransformer#createTask&lt;/tt&gt; currently returns a &lt;tt&gt;ChangeStateTask&lt;/tt&gt; for resources that it cannot handle &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;. According to the documentation of the &lt;tt&gt;org.apache.sling.installer.api.tasks.InstallTaskFactory&lt;/tt&gt;, a factory should return &lt;tt&gt;null&lt;/tt&gt; &quot;if the factory does not support the resource&quot;.&lt;/p&gt;

&lt;p&gt;The following error is encountered in the HTL integration tests setup from &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-sightly-testing:&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-scripting-sightly-testing:&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;31.03.2020 16:15:14.833 *ERROR* [OsgiInstallerImpl] org.apache.sling.installer.factory.packages.impl.PackageTransformer Unupported type of TaskResource(url=jcrinstall:/apps/sightly/install/org.apache.sling.scripting.sightly.testing-content-crlf.jar, entity=bundle:org.apache.sling.scripting.sightly.testing-content-crlf, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:448:611:9:, Bundle-SymbolicName=org.apache.sling.scripting.sightly.testing-content-crlf, Bundle-Version=1.0.0], digest=1585265891708): bundle.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Several tests are failing, since the above bundle doesn&apos;t get installed. The error cannot be reproduced all the time, suggesting that the order in which the &lt;tt&gt;org.apache.sling.installer.api.tasks.InstallTaskFactory&lt;/tt&gt; services are started plays a role.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; - &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-factory-packages/blob/org.apache.sling.installer.factory.packages-1.0.0/src/main/java/org/apache/sling/installer/factory/packages/impl/PackageTransformer.java#L241&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-factory-packages/blob/org.apache.sling.installer.factory.packages-1.0.0/src/main/java/org/apache/sling/installer/factory/packages/impl/PackageTransformer.java#L241&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13295285">SLING-9313</key>
            <summary>Content Package Installer: do not return an InstallTask if the TaskResource is of an unsupported type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 31 Mar 2020 15:08:21 +0000</created>
                <updated>Mon, 6 Apr 2020 11:18:40 +0000</updated>
                            <resolved>Tue, 31 Mar 2020 15:17:44 +0000</resolved>
                                    <version>Installer Packages Factory 1.0.0</version>
                                    <fixVersion>Installer Packages Factory 1.0.2</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17071879" author="kwin" created="Tue, 31 Mar 2020 15:15:33 +0000"  >&lt;p&gt;Indeed, this is a regression of &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-factory-packages/commit/02630994754015433237b6e4221132587a39a8ec&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-factory-packages/commit/02630994754015433237b6e4221132587a39a8ec&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17071881" author="kwin" created="Tue, 31 Mar 2020 15:17:44 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-factory-packages/commit/74f49eef85d945537fe47b17f7613e3437b60df1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-factory-packages/commit/74f49eef85d945537fe47b17f7613e3437b60df1&lt;/a&gt;.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu&quot; class=&quot;user-hover&quot; rel=&quot;radu&quot;&gt;radu&lt;/a&gt; Thanks for the PR.&lt;/p&gt;</comment>
                            <comment id="17074312" author="olli" created="Fri, 3 Apr 2020 06:42:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu&quot; class=&quot;user-hover&quot; rel=&quot;radu&quot;&gt;radu&lt;/a&gt;, Should the log level not be &lt;tt&gt;warn&lt;/tt&gt; or at least &lt;tt&gt;info&lt;/tt&gt; instead of &lt;tt&gt;debug&lt;/tt&gt; when hitting an unsupported type?&lt;/p&gt;</comment>
                            <comment id="17074435" author="radu.cotescu" created="Fri, 3 Apr 2020 09:35:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt;, I don&apos;t think so, given that there are multiple factories handling this. Maybe the caller of these factories should log this at the end, reporting the tasks which were not completed - that seems to happen in &lt;tt&gt;org.apache.sling.installer.core.impl.OsgiInstallerImpl#getTask&lt;/tt&gt;, but it&apos;s the first time I interact with this code, so &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; is more entitled to say something here.&lt;/p&gt;</comment>
                            <comment id="17074436" author="kwin" created="Fri, 3 Apr 2020 09:37:11 +0000"  >&lt;p&gt;Given the fact that the other factories don&apos;t log that case at all, I think debug is sufficient!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 29 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0d4hc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9312] LazyBindings.entrySet: hashCode of binding values is calculated</title>
                <link>https://issues.apache.org/jira/browse/SLING-9312</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The method entrySet in&#160;org.apache.sling.api.scripting.LazyBindings currently has a bug that forces the hashCode of the entry values in Bindings are calculated in each HTL request, when it should only be the hashCode of the keys - if at all. This can be a performance problem if the value is e.g. a large map, in our (complicated) case this even got us a StackOverflowError.&lt;/p&gt;

&lt;p&gt;The problematic code is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Set&amp;lt;Entry&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt;&amp;gt; entrySet() {
        HashSet&amp;lt;Entry&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt;&amp;gt; entrySet = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashSet&amp;lt;&amp;gt;(&lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.entrySet());
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (Map.Entry supplierEntry : suppliers.entrySet()) {
            entrySet.add(supplierEntry);
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; Collections.unmodifiableSet(entrySet);
    } &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Since the entries are put together in a HashSet, each add will calculate the hashCode of the entry - which sums the hashCode of the key&#160;&lt;b&gt;and the value&lt;/b&gt; of each binding entry. I suggest to replace this with a HashMap and return it&apos;s entrySet. Another problem is that this could return several entries for the same key, which is probably not intended.&lt;/p&gt;

&lt;p&gt;In case you are wondering, this is called in every HTL request like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
         at java.base/java.util.HashSet.add(HashSet.java:220)
          at java.base/java.util.AbstractCollection.addAll(AbstractCollection.java:336)
          at java.base/java.util.HashSet.&amp;lt;init&amp;gt;(HashSet.java:120)
          at org.apache.sling.api.scripting.LazyBindings.entrySet(LazyBindings.java:117) [org.apache.sling.api:2.21.0]
          at org.apache.sling.api.scripting.LazyBindings.putAll(LazyBindings.java:87) [org.apache.sling.api:2.21.0]
          at org.apache.sling.scripting.sightly.impl.engine.SightlyCompiledScript.eval(SightlyCompiledScript.java:50) [org.apache.sling.scripting.sightly:1.2.0.0]
          at org.apache.sling.scripting.core.impl.DefaultSlingScript.call(DefaultSlingScript.java:386) [org.apache.sling.scripting.core:2.1.0]
          at org.apache.sling.scripting.core.impl.DefaultSlingScript.eval(DefaultSlingScript.java:184) [org.apache.sling.scripting.core:2.1.0]
          at org.apache.sling.scripting.core.impl.DefaultSlingScript.service(DefaultSlingScript.java:491) [org.apache.sling.scripting.core:2.1.0]
          at org.apache.sling.engine.impl.request.RequestData.service(RequestData.java:552) [org.apache.sling.engine:2.6.20]
          at org.apache.sling.engine.impl.filter.SlingComponentFilterChain.render(SlingComponentFilterChain.java:44) [org.apache.sling.engine:2.6.20] &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13295210">SLING-9312</key>
            <summary>LazyBindings.entrySet: hashCode of binding values is calculated</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="hanspeterstoerr">Hans-Peter Stoerr</reporter>
                        <labels>
                    </labels>
                <created>Tue, 31 Mar 2020 09:37:23 +0000</created>
                <updated>Sat, 26 Sep 2020 21:16:17 +0000</updated>
                            <resolved>Wed, 1 Apr 2020 14:39:45 +0000</resolved>
                                    <version>API 2.21.0</version>
                                    <fixVersion>API 2.23.0</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17072829" author="radu.cotescu" created="Wed, 1 Apr 2020 14:39:45 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-api/commit/f84ddeb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit f84ddeb&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310361">
                    <name>Blocked</name>
                                            <outwardlinks description="Blocked">
                                        <issuelink>
            <issuekey id="13258338">SLING-8737</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 30 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0d40o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9307] Make build fully reproducible</title>
                <link>https://issues.apache.org/jira/browse/SLING-9307</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;According to &lt;a href=&quot;https://github.com/jvm-repo-rebuild/reproducible-central#results&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jvm-repo-rebuild/reproducible-central#results&lt;/a&gt; builds with parent 38 are not fully reproducible yet. AFAICS this is caused by the fact, that we use a slightly outdated maven-source-plugin (&lt;a href=&quot;https://github.com/apache/sling-parent/blob/129ae7a6d8426be32877eaed0b20b43c5cd7b223/sling-parent/pom.xml#L321&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-parent/blob/129ae7a6d8426be32877eaed0b20b43c5cd7b223/sling-parent/pom.xml#L321&lt;/a&gt;). In general no version should be managed to a lower version than given in the ASF parent (e.g. &lt;a href=&quot;https://github.com/apache/maven-apache-parent/blob/591f84284d4bce53ca2ee686c1d84b16e8029716/pom.xml#L288&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-apache-parent/blob/591f84284d4bce53ca2ee686c1d84b16e8029716/pom.xml#L288&lt;/a&gt;).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13295044">SLING-9307</key>
            <summary>Make build fully reproducible</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Mar 2020 16:25:38 +0000</created>
                <updated>Fri, 22 May 2020 09:33:45 +0000</updated>
                            <resolved>Sat, 18 Apr 2020 11:26:33 +0000</resolved>
                                    <version>Parent 38</version>
                                    <fixVersion>Parent 39</fixVersion>
                                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17086419" author="kwin" created="Sat, 18 Apr 2020 11:26:33 +0000"  >&lt;p&gt;Do no longer downgrade managed plugin versions from ASF parent in &lt;a href=&quot;https://github.com/apache/sling-parent/commit/cd2cce804cc6cadb652e84944bdbe6f23576ba91&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-parent/commit/cd2cce804cc6cadb652e84944bdbe6f23576ba91&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13296917">MENFORCER-354</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13306725">SLING-9463</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13276012">SLING-8951</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 27 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0d2zs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9301] CI validator does not take into account additional artifacts</title>
                <link>https://issues.apache.org/jira/browse/SLING-9301</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When verifying a release that stages multiple artifacts, the CI status is printed for only one of them&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; $ ./run.sh release verify -r 2228

org.apache.sling.repoinit.parser-1.6.2-source-release.zip
GPG: signed by Bertrand Delacretaz (CODE SIGNING KEY) &amp;lt;bdelacretaz@apache.org&amp;gt; with key (id=0x77B6B69A9E4DCC6B; fingerprint=5EFF256585AC5FB607F6D46A77B6B69A9E4DCC6B)
SHA-1: VALID (c2cf2ecfbdd9ae9de1c34b5c101a3cca5e89ee77)
MD-5: VALID (cf819d39586ed9a7f2ab27b712354347)

org.apache.sling.repoinit.parser-1.6.2.pom
GPG: signed by Bertrand Delacretaz (CODE SIGNING KEY) &amp;lt;bdelacretaz@apache.org&amp;gt; with key (id=0x77B6B69A9E4DCC6B; fingerprint=5EFF256585AC5FB607F6D46A77B6B69A9E4DCC6B)
SHA-1: VALID (a50ec0a3cd9d4cc351851e1fe2f0eb2fc4417263)
MD-5: VALID (3fc5989f52b6d94a932c4e2ed1092b6e)

org.apache.sling.jcr.repoinit-1.1.24-javadoc.jar
GPG: signed by Bertrand Delacretaz (CODE SIGNING KEY) &amp;lt;bdelacretaz@apache.org&amp;gt; with key (id=0x77B6B69A9E4DCC6B; fingerprint=5EFF256585AC5FB607F6D46A77B6B69A9E4DCC6B)
SHA-1: VALID (fe2eac7e58c88a2e1cb94df8890dd28aa9139fb8)
MD-5: VALID (6557cc5774264eaf3b6b6a0cace03e29)

org.apache.sling.jcr.repoinit-1.1.24-sources.jar
GPG: signed by Bertrand Delacretaz (CODE SIGNING KEY) &amp;lt;bdelacretaz@apache.org&amp;gt; with key (id=0x77B6B69A9E4DCC6B; fingerprint=5EFF256585AC5FB607F6D46A77B6B69A9E4DCC6B)
SHA-1: VALID (fc656cbb87cc4de9ed0a75b0832f5af98b86ec77)
MD-5: VALID (2ddc5461e6a2dd9e7cc265055e857fbc)

org.apache.sling.jcr.repoinit-1.1.24-source-release.zip
GPG: signed by Bertrand Delacretaz (CODE SIGNING KEY) &amp;lt;bdelacretaz@apache.org&amp;gt; with key (id=0x77B6B69A9E4DCC6B; fingerprint=5EFF256585AC5FB607F6D46A77B6B69A9E4DCC6B)
SHA-1: VALID (8bbcefb958396b0822e25c49cab0ab3cf8c36afa)
MD-5: VALID (b66668ff72fe65527861702117d70707)

org.apache.sling.repoinit.parser-1.6.2.jar
GPG: signed by Bertrand Delacretaz (CODE SIGNING KEY) &amp;lt;bdelacretaz@apache.org&amp;gt; with key (id=0x77B6B69A9E4DCC6B; fingerprint=5EFF256585AC5FB607F6D46A77B6B69A9E4DCC6B)
SHA-1: VALID (54442784c12cb4fe5ae78a6c07d4833a4b814ebe)
MD-5: VALID (1136e820a52c86e5e1621e9781a5302b)

org.apache.sling.repoinit.parser-1.6.2-javadoc.jar
GPG: signed by Bertrand Delacretaz (CODE SIGNING KEY) &amp;lt;bdelacretaz@apache.org&amp;gt; with key (id=0x77B6B69A9E4DCC6B; fingerprint=5EFF256585AC5FB607F6D46A77B6B69A9E4DCC6B)
SHA-1: VALID (0aa8c275106c86d0717ff4a1b1255a6d39170603)
MD-5: VALID (8c94789be7d15126f786942492d5cfd6)

org.apache.sling.jcr.repoinit-1.1.24.jar
GPG: signed by Bertrand Delacretaz (CODE SIGNING KEY) &amp;lt;bdelacretaz@apache.org&amp;gt; with key (id=0x77B6B69A9E4DCC6B; fingerprint=5EFF256585AC5FB607F6D46A77B6B69A9E4DCC6B)
SHA-1: VALID (134f7c334d22f8187c6452762258a071ef454e77)
MD-5: VALID (e4e73aff04aff5b49805229a03f9358b)

org.apache.sling.jcr.repoinit-1.1.24.pom
GPG: signed by Bertrand Delacretaz (CODE SIGNING KEY) &amp;lt;bdelacretaz@apache.org&amp;gt; with key (id=0x77B6B69A9E4DCC6B; fingerprint=5EFF256585AC5FB607F6D46A77B6B69A9E4DCC6B)
SHA-1: VALID (255485068f952d548a24faa5766e918d4680f42c)
MD-5: VALID (9765d12d2acd46073a0edbcf6bb769f4)

org.apache.sling.repoinit.parser-1.6.2-sources.jar
GPG: signed by Bertrand Delacretaz (CODE SIGNING KEY) &amp;lt;bdelacretaz@apache.org&amp;gt; with key (id=0x77B6B69A9E4DCC6B; fingerprint=5EFF256585AC5FB607F6D46A77B6B69A9E4DCC6B)
SHA-1: VALID (bcde5285e0389198a170b0ececf022cad0cf9216)
MD-5: VALID (15632480b50dd9f3421834d2bfafda39)

CI Status: INVALID: 
	continuous-integration/jenkins/branch
		State: error
		Description: This commit cannot be built
		See: https://builds.apache.org/job/Sling/job/sling-org-apache-sling-jcr-repoinit/job/master/311/display/redirect
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13294952">SLING-9301</key>
            <summary>CI validator does not take into account additional artifacts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Mar 2020 10:03:33 +0000</created>
                <updated>Mon, 3 Apr 2023 10:50:22 +0000</updated>
                                                            <fixVersion>Committer CLI 1.0.2</fixVersion>
                                    <component>Build and Source Control</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 30 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0d2fs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9260] Aggregation of features might modify source extension</title>
                <link>https://issues.apache.org/jira/browse/SLING-9260</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When features are aggregated and there is no handler for an extension and the target does not have the extension, the extension is directly added from the source into the target - without cloning it. That results that subsequent aggregates will modify the source extension directly&lt;/p&gt;</description>
                <environment></environment>
        <key id="13294163">SLING-9260</key>
            <summary>Aggregation of features might modify source extension</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Mar 2020 10:14:29 +0000</created>
                <updated>Sun, 29 Mar 2020 12:21:11 +0000</updated>
                            <resolved>Thu, 26 Mar 2020 10:35:32 +0000</resolved>
                                    <version>Feature Model 1.1.6</version>
                                    <fixVersion>slingfeature-maven-plugin 1.1.24</fixVersion>
                    <fixVersion>Feature Model 1.1.8</fixVersion>
                                    <component>Feature Model</component>
                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17067577" author="cziegeler" created="Thu, 26 Mar 2020 10:35:32 +0000"  >&lt;p&gt;Fixed in rev &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature/commit/91080fa7544dbea0a8f5b28c6cbc63cfeccf847e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature/commit/91080fa7544dbea0a8f5b28c6cbc63cfeccf847e&lt;/a&gt;&lt;br/&gt;
Added a test case verifying the fix&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 30 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0cxkg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9259] Prepare distribution journal subscriber code for an external distribution service</title>
                <link>https://issues.apache.org/jira/browse/SLING-9259</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently the distribution.journal bundle directly talks to the messaging system. We would like to introduce a service that extracts this functionality from sling.&#160;&lt;/p&gt;

&lt;p&gt;To allow a smooth transition I would like to split the code into a part that stay in the sling instance and the part that will be moved to the service impl.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13294162">SLING-9259</key>
            <summary>Prepare distribution journal subscriber code for an external distribution service</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cschneider">Christian Schneider</assignee>
                                    <reporter username="cschneider">Christian Schneider</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Mar 2020 10:10:16 +0000</created>
                <updated>Fri, 16 Jul 2021 07:39:27 +0000</updated>
                            <resolved>Tue, 21 Jul 2020 13:52:49 +0000</resolved>
                                    <version>Content Distribution Journal Core 0.1.8</version>
                                    <fixVersion>Content Distribution Journal Core 0.1.18</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17077176" author="marett" created="Tue, 7 Apr 2020 12:32:05 +0000"  >&lt;p&gt;Moved changes since 0.1.10 in the branch &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-journal/tree/SLING-9259&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-journal/tree/SLING-9259&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 29 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0cxk8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9253] Feature archive gives EOFException while reading</title>
                <link>https://issues.apache.org/jira/browse/SLING-9253</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;tt&gt;&lt;a href=&quot;http://java.io/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;java.io&lt;/a&gt;&lt;/tt&gt;&lt;tt&gt;.EOFException: Unexpected end of ZLIB input stream&lt;/tt&gt;&lt;br/&gt;
{{	at java.util.zip.InflaterInputStream.fill(InflaterInputStream.java:240)}}&lt;br/&gt;
{{	at java.util.zip.InflaterInputStream.read(InflaterInputStream.java:158)}}&lt;br/&gt;
{{	at java.util.zip.ZipInputStream.read(ZipInputStream.java:194)}}&lt;br/&gt;
{{	at java.util.jar.JarInputStream.read(JarInputStream.java:207)}}&lt;/p&gt;

&lt;p&gt;{{}}&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;It is probably due to not closing of JarOutputStream in the AttachFeatureArchivesMojo&lt;/tt&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13293553">SLING-9253</key>
            <summary>Feature archive gives EOFException while reading</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="nitigupt">Nitin Gupta</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Mar 2020 13:59:29 +0000</created>
                <updated>Sun, 29 Mar 2020 12:22:32 +0000</updated>
                            <resolved>Tue, 24 Mar 2020 16:56:32 +0000</resolved>
                                    <version> slingfeature-maven-plugin 1.1.20</version>
                                    <fixVersion>slingfeature-maven-plugin 1.1.24</fixVersion>
                                    <component>Feature Model</component>
                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17065962" author="cziegeler" created="Tue, 24 Mar 2020 16:56:32 +0000"  >&lt;p&gt;Fixed in &lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-slingfeature-maven-plugin/commit/dd75d365949713c92d68bb980bf62a2d3f26b571&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-slingfeature-maven-plugin/commit/dd75d365949713c92d68bb980bf62a2d3f26b571&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0cugw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9250] Selectors are used as extensions when servlets are registered for a capability</title>
                <link>https://issues.apache.org/jira/browse/SLING-9250</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9216&quot; title=&quot;Allow capabilities to provide lists of resource types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9216&quot;&gt;&lt;del&gt;SLING-9216&lt;/del&gt;&lt;/a&gt; slipped a bug where a capability&apos;s selectors are used for generating the &lt;tt&gt;sling.servlets.extensions&lt;/tt&gt; servlet registration property.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13293516">SLING-9250</key>
            <summary>Selectors are used as extensions when servlets are registered for a capability</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Mar 2020 11:29:37 +0000</created>
                <updated>Mon, 13 Jul 2020 14:50:36 +0000</updated>
                            <resolved>Tue, 24 Mar 2020 11:41:48 +0000</resolved>
                                                    <fixVersion>Servlets Resolver 2.7.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17065544" author="radu.cotescu" created="Tue, 24 Mar 2020 11:41:48 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-bundle-tracker/commit/fd90c9c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit fd90c9c&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310460">
                    <name>Child-Issue</name>
                                                                <inwardlinks description="is a child of">
                                        <issuelink>
            <issuekey id="13291973">SLING-9207</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0cu8o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9249] Exception thrown when running the Sling Starter - UseRuntimeException: The bindUseProvider method has thrown an exception</title>
                <link>https://issues.apache.org/jira/browse/SLING-9249</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;To reproduce: run &lt;tt&gt;mvn clean verify&lt;/tt&gt; on the current sling starter - org.apache.sling.starter-11-77-g85dfd1c.&lt;/p&gt;

&lt;p&gt;I see the following error logged on the console:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ERROR: bundle org.apache.sling.scripting.sightly:1.3.2.0 (167)[org.apache.sling.scripting.sightly.impl.engine.extension.use.UseRuntimeExtension(311)] : The bindUseProvider method has thrown an exception
java.lang.NullPointerException
	at java.base/java.util.concurrent.ConcurrentSkipListMap.put(ConcurrentSkipListMap.java:1345)
	at org.apache.sling.scripting.sightly.impl.engine.extension.use.UseRuntimeExtension.bindUseProvider(UseRuntimeExtension.java:91)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.apache.felix.scr.impl.inject.methods.BaseMethod.invokeMethod(BaseMethod.java:228)
	at org.apache.felix.scr.impl.inject.methods.BaseMethod.access$500(BaseMethod.java:41)
	at org.apache.felix.scr.impl.inject.methods.BaseMethod$Resolved.invoke(BaseMethod.java:664)
	at org.apache.felix.scr.impl.inject.methods.BaseMethod.invoke(BaseMethod.java:510)
	at org.apache.felix.scr.impl.inject.methods.BindMethod.invoke(BindMethod.java:42)
	at org.apache.felix.scr.impl.manager.DependencyManager.doInvokeBindMethod(DependencyManager.java:1813)
	at org.apache.felix.scr.impl.manager.DependencyManager.invokeBindMethod(DependencyManager.java:1788)
	at org.apache.felix.scr.impl.manager.SingleComponentManager.invokeBindMethod(SingleComponentManager.java:435)
	at org.apache.felix.scr.impl.manager.DependencyManager$MultipleDynamicCustomizer.addedService(DependencyManager.java:325)
	at org.apache.felix.scr.impl.manager.DependencyManager$MultipleDynamicCustomizer.addedService(DependencyManager.java:294)
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1216)
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1137)
	at org.apache.felix.scr.impl.manager.ServiceTracker$AbstractTracked.trackAdding(ServiceTracker.java:944)
	at org.apache.felix.scr.impl.manager.ServiceTracker$AbstractTracked.track(ServiceTracker.java:880)
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:1168)
	at org.apache.felix.scr.impl.BundleComponentActivator$ListenerInfo.serviceChanged(BundleComponentActivator.java:125)
	at org.apache.felix.framework.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:990)
	at org.apache.felix.framework.EventDispatcher.fireEventImmediately(EventDispatcher.java:838)
	at org.apache.felix.framework.EventDispatcher.fireServiceEvent(EventDispatcher.java:545)
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4833)
	at org.apache.felix.framework.Felix.registerService(Felix.java:3804)
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:328)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:906)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:892)
	at org.apache.felix.scr.impl.manager.RegistrationManager.changeRegistration(RegistrationManager.java:128)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerService(AbstractComponentManager.java:959)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.activateInternal(AbstractComponentManager.java:732)
	at org.apache.felix.scr.impl.manager.DependencyManager$SingleStaticCustomizer.addedService(DependencyManager.java:1045)
	at org.apache.felix.scr.impl.manager.DependencyManager$SingleStaticCustomizer.addedService(DependencyManager.java:999)
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1216)
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1137)
	at org.apache.felix.scr.impl.manager.ServiceTracker$AbstractTracked.trackAdding(ServiceTracker.java:944)
	at org.apache.felix.scr.impl.manager.ServiceTracker$AbstractTracked.track(ServiceTracker.java:880)
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:1168)
	at org.apache.felix.scr.impl.BundleComponentActivator$ListenerInfo.serviceChanged(BundleComponentActivator.java:125)
	at org.apache.felix.framework.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:990)
	at org.apache.felix.framework.EventDispatcher.fireEventImmediately(EventDispatcher.java:838)
	at org.apache.felix.framework.EventDispatcher.fireServiceEvent(EventDispatcher.java:545)
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4833)
	at org.apache.felix.framework.Felix.registerService(Felix.java:3804)
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:328)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:906)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:892)
	at org.apache.felix.scr.impl.manager.RegistrationManager.changeRegistration(RegistrationManager.java:128)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerService(AbstractComponentManager.java:959)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.activateInternal(AbstractComponentManager.java:732)
	at org.apache.felix.scr.impl.manager.DependencyManager$SingleStaticCustomizer.addedService(DependencyManager.java:1045)
	at org.apache.felix.scr.impl.manager.DependencyManager$SingleStaticCustomizer.addedService(DependencyManager.java:999)
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1216)
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1137)
	at org.apache.felix.scr.impl.manager.ServiceTracker$AbstractTracked.trackAdding(ServiceTracker.java:944)
	at org.apache.felix.scr.impl.manager.ServiceTracker$AbstractTracked.track(ServiceTracker.java:880)
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:1168)
	at org.apache.felix.scr.impl.BundleComponentActivator$ListenerInfo.serviceChanged(BundleComponentActivator.java:125)
	at org.apache.felix.framework.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:990)
	at org.apache.felix.framework.EventDispatcher.fireEventImmediately(EventDispatcher.java:838)
	at org.apache.felix.framework.EventDispatcher.fireServiceEvent(EventDispatcher.java:545)
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4833)
	at org.apache.felix.framework.Felix.registerService(Felix.java:3804)
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:328)
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:501)
	at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.registerFactory(ResourceResolverFactoryActivator.java:488)
	at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.checkFactoryPreconditions(ResourceResolverFactoryActivator.java:551)
	at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.access$100(ResourceResolverFactoryActivator.java:72)
	at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator$1.providerAdded(ResourceResolverFactoryActivator.java:385)
	at org.apache.sling.resourceresolver.impl.providers.ResourceProviderTracker.register(ResourceProviderTracker.java:217)
	at org.apache.sling.resourceresolver.impl.providers.ResourceProviderTracker.access$200(ResourceProviderTracker.java:59)
	at org.apache.sling.resourceresolver.impl.providers.ResourceProviderTracker$1.addingService(ResourceProviderTracker.java:130)
	at org.apache.sling.resourceresolver.impl.providers.ResourceProviderTracker$1.addingService(ResourceProviderTracker.java:106)
	at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:943)
	at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:871)
	at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:256)
	at org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:229)
	at org.osgi.util.tracker.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:903)
	at org.apache.felix.framework.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:990)
	at org.apache.felix.framework.EventDispatcher.fireEventImmediately(EventDispatcher.java:838)
	at org.apache.felix.framework.EventDispatcher.fireServiceEvent(EventDispatcher.java:545)
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4833)
	at org.apache.felix.framework.Felix.registerService(Felix.java:3804)
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:328)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:906)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:892)
	at org.apache.felix.scr.impl.manager.RegistrationManager.changeRegistration(RegistrationManager.java:128)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerService(AbstractComponentManager.java:959)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.activateInternal(AbstractComponentManager.java:732)
	at org.apache.felix.scr.impl.manager.DependencyManager$SingleStaticCustomizer.addedService(DependencyManager.java:1045)
	at org.apache.felix.scr.impl.manager.DependencyManager$SingleStaticCustomizer.addedService(DependencyManager.java:999)
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1216)
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1137)
	at org.apache.felix.scr.impl.manager.ServiceTracker$AbstractTracked.trackAdding(ServiceTracker.java:944)
	at org.apache.felix.scr.impl.manager.ServiceTracker$AbstractTracked.track(ServiceTracker.java:880)
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:1168)
	at org.apache.felix.scr.impl.BundleComponentActivator$ListenerInfo.serviceChanged(BundleComponentActivator.java:125)
	at org.apache.felix.framework.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:990)
	at org.apache.felix.framework.EventDispatcher.fireEventImmediately(EventDispatcher.java:838)
	at org.apache.felix.framework.EventDispatcher.fireServiceEvent(EventDispatcher.java:545)
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4833)
	at org.apache.felix.framework.Felix.registerService(Felix.java:3804)
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:328)
	at org.apache.sling.jcr.base.AbstractSlingRepositoryManager.registerService(AbstractSlingRepositoryManager.java:218)
	at org.apache.sling.jcr.base.AbstractSlingRepositoryManager.initializeAndRegisterRepositoryService(AbstractSlingRepositoryManager.java:541)
	at org.apache.sling.jcr.base.AbstractSlingRepositoryManager.access$300(AbstractSlingRepositoryManager.java:92)
	at org.apache.sling.jcr.base.AbstractSlingRepositoryManager$4.run(AbstractSlingRepositoryManager.java:496)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;System details:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ mvn -v
Apache Maven 3.6.3 (SUSE 3.6.3-2.1)
Maven home: /usr/share/maven
Java version: 11.0.6, vendor: Oracle Corporation, runtime: /usr/lib64/jvm/java-11-openjdk-11
Default locale: en_US, platform encoding: UTF-8
OS name: &quot;linux&quot;, version: &quot;5.5.7-1-default&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13293499">SLING-9249</key>
            <summary>Exception thrown when running the Sling Starter - UseRuntimeException: The bindUseProvider method has thrown an exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Mar 2020 10:27:17 +0000</created>
                <updated>Tue, 4 Aug 2020 15:48:09 +0000</updated>
                            <resolved>Tue, 4 Aug 2020 15:48:04 +0000</resolved>
                                    <version>Scripting HTL Engine 1.3.2-1.4.0</version>
                                    <fixVersion>Scripting HTL Engine 1.4.0-1.4.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17065493" author="rombert" created="Tue, 24 Mar 2020 10:28:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu&quot; class=&quot;user-hover&quot; rel=&quot;radu&quot;&gt;radu&lt;/a&gt; - not sure if this has other side effects, but at least it would be good to prevent it from happening and being printed on the console.&lt;/p&gt;</comment>
                            <comment id="17170883" author="radu.cotescu" created="Tue, 4 Aug 2020 15:34:06 +0000"  >&lt;p&gt;I think this issue has been fixed via&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9320&quot; title=&quot;Allow bundled render units to access objects from the same bundle through the Use API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9320&quot;&gt;&lt;del&gt;SLING-9320&lt;/del&gt;&lt;/a&gt;. I cannot reproduce it on the latest starter app. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, could you please confirm?&lt;/p&gt;</comment>
                            <comment id="17170905" author="rombert" created="Tue, 4 Aug 2020 15:40:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu&quot; class=&quot;user-hover&quot; rel=&quot;radu&quot;&gt;radu&lt;/a&gt; - no, I don&apos;t see this error anymore.&lt;/p&gt;</comment>
                            <comment id="17170911" author="radu.cotescu" created="Tue, 4 Aug 2020 15:46:51 +0000"  >&lt;p&gt;Thanks! I&apos;ll close it then.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310660">
                    <name>Completes</name>
                                                                <inwardlinks description="is fixed by">
                                        <issuelink>
            <issuekey id="13295516">SLING-9320</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12997536" name="log.txt" size="113724" author="rombert" created="Tue, 24 Mar 2020 10:30:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0cu4w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9248] Feature model variables are not resolved for array elements</title>
                <link>https://issues.apache.org/jira/browse/SLING-9248</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Feature model variables are not resolved for array elements.&lt;/p&gt;

&lt;p&gt;Let&apos;s say the following variable is defined:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;variables&quot;&lt;/span&gt; : {
  &lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Then this variable should be substituted in configuration values that are an array:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
.... &lt;span class=&quot;code-quote&quot;&gt;&quot;configkey&quot;&lt;/span&gt; : [&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;${foo}&quot;&lt;/span&gt;]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13293480">SLING-9248</key>
            <summary>Feature model variables are not resolved for array elements</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="davidb">A. J. David Bosschaert</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Mar 2020 08:37:25 +0000</created>
                <updated>Mon, 20 Jul 2020 14:10:50 +0000</updated>
                            <resolved>Wed, 1 Jul 2020 07:14:40 +0000</resolved>
                                    <version>Feature Model 1.1.4</version>
                                    <fixVersion>Feature Model 1.2.4</fixVersion>
                                    <component>Feature Model</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17149173" author="cziegeler" created="Wed, 1 Jul 2020 07:14:40 +0000"  >&lt;p&gt;Implemented in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature/commit/9958526ed2b81f0a7fe7b5156903f6d86e936d16&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature/commit/9958526ed2b81f0a7fe7b5156903f6d86e936d16&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 17 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0cu00:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9233] Skip registering the Dispatcher servlet if the resource types are not versioned</title>
                <link>https://issues.apache.org/jira/browse/SLING-9233</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &lt;tt&gt;BundledScriptTracker&lt;/tt&gt; registers a &lt;tt&gt;BundledScriptTracker.DispatcherServlet&lt;/tt&gt; in order to dispatch a request to a resource with a non-versioned resource type to the servlet registered for the highest version of that type. However, the &lt;tt&gt;DispatcherServlet&lt;/tt&gt; should not be registered at all if the original resource types are not versioned.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13293265">SLING-9233</key>
            <summary>Skip registering the Dispatcher servlet if the resource types are not versioned</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Mar 2020 10:19:54 +0000</created>
                <updated>Mon, 13 Jul 2020 14:50:42 +0000</updated>
                            <resolved>Mon, 23 Mar 2020 16:09:10 +0000</resolved>
                                    <version>Scripting Bundle Tracker 0.1.0</version>
                                    <fixVersion>Servlets Resolver 2.7.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17064903" author="radu.cotescu" created="Mon, 23 Mar 2020 16:09:10 +0000"  >&lt;p&gt;Applied patch from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pauls&quot; class=&quot;user-hover&quot; rel=&quot;pauls&quot;&gt;pauls&lt;/a&gt; in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-bundle-tracker/commit/303a979&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 303a979&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310460">
                    <name>Child-Issue</name>
                                                                <inwardlinks description="is a child of">
                                        <issuelink>
            <issuekey id="13291973">SLING-9207</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0csog:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9231] Parsing of mvn urls for ArtifactId fails</title>
                <link>https://issues.apache.org/jira/browse/SLING-9231</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;ArtifactId.parse must be able to detect between mvn urls and mvn ids. However, the logic in there simply checks for a colon in the string and assumes it is an id (as ids use the colon as a separator). However, a mvn url has a colon as well to separate it from the protocol.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13293169">SLING-9231</key>
            <summary>Parsing of mvn urls for ArtifactId fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Sun, 22 Mar 2020 13:48:40 +0000</created>
                <updated>Wed, 25 Mar 2020 13:16:05 +0000</updated>
                            <resolved>Sun, 22 Mar 2020 13:51:58 +0000</resolved>
                                    <version>Feature Model 1.1.4</version>
                                    <fixVersion>Feature Model 1.1.6</fixVersion>
                                    <component>Feature Model</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17064287" author="cziegeler" created="Sun, 22 Mar 2020 13:51:58 +0000"  >&lt;p&gt;Fixed in rev &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature/commit/8def1b07a18d49358fc005e5f7cc1aecea168883&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature/commit/8def1b07a18d49358fc005e5f7cc1aecea168883&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 31 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0cs34:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9230] Servlet should not be allowed to register with invalid ResourceTypes</title>
                <link>https://issues.apache.org/jira/browse/SLING-9230</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Servlets are allowed to register even when the resource types are specified as&#160;&lt;/p&gt;

&lt;p&gt;SLING_SERVLET_RESOURCE_TYPES + &quot;=&quot; + &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;/test,/path&amp;#93;&lt;/span&gt;&quot;&lt;/p&gt;

&lt;p&gt;This is invalid because getOakPath for paths starting with &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot; and ending with &amp;quot;&amp;#93;&lt;/span&gt;&quot; return null. This creates an unwanted scenario where ResourceChangeListeners fail to register with a NPE. The NPE on JCR is fixed with commit : &lt;a href=&quot;https://github.com/apache/jackrabbit-oak/commit/2e37d7a507186484e13897549681bf29b17461fc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-oak/commit/2e37d7a507186484e13897549681bf29b17461fc&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;However we should still fix this in sling, to not accept resource types which start with&#160;&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot; and end with &amp;quot;&amp;#93;&lt;/span&gt;&quot;&lt;/p&gt;

&lt;p&gt;JCR code which returns null :&#160;&lt;a href=&quot;https://github.com/apache/jackrabbit-oak/blob/trunk/oak-core/src/main/java/org/apache/jackrabbit/oak/namepath/impl/NamePathMapperImpl.java#L91&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-oak/blob/trunk/oak-core/src/main/java/org/apache/jackrabbit/oak/namepath/impl/NamePathMapperImpl.java#L91&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13293110">SLING-9230</key>
            <summary>Servlet should not be allowed to register with invalid ResourceTypes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sirin">rafiya sirin</reporter>
                        <labels>
                    </labels>
                <created>Sat, 21 Mar 2020 17:24:46 +0000</created>
                <updated>Thu, 3 Aug 2023 12:59:58 +0000</updated>
                            <resolved>Thu, 3 Aug 2023 12:59:30 +0000</resolved>
                                    <version>Servlets Resolver 2.6.4</version>
                                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="37200">10h 20m</timespent>
                                <comments>
                            <comment id="17064006" author="sirin" created="Sat, 21 Mar 2020 17:45:11 +0000"  >&lt;p&gt;I have raised a PR :&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-servlets-resolver/pull/7/files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-servlets-resolver/pull/7/files&lt;/a&gt;.&#160;&lt;/p&gt;</comment>
                            <comment id="17064048" author="kwin" created="Sat, 21 Mar 2020 19:52:24 +0000"  >&lt;p&gt;Sling is not bound to the JCR Resource Provider and does not define any limitation on &lt;tt&gt;sling:resourcType&lt;/tt&gt; value (&lt;a href=&quot;https://sling.apache.org/documentation/the-sling-engine/resources.html#resource-types&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/the-sling-engine/resources.html#resource-types&lt;/a&gt;). Introducing such limitations now only because Oak cannot correctly deal with such values can lead to unexpected regressions. IMHO the fix in Oak should be enough.&lt;/p&gt;</comment>
                            <comment id="17273426" author="bdelacretaz" created="Thu, 28 Jan 2021 08:59:42 +0000"  >&lt;p&gt;+1, from the Sling point of view resource types can be anything.&lt;/p&gt;

&lt;p&gt;What might make sense is to define a regexp in the servlet registration code to match resource types and log those that do not follow desired conventions at a specified log level. But failing the registration sounds wrong.&lt;/p&gt;</comment>
                            <comment id="17273429" author="npeltier" created="Thu, 28 Jan 2021 09:08:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sirin&quot; class=&quot;user-hover&quot; rel=&quot;sirin&quot;&gt;sirin&lt;/a&gt;&#160; note that such resource type validation pattern would be needed elsewhere (thinking about FilterPredicate here)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12997328" name="Screen Shot 2020-03-10 at 10.12.54 PM.png" size="1245492" author="sirin" created="Sat, 21 Mar 2020 17:26:44 +0000"/>
                            <attachment id="12997329" name="stacktrace.txt" size="6871" author="sirin" created="Sat, 21 Mar 2020 17:27:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0crq0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9227] Escaping backslash is left in &quot;disable service user&quot; quoted strings</title>
                <link>https://issues.apache.org/jira/browse/SLING-9227</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;A statement like&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
disable service user svcB : &lt;span class=&quot;code-quote&quot;&gt;&quot;Testing escaped &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; \&quot;&lt;/span&gt;quote\&lt;span class=&quot;code-quote&quot;&gt;&quot; in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; string.&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Parses correctly but the escaped double quotes are kept as is, with the backslash in front - it needs to be removed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13292909">SLING-9227</key>
            <summary>Escaping backslash is left in &quot;disable service user&quot; quoted strings</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Mar 2020 11:25:51 +0000</created>
                <updated>Fri, 20 Mar 2020 14:49:30 +0000</updated>
                            <resolved>Fri, 20 Mar 2020 11:28:27 +0000</resolved>
                                    <version>Repoinit Parser 1.5.2</version>
                                    <fixVersion>Repoinit Parser 1.6.2</fixVersion>
                                    <component>Repoinit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17063308" author="bdelacretaz" created="Fri, 20 Mar 2020 11:28:27 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-repoinit-parser/commit/928e310efa31ac4fd8485393f29b088c910d104f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 928e310&lt;/a&gt; and c196864&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 31 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0cqhc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9226] CMS - Move Fails with Same Name Resources</title>
                <link>https://issues.apache.org/jira/browse/SLING-9226</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When moving a resource to another container, if the container already contains a resource with the same name, the move operation fails.&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13292792">SLING-9226</key>
            <summary>CMS - Move Fails with Same Name Resources</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Mar 2020 21:25:08 +0000</created>
                <updated>Wed, 25 Mar 2020 02:28:53 +0000</updated>
                            <resolved>Thu, 19 Mar 2020 21:34:25 +0000</resolved>
                                    <version>CMS 0.14.0</version>
                                    <fixVersion>CMS 0.16.0</fixVersion>
                                    <component>App CMS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17062952" author="dklco" created="Thu, 19 Mar 2020 21:34:18 +0000"  >&lt;p&gt;Fixed by generating a new resource name on move by combining the last segment of the resource type with a random string&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/commit/6f1cf546f2673443df872e09ef65d362d716b31f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/commit/6f1cf546f2673443df872e09ef65d362d716b31f&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0cprk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9219] Invalid Comments in JSON Configuration</title>
                <link>https://issues.apache.org/jira/browse/SLING-9219</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With the latest version of JCR Installer, I&apos;m seeing an exception when saving OSGi Configurations from the console:&lt;/p&gt;

&lt;p&gt;&#160;&lt;br/&gt;
&lt;tt&gt;18.03.2020 19:57:44.565 &lt;b&gt;WARN&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;JcrInstaller.2&amp;#93;&lt;/span&gt; org.apache.sling.installer.core.impl.OsgiInstallerImpl Cannot create InternalResource (resource will be ignored):InstallableResource, priority=200, id=/apps/sling/install/org.apache.sling.cms.core.internal.repository.RevisionCleanupScheduler.cfg.json&lt;/tt&gt;&lt;tt&gt;javax.json.stream.JsonParsingException: Unexpected character &apos;#&apos; (Codepoint: 35) on &lt;span class=&quot;error&quot;&gt;&amp;#91;lineNumber=2, columnNumber=77, streamOffset=76&amp;#93;&lt;/span&gt;. Reason is [&lt;span class=&quot;error&quot;&gt;&amp;#91;Expected structural character or digit or &amp;#39;t&amp;#39; or &amp;#39;n&amp;#39; or &amp;#39;f&amp;#39; or &amp;#39;-&amp;#39;&amp;#93;&lt;/span&gt;]&lt;/tt&gt;&lt;tt&gt;at org.apache.johnzon.core.JsonStreamParserImpl.uexc(JsonStreamParserImpl.java:966)&lt;/tt&gt;&lt;tt&gt;at org.apache.johnzon.core.JsonStreamParserImpl.uexc(JsonStreamParserImpl.java:972)&lt;/tt&gt;&lt;tt&gt;at org.apache.johnzon.core.JsonStreamParserImpl.defaultHandling(JsonStreamParserImpl.java:422)&lt;/tt&gt;&lt;tt&gt;at org.apache.johnzon.core.JsonStreamParserImpl.next(JsonStreamParserImpl.java:414)&lt;/tt&gt;&lt;tt&gt;at org.apache.johnzon.core.JsonStreamParserImpl.next(JsonStreamParserImpl.java:353)&lt;/tt&gt;&lt;tt&gt;at org.apache.johnzon.core.JsonReaderImpl.parseObject(JsonReaderImpl.java:131)&lt;/tt&gt;&lt;tt&gt;at org.apache.johnzon.core.JsonReaderImpl.readValue(JsonReaderImpl.java:56)&lt;/tt&gt;&lt;tt&gt;at org.apache.johnzon.core.JsonReaderImpl.read(JsonReaderImpl.java:42)&lt;/tt&gt;&lt;tt&gt;at org.apache.felix.configurator.impl.json.JSONUtil.parseJSON(JSONUtil.java:331) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.installer.core:3.10.2&amp;#93;&lt;/span&gt;&lt;/tt&gt;&lt;tt&gt;at org.apache.felix.configurator.impl.json.JSONUtil.readJSON(JSONUtil.java:161) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.installer.core:3.10.2&amp;#93;&lt;/span&gt;&lt;/tt&gt;&lt;tt&gt;at org.apache.sling.installer.core.impl.InternalResource.readDictionary(InternalResource.java:274) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.installer.core:3.10.2&amp;#93;&lt;/span&gt;&lt;/tt&gt;&lt;tt&gt;at org.apache.sling.installer.core.impl.InternalResource.create(InternalResource.java:106) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.installer.core:3.10.2&amp;#93;&lt;/span&gt;&lt;/tt&gt;&lt;tt&gt;at org.apache.sling.installer.core.impl.OsgiInstallerImpl.createResources(OsgiInstallerImpl.java:385) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.installer.core:3.10.2&amp;#93;&lt;/span&gt;&lt;/tt&gt;&lt;tt&gt;at org.apache.sling.installer.core.impl.OsgiInstallerImpl.updateResources(OsgiInstallerImpl.java:425) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.installer.core:3.10.2&amp;#93;&lt;/span&gt;&lt;/tt&gt;&lt;tt&gt;at org.apache.sling.installer.provider.jcr.impl.JcrInstaller.runOneCycle(JcrInstaller.java:465) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.installer.provider.jcr:3.2.0&amp;#93;&lt;/span&gt;&lt;/tt&gt;&lt;tt&gt;at org.apache.sling.installer.provider.jcr.impl.JcrInstaller$StoppableThread.run(JcrInstaller.java:287) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.installer.provider.jcr:3.2.0&amp;#93;&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;The problem appears to be that the files are in JSON format, but contain a prefix comment: &quot; # Configuration created by Apache Sling JCR Installer&quot;&lt;/p&gt;

&lt;p&gt;This is due to the JCR Installer changing to write the configuration files in JSON format, but still including the comment from when the configurations were persisted as text files:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-provider-jcr/blame/master/src/main/java/org/apache/sling/installer/provider/jcr/impl/JcrInstaller.java#L695&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-provider-jcr/blame/master/src/main/java/org/apache/sling/installer/provider/jcr/impl/JcrInstaller.java#L695&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The question &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;&#160;it looks like there was a revert commit, so should the config files revert to TXT format or remove the comment and have the configurations in JSON format?&lt;/p&gt;

&lt;p&gt;&#160;&lt;br/&gt;
&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13292611">SLING-9219</key>
            <summary>Invalid Comments in JSON Configuration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Mar 2020 03:26:48 +0000</created>
                <updated>Mon, 6 Apr 2020 11:18:10 +0000</updated>
                            <resolved>Tue, 24 Mar 2020 11:05:48 +0000</resolved>
                                    <version>File Installer 1.2.0</version>
                    <version>JCR Installer 3.2.0</version>
                                    <fixVersion>JCR Installer 3.2.2</fixVersion>
                    <fixVersion>File Installer 1.2.2</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17062477" author="kwin" created="Thu, 19 Mar 2020 11:39:40 +0000"  >&lt;p&gt;It is supposed to be written in the JSON format as it has the least restrictions and is the official OSGi format (&lt;a href=&quot;https://sling.apache.org/documentation/bundles/configuration-installer-factory.html#configuration-files-cfgjson&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/bundles/configuration-installer-factory.html#configuration-files-cfgjson&lt;/a&gt;).&lt;br/&gt;
Comments are supposed to be allowed though according to &lt;a href=&quot;https://osgi.org/specification/osgi.cmpn/7.0.0/service.configurator.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://osgi.org/specification/osgi.cmpn/7.0.0/service.configurator.html&lt;/a&gt;. But obviously they must not start with &lt;tt&gt;#&lt;/tt&gt; but rather with &lt;tt&gt;//&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17062491" author="kwin" created="Thu, 19 Mar 2020 11:51:55 +0000"  >&lt;p&gt;Fixed for File Installer in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-provider-file/commit/678c9fb1063bfe9359e6f96cce97261a31cdb8be&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-provider-file/commit/678c9fb1063bfe9359e6f96cce97261a31cdb8be&lt;/a&gt; and for JCR Installer in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-provider-jcr/commit/57c9cf59f20447704b8a413ffc7ca7d0cba41634&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-provider-jcr/commit/57c9cf59f20447704b8a413ffc7ca7d0cba41634&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17065491" author="cziegeler" created="Tue, 24 Mar 2020 10:26:43 +0000"  >&lt;p&gt;JCR Installer does not compile anymore : &lt;br/&gt;
/src/main/java/org/apache/sling/installer/provider/jcr/impl/JcrInstaller.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;71,8&amp;#93;&lt;/span&gt; org.apache.sling.installer.provider.jcr.impl.JcrInstaller is not abstract and does not override abstract method handleUpdate(java.lang.String,java.lang.String,java.lang.String,java.util.Dictionary&amp;lt;java.lang.String,java.lang.Object&amp;gt;,java.util.Map&amp;lt;java.lang.String,java.lang.Object&amp;gt;) in org.apache.sling.installer.api.UpdateHandler&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; Please also note that the commits to both projects contain a wrong issue number (9218 and not 9219)&lt;/p&gt;</comment>
                            <comment id="17065497" author="kwin" created="Tue, 24 Mar 2020 10:31:37 +0000"  >&lt;p&gt;Thanks for the heads up, the compilation issue should be fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-provider-jcr/commit/ed8ac0bfe6eb9ec359f2afa28e45c0829cd42d1f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-provider-jcr/commit/ed8ac0bfe6eb9ec359f2afa28e45c0829cd42d1f&lt;/a&gt;. I saw the wrong issue number too late though.&lt;/p&gt;</comment>
                            <comment id="17065517" author="cziegeler" created="Tue, 24 Mar 2020 11:05:48 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; for the quick fix.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13233244">SLING-8419</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0conc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9218] Incomplete OSGi manifest for Commons Johnzon 1.2.0</title>
                <link>https://issues.apache.org/jira/browse/SLING-9218</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It looks to me that any bundle that attempts to depend on the new org.apache.sling.commons.johnzon:1.2.0 bundle produces a manifest for the new bundle that makes it not activate when deployed to the sling runtime.&lt;br/&gt;
 &#160;&lt;br/&gt;
 For example, the&#160;manifest now includes this instruction in the manifest:&lt;br/&gt;
 &#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Require-Capability: osgi.contract;osgi.contract=JavaJSONP;filter:=&quot;(&amp;amp;(&lt;br/&gt;
 &#160;osgi.contract=JavaJSONP)(version=1.1.0))&quot;,osgi.ee;filter:=&quot;(&amp;amp;(osgi.ee&lt;br/&gt;
 &#160;=JavaSE)(version=1.8))&quot;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&#160;&lt;br/&gt;
 &#160;&lt;br/&gt;
 But it doesn&apos;t look like the&#160;org.apache.sling.commons.johnzon:1.2.0 manifest declares that it provides that JavaJSONP capability.&lt;br/&gt;
 &#160;&lt;br/&gt;
 It appears that the equivalent &quot;Provide-Capability&quot; instruction is in the original org.apache.geronimo.specs.geronimo-json_1.1_spec artifact.&#160; It contains the following in it&apos;s manifest but the o.a.s.commons.johnzon does not do the same when it wraps the bundle:&lt;br/&gt;
 &#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Provide-Capability: osgi.contract;osgi.contract=JavaJSONP;uses:=&quot;javax&lt;br/&gt;
 &#160;.json,javax.json.spi,javax.json.stream&quot;;version:List&amp;lt;Version&amp;gt;=&quot;1.1,1.&lt;br/&gt;
 &#160;0&quot;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;br/&gt;
Alternatively, maybe there is a convenient way to adjust the BND&#160;instructions so one can depend on the org.apache.sling.commons.johnzon:1.2.0 artifact without requiring the&#160;osgi.contract=JavaJSONP&#160;capability in the manifest?&lt;br/&gt;
&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13292573">SLING-9218</key>
            <summary>Incomplete OSGi manifest for Commons Johnzon 1.2.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Mar 2020 22:07:42 +0000</created>
                <updated>Mon, 27 Apr 2020 16:14:03 +0000</updated>
                            <resolved>Wed, 22 Apr 2020 13:41:14 +0000</resolved>
                                    <version>Commons Johnzon 1.2.0</version>
                                    <fixVersion>Commons Johnzon 1.2.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17062098" author="enorman" created="Wed, 18 Mar 2020 22:35:36 +0000"  >&lt;p&gt;Also, I&apos;m thinking that in the&#160;org.apache.sling.commons.johnzon pom.xml that&#160;the scope of the geronimo-json_1.1_spec dependency should be changed to &quot;provided&quot; so it doesn&apos;t bleed into the maven dependency tree and affect the BND manifest when others depend on&#160;org.apache.sling.commons.johnzon?&lt;/p&gt;

&lt;p&gt;&amp;lt;dependency&amp;gt;&lt;br/&gt;
 &amp;lt;groupId&amp;gt;org.apache.geronimo.specs&amp;lt;/groupId&amp;gt;&lt;br/&gt;
 &amp;lt;artifactId&amp;gt;geronimo-json_1.1_spec&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
 &amp;lt;version&amp;gt;1.3&amp;lt;/version&amp;gt;&lt;br/&gt;
 &lt;b&gt;&amp;lt;scope&amp;gt;provided&amp;lt;/scope&amp;gt;&lt;/b&gt;&lt;br/&gt;
 &amp;lt;/dependency&amp;gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17062443" author="kwin" created="Thu, 19 Mar 2020 10:37:54 +0000"  >&lt;p&gt;IMHO Commons Johnzon should resolve even for bundles depending on org.apache.geronimo.specs:geronimo-json_1.1_spec:1.3. In fact I would rather prefer that other bundles just depend on the API bundle instead of any specific impl bundle. Therefore adding the &lt;tt&gt;Provide-Capability&lt;/tt&gt; to the manifest header is the right thing to do here.&lt;br/&gt;
Also the contract is officially defined in &lt;a href=&quot;https://www.osgi.org/portable-java-contract-definitions/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.osgi.org/portable-java-contract-definitions/&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17062474" author="kwin" created="Thu, 19 Mar 2020 11:34:19 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-johnzon/commit/3f91df6875fe7c0c1534eb9a966abef402fe3023&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-johnzon/commit/3f91df6875fe7c0c1534eb9a966abef402fe3023&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enorman&quot; class=&quot;user-hover&quot; rel=&quot;enorman&quot;&gt;enorman&lt;/a&gt; Could you test against the latest 1.2.1-SNAPSHOT?&lt;/p&gt;</comment>
                            <comment id="17062829" author="enorman" created="Thu, 19 Mar 2020 17:57:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;&#160;I gave the 1.2.1-SNAPSHOT a try, but unfortunately I now get the following new error from bnd-maven-plugin during the maven build.&lt;/p&gt;

&lt;p&gt;Caused by: org.apache.maven.plugin.MojoFailureException: Contracts [Contract &lt;span class=&quot;error&quot;&gt;&amp;#91;name=JavaJSONP;version=1.1.0;from=org.apache.sling.commons.johnzon-1.2.1-SNAPSHOT&amp;#93;&lt;/span&gt;, Contract &lt;span class=&quot;error&quot;&gt;&amp;#91;name=JavaJSONP;version=1.1.0;from=geronimo-json_1.1_spec-1.3&amp;#93;&lt;/span&gt;] declare the same packages in their uses: directive: &lt;span class=&quot;error&quot;&gt;&amp;#91;javax.json&amp;#93;&lt;/span&gt;. Contracts are found in declaring bundles (see their &apos;from&apos; field), it is possible to control the findingwith the -contract instructionCaused by: org.apache.maven.plugin.MojoFailureException: Contracts [Contract &lt;span class=&quot;error&quot;&gt;&amp;#91;name=JavaJSONP;version=1.1.0;from=org.apache.sling.commons.johnzon-1.2.1-SNAPSHOT&amp;#93;&lt;/span&gt;, Contract &lt;span class=&quot;error&quot;&gt;&amp;#91;name=JavaJSONP;version=1.1.0;from=geronimo-json_1.1_spec-1.3&amp;#93;&lt;/span&gt;] declare the same packages in their uses: directive: &lt;span class=&quot;error&quot;&gt;&amp;#91;javax.json&amp;#93;&lt;/span&gt;. Contracts are found in declaring bundles (see their &apos;from&apos; field), it is possible to control the findingwith the -contract instruction at aQute.bnd.maven.plugin.BndMavenPlugin.reportErrorsAndWarnings(BndMavenPlugin.java:597) at aQute.bnd.maven.plugin.BndMavenPlugin.execute(BndMavenPlugin.java:438) at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134) at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;By the way, this error goes away if I also make the change suggested in my first comment by changing the org.apache.sling.commons.johnzon pom.xml to define the scope of the geronimo-json_1.1_spec dependency to &quot;provided&quot; so it doesn&apos;t bleed into the maven dependency tree that BND appears to be processing.&#160; Is that a change that you would be comfortable with?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17062914" author="kwin" created="Thu, 19 Mar 2020 20:15:10 +0000"  >&lt;p&gt;Well, I would say that semantically the scope &quot;compile&quot; is correct, as this dependency is actually &quot;included&quot; in the Commons Johnzon artifact and therefore should also be propagated transitively to depending artifacts. But obviously bnd thinks differently about that...&lt;/p&gt;

&lt;p&gt;IMHO this should not lead to an error in bnd and therefore I opened &lt;a href=&quot;https://github.com/bndtools/bnd/issues/3843&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/bndtools/bnd/issues/3843&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=karlpauls&quot; class=&quot;user-hover&quot; rel=&quot;karlpauls&quot;&gt;karlpauls&lt;/a&gt; Your input would would be appreciated on this one.&lt;/p&gt;</comment>
                            <comment id="17084295" author="enorman" created="Wed, 15 Apr 2020 18:28:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kpauls&quot; class=&quot;user-hover&quot; rel=&quot;kpauls&quot;&gt;kpauls&lt;/a&gt;&#160;Did you have any thoughts on this one?&#160; It doesn&apos;t seem like we have made any progress toward a resolution in the last month.&lt;/p&gt;</comment>
                            <comment id="17084333" author="kwin" created="Wed, 15 Apr 2020 19:39:10 +0000"  >&lt;p&gt;Bnd will fix the issue with 5.1 but as workaround we should switch to scope provided. Still I think that downstream consumers should preferably depend on the JSONP API instead of the (aggregate API and Impl) Commons Johnzon bundle!&lt;/p&gt;</comment>
                            <comment id="17089579" author="cziegeler" created="Wed, 22 Apr 2020 11:31:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; Can we get a release out with the fix? The new Apache Feli cm.json requires this, so this blocks all updates to that bundle&lt;/p&gt;</comment>
                            <comment id="17089586" author="kwin" created="Wed, 22 Apr 2020 11:34:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; A release with the current state in SNAPSHOT? Or a release with additionally changing the scope of dependency?&lt;/p&gt;

&lt;p&gt;It is a bit sad that &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=karlpauls&quot; class=&quot;user-hover&quot; rel=&quot;karlpauls&quot;&gt;karlpauls&lt;/a&gt; never reacted here so at least your opinion would be appreciated &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17089591" author="cziegeler" created="Wed, 22 Apr 2020 11:41:19 +0000"  >&lt;p&gt;I do not really care that much about the scope &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; The missing capability is more important. I personally would change the scope to &quot;provided&quot; as you don&apos;t need that dependency when you include commons.johnzon in your pom as our bundle contains everything. But as users should rather just use the api dependency anyway, it doesn&apos;t really matter that much&lt;/p&gt;</comment>
                            <comment id="17089607" author="karlpauls" created="Wed, 22 Apr 2020 12:02:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, sorry - I must have missed this issue. It sounds like provided would solve it for now and as &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;&#160;points out - users should rather use the api dependency so I&apos;m not sure what else is the question?&lt;/p&gt;</comment>
                            <comment id="17089684" author="kwin" created="Wed, 22 Apr 2020 13:41:09 +0000"  >&lt;p&gt;Made the dependency have scope &quot;provided&quot; in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-johnzon/commit/9e36f6b85cf5df556aeb940d09f3942e1db91033&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-johnzon/commit/9e36f6b85cf5df556aeb940d09f3942e1db91033&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="13297983">SLING-9362</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 27 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0coew:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9216] Allow capabilities to provide lists of resource types</title>
                <link>https://issues.apache.org/jira/browse/SLING-9216</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The changes implemented in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9208&quot; title=&quot;Generate provide capabilities based on the search paths&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9208&quot;&gt;&lt;del&gt;SLING-9208&lt;/del&gt;&lt;/a&gt; will require that the Scripting Bundle Tracker allows capabilities to provide lists of resource types.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13292494">SLING-9216</key>
            <summary>Allow capabilities to provide lists of resource types</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Mar 2020 14:44:54 +0000</created>
                <updated>Mon, 13 Jul 2020 14:50:35 +0000</updated>
                            <resolved>Fri, 20 Mar 2020 10:30:17 +0000</resolved>
                                    <version>Scripting Bundle Tracker 0.1.0</version>
                                    <fixVersion>Servlets Resolver 2.7.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17063268" author="radu.cotescu" created="Fri, 20 Mar 2020 10:30:17 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-bundle-tracker/commit/ea6a8c4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit ea6a8c4&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310460">
                    <name>Child-Issue</name>
                                                                <inwardlinks description="is a child of">
                                        <issuelink>
            <issuekey id="13291973">SLING-9207</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13292166">SLING-9208</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 31 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0cnxc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9215] Aggregate does not respect order of instructions</title>
                <link>https://issues.apache.org/jira/browse/SLING-9215</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Regardless of the order of instructions for an aggregate, files are always processed first, for example if an aggregate specifies to include a classifier before files, still it happens in the other order&lt;/p&gt;</description>
                <environment></environment>
        <key id="13292427">SLING-9215</key>
            <summary>Aggregate does not respect order of instructions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Mar 2020 09:47:43 +0000</created>
                <updated>Wed, 18 Mar 2020 11:08:33 +0000</updated>
                            <resolved>Wed, 18 Mar 2020 11:08:27 +0000</resolved>
                                    <version>slingfeature-maven-plugin 1.1.12</version>
                                                    <component>Feature Model</component>
                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17061626" author="cziegeler" created="Wed, 18 Mar 2020 11:08:27 +0000"  >&lt;p&gt;This actually works as it should&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0cnig:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9213] Region order is not respected when merging</title>
                <link>https://issues.apache.org/jira/browse/SLING-9213</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The regions of the source are always put in front of the regions of the target. If the source is using less regions than the target, this might change the ordering of regions.&lt;br/&gt;
Example: source has a single region M, target has three regions T,M,B - after merging the result should still be T, M, B. But right now it is M, T, B &lt;br/&gt;
This breaks then the second feature - and potentially other features merged in afterwards.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="13292371">SLING-9213</key>
            <summary>Region order is not respected when merging</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davidb">A. J. David Bosschaert</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Mar 2020 06:18:06 +0000</created>
                <updated>Mon, 20 Jul 2020 14:12:27 +0000</updated>
                            <resolved>Wed, 15 Jul 2020 07:39:26 +0000</resolved>
                                    <version>Feature Model API Regions Extension 1.1.4</version>
                                    <fixVersion>Feature Model API Regions Extension 1.1.6</fixVersion>
                                    <component>Feature Flags</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17061440" author="cziegeler" created="Wed, 18 Mar 2020 06:21:29 +0000"  >&lt;p&gt;I&apos;ve added a now failing test case to &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-extension-apiregions/blob/SLING-9213/src/test/java/org/apache/sling/feature/extension/apiregions/APIRegionMergeHandlerTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-extension-apiregions/blob/SLING-9213/src/test/java/org/apache/sling/feature/extension/apiregions/APIRegionMergeHandlerTest.java&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 32 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0cn60:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9212] Distribution code checks for jcr:removeNode permissions on importer side for DELETE request</title>
                <link>https://issues.apache.org/jira/browse/SLING-9212</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When a resource is distributed from one endpoint to other with RequestType set to DELETE, the execute method of SimpleDistributionAgent &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/agent/impl/SimpleDistributionAgent.java#L175&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;checks the permissions for the passed resolver on given path(s)&lt;/a&gt;. In case of DELETE request, apart from the &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/agent/impl/PrivilegeDistributionRequestAuthorizationStrategy.java#L85&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;configured permissions&lt;/a&gt;, it also checks for &lt;tt&gt;jcr:removeNode&lt;/tt&gt; permissions for the user on the path. This check happens on the exporter side but AFAIU, the actual deletion happens on the importer endpoint. The content does not get deleted on exporter side. In that case, this permission check should happen on importer side.&lt;/p&gt;

&lt;p&gt;cc - &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashishc&quot; class=&quot;user-hover&quot; rel=&quot;ashishc&quot;&gt;ashishc&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13292256">SLING-9212</key>
            <summary>Distribution code checks for jcr:removeNode permissions on importer side for DELETE request</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="mohiaror">Mohit Arora</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Mar 2020 18:14:27 +0000</created>
                <updated>Tue, 6 Jul 2021 16:05:41 +0000</updated>
                            <resolved>Tue, 28 Apr 2020 13:01:20 +0000</resolved>
                                                    <fixVersion>Content Distribution Core 0.4.6</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="16800">4h 40m</timespent>
                                <comments>
                            <comment id="17061104" author="ashishc" created="Tue, 17 Mar 2020 18:32:26 +0000"  >&lt;blockquote&gt;&lt;p&gt;In case of DELETE request, apart from the configured permissions, it also checks for jcr:removeNode permissions for the user on the path. This check happens on the exporter side but AFAIU, the actual deletion happens on the importer endpoint. The content does not get deleted on exporter side. In that case, this permission check should happen on importer side.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;While I agree that checking for a remove/delete privilege for creating a DELETE distribution action  at the source sling instance is incorrect, I&apos;d argue against checking for any privilege on the target (recipient) Sling instance because:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;semantically it is entirely target sling instance&apos;s business what it does with incoming content. It might not even have the same access control paradigm as the source sling instance. The target sling instance can choose to reject an incoming distribution by performing any validation it wishes, but source sling instance need not be bothered about those rules. If the target instance doesn&apos;t like the distribution request, it responds with a failure - that should be the only contract.&lt;/li&gt;
	&lt;li&gt;implementation wise, such a &quot;pre-validation&quot; (which should be abstracted rather than just concerning itself with permission validation) might require in a remote call to target sling instance, which will not be desirable esp when there is a middleware involved (say, Apache Kafka)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;d propose that validation of a custom privilege - specific to content-distribution - at the source instance should be &lt;em&gt;sufficient&lt;/em&gt; to determine if distribution request should be &lt;em&gt;created&lt;/em&gt; at all or not. This privilege should be enforced outside JCR and the enforcement should only be restricted to source sling instance.&lt;/p&gt;</comment>
                            <comment id="17061453" author="mohiaror" created="Wed, 18 Mar 2020 06:57:41 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;d argue against checking for any privilege on the target (recipient) Sling instance because&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I agree that it would not specifically be required to have a permission check on target endpoint. It can have a different paradigm to accept/reject incoming requests.&lt;/p&gt;</comment>
                            <comment id="17076138" author="mohiaror" created="Mon, 6 Apr 2020 08:36:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt; Can you please check this issue and provide your feedback here?&lt;/p&gt;

&lt;p&gt;cc - &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shgupta%40adobe.com&quot; class=&quot;user-hover&quot; rel=&quot;shgupta@adobe.com&quot;&gt;shgupta@adobe.com&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17085495" author="marett" created="Fri, 17 Apr 2020 07:07:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashishc&quot; class=&quot;user-hover&quot; rel=&quot;ashishc&quot;&gt;ashishc&lt;/a&gt; points make sense to me. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;It can have a different paradigm to accept/reject incoming requests.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mohiaror&quot; class=&quot;user-hover&quot; rel=&quot;mohiaror&quot;&gt;mohiaror&lt;/a&gt; Is there a concrete need for this ?&lt;/p&gt;</comment>
                            <comment id="17085544" author="mohiaror" created="Fri, 17 Apr 2020 08:31:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt; As per Ashish&apos;s comments I agree that we should focus on the permission setup on the source instance.&lt;/p&gt;

&lt;p&gt;But we need to understand why removeNode permissions are hardcoded as a check for creating a distribution package for DELETE requests.&lt;/p&gt;</comment>
                            <comment id="17089558" author="mohiaror" created="Wed, 22 Apr 2020 11:02:34 +0000"  >&lt;p&gt;Raised a PR for the proposed approach - &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/40&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/40&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Please note that before including the released version of distribution.core with these changes into the CQ/quickstart repo, the configurations for &lt;tt&gt;PrivilegeDistributionRequestAuthorizationStrategyFactory&lt;/tt&gt; will have to be changed to include the mandatory &lt;tt&gt;jcrAddPrivileges&lt;/tt&gt; and &lt;tt&gt;jcrDeleteprivileges&lt;/tt&gt; properties.&lt;/p&gt;</comment>
                            <comment id="17090411" author="marett" created="Thu, 23 Apr 2020 08:49:23 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mohiaror&quot; class=&quot;user-hover&quot; rel=&quot;mohiaror&quot;&gt;mohiaror&lt;/a&gt;, I reviewed and left a few suggestions in the PR.&lt;/p&gt;</comment>
                            <comment id="17090526" author="mohiaror" created="Thu, 23 Apr 2020 11:29:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt; I do not see your review on the PR. May be you forgot to submit?&lt;/p&gt;</comment>
                            <comment id="17091609" author="marett" created="Fri, 24 Apr 2020 14:08:31 +0000"  >&lt;p&gt;Indeed &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Posted now.&lt;/p&gt;</comment>
                            <comment id="17094478" author="marett" created="Tue, 28 Apr 2020 13:01:20 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mohiaror&quot; class=&quot;user-hover&quot; rel=&quot;mohiaror&quot;&gt;mohiaror&lt;/a&gt;! Merged.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 26 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0cmgg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9203] Perform script / class lookup using the Sling script naming conventions</title>
                <link>https://issues.apache.org/jira/browse/SLING-9203</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Sling documentation didn&apos;t define all conventions for script names until&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9194&quot; title=&quot;The &amp;quot;URL to Script Resolution&amp;quot; documentation page should list the full naming conventions for scripts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9194&quot;&gt;&lt;del&gt;SLING-9194&lt;/del&gt;&lt;/a&gt;. Given this information, the &lt;tt&gt;org.apache.sling.scripting.bundle.tracker.internal.BundledScriptFinder&lt;/tt&gt; should be refactored to correctly handle scripts&apos; lookup.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13291441">SLING-9203</key>
            <summary>Perform script / class lookup using the Sling script naming conventions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Mar 2020 23:36:26 +0000</created>
                <updated>Mon, 13 Jul 2020 14:50:42 +0000</updated>
                            <resolved>Thu, 12 Mar 2020 23:38:42 +0000</resolved>
                                    <version>Scripting Bundle Tracker 0.1.0</version>
                                    <fixVersion>Servlets Resolver 2.7.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17058295" author="radu.cotescu" created="Thu, 12 Mar 2020 23:38:43 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-bundle-tracker/commit/fc38b64&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit fc38b64&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310460">
                    <name>Child-Issue</name>
                                                                <inwardlinks description="is a child of">
                                        <issuelink>
            <issuekey id="13291973">SLING-9207</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13291034">SLING-9194</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0chfc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9202] Repository init may fail with ClassCastException</title>
                <link>https://issues.apache.org/jira/browse/SLING-9202</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;A repoinit may fail when &lt;tt&gt;restriction()&lt;/tt&gt; has multiple values.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.RuntimeException: Failed to set principal-based ACL (class org.apache.jackrabbit.oak.plugins.value.jcr.ValueImpl cannot be cast to class java.lang.Comparable (org.apache.jackrabbit.oak.plugins.value.jcr.ValueImpl is in unnamed module of loader org.apache.felix.framework.BundleWiringImpl$BundleClassLoader @37316529; java.lang.Comparable is in module java.base of loader &apos;bootstrap&apos;))
        at org.apache.sling.jcr.repoinit.impl.AclVisitor.visitSetAclPrincipalBased(AclVisitor.java:109) [org.apache.sling.jcr.repoinit:1.1.20]
        at org.apache.sling.repoinit.parser.operations.SetAclPrincipalBased.accept(SetAclPrincipalBased.java:53) [org.apache.sling.repoinit.parser:1.4.2]
        at org.apache.sling.jcr.repoinit.impl.JcrRepoInitOpsProcessorImpl.apply(JcrRepoInitOpsProcessorImpl.java:54) [org.apache.sling.jcr.repoinit:1.1.20]
        at org.apache.sling.jcr.repoinit.impl.RepositoryInitializerFactory.processRepository(RepositoryInitializerFactory.java:126) [org.apache.sling.jcr.repoinit:1.1.20]
        at org.apache.sling.jcr.base.AbstractSlingRepositoryManager.executeRepositoryInitializers(AbstractSlingRepositoryManager.java:590) [org.apache.sling.jcr.base:3.1.0]
        at org.apache.sling.jcr.base.AbstractSlingRepositoryManager.initializeAndRegisterRepositoryService(AbstractSlingRepositoryManager.java:534) [org.apache.sling.jcr.base:3.1.0]
        at org.apache.sling.jcr.base.AbstractSlingRepositoryManager.access$300(AbstractSlingRepositoryManager.java:92) [org.apache.sling.jcr.base:3.1.0]
        at org.apache.sling.jcr.base.AbstractSlingRepositoryManager$4.run(AbstractSlingRepositoryManager.java:496) [org.apache.sling.jcr.base:3.1.0]
Caused by: java.lang.ClassCastException: class org.apache.jackrabbit.oak.plugins.value.jcr.ValueImpl cannot be cast to class java.lang.Comparable (org.apache.jackrabbit.oak.plugins.value.jcr.ValueImpl is in unnamed module of loader org.apache.felix.framework.BundleWiringImpl$BundleClassLoader @37316529; java.lang.Comparable is in module java.base of loader &apos;bootstrap&apos;)
        at java.base/java.util.ComparableTimSort.countRunAndMakeAscending(ComparableTimSort.java:320)
        at java.base/java.util.ComparableTimSort.sort(ComparableTimSort.java:188)
        at java.base/java.util.Arrays.sort(Arrays.java:1249)
        at org.apache.sling.jcr.repoinit.impl.AclUtil.compareArrays(AclUtil.java:315) [org.apache.sling.jcr.repoinit:1.1.20]
        at org.apache.sling.jcr.repoinit.impl.AclUtil$LocalAccessControlEntry.sameRestrictions(AclUtil.java:387) [org.apache.sling.jcr.repoinit:1.1.20]
        at org.apache.sling.jcr.repoinit.impl.AclUtil$LocalAccessControlEntry.isContainedIn(AclUtil.java:350) [org.apache.sling.jcr.repoinit:1.1.20]
        at org.apache.sling.jcr.repoinit.impl.AclUtil.contains(AclUtil.java:278) [org.apache.sling.jcr.repoinit:1.1.20]
        at org.apache.sling.jcr.repoinit.impl.AclUtil.containsEquivalentEntry(AclUtil.java:264) [org.apache.sling.jcr.repoinit:1.1.20]
        at org.apache.sling.jcr.repoinit.impl.AclUtil.setPrincipalAcl(AclUtil.java:190) [org.apache.sling.jcr.repoinit:1.1.20]
        at org.apache.sling.jcr.repoinit.impl.AclVisitor.visitSetAclPrincipalBased(AclVisitor.java:107) [org.apache.sling.jcr.repoinit:1.1.20]
        ... 7 common frames omitted
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13291384">SLING-9202</key>
            <summary>Repository init may fail with ClassCastException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mreutegg">Marcel Reutegger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Mar 2020 17:25:51 +0000</created>
                <updated>Fri, 13 Mar 2020 07:33:40 +0000</updated>
                            <resolved>Fri, 13 Mar 2020 07:33:29 +0000</resolved>
                                    <version>Repoinit JCR 1.1.20</version>
                                                    <component>Repoinit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17058452" author="nitigupt" created="Fri, 13 Mar 2020 06:28:52 +0000"  >&lt;p&gt;This looks related to&#160;&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9195&quot; title=&quot;Sling Repoinit ClassCastException with some rep:restrictions statements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9195&quot;&gt;&lt;del&gt;SLING-9195&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I&apos;ve fixed it and raised a PR for the same:&#160;&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-repoinit/pull/9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-repoinit/pull/9&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17058483" author="mreutegg" created="Fri, 13 Mar 2020 07:33:29 +0000"  >&lt;p&gt;Indeed, this is a duplicate of&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9195&quot; title=&quot;Sling Repoinit ClassCastException with some rep:restrictions statements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9195&quot;&gt;&lt;del&gt;SLING-9195&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13291054">SLING-9195</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ch2o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9201] Files in nested resource tree folders should only be analysed in the context of the closest resource type</title>
                <link>https://issues.apache.org/jira/browse/SLING-9201</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Files in nested resource tree folders should only be analysed in the context of the closest resource type, otherwise they might generate wrong capabilities.&lt;/p&gt;

&lt;p&gt;Example:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;sling/
    components/
        a/
            a.html
            b/
                c/
                    c.html
                d.html
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In this setup the following resource types should be defined:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;sling/components/a with selectors b.d&lt;/li&gt;
	&lt;li&gt;sling/components/a/b/c&lt;/li&gt;
&lt;/ol&gt;
</description>
                <environment></environment>
        <key id="13291272">SLING-9201</key>
            <summary>Files in nested resource tree folders should only be analysed in the context of the closest resource type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Mar 2020 09:42:27 +0000</created>
                <updated>Mon, 22 Jun 2020 13:18:24 +0000</updated>
                            <resolved>Thu, 12 Mar 2020 13:13:43 +0000</resolved>
                                                    <fixVersion>Scripting Bundle Maven Plugin 0.2.0</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17057910" author="radu.cotescu" created="Thu, 12 Mar 2020 13:13:44 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-scriptingbundle-maven-plugin/commit/29ad9df&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 29ad9df&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310460">
                    <name>Child-Issue</name>
                                                                <inwardlinks description="is a child of">
                                        <issuelink>
            <issuekey id="13291973">SLING-9207</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0cgds:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9200] ServerSide test hang due to non activated bundles</title>
                <link>https://issues.apache.org/jira/browse/SLING-9200</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently we observe that on AEM instance using API regions validation, that if some bundles are not started due to any outside reasons, the ServerSide test execution will go in a infinite&#160;waitForSystemStartup&#160; loop.&lt;/p&gt;

&lt;p&gt;Apparently reading at the code it would eventually expected a timeout , but the way the while condition loop is written it never get out. It actually miss some &quot;global&quot; timeout, so that it would allow to exit the loop and output the warning message that some bundles are not available, and it would still then execute the tests.&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13291263">SLING-9200</key>
            <summary>ServerSide test hang due to non activated bundles</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="petitbear68">Thierry Yg&#233;</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Mar 2020 09:05:04 +0000</created>
                <updated>Wed, 19 May 2021 12:19:08 +0000</updated>
                            <resolved>Thu, 19 Mar 2020 09:57:26 +0000</resolved>
                                    <version>JUnit Core 1.0.26</version>
                                    <fixVersion>JUnit Core 1.0.28</fixVersion>
                                    <component>JUnit Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="8400">2h 20m</timespent>
                                <comments>
                            <comment id="17060901" author="bdelacretaz" created="Tue, 17 Mar 2020 13:08:54 +0000"  >&lt;p&gt;Thank you very much for your contribution, I have merged your PR and made minor changes in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-junit-core/commit/7e7b214&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 7e7b214&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I have changed the &quot;global timeout&quot; name to &quot;system startup timeout&quot; as there&apos;s no non-global timeouts left IIUC, so the system property to set that is now &lt;tt&gt;sling.junit.core.SystemStartupTimeoutSeconds&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;I hope this works for you, please cross-check and if ok I think we can mark this fixed.&lt;/p&gt;</comment>
                            <comment id="17062415" author="petitbear68" created="Thu, 19 Mar 2020 09:53:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;&#160;thanks it looks good with the changes, so let&apos;s mark it fixed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310361">
                    <name>Blocked</name>
                                            <outwardlinks description="Blocked">
                                        <issuelink>
            <issuekey id="13212042">SLING-8246</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0cgbs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9197] Align script file name analysis to the Sling conventions</title>
                <link>https://issues.apache.org/jira/browse/SLING-9197</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Sling documentation didn&apos;t define all conventions for script names until&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9194&quot; title=&quot;The &amp;quot;URL to Script Resolution&amp;quot; documentation page should list the full naming conventions for scripts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9194&quot;&gt;&lt;del&gt;SLING-9194&lt;/del&gt;&lt;/a&gt;. Given this information, the &lt;tt&gt;MetadataMojo&lt;/tt&gt; should be refactored to correctly handle scripts specific to HTTP methods.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13291093">SLING-9197</key>
            <summary>Align script file name analysis to the Sling conventions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Mar 2020 14:14:24 +0000</created>
                <updated>Mon, 22 Jun 2020 13:18:28 +0000</updated>
                            <resolved>Wed, 11 Mar 2020 17:14:34 +0000</resolved>
                                    <version>Scripting Bundle Maven Plugin 0.1.0</version>
                                    <fixVersion>Scripting Bundle Maven Plugin 0.2.0</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17057229" author="radu.cotescu" created="Wed, 11 Mar 2020 17:14:34 +0000"  >&lt;p&gt;Fixed in&#160;&lt;a href=&quot;https://github.com/apache/sling-scriptingbundle-maven-plugin/commit/f260104&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit f260104&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310460">
                    <name>Child-Issue</name>
                                                                <inwardlinks description="is a child of">
                                        <issuelink>
            <issuekey id="13291973">SLING-9207</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13291034">SLING-9194</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0cfa0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9195] Sling Repoinit ClassCastException with some rep:restrictions statements</title>
                <link>https://issues.apache.org/jira/browse/SLING-9195</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;java.lang.RuntimeException: Failed to set ACL (java.lang.ClassCastException: class org.apache.jackrabbit.oak.plugins.value.jcr.ValueImpl cannot be cast to class java.lang.Comparable (org.apache.jackrabbit.oak.plugins.value.jcr.ValueImpl is in unnamed module of loader org.apache.felix.framework.BundleWiringImpl$BundleClassLoader @5c920510; java.lang.Comparable is in module java.base of loader &apos;bootstrap&apos;)) AclLine DENY {principals=&lt;span class=&quot;error&quot;&gt;&amp;#91;everyone&amp;#93;&lt;/span&gt;, privileges=&lt;span class=&quot;error&quot;&gt;&amp;#91;jcr:modifyProperties&amp;#93;&lt;/span&gt;} restrictions=[rep:glob=&lt;span class=&quot;error&quot;&gt;&amp;#91;/*&amp;#93;&lt;/span&gt;, rep:itemNames=&lt;span class=&quot;error&quot;&gt;&amp;#91;fd:trusted&amp;#93;&lt;/span&gt;, fd:condition=&lt;span class=&quot;error&quot;&gt;&amp;#91;fd:trusted, true&amp;#93;&lt;/span&gt;]&lt;br/&gt;
	at org.apache.sling.jcr.repoinit.impl.AclVisitor.setAcl(AclVisitor.java:64) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.jcr.repoinit:1.1.20&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.sling.jcr.repoinit.impl.AclVisitor.visitSetAclPaths(AclVisitor.java:98) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.jcr.repoinit:1.1.20&amp;#93;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13291054">SLING-9195</key>
            <summary>Sling Repoinit ClassCastException with some rep:restrictions statements</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="nitigupt">Nitin Gupta</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Mar 2020 11:04:49 +0000</created>
                <updated>Thu, 19 Mar 2020 10:34:26 +0000</updated>
                            <resolved>Fri, 13 Mar 2020 14:38:52 +0000</resolved>
                                                    <fixVersion>Repoinit JCR 1.1.22</fixVersion>
                                    <component>Repoinit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4800">1h 20m</timespent>
                                <comments>
                            <comment id="17057888" author="nitigupt" created="Thu, 12 Mar 2020 12:38:52 +0000"  >&lt;p&gt;The issue was due to the comparison function being implemented at&#160;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. This method takes javax.jcr.Value arrays as input (corresponding to the muti value restrictions), and sorts them. Ideally there should have been a set comprison instead of sorting as Value does not implements Comparable interface.&lt;/p&gt;

&lt;p&gt;Fixed it and raised PR:&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-repoinit/pull/9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-repoinit/pull/9&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anchela&quot; class=&quot;user-hover&quot; rel=&quot;anchela&quot;&gt;anchela&lt;/a&gt;, please review.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-repoinit/blob/master/src/main/java/org/apache/sling/jcr/repoinit/impl/AclUtil.java#L305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-repoinit/blob/master/src/main/java/org/apache/sling/jcr/repoinit/impl/AclUtil.java#L305&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17058790" author="bdelacretaz" created="Fri, 13 Mar 2020 14:38:52 +0000"  >&lt;p&gt;Thank you for your contribution! I have merged your PR and made minor changes to the tests.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13291384">SLING-9202</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 32 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0cf1c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9192] Update RRD4j to (at least) version 3.5</title>
                <link>https://issues.apache.org/jira/browse/SLING-9192</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We are using Java 11 in our AEM project (which uses Sling).&lt;/p&gt;

&lt;p&gt;sling-org-apache-sling-commons-metrics-rrd4j is using RRD4j 3.1 while &lt;a href=&quot;https://github.com/rrd4j/rrd4j/issues/72&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/rrd4j/rrd4j/issues/72&lt;/a&gt; (which is required for Java 11 support) is shipped starting from version 3.5.&lt;/p&gt;

&lt;p&gt;Please upgrade to a newer version of RRD4j.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13290832">SLING-9192</key>
            <summary>Update RRD4j to (at least) version 3.5</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dhardtke">Dominik Hardtke</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Mar 2020 15:11:40 +0000</created>
                <updated>Wed, 17 Nov 2021 16:59:13 +0000</updated>
                            <resolved>Wed, 17 Nov 2021 16:59:13 +0000</resolved>
                                    <version>Commons Metrics RRD4J 1.0.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17445372" author="rombert" created="Wed, 17 Nov 2021 16:59:13 +0000"  >&lt;p&gt;Fixed later via &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9381&quot; title=&quot;Upgrade RRD4J to version 3.6 (Java 11 compatible)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9381&quot;&gt;&lt;del&gt;SLING-9381&lt;/del&gt;&lt;/a&gt; &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13299111">SLING-9381</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 49 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0cdo0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9190] RRD already closed, cannot store this sample</title>
                <link>https://issues.apache.org/jira/browse/SLING-9190</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In AEM error.log file, there&apos;s the following error message:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
09.03.2020 11:33:46.571 *ERROR* [metrics-RRD4JReporter-1-thread-1] com.codahale.metrics.ScheduledReporter Exception thrown from RRD4JReporter#report. Exception was suppressed.
java.lang.IllegalStateException: RRD already closed, cannot store &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; sample
&#160; &#160; &#160; &#160; at org.rrd4j.core.RrdDb.store(RrdDb.java:512)
&#160; &#160; &#160; &#160; at org.rrd4j.core.Sample.update(Sample.java:194)
&#160; &#160; &#160; &#160; at org.apache.sling.commons.metrics.rrd4j.impl.RRD4JReporter.report(RRD4JReporter.java:260)
&#160; &#160; &#160; &#160; at com.codahale.metrics.ScheduledReporter.report(ScheduledReporter.java:235)
&#160; &#160; &#160; &#160; at com.codahale.metrics.ScheduledReporter$1.run(ScheduledReporter.java:174)
&#160; &#160; &#160; &#160; at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
&#160; &#160; &#160; &#160; at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
&#160; &#160; &#160; &#160; at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
&#160; &#160; &#160; &#160; at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
&#160; &#160; &#160; &#160; at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
&#160; &#160; &#160; &#160; at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:834)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Let me know if I can provide you more info.&lt;/p&gt;</description>
                <environment>AEM 6.5 (SP3 and SP4)&lt;br/&gt;
OS: any&lt;br/&gt;
Oracle JDK 11</environment>
        <key id="13290792">SLING-9190</key>
            <summary>RRD already closed, cannot store this sample</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dbasic">Danijel Basic</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Mar 2020 12:23:45 +0000</created>
                <updated>Tue, 10 Mar 2020 12:23:45 +0000</updated>
                                            <version>Commons Metrics 1.2.6</version>
                                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 33 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0cdf4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9189] release:perform issues [WARNING] The requested profile &quot;pom.xml&quot; could not be activated because it does not exist.</title>
                <link>https://issues.apache.org/jira/browse/SLING-9189</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;During the &lt;tt&gt;mvn release:perform&lt;/tt&gt; execution the following line in the log can be observed&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] [INFO] ------------------------------------------------------------------------
[INFO] [INFO] BUILD SUCCESS
[INFO] [INFO] ------------------------------------------------------------------------
[INFO] [INFO] Total time:  25.851 s
[INFO] [INFO] Finished at: 2020-03-09T19:59:04+01:00
[INFO] [INFO] ------------------------------------------------------------------------
[INFO] [WARNING] The requested profile &lt;span class=&quot;code-quote&quot;&gt;&quot;pom.xml&quot;&lt;/span&gt; could not be activated because it does not exist.
[INFO] phase cleanup
[INFO] Cleaning up after release...
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13290717">SLING-9189</key>
            <summary>release:perform issues [WARNING] The requested profile &quot;pom.xml&quot; could not be activated because it does not exist.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Mar 2020 06:14:16 +0000</created>
                <updated>Fri, 30 Jul 2021 16:19:42 +0000</updated>
                            <resolved>Mon, 26 Jul 2021 11:51:51 +0000</resolved>
                                    <version>Parent 38</version>
                                    <fixVersion>Parent 44</fixVersion>
                                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17057968" author="kwin" created="Thu, 12 Mar 2020 14:28:50 +0000"  >&lt;p&gt;This is most probably an issue with the ASF parent caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/MRELEASE-1038&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MRELEASE-1038&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I reported this now in &lt;a href=&quot;https://issues.apache.org/jira/browse/MPOM-243&quot; title=&quot;WARNING: release:perform issues [WARNING] The requested profile &amp;quot;pom.xml&amp;quot; could not be activated because it does not exist.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MPOM-243&quot;&gt;&lt;del&gt;MPOM-243&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17387270" author="kwin" created="Mon, 26 Jul 2021 11:51:51 +0000"  >&lt;p&gt;Is fixed by the update to ASF Parent 24: &lt;a href=&quot;https://github.com/apache/sling-parent/commit/5a988a69f8fa4845a1a48414252486f5ca366b69&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-parent/commit/5a988a69f8fa4845a1a48414252486f5ca366b69&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="13291346">MPOM-243</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13389674">SLING-10613</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 13 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ccyg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9188] Sling Testing Clients does not work on GET with parameters</title>
                <link>https://issues.apache.org/jira/browse/SLING-9188</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There is an issue with Sling Client&apos;s doGet() as parameters (?a=b) will cause an error. The question mark is encoded %3F which makes the call fail.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I created a test project: &lt;a href=&quot;https://github.com/schaefa/sling-testing-client-it&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/schaefa/sling-testing-client-it&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Run it with: mvn clean install -P it&lt;/p&gt;</description>
                <environment>Sling 12</environment>
        <key id="13290697">SLING-9188</key>
            <summary>Sling Testing Clients does not work on GET with parameters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="andysch">Andreas Schaefer</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Mar 2020 02:17:00 +0000</created>
                <updated>Mon, 15 Jan 2024 09:03:36 +0000</updated>
                            <resolved>Mon, 15 Jan 2024 09:03:36 +0000</resolved>
                                    <version>Apache Sling Testing Clients 2.0.0</version>
                                                    <component>Apache Sling Testing Clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 33 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ccu0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9185] No download link for connection timeout agent&apos;s jar-with-dependencies artifact</title>
                <link>https://issues.apache.org/jira/browse/SLING-9185</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The download page only lists the &apos;bundle&apos; file, which is not useful for the agent. We should add a download link for the jar-with-dependencies artifact.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13290497">SLING-9185</key>
            <summary>No download link for connection timeout agent&apos;s jar-with-dependencies artifact</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Mar 2020 10:10:11 +0000</created>
                <updated>Mon, 9 Mar 2020 10:10:11 +0000</updated>
                                                                            <component>Site</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 33 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0cblk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9184] BundleInstallUpgradeDowngradeTest fails</title>
                <link>https://issues.apache.org/jira/browse/SLING-9184</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The BundleInstallUpgradeDowngradeTest  IT test is failing (see below). The test is passing with 3.9.0 but fails with 3.10.2 (it also fails with 3.10.3-SNAPSHOT):&lt;br/&gt;
15:04:34,966 &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failures:&lt;br/&gt;
15:04:34,968 &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;   BundleInstallUpgradeDowngradeTest.testReplaceBundleWithSameUrlButDifferentSymbolicName:232-&amp;gt;OsgiInstallerTestBase.waitForBundleEvents:555 osgi-installer-testbundle must be installed : Expected events=[&lt;br/&gt;
BundleEvent osgi-installer-testbundle, version=1.0.0, state=1&lt;br/&gt;
BundleEvent osgi-installer-testbundle, version=1.0.0, state=2&lt;br/&gt;
]&lt;br/&gt;
received events=[&lt;br/&gt;
]&lt;/p&gt;</description>
                <environment></environment>
        <key id="13290301">SLING-9184</key>
            <summary>BundleInstallUpgradeDowngradeTest fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Sat, 7 Mar 2020 14:05:11 +0000</created>
                <updated>Tue, 24 Mar 2020 09:53:14 +0000</updated>
                            <resolved>Sat, 7 Mar 2020 15:32:46 +0000</resolved>
                                    <version>Installer Core 3.10.2</version>
                                    <fixVersion>Installer Core 3.11.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17054082" author="kwin" created="Sat, 7 Mar 2020 14:09:29 +0000"  >&lt;p&gt;Just for the record, this is at &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-it/blob/master/src/test/java/org/apache/sling/installer/it/BundleInstallUpgradeDowngradeTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-it/blob/master/src/test/java/org/apache/sling/installer/it/BundleInstallUpgradeDowngradeTest.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Sorry for that, I didn&apos;t even know that we have a dedicated IT repo for OSGi installer&lt;/p&gt;</comment>
                            <comment id="17054087" author="cziegeler" created="Sat, 7 Mar 2020 14:16:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; Yes, the setup is a little bit unfortunate, in addition the IT tests where not working anymore (old pax exam and some other minor issues). I fixed the tests and ran them with 3.9.0, 3.10.2, and 3.10.3-SNAPSHOT. 3.9.0 passes&lt;/p&gt;</comment>
                            <comment id="17054115" author="cziegeler" created="Sat, 7 Mar 2020 15:30:55 +0000"  >&lt;p&gt;This is caused by the change in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8680&quot; title=&quot;Installer: DefaultTransformer should check for extension first&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8680&quot;&gt;&lt;del&gt;SLING-8680&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
The it test uses an id which does not end in &quot;.jar&quot;, so the solution is easy: fixing the test case&lt;/p&gt;</comment>
                            <comment id="17054117" author="cziegeler" created="Sat, 7 Mar 2020 15:32:46 +0000"  >&lt;p&gt;Fixed test case :&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-it/commit/770422927f032ab23d473ce880edadd84279ec8a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-it/commit/770422927f032ab23d473ce880edadd84279ec8a&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17054122" author="kwin" created="Sat, 7 Mar 2020 15:37:26 +0000"  >&lt;p&gt;Thanks for the quick fix!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 33 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0cae0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9183] The Scripting Bundle Maven Plugin should add the Script Engine short name for each provided resource type capability</title>
                <link>https://issues.apache.org/jira/browse/SLING-9183</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Scripting Bundle Maven Plugin should add the Script Engine short name for each provided resource type capability. This should be done based on the extension of each script in the Maven project. By default, the plugin should provide its default mapping, but the mapping should be configurable, in case multiple script engines can handle the same extensions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13290148">SLING-9183</key>
            <summary>The Scripting Bundle Maven Plugin should add the Script Engine short name for each provided resource type capability</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Mar 2020 17:43:39 +0000</created>
                <updated>Mon, 22 Jun 2020 13:18:25 +0000</updated>
                            <resolved>Mon, 9 Mar 2020 19:19:48 +0000</resolved>
                                                    <fixVersion>Scripting Bundle Maven Plugin 0.2.0</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17055316" author="radu.cotescu" created="Mon, 9 Mar 2020 19:19:48 +0000"  >&lt;p&gt;Fixed in&#160;&lt;a href=&quot;https://github.com/apache/sling-scriptingbundle-maven-plugin/commit/109b633&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 109b633&lt;/a&gt; and &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-bundle-tracker-it/commit/7c69a2b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 7c69a2b&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310460">
                    <name>Child-Issue</name>
                                                                <inwardlinks description="is a child of">
                                        <issuelink>
            <issuekey id="13291973">SLING-9207</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13290147">SLING-9182</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 33 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0c9g0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9182] The Scripting Bundle Tracker should require bundles to provide information about the needed Script Engines</title>
                <link>https://issues.apache.org/jira/browse/SLING-9182</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The&#160;Scripting Bundle Tracker cannot determine which Script Engine to use for executing a &lt;tt&gt;org.apache.sling.scripting.bundle.tracker.internal.PrecompiledScript&lt;/tt&gt;. Since the bundles wired to the tracker provide capabilities to inform about the available resource types, these capabilities should also provide the required Script Engine name for each resource type as an attribute of the &lt;tt&gt;sling.resourceType&lt;/tt&gt; capability.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13290147">SLING-9182</key>
            <summary>The Scripting Bundle Tracker should require bundles to provide information about the needed Script Engines</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Mar 2020 17:41:36 +0000</created>
                <updated>Mon, 13 Jul 2020 14:50:37 +0000</updated>
                            <resolved>Mon, 9 Mar 2020 21:04:17 +0000</resolved>
                                                    <fixVersion>Servlets Resolver 2.7.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17055376" author="radu.cotescu" created="Mon, 9 Mar 2020 21:04:17 +0000"  >&lt;p&gt;Fixed in&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-bundle-tracker/commit/ac7d153&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit ac7d153&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310460">
                    <name>Child-Issue</name>
                                                                <inwardlinks description="is a child of">
                                        <issuelink>
            <issuekey id="13291973">SLING-9207</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13290148">SLING-9183</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 33 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0c9fs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9180] Wrong regions reported when API Regions removes a candidate</title>
                <link>https://issues.apache.org/jira/browse/SLING-9180</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The API Regions runtime fragment reports a warning when a candidate is removed from the resolution set.&lt;/p&gt;

&lt;p&gt;This reporting incorrectly contains too many region names. Instead of just the region where the package is exported in, it could also be reporting other regions that the exporting feature is exporting into.&lt;/p&gt;

&lt;p&gt;It could be reporting something like this:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
WARNING: API-Regions removed candidates some.bundle [Regions: [org.foo.bar, global], Feature: f2] &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; requirement some.other.bundle &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; org.sling.mypkg as the requirement is in the following regions: [org.foo.blah, global] and in feature: [f1]
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When the exported package &lt;tt&gt;org.sling.mypkg&lt;/tt&gt; is actually &lt;em&gt;only&lt;/em&gt; in the &lt;em&gt;org.foo.bar&lt;/em&gt; region, and not in the global region.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13290132">SLING-9180</key>
            <summary>Wrong regions reported when API Regions removes a candidate</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davidb">A. J. David Bosschaert</assignee>
                                    <reporter username="davidb">A. J. David Bosschaert</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Mar 2020 16:25:06 +0000</created>
                <updated>Fri, 1 May 2020 09:11:18 +0000</updated>
                            <resolved>Mon, 9 Mar 2020 08:40:22 +0000</resolved>
                                    <version>Feature Model API Regions Runtime Fragment 1.0.8</version>
                                    <fixVersion>Feature Model API Regions Runtime Fragment 1.1.0</fixVersion>
                                    <component>Feature Model</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 33 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0c9cg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9175] TeleporterHttpClient should set HttpURLConnection timeouts</title>
                <link>https://issues.apache.org/jira/browse/SLING-9175</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The teleporter client uses &lt;tt&gt;HttpURLConnection&lt;/tt&gt; in several places but doesn&apos;t set timeouts on those connections. &lt;/p&gt;

&lt;p&gt;It should set both read + connect timeouts to avoid using the default values which as per &lt;a href=&quot;https://stackoverflow.com/questions/45199702/httpurlconnection-timeout-defaults&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/45199702/httpurlconnection-timeout-defaults&lt;/a&gt; and &lt;a href=&quot;https://bluxte.net/musings/2008/08/25/dont-forget-set-javaneturl-default-timeouts/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bluxte.net/musings/2008/08/25/dont-forget-set-javaneturl-default-timeouts/&lt;/a&gt; (haven&apos;t found official docs for that) is infinite.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13289843">SLING-9175</key>
            <summary>TeleporterHttpClient should set HttpURLConnection timeouts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Mar 2020 15:35:22 +0000</created>
                <updated>Mon, 23 Mar 2020 11:51:36 +0000</updated>
                            <resolved>Fri, 6 Mar 2020 15:21:06 +0000</resolved>
                                    <version>JUnit Tests Teleporter 1.0.18</version>
                                    <fixVersion>JUnit Tests Teleporter 1.0.20</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17052272" author="bdelacretaz" created="Thu, 5 Mar 2020 15:42:33 +0000"  >&lt;p&gt;...and at the same time we might add DEBUG logs to the &lt;tt&gt;TeleporterHttpClient&lt;/tt&gt; to help troubleshoot such things.&lt;/p&gt;</comment>
                            <comment id="17053508" author="bdelacretaz" created="Fri, 6 Mar 2020 15:21:06 +0000"  >&lt;p&gt;At commit 5ace819 I have added HTTP connect and read timeouts that default to the same value as the &quot;test ready&quot; timeout.&lt;/p&gt;

&lt;p&gt;The HTTP timeouts can be set to a specific value with the new &lt;tt&gt;ClientSideTeleporter.setHttpTimeoutSeconds&lt;/tt&gt; method, which is typically used by &lt;tt&gt;TeleporterRule.Customizer&lt;/tt&gt; classes as described at &lt;a href=&quot;https://sling.apache.org/documentation/bundles/org-apache-sling-junit-bundles.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/bundles/org-apache-sling-junit-bundles.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I have also added a bunch of debug log statements to the &lt;tt&gt;TeleporterHttpClient&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 33 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0c7k8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9173] Add KEYS file to https://dist.apache.org/repos/dist/release/sling</title>
                <link>https://issues.apache.org/jira/browse/SLING-9173</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The link at &lt;a href=&quot;https://sling.apache.org/downloads.cgi&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/downloads.cgi&lt;/a&gt; to &lt;a href=&quot;https://www.apache.org/dist/sling/KEYS&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/dist/sling/KEYS&lt;/a&gt; is broken, because the KEYS file has been removed in 2013 from the dist directory.&lt;br/&gt;
The file needs to be reestablished and &lt;a href=&quot;https://sling.apache.org/documentation/development/release-management.html#appendix-a-create-and-add-your-key-to-peopleapacheorg&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/development/release-management.html#appendix-a-create-and-add-your-key-to-peopleapacheorg&lt;/a&gt; need to be updated.&lt;/p&gt;

&lt;p&gt;Compare with the discussion at  &lt;a href=&quot;https://lists.apache.org/thread.html/ra6807cd9c8d7921f4441f621b43c92aa90cb0380b0190e0da1461939%40%3Cdev.sling.apache.org%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread.html/ra6807cd9c8d7921f4441f621b43c92aa90cb0380b0190e0da1461939%40%3Cdev.sling.apache.org%3E&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It is not allowed to instead just reference the file from &lt;a href=&quot;https://people.apache.org/keys/group/sling.asc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://people.apache.org/keys/group/sling.asc&lt;/a&gt;, for a reasoning look at &lt;a href=&quot;https://people.apache.org/keys/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://people.apache.org/keys/&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13289776">SLING-9173</key>
            <summary>Add KEYS file to https://dist.apache.org/repos/dist/release/sling</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Mar 2020 10:34:24 +0000</created>
                <updated>Thu, 23 Nov 2023 17:15:28 +0000</updated>
                            <resolved>Thu, 23 Nov 2023 17:15:28 +0000</resolved>
                                                                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17051997" author="kwin" created="Thu, 5 Mar 2020 10:46:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; Is that something that you could take up?&lt;/p&gt;</comment>
                            <comment id="17052181" author="sebb@apache.org" created="Thu, 5 Mar 2020 14:27:20 +0000"  >&lt;p&gt;You should be able to recover a version of the file from:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://archive.apache.org/dist/sling/KEYS&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://archive.apache.org/dist/sling/KEYS&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You just then need to ensure that any missing keys are added to the file.&lt;/p&gt;

&lt;p&gt;If a key has ever been used to sign a release artifact, it should not be removed from the file.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;I suppose Infra might direct removal of a compromised key, but check with them first&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17052335" author="cziegeler" created="Thu, 5 Mar 2020 16:58:32 +0000"  >&lt;p&gt;We could maybe also go through the svn history of sling-dist identify the committers as these are the ones who did releases and populate the KEYS file with those users&lt;/p&gt;</comment>
                            <comment id="17052378" author="bdelacretaz" created="Thu, 5 Mar 2020 17:47:27 +0000"  >&lt;p&gt;For now I have re-added &lt;br/&gt;
&lt;a href=&quot;https://archive.apache.org/dist/sling/KEYS&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://archive.apache.org/dist/sling/KEYS&lt;/a&gt;&lt;br/&gt;
to&lt;br/&gt;
&lt;a href=&quot;https://dist.apache.org/repos/dist/release/sling/KEYS&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dist.apache.org/repos/dist/release/sling/KEYS&lt;/a&gt;&lt;br/&gt;
so it is now at&lt;br/&gt;
&lt;a href=&quot;https://downloads.apache.org/sling/KEYS&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://downloads.apache.org/sling/KEYS&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It appeared there within 1-2 minutes, although &lt;a href=&quot;https://blogs.apache.org/infra/entry/more-secure-and-robust-downloads&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://blogs.apache.org/infra/entry/more-secure-and-robust-downloads&lt;/a&gt; mentions that it might take up to 15 minutes.&lt;/p&gt;

&lt;p&gt;With this, &lt;a href=&quot;https://www.apache.org/dist/sling/KEYS&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/dist/sling/KEYS&lt;/a&gt; correctly redirects to that file now - we might still want to update our website links to avoid the redirect. I&apos;ll do that tomorrow unless someone beats me to it.&lt;/p&gt;</comment>
                            <comment id="17053059" author="cziegeler" created="Fri, 6 Mar 2020 06:07:42 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; - we still need to add all the missing keys there .&lt;/p&gt;</comment>
                            <comment id="17053062" author="cziegeler" created="Fri, 6 Mar 2020 06:09:57 +0000"  >&lt;p&gt;This is the list to the svn dist directory:&lt;br/&gt;
asanso&lt;br/&gt;
bdelacretaz&lt;br/&gt;
chetanm&lt;br/&gt;
cziegeler&lt;br/&gt;
davidb&lt;br/&gt;
dklco&lt;br/&gt;
fmeschbe&lt;br/&gt;
ghenzler&lt;br/&gt;
ieb&lt;br/&gt;
jsedding&lt;br/&gt;
justin&lt;br/&gt;
kwin&lt;br/&gt;
mykee&lt;br/&gt;
npeltier&lt;br/&gt;
olli&lt;br/&gt;
pauls&lt;br/&gt;
radu&lt;br/&gt;
rombert&lt;br/&gt;
sseifert&lt;br/&gt;
stefanegli&lt;br/&gt;
tmaret&lt;/p&gt;</comment>
                            <comment id="17053094" author="kwin" created="Fri, 6 Mar 2020 07:21:57 +0000"  >&lt;p&gt;This is only the PMC members, but in some cases committers were release managers and PMCs only pushed to dist. Probably we need a script which&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Downloads all ascs and according artifacts from dist&lt;/li&gt;
	&lt;li&gt;Verifies against the KEYs file&lt;/li&gt;
	&lt;li&gt;For all missing public keys adds it from &lt;a href=&quot;https://people.apache.org/keys/group/sling.asc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://people.apache.org/keys/group/sling.asc&lt;/a&gt; to the KEYS file&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="17053223" author="bdelacretaz" created="Fri, 6 Mar 2020 09:43:58 +0000"  >&lt;p&gt;Can&apos;t we simply add all keys from &lt;a href=&quot;https://people.apache.org/keys/group/sling.asc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://people.apache.org/keys/group/sling.asc&lt;/a&gt; to the KEYS file?&lt;/p&gt;

&lt;p&gt;I don&apos;t think having duplicate keys in that file is a problem (gpg --import seems to just ignore the duplicates), and having keys from people who have not yet done releases is not a problem either IMO, they&apos;re just not required but cause no harm.&lt;/p&gt;</comment>
                            <comment id="17053228" author="kwin" created="Fri, 6 Mar 2020 09:47:33 +0000"  >&lt;p&gt;That way we may still miss fingerprints which have been replaced or never entered in id.apache.org, but we can do that as a start.&lt;/p&gt;</comment>
                            <comment id="17053229" author="bdelacretaz" created="Fri, 6 Mar 2020 09:53:24 +0000"  >&lt;p&gt;Ok, &lt;a href=&quot;https://people.apache.org/keys/group/sling.asc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://people.apache.org/keys/group/sling.asc&lt;/a&gt; is returning 200 status but no content for me right now, is it working for you? If yes feel free to add those contents to &lt;a href=&quot;https://dist.apache.org/repos/dist/release/sling/KEYS&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dist.apache.org/repos/dist/release/sling/KEYS&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17054837" author="rombert" created="Mon, 9 Mar 2020 10:26:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; - I don&apos;t have the bandwidth to look into it in the following days, looks like there is some effort underway though.&lt;/p&gt;</comment>
                            <comment id="17054885" author="kwin" created="Mon, 9 Mar 2020 11:55:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; I created &lt;a href=&quot;https://issues.apache.org/jira/browse/INFRA-19944&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/INFRA-19944&lt;/a&gt; to report the empty response  of &lt;a href=&quot;https://people.apache.org/keys/group/sling.asc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://people.apache.org/keys/group/sling.asc&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="17055824" author="bdelacretaz" created="Tue, 10 Mar 2020 11:05:44 +0000"  >&lt;p&gt;Thank you, INFRA-19944 is fixed, I have replaced &lt;a href=&quot;https://dist.apache.org/repos/dist/release/sling/KEYS&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dist.apache.org/repos/dist/release/sling/KEYS&lt;/a&gt; with the contents of &lt;a href=&quot;https://people.apache.org/keys/group/sling.asc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://people.apache.org/keys/group/sling.asc&lt;/a&gt; , as the keys found in the previous KEYS file are all provided by sling.asc.&lt;/p&gt;

&lt;p&gt;That should be synced soon to &lt;a href=&quot;https://downloads.apache.org/sling/KEYS&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://downloads.apache.org/sling/KEYS&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;With this we have no duplicates in KEYS which contains 35 keys from sling.asc as shown below.&lt;/p&gt;

&lt;p&gt;If needed we can add more keys manually, to avoid having to check out the whole dist folder with svn use:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
svn co https:&lt;span class=&quot;code-comment&quot;&gt;//dist.apache.org/repos/dist/release/sling --depth empty
&lt;/span&gt;cd sling
svn up KEYS
# edit KEYS as needed
svn diff
svn commit -m ...
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;br/&gt;
Here&apos;s the current KEYS:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
curl -s https:&lt;span class=&quot;code-comment&quot;&gt;//dist.apache.org/repos/dist/release/sling/KEYS | gpg --&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt;
&lt;/span&gt;gpg: key 7120565E: &lt;span class=&quot;code-quote&quot;&gt;&quot;Amit Gupta (CODE SIGNING KEY) &amp;lt;amitgupt@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 63EFCDEF: &lt;span class=&quot;code-quote&quot;&gt;&quot;Andreas Schaefer (CODE SIGNING KEY) &amp;lt;andysch@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 9E4DCC6B: &lt;span class=&quot;code-quote&quot;&gt;&quot;Bertrand Delacretaz (CODE SIGNING KEY) &amp;lt;bdelacretaz@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 015AFC8A: &lt;span class=&quot;code-quote&quot;&gt;&quot;Bertrand Delacretaz &amp;lt;bdelacretaz@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 88E59E02: &lt;span class=&quot;code-quote&quot;&gt;&quot;Chetan Mehrotra (CODE SIGNING KEY) &amp;lt;chetanm@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 6428BDBA: &lt;span class=&quot;code-quote&quot;&gt;&quot;Christian Schneider &amp;lt;chris@die-schneider.net&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key E41EDC7E: &lt;span class=&quot;code-quote&quot;&gt;&quot;Carsten Ziegeler &amp;lt;cziegeler@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key F2F27A06: &lt;span class=&quot;code-quote&quot;&gt;&quot;Carsten Ziegeler (CODE SIGNING KEY) &amp;lt;cziegeler@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key F24F0D9F: &lt;span class=&quot;code-quote&quot;&gt;&quot;David Bosschaert (CODE SIGNING KEY) &amp;lt;davidb@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 4C6E4124: &lt;span class=&quot;code-quote&quot;&gt;&quot;Dan Klco (CODE SIGNING KEY) &amp;lt;dklco@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 70A23041: &lt;span class=&quot;code-quote&quot;&gt;&quot;Andrei Dulvac (CODE SIGNING KEY) &amp;lt;dulvac@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key A0F1173A: &lt;span class=&quot;code-quote&quot;&gt;&quot;Eric Norman (CODE SIGNING KEY) &amp;lt;enorman@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key F79B7715: &lt;span class=&quot;code-quote&quot;&gt;&quot;Felix Meschberger &amp;lt;fmeschbe@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 6A42B333: &lt;span class=&quot;code-quote&quot;&gt;&quot;Georg Henzler &amp;lt;ghenzler@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 40E47E14: &lt;span class=&quot;code-quote&quot;&gt;&quot;Ian Boston &amp;lt;ieb@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 883F7D33: &lt;span class=&quot;code-quote&quot;&gt;&quot;jason e bailey (CODE SIGNING KEY) &amp;lt;jeb@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 77F318C8: &lt;span class=&quot;code-quote&quot;&gt;&quot;Julian Sedding (CODE SIGNING KEY) &amp;lt;jsedding@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 134B145C: &lt;span class=&quot;code-quote&quot;&gt;&quot;Justin Edelson (CODE SIGNING KEY) &amp;lt;justin@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 455ECC7C: &lt;span class=&quot;code-quote&quot;&gt;&quot;Konrad Windszus &amp;lt;kwin@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 441E0165: &lt;span class=&quot;code-quote&quot;&gt;&quot;Marius Petria &amp;lt;mpetria@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key F79F6478: &lt;span class=&quot;code-quote&quot;&gt;&quot;Mike Mueller (CODE SIGNING KEY) &amp;lt;mykee@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 027FA950: &lt;span class=&quot;code-quote&quot;&gt;&quot;Nicolas Peltier &amp;lt;npeltier@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 0E4B0826: &lt;span class=&quot;code-quote&quot;&gt;&quot;Oliver Lietz &amp;lt;olli@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 859A7237: &lt;span class=&quot;code-quote&quot;&gt;&quot;Karl Pauls (CODE SIGNING KEY) &amp;lt;pauls@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 964478D3: &lt;span class=&quot;code-quote&quot;&gt;&quot;Radu Cotescu (CODE SIGNING KEY) &amp;lt;radu@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 4F63EC54: &lt;span class=&quot;code-quote&quot;&gt;&quot;Robert Munteanu &amp;lt;rombert@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 48CF8630: &lt;span class=&quot;code-quote&quot;&gt;&quot;Simone Tripodi (simonetripodi) &amp;lt;simonetripodi@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 75D78E92: &lt;span class=&quot;code-quote&quot;&gt;&quot;Stefan Seifert &amp;lt;sseifert@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 8CCA28D1: &lt;span class=&quot;code-quote&quot;&gt;&quot;Stefan Egli (CODE SIGNING KEY) &amp;lt;stefanegli@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 6B6E60CF: &lt;span class=&quot;code-quote&quot;&gt;&quot;Stefan Egli (CODE SIGNING KEY) &amp;lt;stefanegli@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 02A7966D: &lt;span class=&quot;code-quote&quot;&gt;&quot;Stefan Egli (CODE SIGNING KEY) &amp;lt;stefanegli@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key CF8EBF5F: &lt;span class=&quot;code-quote&quot;&gt;&quot;Carl Hall &amp;lt;carl.hall@gmail.com&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 44BD29BA: &lt;span class=&quot;code-quote&quot;&gt;&quot;tmaret &amp;lt;tmaret@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 84715909: &lt;span class=&quot;code-quote&quot;&gt;&quot;Tomasz Rekawek (CODE SIGNING KEY) &amp;lt;tomekr@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: key 3C1E73F8: &lt;span class=&quot;code-quote&quot;&gt;&quot;Tommaso Teofili &amp;lt;tommaso@apache.org&amp;gt;&quot;&lt;/span&gt; not changed
gpg: Total number processed: 35
gpg:              unchanged: 35

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17055835" author="bdelacretaz" created="Tue, 10 Mar 2020 11:19:56 +0000"  >&lt;p&gt;I have also updated the KEYS link at &lt;a href=&quot;https://sling.apache.org/downloads.cgi&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/downloads.cgi&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17055848" author="kwin" created="Tue, 10 Mar 2020 11:40:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; Can you also update  &lt;a href=&quot;https://sling.apache.org/documentation/development/release-management.html#appendix-a-create-and-add-your-key-to-peopleapacheorg&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/development/release-management.html#appendix-a-create-and-add-your-key-to-peopleapacheorg&lt;/a&gt; ?&lt;/p&gt;

&lt;p&gt;Do we need to adjust the &lt;tt&gt;check_staged_release.sh&lt;/tt&gt; script to only consider the keys from the &lt;a href=&quot;https://downloads.apache.org/sling/KEYS&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://downloads.apache.org/sling/KEYS&lt;/a&gt; (&lt;a href=&quot;https://github.com/apache/sling-tooling-release/blob/7504038064941565346dad1386a95ec1ca8ab5cd/check_staged_release.sh#L38&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-tooling-release/blob/7504038064941565346dad1386a95ec1ca8ab5cd/check_staged_release.sh#L38&lt;/a&gt;) to make sure all relevant public keys are really entered there?&lt;/p&gt;</comment>
                            <comment id="17216617" author="kwin" created="Mon, 19 Oct 2020 10:45:15 +0000"  >&lt;p&gt;I extended the appendix A with &lt;a href=&quot;https://github.com/apache/sling-site/commit/9458315d4671a02a0297f05123f2f4501375be09&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-site/commit/9458315d4671a02a0297f05123f2f4501375be09&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17216620" author="kwin" created="Mon, 19 Oct 2020 10:49:55 +0000"  >&lt;p&gt;Does anyone know how to verify the signature with gpg against &lt;a href=&quot;https://downloads.apache.org/sling/KEYS?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://downloads.apache.org/sling/KEYS?&lt;/a&gt; Even &lt;a href=&quot;https://www.apache.org/info/verification&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/info/verification&lt;/a&gt; does not really outline how to verify without using the chain of trust!&lt;/p&gt;</comment>
                            <comment id="17415401" author="bdelacretaz" created="Wed, 15 Sep 2021 09:26:58 +0000"  >&lt;p&gt;Not sure if that&apos;s what you are asking, but the following works for me: first failing, then importing a key from that KEYS file and then succeeding.&lt;/p&gt;

&lt;p&gt;The &lt;tt&gt;--no-default-keyring --keyring /tmp/kr&lt;/tt&gt; options are meant to ignore my default keyring, for this example, you usually do not need them.&lt;/p&gt;

&lt;p&gt;The &quot;not certified with a trusted signature&quot; bit means we don&apos;t know whether that key actually belongs to Justin, which is the case for all keys which do not have a web of trust connection to the key of the current user. But GPG did verify that the signature matches the jar file.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ wget https:&lt;span class=&quot;code-comment&quot;&gt;//dist.apache.org/repos/dist/release/sling/adapter-annotations-1.0.0-javadoc.jar
&lt;/span&gt;$ wget https:&lt;span class=&quot;code-comment&quot;&gt;//dist.apache.org/repos/dist/release/sling/adapter-annotations-1.0.0-javadoc.jar.asc
&lt;/span&gt;
$ gpg --no-&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-keyring --keyring /tmp/kr --verify adapter-annotations-1.0.0-javadoc.jar.asc 
gpg: assuming signed data in &lt;span class=&quot;code-quote&quot;&gt;&apos;adapter-annotations-1.0.0-javadoc.jar&apos;&lt;/span&gt;
gpg: Signature made Thu Jan 12 17:53:23 2012 CET
gpg:                using DSA key 87DBF05A134B145C
gpg: Can&apos;t check signature: No &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; key

$ curl -s https:&lt;span class=&quot;code-comment&quot;&gt;//downloads.apache.org/sling/KEYS | gpg --no-&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-keyring --keyring /tmp/kr --&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt;
&lt;/span&gt;...
gpg: Total number processed: 38
gpg:               imported: 38

$ gpg --no-&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-keyring --keyring /tmp/kr --verify adapter-annotations-1.0.0-javadoc.jar.asc 
gpg: assuming signed data in &lt;span class=&quot;code-quote&quot;&gt;&apos;adapter-annotations-1.0.0-javadoc.jar&apos;&lt;/span&gt;
gpg: Signature made Thu Jan 12 17:53:23 2012 CET
gpg:                using DSA key 87DBF05A134B145C
gpg: Good signature from &lt;span class=&quot;code-quote&quot;&gt;&quot;Justin Edelson (CODE SIGNING KEY) &amp;lt;justin@apache.org&amp;gt;&quot;&lt;/span&gt; [unknown]
gpg:                 aka &lt;span class=&quot;code-quote&quot;&gt;&quot;Justin Edelson &amp;lt;justin@helemus.com&amp;gt;&quot;&lt;/span&gt; [unknown]
gpg:                 aka &lt;span class=&quot;code-quote&quot;&gt;&quot;Justin Edelson &amp;lt;justin@justinedelson.com&amp;gt;&quot;&lt;/span&gt; [unknown]
gpg:                 aka &lt;span class=&quot;code-quote&quot;&gt;&quot;Justin Edelson &amp;lt;justin.edelson@mtvstaff.com&amp;gt;&quot;&lt;/span&gt; [unknown]
gpg: WARNING: This key is not certified with a trusted signature!
gpg:          There is no indication that the signature belongs to the owner.
Primary key fingerprint: A04B C4AD 3639 6AD5 A52C  8FE1 87DB F05A 134B 145C

 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17418178" author="kwin" created="Tue, 21 Sep 2021 15:32:06 +0000"  >&lt;p&gt;Thanks for that hint. That should be documented somewhere for our downstream consumers to make it possible for them to verify a release is really from us. Usually importing the public keys from a second (pretty trusted) source like an the apache.org website with a valid certificate is good enough for an initial trust level....&lt;/p&gt;

&lt;p&gt;Maybe a simpler way for verifying can be somehow be established with &lt;a href=&quot;https://www.simplify4u.org/pgpverify-maven-plugin/check-mojo.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.simplify4u.org/pgpverify-maven-plugin/check-mojo.html&lt;/a&gt;.... Haven&apos;t tried it out yet, though.&lt;/p&gt;</comment>
                            <comment id="17789220" author="kwin" created="Thu, 23 Nov 2023 17:15:22 +0000"  >&lt;p&gt;Original issue is fixed, verification of signatures is another issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13398674">SLING-10775</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 47 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0c75c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9170] Update Sling Testing Sling Mock to enable testing with newer versions of Scripting Core</title>
                <link>https://issues.apache.org/jira/browse/SLING-9170</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Sling Testing Sling Mock dependency should be updated in order to allow the tests to work correctly with newer versions of the Scripting Core module.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13289754">SLING-9170</key>
            <summary>Update Sling Testing Sling Mock to enable testing with newer versions of Scripting Core</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Mar 2020 09:20:51 +0000</created>
                <updated>Mon, 9 Mar 2020 10:24:50 +0000</updated>
                            <resolved>Thu, 5 Mar 2020 10:09:45 +0000</resolved>
                                    <version>Servlets Resolver 2.6.0</version>
                                    <fixVersion>Servlets Resolver 2.6.4</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17051976" author="radu.cotescu" created="Thu, 5 Mar 2020 10:09:45 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-servlets-resolver/commit/bbb0148&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit bbb0148&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17053056" author="olli" created="Fri, 6 Mar 2020 06:05:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu&quot; class=&quot;user-hover&quot; rel=&quot;radu&quot;&gt;radu&lt;/a&gt;, I updated the dependencies and changed scopes to test also which didn&apos;t fix it... the real fix is the exclusion of &lt;tt&gt;org.apache.sling.jcr.resource&lt;/tt&gt; for whatever reason.&lt;/p&gt;</comment>
                            <comment id="17053119" author="radu.cotescu" created="Fri, 6 Mar 2020 07:52:16 +0000"  >&lt;p&gt;The version of the Sling Engine we&apos;re using brings an old &lt;tt&gt;o.a.s.jcr.resource&lt;/tt&gt; version into the classpath. Since it&apos;s first, the Sling Mocks will use that one, but this old version does not provide the JCR Bindings.&lt;/p&gt;

&lt;p&gt;The previous version of Sling Mocks we had didn&apos;t know how to work with newer versions of &lt;tt&gt;o.a.s.scripting.core&lt;/tt&gt;, since the &lt;tt&gt;ScriptEngineManager&lt;/tt&gt; implementation was moved into a different package. Anyways, we&apos;re good now! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13286706">SLING-9105</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0c70g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9167] Installer core embeds too many config admin classes</title>
                <link>https://issues.apache.org/jira/browse/SLING-9167</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It seems complete packages from Apache Felix CM are now included, previously these were only single classes:&lt;br/&gt;
 org.apache.felix.configadmin;inline=&quot;org/apache/felix/cm/file/ConfigurationHandler.*&quot;,&lt;/p&gt;

&lt;p&gt;vs&lt;/p&gt;

&lt;p&gt;org/apache/felix/cm/NotCachablePersistenceManager.class&lt;br/&gt;
org/apache/felix/cm/PersistenceManager.class&lt;br/&gt;
org/apache/felix/cm/file/ConfigurationHandler.class&lt;br/&gt;
org/apache/felix/cm/file/FilePersistenceManager$1.class&lt;br/&gt;
org/apache/felix/cm/file/FilePersistenceManager$2.class&lt;br/&gt;
org/apache/felix/cm/file/FilePersistenceManager$3.class&lt;br/&gt;
org/apache/felix/cm/file/FilePersistenceManager$4.class&lt;br/&gt;
org/apache/felix/cm/file/FilePersistenceManager$DictionaryEnumeration$1.class&lt;br/&gt;
org/apache/felix/cm/file/FilePersistenceManager$DictionaryEnumeration.class&lt;br/&gt;
org/apache/felix/cm/file/FilePersistenceManager.class&lt;br/&gt;
org/apache/felix/cm/file/package-info.class&lt;br/&gt;
org/apache/felix/cm/package-info.class&lt;/p&gt;</description>
                <environment></environment>
        <key id="13289716">SLING-9167</key>
            <summary>Installer core embeds too many config admin classes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Mar 2020 07:34:31 +0000</created>
                <updated>Wed, 8 Apr 2020 09:54:41 +0000</updated>
                            <resolved>Sat, 7 Mar 2020 14:39:16 +0000</resolved>
                                    <version>Installer Core 3.10.0</version>
                    <version>Installer Core 3.10.2</version>
                                    <fixVersion>Installer Core 3.11.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17051861" author="kwin" created="Thu, 5 Mar 2020 07:42:44 +0000"  >&lt;p&gt;bnd only allows to automatically embed full packages (by inspecting the code). With single classes one has to manually check that this single class does not have any other required dependencies. In this case I appreciate embedding too many classes over the manual effort (and risk) to identify all necessary classes. &lt;br/&gt;
Is there any concrete issues with that apart from the slightly increased size of the bundle?&lt;/p&gt;</comment>
                            <comment id="17051865" author="cziegeler" created="Thu, 5 Mar 2020 07:57:26 +0000"  >&lt;p&gt;this potentially drags in new dependencies and is a complete waste, lets switch back to the maven bundle plugin; it solves that problem nicely; you can see the effect in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9166&quot; title=&quot;Installer core must not depend on  org.osgi.service.event&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9166&quot;&gt;&lt;del&gt;SLING-9166&lt;/del&gt;&lt;/a&gt;, no one noticed that out of the sudden we have a new dependency&lt;/p&gt;</comment>
                            <comment id="17051867" author="kwin" created="Thu, 5 Mar 2020 08:01:35 +0000"  >&lt;p&gt;Inlining single classes is possible with bnd as well IIUC, just try to leverage &lt;a href=&quot;https://github.com/bndtools/bnd/issues/3704#issuecomment-571255712&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/bndtools/bnd/issues/3704#issuecomment-571255712&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17051871" author="cziegeler" created="Thu, 5 Mar 2020 08:05:57 +0000"  >&lt;p&gt;Thanks, nice so why not use it?&lt;/p&gt;</comment>
                            <comment id="17054100" author="cziegeler" created="Sat, 7 Mar 2020 14:39:09 +0000"  >&lt;p&gt;Thanks for the tip &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; - -includeresource works&lt;br/&gt;
We&apos;re now embedding just a single class from Apache Felix configadmin and a single class from feature.io.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-core/commit/d4412f81d1608445a6cda07f40e3604d94b98340&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-core/commit/d4412f81d1608445a6cda07f40e3604d94b98340&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17054132" author="olli" created="Sat, 7 Mar 2020 16:07:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, we are using the &lt;tt&gt;includeresource&lt;/tt&gt; instruction at least for two years, see e.g. &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-oak-server/blob/master/bnd.bnd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-oak-server/blob/master/bnd.bnd&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17054323" author="cziegeler" created="Sun, 8 Mar 2020 07:31:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; Obviously not wide spread knowledge, but good to know, thanks&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="13296997">SLING-9342</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 33 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0c6s0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9166] Installer core must not depend on  org.osgi.service.event</title>
                <link>https://issues.apache.org/jira/browse/SLING-9166</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The latest installer core release depends on   org.osgi.service.event (without any version range). Eventing must not be required for the installer to work&lt;/p&gt;

&lt;p&gt;This is introduced by the Conditional-Package statement for org.apache.sling.commons.osgi&lt;/p&gt;

&lt;p&gt;Previously only the required classes where included:&lt;br/&gt;
org.apache.sling.commons.osgi;inline=&quot;org/apache/sling/commons/osgi/ManifestHeader*.&lt;b&gt;|org/apache/sling/commons/osgi/PropertiesUtil.&lt;/b&gt;|org/apache/sling/commons/osgi/SortingServiceTracker.*&quot;&lt;br/&gt;
Now the whole package org.apache.sling.commons.osgi ins included - which is wrong&lt;/p&gt;</description>
                <environment></environment>
        <key id="13289713">SLING-9166</key>
            <summary>Installer core must not depend on  org.osgi.service.event</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Mar 2020 07:18:27 +0000</created>
                <updated>Tue, 24 Mar 2020 09:53:24 +0000</updated>
                            <resolved>Sat, 7 Mar 2020 09:50:53 +0000</resolved>
                                    <version>Installer Core 3.10.0</version>
                    <version>Installer Core 3.10.2</version>
                                    <fixVersion>Installer Core 3.11.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17051859" author="cziegeler" created="Thu, 5 Mar 2020 07:39:29 +0000"  >&lt;p&gt;Its maybe time to cut this dependency and copy the required code into the project.&lt;br/&gt;
PropertiesUtil can be replaced with using the Converter, this leaves us with just the service tracker&lt;/p&gt;</comment>
                            <comment id="17053964" author="cziegeler" created="Sat, 7 Mar 2020 09:50:53 +0000"  >&lt;p&gt;I replaced using PropertiesUtil with the Converter (which we already use, so no new dependency) and copied the code from the SortingServiceTracker into this project. &lt;br/&gt;
No dependency on commons.osgi anymore, and we can use generics for the service tracker as a minor additional benefit&lt;/p&gt;

&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-core/commit/5b7963a43a3d0cc785e5a66044df4dc43803bc9b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-core/commit/5b7963a43a3d0cc785e5a66044df4dc43803bc9b&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 33 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0c6rc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9165] Correct example usage in plugin documentation</title>
                <link>https://issues.apache.org/jira/browse/SLING-9165</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &quot;Usage&quot; page of the &lt;tt&gt;htl-maven-plugin&lt;/tt&gt; provides some pom configuration examples where some tags are not properly closed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13289527">SLING-9165</key>
            <summary>Correct example usage in plugin documentation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Mar 2020 12:56:38 +0000</created>
                <updated>Mon, 22 Jun 2020 13:14:32 +0000</updated>
                            <resolved>Wed, 4 Mar 2020 12:58:40 +0000</resolved>
                                                    <fixVersion>HTL Maven Plugin 2.0.0-1.4.0</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17051200" author="radu.cotescu" created="Wed, 4 Mar 2020 12:58:40 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-htl-maven-plugin/commit/39ba63a60db7ed6b75052baf807278d57425c23b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit&#160;39ba63a&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310460">
                    <name>Child-Issue</name>
                                                                <inwardlinks description="is a child of">
                                        <issuelink>
            <issuekey id="13291973">SLING-9207</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 34 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0c5m0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9164] NPE when resolving servlets for resource types</title>
                <link>https://issues.apache.org/jira/browse/SLING-9164</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Servlets Resolver 2.6.0 release has introduced changes from &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8110&quot; title=&quot;Take extensions, selectors etc. into account for selecting path-mounted servlets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8110&quot;&gt;&lt;del&gt;SLING-8110&lt;/del&gt;&lt;/a&gt;, although that issue is not yet complete according to JIRA. However, one of the changes introduced a NPE in the &lt;tt&gt;org.apache.sling.servlets.resolver.internal.SlingServletResolver#resolveServletInternal(final SlingHttpServletRequest request, final Resource resource, final String scriptNameOrResourceType, final ResourceResolver resolver)&lt;/tt&gt; method which prevents resolving servlets for a certain &lt;tt&gt;resourceType&lt;/tt&gt; or &lt;tt&gt;script&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13288276">SLING-9164</key>
            <summary>NPE when resolving servlets for resource types</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Feb 2020 12:32:46 +0000</created>
                <updated>Mon, 9 Mar 2020 10:24:52 +0000</updated>
                            <resolved>Fri, 28 Feb 2020 12:34:29 +0000</resolved>
                                    <version>Servlets Resolver 2.6.0</version>
                                    <fixVersion>Servlets Resolver 2.6.4</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17047550" author="radu.cotescu" created="Fri, 28 Feb 2020 12:34:29 +0000"  >&lt;p&gt;Fixed in&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-servlets-resolver/commit/1386d2e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 1386d2e&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13198613">SLING-8110</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 34 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bzzs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9163] Commons Johnzon is not fully JSON-P 1.1 compliant yet</title>
                <link>https://issues.apache.org/jira/browse/SLING-9163</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Commons Johnzon currently embeds Apache Johnzon 1.1.1 (&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-johnzon/blob/69a090477728ebabd23ff6b11dc2af8672229b9a/pom.xml#L72&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-johnzon/blob/69a090477728ebabd23ff6b11dc2af8672229b9a/pom.xml#L72&lt;/a&gt;). Unfortunately that old version does not fully implement JSON-P 1.1 yet. E.g. support for &lt;tt&gt;JsonParser.getValue()&lt;/tt&gt; has only been added in &lt;a href=&quot;https://github.com/apache/johnzon/commit/05effff6e0a555d1a2c62e65d1891745df028ea7#diff-9f67203e03fd6aa15020bbf3bb822f8a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/johnzon/commit/05effff6e0a555d1a2c62e65d1891745df028ea7#diff-9f67203e03fd6aa15020bbf3bb822f8a&lt;/a&gt; which is part of 1.1.5+. In addition some crucial fixes have been provided in &lt;a href=&quot;https://github.com/apache/johnzon/commit/9871e297994a092d8e2492c58686bac6c23b56a4#diff-9f67203e03fd6aa15020bbf3bb822f8a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/johnzon/commit/9871e297994a092d8e2492c58686bac6c23b56a4#diff-9f67203e03fd6aa15020bbf3bb822f8a&lt;/a&gt; (1.2.1+).&lt;/p&gt;

&lt;p&gt;I consider this a bug, because the API for JSON-P 1.1 is already included and exported in version 1.1 but in fact &lt;tt&gt;Parser.getValue()&lt;/tt&gt; will always throw a &lt;tt&gt;java.lang.UnsupportedOperationException&lt;/tt&gt; although it is not supposed to according to &lt;a href=&quot;https://javadoc.io/doc/javax.json/javax.json-api/1.1/javax/json/stream/JsonParser.html#getValue--&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://javadoc.io/doc/javax.json/javax.json-api/1.1/javax/json/stream/JsonParser.html#getValue--&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13288076">SLING-9163</key>
            <summary>Commons Johnzon is not fully JSON-P 1.1 compliant yet</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Feb 2020 14:47:59 +0000</created>
                <updated>Wed, 28 Oct 2020 12:27:55 +0000</updated>
                            <resolved>Mon, 9 Mar 2020 12:16:25 +0000</resolved>
                                    <version>Commons Johnzon 1.1.2</version>
                                    <fixVersion>Commons Johnzon 1.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17047777" author="kwin" created="Fri, 28 Feb 2020 16:14:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=karlpauls&quot; class=&quot;user-hover&quot; rel=&quot;karlpauls&quot;&gt;karlpauls&lt;/a&gt; Can you have a look at the linked GH PR?&lt;/p&gt;</comment>
                            <comment id="17054899" author="kwin" created="Mon, 9 Mar 2020 12:16:25 +0000"  >&lt;p&gt;Fixed with &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-johnzon/commit/de0cab6ef617a7b09a0390578ea2a032a98a4913&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-johnzon/commit/de0cab6ef617a7b09a0390578ea2a032a98a4913&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13211283">SLING-8232</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13275928">SLING-8950</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 33 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0byrc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9160] OSGi Installer Core seems to have a stale service registration</title>
                <link>https://issues.apache.org/jira/browse/SLING-9160</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The following stack trace appears in the logs when starting an instance:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;27.02.2020 12:09:32.837 *ERROR* [pool-7-thread-1] ERROR: Bundle &apos;2&apos; EventDispatcher: Error during dispatch. (java.lang.IllegalStateException: The service registration is no longer valid.)
java.lang.IllegalStateException: The service registration is no longer valid.
	at org.apache.felix.framework.ServiceRegistrationImpl.setProperties(ServiceRegistrationImpl.java:123)
	at org.apache.sling.installer.core.impl.UpdateHandlerTracker.updateUrlStreamHandler(UpdateHandlerTracker.java:101)
	at org.apache.sling.installer.core.impl.UpdateHandlerTracker.addOrRemoveService(UpdateHandlerTracker.java:82)
	at org.apache.sling.installer.core.impl.UpdateHandlerTracker.addingService(UpdateHandlerTracker.java:56)
	at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:943)
	at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:871)
	at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:256)
	at org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:229)
	at org.osgi.util.tracker.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:903)
	at org.apache.felix.framework.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:990)
	at org.apache.felix.framework.EventDispatcher.fireEventImmediately(EventDispatcher.java:838)
	at org.apache.felix.framework.EventDispatcher.fireServiceEvent(EventDispatcher.java:545)
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4833)
	at org.apache.felix.framework.Felix.registerService(Felix.java:3804)
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:328)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:906)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:892)
	at org.apache.felix.scr.impl.manager.RegistrationManager.changeRegistration(RegistrationManager.java:128)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerService(AbstractComponentManager.java:959)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.activateInternal(AbstractComponentManager.java:732)
	at org.apache.felix.scr.impl.manager.DependencyManager$SingleStaticCustomizer.addedService(DependencyManager.java:1045)
	at org.apache.felix.scr.impl.manager.DependencyManager$SingleStaticCustomizer.addedService(DependencyManager.java:999)
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1216)
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1137)
	at org.apache.felix.scr.impl.manager.ServiceTracker$AbstractTracked.trackAdding(ServiceTracker.java:944)
	at org.apache.felix.scr.impl.manager.ServiceTracker$AbstractTracked.track(ServiceTracker.java:880)
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:1168)
	at org.apache.felix.scr.impl.BundleComponentActivator$ListenerInfo.serviceChanged(BundleComponentActivator.java:125)
	at org.apache.felix.framework.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:990)
	at org.apache.felix.framework.EventDispatcher.fireEventImmediately(EventDispatcher.java:838)
	at org.apache.felix.framework.EventDispatcher.fireServiceEvent(EventDispatcher.java:545)
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4833)
	at org.apache.felix.framework.Felix.registerService(Felix.java:3804)
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:328)
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:302)
	at org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl.executeServiceRegistrations(ServiceUserMapperImpl.java:383)
	at org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl.access$000(ServiceUserMapperImpl.java:63)
	at org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl$1.run(ServiceUserMapperImpl.java:337)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13288014">SLING-9160</key>
            <summary>OSGi Installer Core seems to have a stale service registration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Feb 2020 11:12:03 +0000</created>
                <updated>Fri, 28 Feb 2020 17:21:04 +0000</updated>
                            <resolved>Fri, 28 Feb 2020 16:14:05 +0000</resolved>
                                    <version>Installer Core 3.10.0</version>
                                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17046509" author="kwin" created="Thu, 27 Feb 2020 11:14:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu&quot; class=&quot;user-hover&quot; rel=&quot;radu&quot;&gt;radu&lt;/a&gt; Can you set a breakpoint? Does that happen with Sling Starter 12-SNAPSHOT or another distribution?&lt;/p&gt;</comment>
                            <comment id="17046516" author="radu.cotescu" created="Thu, 27 Feb 2020 11:20:40 +0000"  >&lt;p&gt;I&apos;ve just updated the Sling Starter in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-starter/commit/97dc81a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 97dc81a&lt;/a&gt;, so you can test with the latest 12-SNAPSHOT.&lt;/p&gt;</comment>
                            <comment id="17046556" author="kwin" created="Thu, 27 Feb 2020 12:19:25 +0000"  >&lt;p&gt;Thanks, I can reproduce with 3.10.0 but not with 3.10.1-SNAPSHOT/3.10.2 (which is under vote). Can you confirm?&lt;/p&gt;</comment>
                            <comment id="17047774" author="kwin" created="Fri, 28 Feb 2020 16:13:19 +0000"  >&lt;p&gt;I do no longer see this issue with &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-starter/commit/140bfb3ed2958719ec0995dab36463bd07452fb7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-starter/commit/140bfb3ed2958719ec0995dab36463bd07452fb7&lt;/a&gt;, so I assume this was a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9139&quot; title=&quot;URLHandler unregistered too often&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9139&quot;&gt;&lt;del&gt;SLING-9139&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17047810" author="radu.cotescu" created="Fri, 28 Feb 2020 17:21:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, sorry, I didn&apos;t have time to test with 3.10.1-SNAPSHOT / 3.10.2, but it looks like this issue is duplicating &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9139&quot; title=&quot;URLHandler unregistered too often&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9139&quot;&gt;&lt;del&gt;SLING-9139&lt;/del&gt;&lt;/a&gt; indeed. Thanks!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13287441">SLING-9139</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13287441">SLING-9139</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 34 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bydk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9153] MIME Type detection leaks temporary files when given a ZIP file</title>
                <link>https://issues.apache.org/jira/browse/SLING-9153</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Apache Sling ContentAwareMimeTypeServiceImpl seems to use the tika API improperly:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-contentdetection/blob/master/src/main/java/org/apache/sling/commons/contentdetection/internal/ContentAwareMimeTypeServiceImpl.java#L55&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-contentdetection/blob/master/src/main/java/org/apache/sling/commons/contentdetection/internal/ContentAwareMimeTypeServiceImpl.java#L55&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Per the Tika javadoc, it is using the wrong method. Instead it should be passing in a TemporaryResources object:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/tika/blob/1.22/tika-core/src/main/java/org/apache/tika/io/TikaInputStream.java#L91&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/blob/1.22/tika-core/src/main/java/org/apache/tika/io/TikaInputStream.java#L91&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Temporary disk ran out of space because of a large amount of files named &quot;apache-tika-xxx.tmp&quot;.&#160; &#160;It seems the bug resides in ContentAwareMimeTypeService OSGi service.&#160; Calls to this service seem to generate the temporary files.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13287723">SLING-9153</key>
            <summary>MIME Type detection leaks temporary files when given a ZIP file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="ankitaagar">Ankita Agarwal</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Feb 2020 11:08:01 +0000</created>
                <updated>Mon, 9 Mar 2020 12:08:25 +0000</updated>
                            <resolved>Thu, 27 Feb 2020 09:37:53 +0000</resolved>
                                    <version>Content Detection Support 1.0.2</version>
                                    <fixVersion>Content Detection Support 1.0.4</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3600">1h</timespent>
                                <comments>
                            <comment id="17046412" author="kwin" created="Thu, 27 Feb 2020 09:37:53 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-contentdetection/commit/cebf68b3e6e21ea42b966c54c03fe10933a5278f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-contentdetection/commit/cebf68b3e6e21ea42b966c54c03fe10933a5278f&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17046436" author="ankitaagar" created="Thu, 27 Feb 2020 09:55:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;&#160;Thanks!&lt;/p&gt;

&lt;p&gt;Could you please confirm when this will be available/released?&lt;/p&gt;</comment>
                            <comment id="17046460" author="kwin" created="Thu, 27 Feb 2020 10:24:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; Is that something that you could take up?&lt;/p&gt;</comment>
                            <comment id="17052119" author="bdelacretaz" created="Thu, 5 Mar 2020 13:11:57 +0000"  >&lt;p&gt;I&apos;ll prepare the new release of this module now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bwkw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9148] Allow to hydrate the queue cache when journal access is throttled</title>
                <link>https://issues.apache.org/jira/browse/SLING-9148</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In some cases, typically escalations, connections to the journal may be throttled. When that happens, the queue cache may not have enough time to be filled up before the cache cleanup task kicks in and starts creating a new cache instance.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13287523">SLING-9148</key>
            <summary>Allow to hydrate the queue cache when journal access is throttled</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="marett">Timothee Maret</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Feb 2020 14:58:32 +0000</created>
                <updated>Tue, 31 Mar 2020 12:44:57 +0000</updated>
                            <resolved>Tue, 25 Feb 2020 15:05:07 +0000</resolved>
                                    <version>Content Distribution Journal Core 0.1.6</version>
                                    <fixVersion>Content Distribution Journal Core 0.1.10</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17044552" author="marett" created="Tue, 25 Feb 2020 15:05:01 +0000"  >&lt;p&gt;Extended the default cleanup frequency from 5 minutes to 12 hours, in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-journal/commit/c695d7a24936218e3ac023a00c2bdb35924ccd84&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;c695d7a&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bvcg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9146] Make the Bundle-DocURL use https</title>
                <link>https://issues.apache.org/jira/browse/SLING-9146</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8538&quot; title=&quot;Temporarily disable creation of the Bundle-DocURL header&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8538&quot;&gt;&lt;del&gt;SLING-8538&lt;/del&gt;&lt;/a&gt; hardcoded the &lt;tt&gt;Bundle-DocURL&lt;/tt&gt; header to &lt;tt&gt;&lt;a href=&quot;http://sling.apache.org&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org&lt;/a&gt;&lt;/tt&gt;. We should switch this URL to &lt;tt&gt;https&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13287512">SLING-9146</key>
            <summary>Make the Bundle-DocURL use https</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Feb 2020 14:14:27 +0000</created>
                <updated>Thu, 14 May 2020 07:22:32 +0000</updated>
                            <resolved>Tue, 25 Feb 2020 14:15:39 +0000</resolved>
                                    <version>Bundle Parent 36</version>
                                    <fixVersion>Bundle Parent 39</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17044472" author="radu.cotescu" created="Tue, 25 Feb 2020 14:15:39 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-parent/commit/129ae7a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 129ae7a&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bva0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9143] RangePoller is not closed when the cache is closed</title>
                <link>https://issues.apache.org/jira/browse/SLING-9143</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When the PubQueueCache is closed, the underlying head poller (RangePoller) is not closed. This issue will only manifest when the cache is closed while an historical page is being fetched. This scenario is more likely when requests to the journal are being throttled.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13287493">SLING-9143</key>
            <summary>RangePoller is not closed when the cache is closed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="marett">Timothee Maret</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Feb 2020 13:12:25 +0000</created>
                <updated>Tue, 18 Mar 2025 08:29:32 +0000</updated>
                                            <version>Content Distribution Journal Core 0.1.4</version>
                                    <fixVersion>Content Distribution Journal Core 0.6.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17859574" author="chris@die-schneider.net" created="Mon, 24 Jun 2024 06:12:53 +0000"  >&lt;p&gt;I am preparing a new release. Do yo plan to work on this in the next days?&lt;/p&gt;</comment>
                            <comment id="17859577" author="chris@die-schneider.net" created="Mon, 24 Jun 2024 06:14:40 +0000"  >&lt;p&gt;Never mind .. I think you are on PTO.&lt;/p&gt;</comment>
                            <comment id="17859588" author="marett" created="Mon, 24 Jun 2024 07:05:22 +0000"  >&lt;p&gt;No. I have moved to the next release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 17 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bv5s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9139] URLHandler unregistered too often</title>
                <link>https://issues.apache.org/jira/browse/SLING-9139</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The following error message can be observed in the log when stopping the instance&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
24.02.2020 20:19:44.233 *ERROR* [FelixStartLevel] ERROR: Bundle &lt;span class=&quot;code-quote&quot;&gt;&apos;19&apos;&lt;/span&gt; Error stopping bundle. (java.lang.IllegalStateException: Service already unregistered.)
java.lang.IllegalStateException: Service already unregistered.
	at org.apache.felix.framework.ServiceRegistrationImpl.unregister(ServiceRegistrationImpl.java:141)
	at org.apache.sling.installer.core.impl.UpdateHandlerTracker.updateUrlStreamHandler(UpdateHandlerTracker.java:90)
	at org.apache.sling.installer.core.impl.UpdateHandlerTracker.close(UpdateHandlerTracker.java:129)
	at org.apache.sling.installer.core.impl.OsgiInstallerImpl.deactivate(OsgiInstallerImpl.java:190)
	at org.apache.sling.installer.core.impl.Activator.stop(Activator.java:93)
	at org.apache.felix.framework.util.SecureAction.stopActivator(SecureAction.java:720)
	at org.apache.felix.framework.Felix.stopBundle(Felix.java:2795)
	at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1557)
	at org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:308)
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:830)
24.02.2020 20:19:44.233 *ERROR* [FelixStartLevel] ERROR: Bundle &lt;span class=&quot;code-quote&quot;&gt;&apos;19&apos;&lt;/span&gt; EventDispatcher: Error during dispatch. (java.lang.IllegalStateException: Invalid BundleContext.)
java.lang.IllegalStateException: Invalid BundleContext.
	at org.apache.felix.framework.BundleContextImpl.checkValidity(BundleContextImpl.java:491)
	at org.apache.felix.framework.BundleContextImpl.ungetService(BundleContextImpl.java:455)
	at org.osgi.util.tracker.ServiceTracker.removedService(ServiceTracker.java:456)
	at org.osgi.util.tracker.ServiceTracker$Tracked.customizerRemoved(ServiceTracker.java:956)
	at org.osgi.util.tracker.ServiceTracker$Tracked.customizerRemoved(ServiceTracker.java:864)
	at org.osgi.util.tracker.AbstractTracked.untrack(AbstractTracked.java:341)
	at org.osgi.util.tracker.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:902)
	at org.apache.felix.framework.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:990)
	at org.apache.felix.framework.EventDispatcher.fireEventImmediately(EventDispatcher.java:838)
	at org.apache.felix.framework.EventDispatcher.fireServiceEvent(EventDispatcher.java:545)
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4833)
	at org.apache.felix.framework.Felix.access$000(Felix.java:112)
	at org.apache.felix.framework.Felix$1.serviceChanged(Felix.java:434)
	at org.apache.felix.framework.ServiceRegistry.unregisterService(ServiceRegistry.java:170)
	at org.apache.felix.framework.ServiceRegistrationImpl.unregister(ServiceRegistrationImpl.java:145)
	at org.apache.felix.framework.ServiceRegistry.unregisterServices(ServiceRegistry.java:241)
	at org.apache.felix.framework.Felix.stopBundle(Felix.java:2820)
	at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1557)
	at org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:308)
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:830)
24.02.2020 20:19:44.234 *ERROR* [FelixStartLevel] ERROR: Bundle &lt;span class=&quot;code-quote&quot;&gt;&apos;19&apos;&lt;/span&gt; Error stopping slinginstall:org.apache.sling.installer.core-3.10.1-SNAPSHOT.jar (java.lang.IllegalStateException: Service already unregistered.)
java.lang.IllegalStateException: Service already unregistered.
	at org.apache.felix.framework.ServiceRegistrationImpl.unregister(ServiceRegistrationImpl.java:141)
	at org.apache.sling.installer.core.impl.UpdateHandlerTracker.updateUrlStreamHandler(UpdateHandlerTracker.java:90)
	at org.apache.sling.installer.core.impl.UpdateHandlerTracker.close(UpdateHandlerTracker.java:129)
	at org.apache.sling.installer.core.impl.OsgiInstallerImpl.deactivate(OsgiInstallerImpl.java:190)
	at org.apache.sling.installer.core.impl.Activator.stop(Activator.java:93)
	at org.apache.felix.framework.util.SecureAction.stopActivator(SecureAction.java:720)
	at org.apache.felix.framework.Felix.stopBundle(Felix.java:2795)
	at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1557)
	at org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:308)
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:830)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is a regression of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8877&quot; title=&quot;Register URL Handler for JCR Installer scheme (jcrinstall)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8877&quot;&gt;&lt;del&gt;SLING-8877&lt;/del&gt;&lt;/a&gt; due to the fact that the code tries to unregister the same service multiple times.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13287441">SLING-9139</key>
            <summary>URLHandler unregistered too often</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Feb 2020 08:03:38 +0000</created>
                <updated>Fri, 28 Feb 2020 16:13:31 +0000</updated>
                            <resolved>Tue, 25 Feb 2020 08:13:06 +0000</resolved>
                                    <version>Installer Core 3.10.0</version>
                                    <fixVersion>Installer Core 3.10.2</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17044211" author="kwin" created="Tue, 25 Feb 2020 08:13:06 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-core/commit/112ac0800183c7cc57fe4e5e3319a46e2f0ddf3b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-core/commit/112ac0800183c7cc57fe4e5e3319a46e2f0ddf3b&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13288014">SLING-9160</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13288014">SLING-9160</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13272503">SLING-8877</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0buu8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9138] Embed Commons OSGi and OSGi Util (from Felix Converter)</title>
                <link>https://issues.apache.org/jira/browse/SLING-9138</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With the switch from maven-bundle-plugin to bnd-maven-plugin in the context of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8963&quot; title=&quot;Update to parent 38&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8963&quot;&gt;&lt;del&gt;SLING-8963&lt;/del&gt;&lt;/a&gt; the embed mechanism has been changed. The package name of the conditionalpackage instruction Sling OSGi Commons is missing in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-core/blob/master/bnd.bnd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-core/blob/master/bnd.bnd&lt;/a&gt; and the ones for OSGi Util are wrong therefore those package are no longer being embedded in the JAR . This is an issue when starting the Installer Core at a very early start level (where those dependencies are not yet available).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13287437">SLING-9138</key>
            <summary>Embed Commons OSGi and OSGi Util (from Felix Converter)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Feb 2020 07:53:02 +0000</created>
                <updated>Fri, 28 Feb 2020 16:09:37 +0000</updated>
                            <resolved>Tue, 25 Feb 2020 07:57:18 +0000</resolved>
                                    <version>Installer Core 3.10.0</version>
                                    <fixVersion>Installer Core 3.10.2</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17044203" author="kwin" created="Tue, 25 Feb 2020 07:57:18 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-core/commit/f3dc85be58a5f96095858f3be97abe868ffdc238&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-core/commit/f3dc85be58a5f96095858f3be97abe868ffdc238&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17044217" author="cziegeler" created="Tue, 25 Feb 2020 08:18:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; I don&apos;t think we should embed osgi.util (and the converter)&lt;/p&gt;</comment>
                            <comment id="17044238" author="kwin" created="Tue, 25 Feb 2020 08:28:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; Do you know why the converter has been embedded in the past then: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-core/blob/732a7e21ac2bca7114c4801f6d48e00d422d950f/pom.xml#L69?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-core/blob/732a7e21ac2bca7114c4801f6d48e00d422d950f/pom.xml#L69?&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17044239" author="cziegeler" created="Tue, 25 Feb 2020 08:30:05 +0000"  >&lt;p&gt;It was simply a mistake not really thinking it through &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17044257" author="kwin" created="Tue, 25 Feb 2020 08:45:53 +0000"  >&lt;p&gt;Removed embedding the converter in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-core/commit/0223c7a6e9fe7e32e052359c3b50903439b79d28&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-core/commit/0223c7a6e9fe7e32e052359c3b50903439b79d28&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17044285" author="kwin" created="Tue, 25 Feb 2020 09:30:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; The converter is not part of the sling starter right now (&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-starter/blob/master/src/main/provisioning/boot.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-starter/blob/master/src/main/provisioning/boot.txt&lt;/a&gt;) which prevents the Installer Core from being started at the right start level! Should we add the converter to the Sling Starter?&lt;/p&gt;</comment>
                            <comment id="17044326" author="cziegeler" created="Tue, 25 Feb 2020 10:53:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; Thanks for changing the installer core, and yes, we should add the converter to the starter. Its a very useful library anyways&lt;/p&gt;</comment>
                            <comment id="17044391" author="olli" created="Tue, 25 Feb 2020 12:26:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, The Converter was already added due to Sling API 2.21.0 as &lt;tt&gt;org.osgi/org.osgi.util.converter/1.0.0&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17044424" author="kwin" created="Tue, 25 Feb 2020 13:15:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; Thanks, found it, but I would need to move it to &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-starter/blob/master/src/main/provisioning/boot.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-starter/blob/master/src/main/provisioning/boot.txt&lt;/a&gt;. Start level 4 is too late for the installer.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13277877">SLING-8963</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0butc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9133] data-sly-resource Unknown option &apos;wcmmode&apos;</title>
                <link>https://issues.apache.org/jira/browse/SLING-9133</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Hi there! might be someone from Adobe or Sling committers could help me to clarify one moment with sightlyThere is &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-sightly-compiler/blob/master/src/main/java/org/apache/sling/scripting/sightly/impl/filter/ExpressionContext.java#L44&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-scripting-sightly-compiler/blob/master/src/main/java/org/apache/sling/scripting/sightly/impl/filter/ExpressionContext.java#L44&lt;/a&gt;&lt;br/&gt;
Which defines attributes that are allowed to be used with &lt;tt&gt;data-sly-resource&lt;/tt&gt; and &lt;tt&gt;wcmmode&lt;/tt&gt; is missing here, therefore html maven plugin gives us this output&lt;br/&gt;
${&apos;cmp&apos; @ resourceType=&apos;example/cmp&apos;, wcmmode=&apos;disabled&apos;}: Unknown option &apos;wcmmode&apos;.&lt;br/&gt;
But apparently we can use &lt;tt&gt;wcmmode&lt;/tt&gt; here and it even works&#160;&lt;br/&gt;
&#160;&lt;br/&gt;
&#160;&lt;br/&gt;
Sorry if this ticket was created in the wrong space&lt;/p&gt;</description>
                <environment></environment>
        <key id="13287159">SLING-9133</key>
            <summary>data-sly-resource Unknown option &apos;wcmmode&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="andrei_shilov">Andrei Shilov</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Feb 2020 08:58:47 +0000</created>
                <updated>Mon, 24 Feb 2020 10:59:21 +0000</updated>
                            <resolved>Mon, 24 Feb 2020 10:29:10 +0000</resolved>
                                                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17043358" author="sseifert@pro-vision.de" created="Mon, 24 Feb 2020 10:14:14 +0000"  >&lt;p&gt;the HTL plugin allows to register custom expression options which is required here - example for AEM:&lt;br/&gt;
&lt;a href=&quot;https://github.com/wcm-io/wcm-io-tooling/blob/ce377f714007718a460db4637b73e9b2d582290a/maven/aem-global-parent/pom.xml#L281-L287&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/wcm-io/wcm-io-tooling/blob/ce377f714007718a460db4637b73e9b2d582290a/maven/aem-global-parent/pom.xml#L281-L287&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17043371" author="andrei_shilov" created="Mon, 24 Feb 2020 10:28:57 +0000"  >&lt;p&gt;Thx &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt;&#160;so this is not an issue, but expected behaviour, right?&lt;/p&gt;</comment>
                            <comment id="17043381" author="sseifert@pro-vision.de" created="Mon, 24 Feb 2020 10:35:19 +0000"  >&lt;p&gt;yes, because those options are not defined in the HTL spec itself, but are a &quot;proprietary&quot; extension from AEM.&lt;/p&gt;</comment>
                            <comment id="17043415" author="andrei_shilov" created="Mon, 24 Feb 2020 10:59:21 +0000"  >&lt;p&gt;Many thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0btbs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9131] OSGi Mock 2.4.14 breaks getting services by highest rank</title>
                <link>https://issues.apache.org/jira/browse/SLING-9131</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This is in regard to dependency:&#160;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.sling&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;org.apache.sling.testing.osgi-mock.junit4&amp;lt;/artifactId&amp;gt;
    &amp;lt;!-- Bumping &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; to 2.4.14 changes behavior in how mock context resolves ranked service, which breaks ComputedPropertiesTest --&amp;gt;
    &amp;lt;version&amp;gt;2.4.10&amp;lt;/version&amp;gt;
    &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;
&amp;lt;/dependency&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In v2.4.14 of OSGi mock, in Junit4 tests, ctx.getService(...) does not return the service w/ the highest service ranking if multiple are registered.&lt;/p&gt;

&lt;p&gt;This used to work in v2.4.10.&lt;/p&gt;

&lt;p&gt;A working test that broke when moving to 2.4.14 is available at:&#160;&lt;a href=&quot;https://github.com/davidjgonzalez/asset-share-commons/blob/497/unit-tests-not-executing/core/src/test/java/com/adobe/aem/commons/assetshare/content/properties/impl/ComputedPropertiesImplTest.java#L38-L56&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/davidjgonzalez/asset-share-commons/blob/497/unit-tests-not-executing/core/src/test/java/com/adobe/aem/commons/assetshare/content/properties/impl/ComputedPropertiesImplTest.java#L38-L56&lt;/a&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13287080">SLING-9131</key>
            <summary>OSGi Mock 2.4.14 breaks getting services by highest rank</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="empire29">David Gonzalez</reporter>
                        <labels>
                    </labels>
                <created>Sun, 23 Feb 2020 16:51:11 +0000</created>
                <updated>Thu, 21 Jan 2021 20:36:01 +0000</updated>
                            <resolved>Thu, 21 Jan 2021 20:36:01 +0000</resolved>
                                    <version>Testing OSGi Mock 2.4.14</version>
                                                    <component>Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17042991" author="empire29" created="Sun, 23 Feb 2020 16:56:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt;&#160;not sure if you have ideas on this as well.&lt;/p&gt;</comment>
                            <comment id="17043399" author="sseifert@pro-vision.de" created="Mon, 24 Feb 2020 10:54:05 +0000"  >&lt;p&gt;the biggest change in 2.4.0 was the upate of a bunch of dependencies to a newer version (still &quot;from 2017&quot; to keep some backwards compatibility)&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/commit/53b029af8ddc25e51a7feff61568ebf350d613b4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/commit/53b029af8ddc25e51a7feff61568ebf350d613b4&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;maybe there is a conflict with those deps and you have explicitly defined a dependency to one of those bundles to an older/incompatible version.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="13287013">SLING-9119</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bsu8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9129] ResourceUtils add extra line break at the end of the file</title>
                <link>https://issues.apache.org/jira/browse/SLING-9129</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This method&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-clients/blob/master/src/main/java/org/apache/sling/testing/clients/util/ResourceUtil.java#L49-L65&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-clients/blob/master/src/main/java/org/apache/sling/testing/clients/util/ResourceUtil.java#L49-L65&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;is adding extra line break at the end of the file it read which is not expected.&lt;/p&gt;

&lt;p&gt;Best would be that it doesn&apos;t read line by line but using IOUtils.toString(InputStream.class, &quot;utf-8&quot;), that would make sure it preserve the original file characters (including line breaks style if that would be required in a test).&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Mainly the cultprit code is at line&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-clients/blob/master/src/main/java/org/apache/sling/testing/clients/util/ResourceUtil.java#L57&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-clients/blob/master/src/main/java/org/apache/sling/testing/clients/util/ResourceUtil.java#L57&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The line break append all the time even at last line, which is why it add this extra line. quickfix would be as suggested above or adding a condition so that it does only add line break before it append the next line (so if the StringBuffer is not empty)&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13287045">SLING-9129</key>
            <summary>ResourceUtils add extra line break at the end of the file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andrei.dulvac">Andrei Dulvac</assignee>
                                    <reporter username="petitbear68">Thierry Yg&#233;</reporter>
                        <labels>
                    </labels>
                <created>Sun, 23 Feb 2020 09:31:36 +0000</created>
                <updated>Thu, 2 Apr 2020 14:35:41 +0000</updated>
                            <resolved>Thu, 2 Apr 2020 14:35:41 +0000</resolved>
                                    <version>Apache Sling Testing Clients 1.2.6</version>
                                    <fixVersion>Apache Sling Testing Clients 2.0.0</fixVersion>
                                    <component>Apache Sling Testing Clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3600">1h</timespent>
                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 35 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bsmg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9119] Sling Mock 2.4.0 breaks tests that invoke myTestServlet.service(..)  </title>
                <link>https://issues.apache.org/jira/browse/SLING-9119</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This is in regard to dependency:&#160;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.sling&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;org.apache.sling.testing.sling-mock.junit4&amp;lt;/artifactId&amp;gt;
    &amp;lt;!-- Bumping &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; to 2.4.0 changes behavior in how servlet.service(..) is processed, which breaks all servlet tests --&amp;gt;
    &amp;lt;version&amp;gt;2.3.10&amp;lt;/version&amp;gt;
    &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;
&amp;lt;/dependency&amp;gt; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In v2.3.10, in Junit4 tests, invocations of:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ctx.getService(Servlet.class).service(ctx.request(), ctx.response()); &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Worked great, and was a nice way to test a servlet.&lt;/p&gt;

&lt;p&gt;When upgrading the dependency to v2.4.0 the tests fail:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.IllegalArgumentException: Illegal initial capacity: -1java.lang.IllegalArgumentException: Illegal initial capacity: -1
 at java.util.HashMap.&amp;lt;init&amp;gt;(HashMap.java:449) at java.util.HashMap.&amp;lt;init&amp;gt;(HashMap.java:468) at org.apache.sling.models.impl.ExportServlet.createOptionMap(ExportServlet.java:163) at org.apache.sling.models.impl.ExportServlet.doGet(ExportServlet.java:96) at org.apache.sling.api.servlets.SlingSafeMethodsServlet.mayService(SlingSafeMethodsServlet.java:266) at org.apache.sling.api.servlets.SlingSafeMethodsServlet.service(SlingSafeMethodsServlet.java:342) at org.apache.sling.api.servlets.SlingSafeMethodsServlet.service(SlingSafeMethodsServlet.java:374) at com.adobe.aem.commons.assetshare.content.renditions.impl.AssetRenditionServletTest.doGet_InvalidParameters(AssetRenditionServletTest.java:100) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48) at org.junit.rules.RunRules.evaluate(RunRules.java:20) at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) at org.junit.runners.ParentRunner.run(ParentRunner.java:363) at org.junit.runner.JUnitCore.run(JUnitCore.java:137) at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33) at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230) at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58) &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13287013">SLING-9119</key>
            <summary>Sling Mock 2.4.0 breaks tests that invoke myTestServlet.service(..)  </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="empire29">David Gonzalez</reporter>
                        <labels>
                    </labels>
                <created>Sat, 22 Feb 2020 21:29:12 +0000</created>
                <updated>Mon, 24 Feb 2020 10:53:36 +0000</updated>
                                            <version>Testing Sling Mock 2.4.0</version>
                                                    <component>Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17042714" author="empire29" created="Sat, 22 Feb 2020 21:33:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt;&#160;any ideas what might have happened in 2.4.0?&lt;/p&gt;</comment>
                            <comment id="17043397" author="sseifert@pro-vision.de" created="Mon, 24 Feb 2020 10:53:36 +0000"  >&lt;p&gt;the biggest change in 2.4.0 was the upate of a bunch of dependencies to a newer version (still &quot;from 2017&quot; to keep some backwards compatibility)&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/commit/53b029af8ddc25e51a7feff61568ebf350d613b4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/commit/53b029af8ddc25e51a7feff61568ebf350d613b4&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;maybe there is a conflict with those deps and you have explicitly defined a dependency to one of those bundles to an older/incompatible version.&lt;/p&gt;

&lt;p&gt;if this does not help - do you have a test project to reproduce the problem?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="13287080">SLING-9131</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bsfc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9118] Sling fails to start when database exists but &apos;sling&apos; directory is missing</title>
                <link>https://issues.apache.org/jira/browse/SLING-9118</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;ol&gt;
	&lt;li&gt;Create a persistent mongodb to use with Sling.&lt;/li&gt;
	&lt;li&gt;Start sling using the mongodb.&lt;/li&gt;
	&lt;li&gt;Stop sling.&lt;/li&gt;
	&lt;li&gt;Remove &apos;sling&apos; directory.&lt;/li&gt;
	&lt;li&gt;Attempt to restart sling. Ultimately, sling fails to start.&lt;/li&gt;
&lt;/ol&gt;


&lt;hr /&gt;

&lt;p&gt;Steps to reproduce with attached scripts:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Run &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12998520/12998520_run-mongo.sh&quot; title=&quot;run-mongo.sh attached to SLING-9118&quot;&gt;run-mongo.sh&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; . This creates a MongoDB 3.6 container named &lt;em&gt;mongo-sling&lt;/em&gt;&lt;/li&gt;
	&lt;li&gt;Run &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12998521/12998521_run-sling-initial.sh&quot; title=&quot;run-sling-initial.sh attached to SLING-9118&quot;&gt;run-sling-initial.sh&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;. This starts up Sling in the oak_mongo runmode, shuts it down after it&apos;s (probably) started up&lt;/li&gt;
	&lt;li&gt;Run &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12998522/12998522_run-sling-second.sh&quot; title=&quot;run-sling-second.sh attached to SLING-9118&quot;&gt;run-sling-second.sh&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;. This moves away the sling directory and starts up a new instance. This always fails&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;For cleanup, the &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12998519/12998519_drop-mongo.sh&quot; title=&quot;drop-mongo.sh attached to SLING-9118&quot;&gt;drop-mongo.sh&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; script stops and removes the &lt;em&gt;mongo-sling&lt;/em&gt; container.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13286828">SLING-9118</key>
            <summary>Sling fails to start when database exists but &apos;sling&apos; directory is missing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="benradey">Ben Radey</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Feb 2020 15:59:46 +0000</created>
                <updated>Fri, 18 Mar 2022 15:05:04 +0000</updated>
                            <resolved>Mon, 10 Aug 2020 13:48:47 +0000</resolved>
                                                    <fixVersion>Starter 12</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="17042230" author="rombert" created="Fri, 21 Feb 2020 23:20:57 +0000"  >&lt;p&gt;Note that an alternate way to reproduce this is:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;start Sling instance A using mongodb&lt;/li&gt;
	&lt;li&gt;stop Sling instance A&lt;/li&gt;
	&lt;li&gt;start Sling instance B&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17062424" author="rombert" created="Thu, 19 Mar 2020 10:10:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=carlosmunoz&quot; class=&quot;user-hover&quot; rel=&quot;carlosmunoz&quot;&gt;carlosmunoz&lt;/a&gt; identified &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-starter/commit/bb1e10d97f3c163fb87917ea782afff674050891&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-starter/commit/bb1e10d97f3c163fb87917ea782afff674050891&lt;/a&gt; as the offending commit. This upgrades &lt;tt&gt;o.a.s.jcr.base&lt;/tt&gt; from 3.0.4 to 3.0.6. The commit range is &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-base/compare/ec4a0d1ae0fe6b1e77c0c159ce178de7cba06488...5b3a4427b711cfcbdc86631b4bf12871beb06728&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-base/compare/ec4a0d1ae0fe6b1e77c0c159ce178de7cba06488...5b3a4427b711cfcbdc86631b4bf12871beb06728&lt;/a&gt; and contains the following Jira issues:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-7167&quot; title=&quot;Adjust READMEs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-7167&quot;&gt;&lt;del&gt;SLING-7167&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-7162&quot; title=&quot;Update SCM information in all POM files to reference Git&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-7162&quot;&gt;&lt;del&gt;SLING-7162&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-7214&quot; title=&quot;Add the LICENSE file to every module&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-7214&quot;&gt;&lt;del&gt;SLING-7214&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-7123&quot; title=&quot;ObjectModel does not correctly analyse all super types when solving methods&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-7123&quot;&gt;&lt;del&gt;SLING-7123&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-7604&quot; title=&quot;Add missing OSGi capabilities&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-7604&quot;&gt;&lt;del&gt;SLING-7604&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-7811&quot; title=&quot;NPE when repository is starting up due to repository manager shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-7811&quot;&gt;&lt;del&gt;SLING-7811&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8139&quot; title=&quot;Improve support to read/write ACE restrictions from AccessControlUtil&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8139&quot;&gt;&lt;del&gt;SLING-8139&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8140&quot; title=&quot;The descriptor file generated for the RepositoryPrinterProvider component is empty&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8140&quot;&gt;&lt;del&gt;SLING-8140&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Next steps would be to identify which commit(s) actually caused the problem.&lt;/p&gt;</comment>
                            <comment id="17062429" author="rombert" created="Thu, 19 Mar 2020 10:15:04 +0000"  >&lt;p&gt;I suspect that this is due to &lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-base/commit/6f5771a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-base/commit/6f5771a&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-base/commit/3de2b9f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-base/commit/3de2b9f&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Reverting them with git does not work, so I will try manually remove the changes.&lt;/p&gt;</comment>
                            <comment id="17073179" author="rombert" created="Wed, 1 Apr 2020 21:04:27 +0000"  >&lt;p&gt;I&apos;ve updated the description and attached some scripts which make it simpler (for me at least) to quickly reproduce the problem.&lt;/p&gt;</comment>
                            <comment id="17073183" author="rombert" created="Wed, 1 Apr 2020 21:14:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=benradey&quot; class=&quot;user-hover&quot; rel=&quot;benradey&quot;&gt;benradey&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=carlosmunoz&quot; class=&quot;user-hover&quot; rel=&quot;carlosmunoz&quot;&gt;carlosmunoz&lt;/a&gt; - I think I found a solution, and it&apos;s as &quot;simple&quot; as upgrading to the latest version of Oak.&lt;/p&gt;

&lt;p&gt;Can you try rebasing your application on top of the latest changes from &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-starter/tree/feature/SLING-8803&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-starter/tree/feature/SLING-8803&lt;/a&gt; ? This is basically Oak 1.26.0, with the note that it requires org.apache.sling.jcr.oak.server 1.2.4, which is not released. You could either:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;install the bundle from the staging repository ( &lt;a href=&quot;https://repository.apache.org/content/groups/staging/org/apache/sling/org.apache.sling.jcr.oak.server/1.2.4/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/staging/org/apache/sling/org.apache.sling.jcr.oak.server/1.2.4/&lt;/a&gt; )&lt;/li&gt;
	&lt;li&gt;rebuild the bundle locally from the release tag ( &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-oak-server/tree/org.apache.sling.jcr.oak.server-1.2.4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-oak-server/tree/org.apache.sling.jcr.oak.server-1.2.4&lt;/a&gt; )&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17074066" author="carlosmunoz" created="Thu, 2 Apr 2020 20:17:25 +0000"  >&lt;p&gt;Thanks for looking into this Robert. I followed your instructions but unfortunately it is still not working for me. (Just s a heads up I also had to build org.apache.sling/org.apache.sling.installer.provider.jcr/3.2.1-SNAPSHOT) as it&apos;s being used in your featue branch.&lt;/p&gt;

&lt;p&gt;One main difference is that I&apos;m using a mongo replica set in my tests. Here is the script I&apos;m using to make it happen. I&apos;m using podman to do this, but it should be translatable to docker; all that is needed are three docker pods running mongo which can talk to each other. See the attached &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12998650/12998650_recreateSlingReplicaSet.sh&quot; title=&quot;recreateSlingReplicaSet.sh attached to SLING-9118&quot;&gt;recreateSlingReplicaSet.sh&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17074086" author="carlosmunoz" created="Thu, 2 Apr 2020 20:57:39 +0000"  >&lt;p&gt;I also discovered that if I leave just the &apos;sling/config&apos; directory (which seems to contain all the configurations declared in the starter jar) it does succeed in starting up. The problem seems to be that without the &apos;sling&apos; directory the application cannot find the necessary configuration items when it needs them.&lt;/p&gt;</comment>
                            <comment id="17074744" author="rombert" created="Fri, 3 Apr 2020 17:15:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=carlosmunoz&quot; class=&quot;user-hover&quot; rel=&quot;carlosmunoz&quot;&gt;carlosmunoz&lt;/a&gt; - can you please attach the full log from the instance that failed startup after upgrading to Oak 1.26.0 ? &lt;/p&gt;</comment>
                            <comment id="17074861" author="carlosmunoz" created="Fri, 3 Apr 2020 20:03:22 +0000"  >&lt;p&gt;Attached: &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12998788/12998788_sling-startup-error.log.txt&quot; title=&quot;sling-startup-error.log.txt attached to SLING-9118&quot;&gt;sling-startup-error.log.txt&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17076148" author="rombert" created="Mon, 6 Apr 2020 08:52:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=carlosmunoz&quot; class=&quot;user-hover&quot; rel=&quot;carlosmunoz&quot;&gt;carlosmunoz&lt;/a&gt; - I think you only attached the console output, right? I would need the file from &lt;tt&gt;sling/logs/error.log&lt;/tt&gt; as well.&lt;/p&gt;</comment>
                            <comment id="17076428" author="carlosmunoz" created="Mon, 6 Apr 2020 15:56:18 +0000"  >&lt;p&gt;Ahh... here it is: &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12999069/12999069_error.log&quot; title=&quot;error.log attached to SLING-9118&quot;&gt;error.log&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17082925" author="rombert" created="Tue, 14 Apr 2020 07:18:08 +0000"  >&lt;p&gt;This is still on my to-do and the root cause is understood. I just need a bit more time to find the best approach for solving it.&lt;/p&gt;

&lt;p&gt;The cause (similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-7811&quot; title=&quot;NPE when repository is starting up due to repository manager shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-7811&quot;&gt;&lt;del&gt;SLING-7811&lt;/del&gt;&lt;/a&gt;) is the repository service restarting due to the &lt;tt&gt;SecurityProviderRegistration&lt;/tt&gt; unregistering and registering a new &lt;tt&gt;SecurityProvider&lt;/tt&gt; service. This in turn stops the repository service and starts it again. Before &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-7811&quot; title=&quot;NPE when repository is starting up due to repository manager shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-7811&quot;&gt;&lt;del&gt;SLING-7811&lt;/del&gt;&lt;/a&gt; it failed with an NPE. After the (interim) solution from &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-7811&quot; title=&quot;NPE when repository is starting up due to repository manager shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-7811&quot;&gt;&lt;del&gt;SLING-7811&lt;/del&gt;&lt;/a&gt; it uses &lt;tt&gt;Thread#interrupt&lt;/tt&gt; which is usually a good idea by strongly recommended against by Oak, see &lt;a href=&quot;https://jackrabbit.apache.org/oak/docs/dos_and_donts.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jackrabbit.apache.org/oak/docs/dos_and_donts.html&lt;/a&gt; . I suspect this is the root cause of the problems and am looking for a solution which allows the repository to be shut down during startup in a timely manner and without using interrupts.&lt;/p&gt;
</comment>
                            <comment id="17084753" author="carlosmunoz" created="Thu, 16 Apr 2020 10:49:35 +0000"  >&lt;p&gt;Thank you Robert. Please let us know if we can do anything to assist.&lt;/p&gt;</comment>
                            <comment id="17088818" author="rombert" created="Tue, 21 Apr 2020 16:00:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=carlosmunoz&quot; class=&quot;user-hover&quot; rel=&quot;carlosmunoz&quot;&gt;carlosmunoz&lt;/a&gt; - not at the moment, I&apos;ll let you know as soon as I have something to test.&lt;/p&gt;

&lt;p&gt;For the record, I&apos;ve exprimented with eliminating the interrupt call from the &lt;tt&gt;AbstractSlingRepositoryManager&lt;/tt&gt;, and allowing the startup to proceeed, and then shutting down the component. This exposes another problem - namely that the components are started before all configurations are applied. Therefore as soon as the &lt;tt&gt;DocumentNodeStore&lt;/tt&gt; configuration is applied, the repository is started, before even having the information about the login admin whitelist. This leads to the repository startup concluding, but failing all left and right due to that missing configuration.&lt;/p&gt;

&lt;p&gt;Not sure that I have a solution for that. At this point I&apos;m considering two other options:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;adding some dampening to &lt;tt&gt;OakSlingRepositoryManager&lt;/tt&gt; to make sure it is not affected by start/stop sequences&lt;/li&gt;
	&lt;li&gt;suggesting a change in Oak so that the &lt;tt&gt;SecurityProviderRegistration&lt;/tt&gt; requires a configuration policy&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Of course, the longer-term solution is switching to the feature model, which would remove all of these workarounds. But I don&apos;t see that happening on the short term.&lt;/p&gt;</comment>
                            <comment id="17088903" author="carlosmunoz" created="Tue, 21 Apr 2020 17:42:17 +0000"  >&lt;p&gt;I have only briefly looked at the feature model. Is it mature enough that maybe we can start looking at it? and if so, where can we see some documentation/examples?&lt;/p&gt;</comment>
                            <comment id="17089853" author="rombert" created="Wed, 22 Apr 2020 16:50:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=carlosmunoz&quot; class=&quot;user-hover&quot; rel=&quot;carlosmunoz&quot;&gt;carlosmunoz&lt;/a&gt; - we&apos;re using it extensively at Adobe, so it&apos;s definitely mature enough. I think &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andysch&quot; class=&quot;user-hover&quot; rel=&quot;andysch&quot;&gt;andysch&lt;/a&gt; would be a good person to point you to how you can get started with Sling and the Feature Model.&lt;/p&gt;

&lt;p&gt;If you want to just launch Sling without packaging a jar you would need to run the provisioning model to feature model converted and then use the feature model launcher.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/sling-feature-converter-maven-plugin&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-feature-converter-maven-plugin&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-launcher&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-launcher&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If you want to build an executable jar as well, you should look into the kickstart launcher as well&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-kickstart&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-kickstart&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17090541" author="olli" created="Thu, 23 Apr 2020 11:51:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=benradey&quot; class=&quot;user-hover&quot; rel=&quot;benradey&quot;&gt;benradey&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=carlosmunoz&quot; class=&quot;user-hover&quot; rel=&quot;carlosmunoz&quot;&gt;carlosmunoz&lt;/a&gt;, I haven&apos;t looked into Sling on Oak/Mongo in depth for a longer period but have you tried running it on &lt;a href=&quot;https://sling.apache.org/documentation/karaf.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Karaf&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="17090938" author="carlosmunoz" created="Thu, 23 Apr 2020 21:08:52 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;&#160; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt;. I tried the feature model and even though I don&apos;t see a sling directory being created (I see conf and launcher instead), I&apos;m still seeing the same exact exception.&lt;/p&gt;

&lt;p&gt;I have yet to try running on Karaf.&lt;/p&gt;</comment>
                            <comment id="17091192" author="olli" created="Fri, 24 Apr 2020 04:53:34 +0000"  >&lt;p&gt;I played around but cannot reproduce with Karaf (I noticed an issue with latest Mongo driver and BSON and therefore downgraded the driver to 3.8.2).&lt;/p&gt;

&lt;p&gt;Starting a MongoDB 3.6 via Docker:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;beat:~ olli$ docker run -d -p 27017:27017 --name mongo-sling mongo:3.6
cb80a6ac5655b522fe5298aebfb50a744e70d0ad8fa160f31a4108322bc44265
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Starting Karaf, installing features, stopping Karaf, removing &lt;tt&gt;sling&lt;/tt&gt; directory, starting Karaf, stopping Karaf:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;beat:karaf olli$ ./bin/start
beat:karaf olli$ ssh -p 8101 karaf@localhost
The authenticity of host &apos;[localhost]:8101 ([::1]:8101)&apos; can&apos;t be established.
RSA key fingerprint is SHA256:jez2xahAD9h9zEG9qFD01m4UopbzZdvuVLlTA0KhEuc.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added &apos;[localhost]:8101&apos; (RSA) to the list of known hosts.
Password authentication
Password: 
        __ __                  ____      
       / //_/____ __________ _/ __/      
      / ,&amp;lt;  / __ `/ ___/ __ `/ /_        
     / /| |/ /_/ / /  / /_/ / __/        
    /_/ |_|\__,_/_/   \__,_/_/         

  Apache Karaf (4.3.0-SNAPSHOT)

Hit &apos;&amp;lt;tab&amp;gt;&apos; for a list of available commands
and &apos;[cmd] --help&apos; for help on a specific command.
Hit &apos;system:shutdown&apos; to shutdown Karaf.
Hit &apos;&amp;lt;ctrl-d&amp;gt;&apos; or type &apos;logout&apos; to disconnect shell from current session.

karaf@root()&amp;gt; feature:install sling-quickstart-oak-mongo
karaf@root()&amp;gt; feature:install sling-starter-content
karaf@root()&amp;gt; shutdown 
Confirm: halt instance root (yes/no): yes
karaf@root()&amp;gt; Connection to localhost closed by remote host.                                                                                                                                                                                                                                                                
Connection to localhost closed.
beat:karaf olli$ rm -fR sling/
beat:karaf olli$ ./bin/start
beat:karaf olli$ ./bin/stop
beat:karaf olli$ 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Getting root with curl after first and second start:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;beat:~ olli$ curl -v http://localhost:8181
* Rebuilt URL to: http://localhost:8181/
*   Trying ::1...
* TCP_NODELAY set
* Connected to localhost (::1) port 8181 (#0)
&amp;gt; GET / HTTP/1.1
&amp;gt; Host: localhost:8181
&amp;gt; User-Agent: curl/7.54.0
&amp;gt; Accept: */*
&amp;gt; 
&amp;lt; HTTP/1.1 302 Found
&amp;lt; Location: /starter.html
&amp;lt; Transfer-Encoding: chunked
&amp;lt; Server: Jetty(9.4.22.v20191022)
&amp;lt; 
* Connection #0 to host localhost left intact
beat:~ olli$ curl -v http://localhost:8181
* Rebuilt URL to: http://localhost:8181/
*   Trying ::1...
* TCP_NODELAY set
* Connected to localhost (::1) port 8181 (#0)
&amp;gt; GET / HTTP/1.1
&amp;gt; Host: localhost:8181
&amp;gt; User-Agent: curl/7.54.0
&amp;gt; Accept: */*
&amp;gt; 
&amp;lt; HTTP/1.1 302 Found
&amp;lt; Location: /starter.html
&amp;lt; Transfer-Encoding: chunked
&amp;lt; Server: Jetty(9.4.22.v20191022)
&amp;lt; 
* Connection #0 to host localhost left intact
beat:~ olli$ 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17091334" author="rombert" created="Fri, 24 Apr 2020 08:32:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; - &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=carlosmunoz&quot; class=&quot;user-hover&quot; rel=&quot;carlosmunoz&quot;&gt;carlosmunoz&lt;/a&gt;&apos;s gets errors when working with a MongoDB replica set, see the &lt;tt&gt;podman&lt;/tt&gt; instructions. Plain Mongo works for the Sling Starter as well.&lt;/p&gt;</comment>
                            <comment id="17092119" author="olli" created="Sat, 25 Apr 2020 07:55:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, I&apos;m trying to follow the mail thread and the discussions here and maybe I&apos;m missing the important key &#8211; for Sling it shouldn&apos;t make a difference (beside timing) if running against standalone Mongo or replica set, right?&lt;/p&gt;

&lt;p&gt;Nevertheless I put the replica set into a CentOS Vagrant box and changed the port from &lt;tt&gt;27017&lt;/tt&gt; to &lt;tt&gt;30001&lt;/tt&gt; in&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-karaf-configs/blob/master/src/main/resources/org.apache.jackrabbit.oak.plugins.document.DocumentNodeStoreService.config&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;DocumentNodeStoreService.config&lt;/a&gt;&#160;but still Sling comes up fine after removing &lt;tt&gt;sling&lt;/tt&gt; directory and second start.&lt;/p&gt;</comment>
                            <comment id="17093610" author="carlosmunoz" created="Mon, 27 Apr 2020 15:09:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; I got our application running on Karaf. So far I&apos;m not running into the problem when I remove the &apos;sling&apos; directory, but I am noticing that when running on Karaf this directory contains much less data. All in all the results are promising so far.&lt;/p&gt;

&lt;p&gt;My next step is to try and run multiple instances of Sling on Karaf. Is there anything special to do to get it to work in a &quot;cluster&quot;?&lt;/p&gt;</comment>
                            <comment id="17093632" author="olli" created="Mon, 27 Apr 2020 15:32:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=carlosmunoz&quot; class=&quot;user-hover&quot; rel=&quot;carlosmunoz&quot;&gt;carlosmunoz&lt;/a&gt;, Karaf stores the configurations in the &lt;tt&gt;etc&lt;/tt&gt; directory.&lt;br/&gt;
 There shouldn&#8217;t be a difference when running a cluster on Karaf or Launchpad.&lt;/p&gt;</comment>
                            <comment id="17094209" author="rombert" created="Tue, 28 Apr 2020 06:54:59 +0000"  >&lt;p&gt;Very nice. Would be interesting to find out what makes Karaf behave better.&lt;/p&gt;</comment>
                            <comment id="17094241" author="jsedding" created="Tue, 28 Apr 2020 07:32:44 +0000"  >&lt;blockquote&gt;&lt;p&gt;Karaf stores the configurations in the etc directory.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;In order to get to the root of this issue, I would assume a fair comparison between the launchpad and the karaf setup would require deleting the config directory as well. Or am I missing something? In a container landscape the config directory in a new container would not be initialized as far as I understand (and my understanding is currently very limited).&lt;/p&gt;

&lt;p&gt;Sorry for the noise in case this doesn&apos;t make any sense.&lt;/p&gt;</comment>
                            <comment id="17094268" author="olli" created="Tue, 28 Apr 2020 08:00:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jsedding&quot; class=&quot;user-hover&quot; rel=&quot;jsedding&quot;&gt;jsedding&lt;/a&gt;, Makes totally sense. Due to the fine-grained features for Karaf and their handling in Karaf the start-up is quite&#160;controlled which makes a difference.&lt;/p&gt;</comment>
                            <comment id="17094420" author="olli" created="Tue, 28 Apr 2020 11:33:45 +0000"  >&lt;p&gt;FYI: &lt;a href=&quot;http://karaf.apache.org/manual/latest/#_docker&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Docker support in Karaf&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17094730" author="carlosmunoz" created="Tue, 28 Apr 2020 17:58:11 +0000"  >&lt;p&gt;This might be a loosely related question to the subject of this JIRA, but here it goes nonetheless: Is there a way to package Sling in Karaf in such a way that it starts all the necessary bundles automatically (much like the sling starter)? It seems the Sling karaf distribution still requires some manual steps before it can serve the full Sling instance, not to mention additional bundles.&lt;/p&gt;</comment>
                            <comment id="17094780" author="olli" created="Tue, 28 Apr 2020 18:49:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=carlosmunoz&quot; class=&quot;user-hover&quot; rel=&quot;carlosmunoz&quot;&gt;carlosmunoz&lt;/a&gt;, You have to build a &lt;a href=&quot;http://karaf.apache.org/manual/latest/#_custom_distributions&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;custom distribution&lt;/a&gt; yourself or edit &lt;tt&gt;org.apache.karaf.features.cfg&lt;/tt&gt; and add &lt;tt&gt;sling-quickstart-oak-tar&lt;/tt&gt; or &lt;tt&gt;sling-quickstart-oak-mongo&lt;/tt&gt; feature to &lt;tt&gt;featuresBoot&lt;/tt&gt;. The &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-karaf-distribution&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Sling Karaf Distribution&lt;/a&gt; just collects all dependencies for offline usage and allows users to select/start the preferred quickstart feature.&lt;/p&gt;

&lt;p&gt;The recommended way is to build a custom distribution anyway because you want to tweak some configurations for production and add your application feature(s).&lt;/p&gt;</comment>
                            <comment id="17102708" author="rombert" created="Fri, 8 May 2020 16:21:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=carlosmunoz&quot; class=&quot;user-hover&quot; rel=&quot;carlosmunoz&quot;&gt;carlosmunoz&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=benradey&quot; class=&quot;user-hover&quot; rel=&quot;benradey&quot;&gt;benradey&lt;/a&gt; - I gave this a try using the Sling Feature model and it seems to work perfectly for me. I converted the Sling Starter to the Feature Model ( so same bundles, same configs ) and launched it. Would you like to try that as well?&lt;/p&gt;

&lt;p&gt;I have uploaded &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13002429/13002429_fm-launch.zip&quot; title=&quot;fm-launch.zip attached to SLING-9118&quot;&gt;fm-launch.zip&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; , which contains:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the generated feature model files&lt;/li&gt;
	&lt;li&gt;the latest SNAPSHOT build of the feature launcher built from &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-launcher&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-launcher&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;a script that launches it all (run-fm.sh)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Note that the &apos;sling&apos; directory is now &apos;launcher&apos;, so the workflow would be:&lt;/p&gt;

&lt;p&gt;1. Start up Sling with &lt;tt&gt;run-fm.sh&lt;/tt&gt;&lt;br/&gt;
2. Wait for it to start&lt;br/&gt;
3. Stop Sling&lt;br/&gt;
4. Remove the launcher directory&lt;br/&gt;
5. Launch Sling again with &lt;tt&gt;run-fm.sh&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;I noticed no instability with this setup. Note that we are planning to move to the feature model, so this kind of setup is definitely supported.&lt;/p&gt;
</comment>
                            <comment id="17102827" author="schaefa" created="Fri, 8 May 2020 18:40:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;&#160;you could have just used the Kickstart as this does exactly that (java &lt;del&gt;jar org.apache.sling.kickstart&lt;/del&gt;&amp;lt;version&amp;gt;.jar)&lt;/p&gt;</comment>
                            <comment id="17103013" author="rombert" created="Fri, 8 May 2020 23:53:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andysch&quot; class=&quot;user-hover&quot; rel=&quot;andysch&quot;&gt;andysch&lt;/a&gt; - that&apos;s a good point. As mentioned on dev@sling, I&apos;m still finding my way around these things &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I preferred a different approach for a couple of reasons&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the kickstart embedded an oak_tar feature file&lt;/li&gt;
	&lt;li&gt;the kickstart embedded a slightly older feature file&lt;/li&gt;
	&lt;li&gt;I preferred as few moving parts as possible; I&apos;m familiar with the feature launcher, not so much with the kickstart (yet)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17170833" author="rombert" created="Tue, 4 Aug 2020 14:28:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=carlosmunoz&quot; class=&quot;user-hover&quot; rel=&quot;carlosmunoz&quot;&gt;carlosmunoz&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=benradey&quot; class=&quot;user-hover&quot; rel=&quot;benradey&quot;&gt;benradey&lt;/a&gt; - I have returned to this issue and created what I think is a definitive fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-7811&quot; title=&quot;NPE when repository is starting up due to repository manager shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-7811&quot;&gt;&lt;del&gt;SLING-7811&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;In my tests now the MongoDB-based setup is stable. If you have the time, you could try our jcr.base 3.1.2 release candidate, either pre-built from &lt;a href=&quot;https://repository.apache.org/content/groups/staging/org/apache/sling/org.apache.sling.jcr.base/3.1.2/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/staging/org/apache/sling/org.apache.sling.jcr.base/3.1.2/&lt;/a&gt; or from source &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-base/tree/org.apache.sling.jcr.base-3.1.2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-base/tree/org.apache.sling.jcr.base-3.1.2&lt;/a&gt; .&lt;/p&gt;</comment>
                            <comment id="17174339" author="rombert" created="Mon, 10 Aug 2020 13:48:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=carlosmunoz&quot; class=&quot;user-hover&quot; rel=&quot;carlosmunoz&quot;&gt;carlosmunoz&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=benradey&quot; class=&quot;user-hover&quot; rel=&quot;benradey&quot;&gt;benradey&lt;/a&gt; - I&apos;m going to consider this fixed since the fixes in org.apache.sling.jcr.base 3.1.4 are now included in the Sling Starter.&lt;/p&gt;

&lt;p&gt;Please reopen if you still see the problem.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13177150">SLING-7811</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12998519" name="drop-mongo.sh" size="99" author="rombert" created="Wed, 1 Apr 2020 21:01:47 +0000"/>
                            <attachment id="12999069" name="error.log" size="590269" author="carlosmunoz" created="Mon, 6 Apr 2020 15:55:56 +0000"/>
                            <attachment id="13002429" name="fm-launch.zip" size="1651154" author="rombert" created="Fri, 8 May 2020 16:17:49 +0000"/>
                            <attachment id="13001033" name="karaf.log" size="500951" author="olli" created="Fri, 24 Apr 2020 04:54:36 +0000"/>
                            <attachment id="12998650" name="recreateSlingReplicaSet.sh" size="887" author="carlosmunoz" created="Thu, 2 Apr 2020 20:41:31 +0000"/>
                            <attachment id="12998520" name="run-mongo.sh" size="300" author="rombert" created="Wed, 1 Apr 2020 21:01:47 +0000"/>
                            <attachment id="12998521" name="run-sling-initial.sh" size="381" author="rombert" created="Wed, 1 Apr 2020 21:01:47 +0000"/>
                            <attachment id="12998522" name="run-sling-second.sh" size="111" author="rombert" created="Wed, 1 Apr 2020 21:01:47 +0000"/>
                            <attachment id="12998788" name="sling-startup-error.log.txt" size="28207" author="carlosmunoz" created="Fri, 3 Apr 2020 20:02:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 11 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bra8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9117] Guessing of Jcr Root Folder does not work for content-packages with jcr_root below src/main/content</title>
                <link>https://issues.apache.org/jira/browse/SLING-9117</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &lt;tt&gt;jcr_root&lt;/tt&gt; folder for the content packages from the &lt;a href=&quot;https://github.com/adobe/aem-project-archetype&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/adobe/aem-project-archetype&lt;/a&gt; are at &lt;tt&gt;src/main/content/jcr_root&lt;/tt&gt;. This folder is not detected through &lt;a href=&quot;https://github.com/apache/sling-ide-tooling/blob/cc6da107f2bb381a76e9cf13374a8090dc4e5f77/eclipse/eclipse-m2e-ui/src/org/apache/sling/ide/eclipse/m2e/internal/MavenProjectUtils.java#L37&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-ide-tooling/blob/cc6da107f2bb381a76e9cf13374a8090dc4e5f77/eclipse/eclipse-m2e-ui/src/org/apache/sling/ide/eclipse/m2e/internal/MavenProjectUtils.java#L37&lt;/a&gt;, which leads to the fact that importing such projects will lead to a wrong Content sync root directory &lt;tt&gt;src/main/resources&lt;/tt&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13286753">SLING-9117</key>
            <summary>Guessing of Jcr Root Folder does not work for content-packages with jcr_root below src/main/content</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Feb 2020 12:27:33 +0000</created>
                <updated>Sun, 28 Sep 2025 16:05:59 +0000</updated>
                            <resolved>Thu, 5 Mar 2020 12:41:56 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.2.2</version>
                                    <fixVersion>Sling Eclipse IDE 1.3.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4200">1h 10m</timespent>
                                <comments>
                            <comment id="17041900" author="kwin" created="Fri, 21 Feb 2020 14:04:39 +0000"  >&lt;p&gt;PR: &lt;a href=&quot;https://github.com/apache/sling-ide-tooling/pull/10&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-ide-tooling/pull/10&lt;/a&gt;.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; Can you cross-check and merge?&lt;/p&gt;</comment>
                            <comment id="17052089" author="kwin" created="Thu, 5 Mar 2020 12:41:56 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-ide-tooling/commit/9e426c6cee2131f4cfa2cc0008cd3d4cbf651e70&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-ide-tooling/commit/9e426c6cee2131f4cfa2cc0008cd3d4cbf651e70&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13630178">SLING-12955</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bqtk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9091] Principal-based AC-setup fails for transient service users</title>
                <link>https://issues.apache.org/jira/browse/SLING-9091</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;while conducting additional tests with repo-init i noticed that &lt;tt&gt;TestUtil.parseAndExecute&lt;/tt&gt; always persists a given operation, which doesn&apos;t entirely seem to reflect that nature of the &lt;tt&gt;RepositoryInitializer&lt;/tt&gt; which will only call &lt;tt&gt;Session.save&lt;/tt&gt; after the processing of a list of operations. While each create-path operation is already following by a save-call to prevent issues with the resource-based access control setup, the principal-based ac-setup will currently fail if the service user principal has not been persisted.&lt;/p&gt;

&lt;p&gt;Proposed fix: if the principal-lookup returns &lt;tt&gt;null&lt;/tt&gt; during principal-based ac setup -&amp;gt; retry after saving pending changes. That&apos;s at least consistent with the current behaviour in the resource-based setup.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13286413">SLING-9091</key>
            <summary>Principal-based AC-setup fails for transient service users</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="angela">Angela Schreiber</assignee>
                                    <reporter username="angela">Angela Schreiber</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Feb 2020 08:32:17 +0000</created>
                <updated>Mon, 24 Feb 2020 16:48:12 +0000</updated>
                            <resolved>Fri, 21 Feb 2020 15:46:06 +0000</resolved>
                                                    <fixVersion>Repoinit JCR 1.1.20</fixVersion>
                                    <component>Repoinit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="5400">1.5h</timespent>
                                <comments>
                            <comment id="17040814" author="anchela" created="Thu, 20 Feb 2020 09:55:45 +0000"  >&lt;p&gt;pull request at &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-repoinit/pull/7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-repoinit/pull/7&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17041075" author="bdelacretaz" created="Thu, 20 Feb 2020 15:28:11 +0000"  >&lt;p&gt;PR merged, thank you!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 35 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0boq8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9090] AclLine.Action.REMOVE and AclLine.Action.REMOVE_ALL not handled in jcr implementation</title>
                <link>https://issues.apache.org/jira/browse/SLING-9090</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;, while the documentation and the parser code provides the ability to remove an individual or all access control entries, it seems the JCR implementation doesn&apos;t actually support it.&lt;/p&gt;

&lt;p&gt;using it may lead to odd side effects or failures.... so, i think either the parser should remove the support for Action.REMOVE and Action.REMOVE_ALL or the jcr implementation part should respect it... at the very minimum it should spot any usage of it and fail the repo-init if there is no way to implement it properly. &lt;/p&gt;</description>
                <environment></environment>
        <key id="13286402">SLING-9090</key>
            <summary>AclLine.Action.REMOVE and AclLine.Action.REMOVE_ALL not handled in jcr implementation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="angela">Angela Schreiber</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Feb 2020 08:03:33 +0000</created>
                <updated>Wed, 23 Feb 2022 15:48:14 +0000</updated>
                            <resolved>Fri, 12 Feb 2021 13:16:56 +0000</resolved>
                                    <version>Repoinit JCR 1.1.6</version>
                    <version>Repoinit JCR 1.1.8</version>
                    <version>Repoinit JCR 1.1.10</version>
                    <version>Repoinit JCR 1.1.12</version>
                    <version>Repoinit JCR 1.1.14</version>
                    <version>Repoinit JCR 1.1.16</version>
                    <version>Repoinit JCR 1.1.18</version>
                    <version>Repoinit JCR 1.1.20</version>
                    <version>Repoinit JCR 1.1.22</version>
                    <version>Repoinit JCR 1.1.24</version>
                    <version>Repoinit JCR 1.1.26</version>
                                    <fixVersion>Repoinit JCR 1.1.32</fixVersion>
                                    <component>Repoinit</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="17040815" author="bdelacretaz" created="Thu, 20 Feb 2020 09:55:56 +0000"  >&lt;blockquote&gt;&lt;p&gt;...either the parser should remove the support for Action.REMOVE and Action.REMOVE_ALL or the jcr implementation part should respect it...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I would suggest first implementing stub versions of the required operations in the jcr-repoinit module, which fail loudly with a message indicating that these features are not supported.&lt;/p&gt;

&lt;p&gt;And later implement these features in that jcr-repoinit module.&lt;/p&gt;

&lt;p&gt;Unless nobody needs these features, in which case I agree with removing them from the parser grammar.&lt;/p&gt;</comment>
                            <comment id="17047376" author="anchela" created="Fri, 28 Feb 2020 09:40:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;, at Adobe we currently a case were we would need to have &lt;tt&gt;Action.REMOVE&lt;/tt&gt;, so we would very much appreciate if that could be implemented. One additional thought: the implementation should not fail if the entry to be removed does not (no longer) exists... otherwise the &lt;tt&gt;Action.REMOVE&lt;/tt&gt; might cause serious troubles upon upgrade.&lt;/p&gt;</comment>
                            <comment id="17048856" author="mohiaror" created="Mon, 2 Mar 2020 08:03:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=angela&quot; class=&quot;user-hover&quot; rel=&quot;angela&quot;&gt;angela&lt;/a&gt; We do have a usecase for remove functionality. Right now, it silently converts the &lt;tt&gt;remove&lt;/tt&gt; action into &lt;tt&gt;deny&lt;/tt&gt; which is not something one would expect while using the feature. Although I do see SLING documentation &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; mentioning &lt;tt&gt;remove is currently not supported by the jcr.repoinit module&lt;/tt&gt;, it does not mention that &lt;tt&gt;remove&lt;/tt&gt; is being converted to &lt;tt&gt;deny&lt;/tt&gt; under the hood.&lt;/p&gt;

&lt;p&gt;We have a deadline for a feature release and to avoid a security issue we are currently using &lt;tt&gt;remove ACL&lt;/tt&gt; in our feature model which is adding &lt;tt&gt;deny&lt;/tt&gt; for the service user on specified path. We would not want it to fail with an error as it is currently supported (albeit performing wrongly, but supported, nevertheless). It would indeed be beneficial to have proper implementation of &lt;tt&gt;remove&lt;/tt&gt; such that existing usages do not need any change. For existing implementation, they would continue adding deny ACE and for new implementation, they will simply remove the ACE from specified path if present. If not present, it should silently abort.&lt;/p&gt;

&lt;p&gt;cc - &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shgupta&quot; class=&quot;user-hover&quot; rel=&quot;shgupta&quot;&gt;shgupta&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashishc&quot; class=&quot;user-hover&quot; rel=&quot;ashishc&quot;&gt;ashishc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://sling.apache.org/documentation/bundles/repository-initialization.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/bundles/repository-initialization.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17049217" author="anchela" created="Mon, 2 Mar 2020 13:45:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mohiaror&quot; class=&quot;user-hover&quot; rel=&quot;mohiaror&quot;&gt;mohiaror&lt;/a&gt;, IMHO the remove should remove all matching entries and should also fix the deny-entries that have been created wrongfully. I just noticed that in case of the principal-based setup remove-entries even result in allows because the current code just checks for AclLine.Action.DENY and fails if it was a deny &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. So, a fix is anyway needed asap.&lt;/p&gt;</comment>
                            <comment id="17049273" author="anchela" created="Mon, 2 Mar 2020 14:56:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;, just had a quick look at the &lt;tt&gt;AclLine.Action.REMOVE_ALL&lt;/tt&gt; and &lt;tt&gt;AclLine.Action.REMOVE&lt;/tt&gt;. while &lt;tt&gt;AclLine.Action.REMOVE_ALL&lt;/tt&gt; seems straight forward (remove all access control entries for a given list of principals at a given list of paths or for a given list of paths at a given principal based policy), I have a hard time understanding what was your intention behind &lt;tt&gt;AclLine.Action.REMOVE&lt;/tt&gt;... would it remove entries that have a matching set of privileges? irrespective of allow/deny status? what about restrictions? could those be ignored? what about entries that in fact do contain the given privileges but not exclusively? &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mohiaror&quot; class=&quot;user-hover&quot; rel=&quot;mohiaror&quot;&gt;mohiaror&lt;/a&gt;, as long as we don&apos;t have answers to these questions I would not use the remove statements.... depending on what was the original intention behind the remove, it might be that it&apos;s not even possible to provide a compatible solution.&lt;/p&gt;</comment>
                            <comment id="17058572" author="bdelacretaz" created="Fri, 13 Mar 2020 09:47:17 +0000"  >&lt;p&gt;It looks like the impact of REMOVE can be unclear indeed.&lt;/p&gt;

&lt;p&gt;Would the 3 scenarios mentioned at &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-7147&quot; title=&quot;Support ACL remove * statement&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-7147&quot;&gt;&lt;del&gt;SLING-7147&lt;/del&gt;&lt;/a&gt; make sense?&lt;/p&gt;

&lt;p&gt;Or shall we just implement REMOVE * with the first two rules mentioned there:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;REMOVE * FOR &amp;lt;principal name&amp;gt; removes entries that match the given principals&lt;/li&gt;
	&lt;li&gt;REMOVE * ON &amp;lt;paths&amp;gt; removes all entries at the given paths and writes back an empty policy&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This would &quot;clean up&quot; things as a starting point after which the appropriate ACLs can be re-added.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;the docs do not not mention that remove is being converted to deny under the hood...&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Indeed and I think that&apos;s a bug, if there&apos;s no clarity on what REMOVE should do I would at least change it to a do-nothing operation and log info about that.&lt;/p&gt;</comment>
                            <comment id="17070327" author="anchela" created="Sun, 29 Mar 2020 12:50:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;, please find a patch for this issue at &lt;a href=&quot;https://github.com/anchela/sling-org-apache-sling-jcr-repoinit/tree/SLING-9090&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/anchela/sling-org-apache-sling-jcr-repoinit/tree/SLING-9090&lt;/a&gt;. i didn&apos;t have time to add really extensive testing but hope it still helps getting this issue solved. for simplicity i decided to fail for all usages of all remove commends that are not followed by *.&lt;/p&gt;</comment>
                            <comment id="17091529" author="anchela" created="Fri, 24 Apr 2020 12:46:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;, did you have a chance to look at the patch?&lt;/p&gt;</comment>
                            <comment id="17282017" author="henry kuijpers" created="Tue, 9 Feb 2021 20:27:04 +0000"  >&lt;p&gt;Any progress on this issue, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; / &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=angela&quot; class=&quot;user-hover&quot; rel=&quot;angela&quot;&gt;angela&lt;/a&gt;? It seems we&apos;re also running into this issue when setting up Repo Init statements and converting our legacy setup to it.&lt;/p&gt;

&lt;p&gt;Is there any help needed in getting this fixed?&lt;/p&gt;</comment>
                            <comment id="17282281" author="anchela" created="Wed, 10 Feb 2021 07:33:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Henry+Kuijpers&quot; class=&quot;user-hover&quot; rel=&quot;Henry Kuijpers&quot;&gt;Henry Kuijpers&lt;/a&gt;, i am not in charge of the sling repo-init tool, but i considered this a major issue when i reported it.... not sure why it hasn&apos;t been addressed. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;, could you provide an ETA for this given the fact that i already provided a patch back on March 29th 2020?&lt;/p&gt;

&lt;p&gt;btw: the issue has been first reported in 2017 (see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-7147&quot; title=&quot;Support ACL remove * statement&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-7147&quot;&gt;&lt;del&gt;SLING-7147&lt;/del&gt;&lt;/a&gt;). adjusted the &apos;affects versions&apos; accordingly.&lt;/p&gt;

&lt;p&gt;cc: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=karlpauls&quot; class=&quot;user-hover&quot; rel=&quot;karlpauls&quot;&gt;karlpauls&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17283674" author="bdelacretaz" created="Fri, 12 Feb 2021 13:16:56 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=angela&quot; class=&quot;user-hover&quot; rel=&quot;angela&quot;&gt;angela&lt;/a&gt; for your patch and sorry that it took us so long to get to it.&lt;/p&gt;

&lt;p&gt;I have applied it in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-repoinit/commit/bd3e865442ffbf02722a5f36020ca75dab4906f6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit bd3e865&lt;/a&gt;, with minor changes to use more specific exception checking instead of @Test(expected... where that makes sense and taking into account some other changes that happened in the meantime. Please cross-check!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13104684">SLING-7147</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13104684">SLING-7147</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13430249">SLING-11160</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13358845">SLING-10145</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bons:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9089] RemoteLogDumperRule is too verbose if the logs cannot be retrieved</title>
                <link>https://issues.apache.org/jira/browse/SLING-9089</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In case of a test failure, if the testlog servlet is not installed or cannot be accessed, RemoteLogDumperRule prints a very verbose message to stderr, confusing the user which thinks this is the root error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Error occurred &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; fetching test logs from server [https:&lt;span class=&quot;code-comment&quot;&gt;//example.com/]
&lt;/span&gt;org.apache.sling.testing.clients.ClientException: Expected HTTP Status: 200 . Instead 404 was returned!
Response Content:
&amp;lt;!DOCTYPE HTML PUBLIC &lt;span class=&quot;code-quote&quot;&gt;&quot;-&lt;span class=&quot;code-comment&quot;&gt;//IETF//DTD HTML 2.0//EN&quot;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&amp;lt;html&amp;gt;
    &amp;lt;head&amp;gt;&amp;lt;title&amp;gt;404 Resource at &lt;span class=&quot;code-quote&quot;&gt;&apos;/system/sling/testlog&apos;&lt;/span&gt; not found: No resource found&amp;lt;/title&amp;gt;&amp;lt;/head&amp;gt;
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think we can move this to debug level.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13286246">SLING-9089</key>
            <summary>RemoteLogDumperRule is too verbose if the logs cannot be retrieved</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andrei.dulvac">Andrei Dulvac</assignee>
                                    <reporter username="volteanu">Valentin Olteanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Feb 2020 14:14:52 +0000</created>
                <updated>Thu, 2 Apr 2020 14:35:59 +0000</updated>
                            <resolved>Thu, 2 Apr 2020 14:15:40 +0000</resolved>
                                                    <fixVersion>Apache Sling Testing Rules 2.0.0</fixVersion>
                                    <component>Apache Sling Testing Rules</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17040097" author="volteanu" created="Wed, 19 Feb 2020 14:28:25 +0000"  >&lt;p&gt;Created a PR for this: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-rules/pull/1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-rules/pull/1&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrei.dulvac&quot; class=&quot;user-hover&quot; rel=&quot;andrei.dulvac&quot;&gt;andrei.dulvac&lt;/a&gt; would you mind checking this?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bnp4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9086] Update to newer version of Pax URL which uses HTTPS Maven Central URLs</title>
                <link>https://issues.apache.org/jira/browse/SLING-9086</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The version fixing &lt;a href=&quot;https://ops4j1.jira.com/browse/PAXURL-352&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ops4j1.jira.com/browse/PAXURL-352&lt;/a&gt; needs to be integrated&lt;/p&gt;</description>
                <environment></environment>
        <key id="13286012">SLING-9086</key>
            <summary>Update to newer version of Pax URL which uses HTTPS Maven Central URLs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="olli">Oliver Lietz</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Feb 2020 14:58:00 +0000</created>
                <updated>Fri, 21 Feb 2020 10:28:30 +0000</updated>
                            <resolved>Tue, 18 Feb 2020 19:42:13 +0000</resolved>
                                    <version>Testing PaxExam 3.1.0</version>
                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17039307" author="olli" created="Tue, 18 Feb 2020 18:11:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;, The issue should be fixed in Pax Exam by upgrading the dependencies.&lt;/p&gt;</comment>
                            <comment id="17039401" author="kwin" created="Tue, 18 Feb 2020 19:42:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; Yes, indeed. Maybe you can cross-check my fix for repoinit in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9085?focusedCommentId=17039164&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17039164?&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-9085?focusedCommentId=17039164&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17039164?&lt;/a&gt;&lt;br/&gt;
Closing this issue here, because Testing Pax Exam doesn&apos;t transitively depend on pax Exam itself.&lt;/p&gt;</comment>
                            <comment id="17040479" author="olli" created="Wed, 19 Feb 2020 22:35:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, I&apos;m still on vacation but upgraded OPS4J dependencies (incl. Pax URL) in Pax Exam 4.x. Hopefully &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbonofre&quot; class=&quot;user-hover&quot; rel=&quot;jbonofre&quot;&gt;jbonofre&lt;/a&gt;&#160;can release a new version soon. I was able to run&#160;Repoinit JCR ITs with Pax Exam&#160;4.13.2-SNAPSHOT.&lt;/p&gt;</comment>
                            <comment id="17041743" author="olli" created="Fri, 21 Feb 2020 10:28:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;, Pax Exam 4.13.2 was released. I&#8217;m now on the plane and will take care later.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13286003">SLING-9085</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bm94:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9085] Integration tests fail to download from Maven Central, https required</title>
                <link>https://issues.apache.org/jira/browse/SLING-9085</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The JCR repoinit integration tests fail if they need to download anything from Maven Central, this needs to be fixed, for example in a similar way to &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;The workaround is to download the missing dependencies to the local Maven repository before running the tests, like&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mvn dependency:get -DgroupId=org.apache.sling -DartifactId=org.apache.sling.scripting.core -Dversion=2.0.56
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-servlets-resolver/blob/master/src/test/java/org/apache/sling/servlets/resolver/it/ServletResolverTestSupport.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-servlets-resolver/blob/master/src/test/java/org/apache/sling/servlets/resolver/it/ServletResolverTestSupport.java&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13286003">SLING-9085</key>
            <summary>Integration tests fail to download from Maven Central, https required</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Feb 2020 14:24:50 +0000</created>
                <updated>Mon, 24 Feb 2020 16:48:14 +0000</updated>
                            <resolved>Tue, 18 Feb 2020 14:49:31 +0000</resolved>
                                    <version>Repoinit JCR 1.1.18</version>
                                    <fixVersion>Repoinit JCR 1.1.20</fixVersion>
                                    <component>Repoinit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17039125" author="bdelacretaz" created="Tue, 18 Feb 2020 14:32:28 +0000"  >&lt;p&gt;Note that if the tests only need the Maven Central repository, adding the following pax option works:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; org.ops4j.pax.exam.CoreOptions.repository;
...
repository(&lt;span class=&quot;code-quote&quot;&gt;&quot;https:&lt;span class=&quot;code-comment&quot;&gt;//repo.maven.apache.org/maven2/&quot;&lt;/span&gt;).id(&lt;span class=&quot;code-quote&quot;&gt;&quot;central&quot;&lt;/span&gt;),&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;But multiple &lt;tt&gt;repository&lt;/tt&gt; options do not work currently and require the workaround from &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; in the previous comment.&lt;/p&gt;</comment>
                            <comment id="17039127" author="kwin" created="Tue, 18 Feb 2020 14:35:58 +0000"  >&lt;p&gt;Can&apos;t this be globally fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-paxexam/blob/c6d22a7b3a8e3f64a0bd4b2ec8e6df1aaaee8345/src/main/java/org/apache/sling/testing/paxexam/TestSupport.java#L76?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-paxexam/blob/c6d22a7b3a8e3f64a0bd4b2ec8e6df1aaaee8345/src/main/java/org/apache/sling/testing/paxexam/TestSupport.java#L76?&lt;/a&gt;&lt;br/&gt;
I don&apos;t see a hardcoded HTTP Maven Central URL there though. Maybe this is part of paxexam itself...&lt;/p&gt;</comment>
                            <comment id="17039138" author="bdelacretaz" created="Tue, 18 Feb 2020 14:49:31 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-repoinit/commit/49e30a7900c18a6f2aa8d7e03c2582e1c001b5a5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-repoinit/commit/49e30a7900c18a6f2aa8d7e03c2582e1c001b5a5&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17039140" author="bdelacretaz" created="Tue, 18 Feb 2020 14:51:21 +0000"  >&lt;blockquote&gt;&lt;p&gt;Can&apos;t this be globally fixed...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, good idea we should do that - I won&apos;t have time right now however.&lt;/p&gt;

&lt;p&gt;As mentioned above, note that multiple &lt;tt&gt;repository&lt;/tt&gt; options to not work correctly due to Pax adding a &lt;tt&gt;+&lt;/tt&gt; sign in front of each one, while only the first one needs it.&lt;/p&gt;</comment>
                            <comment id="17039148" author="kwin" created="Tue, 18 Feb 2020 14:55:58 +0000"  >&lt;p&gt;There is already an open issue about the wrong fallback URL at &lt;a href=&quot;https://ops4j1.jira.com/browse/PAXURL-352&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ops4j1.jira.com/browse/PAXURL-352&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17039164" author="kwin" created="Tue, 18 Feb 2020 15:19:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; Can you try with the  &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12993781/12993781_sling-org-apache-sling-jcr-repoinit.patch&quot; title=&quot;sling-org-apache-sling-jcr-repoinit.patch attached to SLING-9085&quot;&gt;sling-org-apache-sling-jcr-repoinit.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; instead? This is less of a workaround....&lt;/p&gt;</comment>
                            <comment id="17041762" author="kwin" created="Fri, 21 Feb 2020 10:59:17 +0000"  >&lt;p&gt;A better fix is coming with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9111&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-9111&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13286012">SLING-9086</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13286712">SLING-9111</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12993781" name="sling-org-apache-sling-jcr-repoinit.patch" size="1687" author="kwin" created="Tue, 18 Feb 2020 15:21:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bm74:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9076] CA config resolver API is not returning any resources when invoked on instance start</title>
                <link>https://issues.apache.org/jira/browse/SLING-9076</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Ca config resolver API is not returning any resources when invoked on bundle activate when AEM instance starts &#8211; this is because of late binding config resolution strategy service.&lt;br/&gt;
In&#160;&lt;b&gt;ConfigurationResourceResolvingStrategyMultiplexerImpl&lt;/b&gt; the cardinality is set to atleast one&#160;&lt;b&gt;cardinality=ReferenceCardinality.MULTIPLE&lt;/b&gt;&#160;but it should be&#160;&#160;&lt;b&gt;cardinality=ReferenceCardinality.ATLEAST_ONE&lt;/b&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13285684">SLING-9076</key>
            <summary>CA config resolver API is not returning any resources when invoked on instance start</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nischgup">Nischay Gupta</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Feb 2020 06:34:21 +0000</created>
                <updated>Tue, 3 Mar 2020 16:19:30 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17040410" author="sseifert@pro-vision.de" created="Wed, 19 Feb 2020 20:40:07 +0000"  >&lt;p&gt;we could change this - but depending on how many services exist that implement ConfigurationResourceResolvingStrategy this will help or will not help.&lt;br/&gt;
afaik AEM comes with it&apos;s own implementations, and sling caconfig comes with a default implementation, that means we have at least two implementations. setting it to ATLEAST_ONE does not ensure both of them are present.&lt;/p&gt;

&lt;p&gt;so it still is possible that the API is not returning the expected resources.&lt;/p&gt;</comment>
                            <comment id="17040817" author="nischgup" created="Thu, 20 Feb 2020 09:59:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt;&#160;, a quick search in AEM code suggests that AEM relies on the &lt;b&gt;default implementation for all its purposes&lt;/b&gt;&#160;and does not implement&#160;&lt;b&gt;ConfigurationResourceResolvingStrategy&lt;/b&gt; and&#160;&lt;b&gt;ConfigurationResourceResolver.&lt;/b&gt;&lt;/p&gt;


&lt;p&gt;&#160;**&#160;So now considering the scenario stated in the bug, can the cardinality be changed or else how should we achieve our goal? I think it is a genuine use case where on bundle activate or in some background job, we want to cache some config resources, but we need to be sure that we are getting the correct ones.&lt;/p&gt;</comment>
                            <comment id="17044457" author="jsedding" created="Tue, 25 Feb 2020 13:57:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nischgup&quot; class=&quot;user-hover&quot; rel=&quot;nischgup&quot;&gt;nischgup&lt;/a&gt; Stefan&apos;s concern that your suggested &quot;solution&quot; is incomplete is valid regardless of whether AEM implements this interface. Imagine that tomorrow AEM ships with an extra implementation, then your code would break again.&lt;/p&gt;

&lt;p&gt;BTW, you can already fix this yourself. OSGi DS allows you to specify the &lt;a href=&quot;https://osgi.org/specification/osgi.cmpn/7.0.0/service.component.html#service.component-minimum.cardinality.property&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;minimum cardinality of a service via configuration&lt;/a&gt;. In addition you could even specify a custom target filter in your configuration to control which implementations are used.&lt;/p&gt;</comment>
                            <comment id="17045522" author="nischgup" created="Wed, 26 Feb 2020 13:04:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jsedding&quot; class=&quot;user-hover&quot; rel=&quot;jsedding&quot;&gt;jsedding&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt; &lt;br/&gt;
 I ll explain the scenario&lt;br/&gt;
 We have our AEM bundle which is dependent on&#160;&lt;b&gt;ConfigurationResourceResolver&lt;/b&gt;&#160;which is inturn dependent on service&#160;&lt;b&gt;ConfigurationResourceResolvingStrategy&lt;/b&gt;&#160;whose cardinality is &lt;b&gt;MULTIPLE, we require Default implementation of&lt;/b&gt;&#160;&#160;&lt;b&gt;ConfigurationResourceResolvingStrategy&#160; which returns null as the service is not up when AEM instance starts&lt;/b&gt;&lt;br/&gt;
 **&lt;/p&gt;

&lt;p&gt;So it is a case of transitive dependency, how can we then achieve our goal to resolve this transitive dependency&lt;/p&gt;

&lt;p&gt;Also since I can also use&#160;&lt;b&gt;ConfigurationResourceResolvingStrategy directly&lt;/b&gt;&lt;br/&gt;
 Is there any difference between the resource we get from using&#160;&lt;b&gt;ConfigurationResourceResolvingStrategy or&lt;/b&gt;&#160;&lt;b&gt;ConfigurationResourceResolver&lt;/b&gt;**&lt;/p&gt;</comment>
                            <comment id="17046767" author="jsedding" created="Thu, 27 Feb 2020 16:12:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nischgup&quot; class=&quot;user-hover&quot; rel=&quot;nischgup&quot;&gt;nischgup&lt;/a&gt; the scenario sounds basically like I had understood before. However, it&apos;s not entirely correct. Let me explain:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;your service depends on &lt;tt&gt;ConfigurationResourceResolver&lt;/tt&gt;, which is implemented by &lt;tt&gt;ConfigurationResourceResolverImpl&lt;/tt&gt; (I assume cardinality is MANDATORY)&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;ConfigurationResourceResolverImpl&lt;/tt&gt; depends on &lt;tt&gt;ConfigurationResourceResolvingStrategyMultiplexer&lt;/tt&gt; with cardinality MANDATORY, which is implemented by &lt;tt&gt;ConfigurationResourceResolvingStrategyMultiplexerImpl&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;ConfigurationResourceResolvingStrategyMultiplexerImpl&lt;/tt&gt; depends on &lt;tt&gt;ConfigurationResourceResolvingStrategy&lt;/tt&gt; with cardinality MULTIPLE.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Only the last point is problematic for you, so you can configure ConfigurationResourceResolvingStrategyMultiplexerImpl to change the cardinality to AT_LEAST_ONE (exactly as you request in this issue, just via configadmin).&lt;/p&gt;

&lt;p&gt;It may be confusing that I suggest configuring &lt;tt&gt;ConfigurationResourceResolvingStrategyMultiplexerImpl&lt;/tt&gt;, when it doesn&apos;t have a metatype (i.e. it doesn&apos;t show up in the web console). However, all DS components can be configured, regardless of whether they have a metatype or not. (I only reached this insight after a few years.)&lt;/p&gt;

&lt;p&gt;Something like the following should work (&lt;del&gt;I didnt&apos; test&lt;/del&gt;). You can place the config file in the filesystem install folder or in the repository install folder of your choice. On the first startup the configuration&#160;&lt;em&gt;may&lt;/em&gt; be installed too late, but I expect everything to be fine on second startup.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;org.apache.sling.caconfig.resource.impl.ConfigurationResourceResolvingStrategyMultiplexerImpl.config&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;
configurationResourceResolvingStrategy.cardinality.minimum=I&quot;1&quot;
configurationResourceResolvingStrategy.target=&quot;(component.name\=org.apache.sling.caconfig.resource.impl.def.DefaultConfigurationResourceResolvingStrategy)&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Note: the example assumes the latest caconfig-impl bundle is used. There were some changes to the implementation e.g. {{&lt;/p&gt;

&lt;p&gt;So if you&apos;re running an older version, you may need to adjust the class names.&lt;/p&gt;</comment>
                            <comment id="17046786" author="sseifert@pro-vision.de" created="Thu, 27 Feb 2020 16:34:09 +0000"  >&lt;p&gt;still it can lead to unexpected results as soon as multiple implementations of the ConfigurationResourceResolvingStrategy are deployed in the system (even if currently only the default is present). once another bundle adds an additional implementation you do not know which of them fulfills the &quot;1 minimum&quot;.&lt;/p&gt;

&lt;p&gt;maybe you are looking for something like a &quot;system ready&quot; event, although in a modular OSGi-based system it&apos;s difficult to say when the system is ready.&lt;/p&gt;</comment>
                            <comment id="17047510" author="nischgup" created="Fri, 28 Feb 2020 11:37:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jsedding&quot; class=&quot;user-hover&quot; rel=&quot;jsedding&quot;&gt;jsedding&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt; &lt;br/&gt;
Configuring an osgi config in AEM that relies on internal (impl) class names would result in tight coupling between AEM and Sling which is not desirable. This would result in a fragile flow.&lt;/p&gt;

&lt;p&gt;Another way could be to directly call&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ConfigurationResourceResolvingStrategy#getResources &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(with atleast one cardinality) from my service instead of&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ConfigurationResourceResolver#getResource&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;b&gt;.&lt;/b&gt; But I&apos;m not sure whether there is any functionality level differences between both APIs. Could you please clarify?&#160;&lt;/p&gt;</comment>
                            <comment id="17050362" author="sseifert@pro-vision.de" created="Tue, 3 Mar 2020 16:19:30 +0000"  >&lt;p&gt;ConfigurationResourceResolvingStrategy is part of the SPI and not inteded to be used by code that just wants to resolve some configurations. it&apos;s only to be used by custom implementations of ConfigurationResourceResolvingStrategy and is used only by the impl of caconfig.&lt;/p&gt;

&lt;p&gt;it still did not understand you initial problem - why is it a problem that you need to fetch some configurations even before caconfig and all it&apos;s services are fully started? maybe you can change you code that the configuration is resolved not on startup, but when you need it? after all, the configuration resolved with caconfig is part of the content, and can change form call to call at runtime. so it&apos;s not a good idea to read a value a startup and keep it.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 34 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bk88:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9075] Support multiple agents with one StagingPrecondition</title>
                <link>https://issues.apache.org/jira/browse/SLING-9075</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently we have to instantiate one&#160;StagingPrecondition per subscriber agent. Each of these opens a consumer on the status topic.&#160;&lt;/p&gt;

&lt;p&gt;When we have multiple agents this would put a lot of stress on the journal.&#160;&lt;/p&gt;

&lt;p&gt;So this issue is to change&#160;StagingPrecondition to be able to support multiple subscriber agents with one instance.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13285575">SLING-9075</key>
            <summary>Support multiple agents with one StagingPrecondition</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cschneider">Christian Schneider</assignee>
                                    <reporter username="cschneider">Christian Schneider</reporter>
                        <labels>
                    </labels>
                <created>Sun, 16 Feb 2020 10:23:56 +0000</created>
                <updated>Tue, 31 Mar 2020 12:44:57 +0000</updated>
                            <resolved>Thu, 20 Feb 2020 08:40:24 +0000</resolved>
                                    <version>Content Distribution Journal Core 0.1.6</version>
                                    <fixVersion>Content Distribution Journal Core 0.1.10</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 36 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bjk0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9069] Polling format exception in case of TimeoutException</title>
                <link>https://issues.apache.org/jira/browse/SLING-9069</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &lt;tt&gt;Polling&lt;/tt&gt; class has a line that can throw a format exception in case the message of lastException contains a &quot;%&quot;:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;throw new TimeoutException(String.format(message(), effectiveTimeout, delay));&lt;/tt&gt;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="13285115">SLING-9069</key>
            <summary>Polling format exception in case of TimeoutException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andrei.dulvac">Andrei Dulvac</assignee>
                                    <reporter username="andrei.dulvac">Andrei Dulvac</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Feb 2020 15:28:59 +0000</created>
                <updated>Fri, 14 Feb 2020 15:39:46 +0000</updated>
                            <resolved>Fri, 14 Feb 2020 10:53:41 +0000</resolved>
                                    <version>Apache Sling Testing Clients 1.2.4</version>
                                    <fixVersion>Apache Sling Testing Clients 1.2.6</fixVersion>
                                    <component>Apache Sling Testing Clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 36 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bgps:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9067] Fix build errors with Java 11</title>
                <link>https://issues.apache.org/jira/browse/SLING-9067</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When building with Java 11, three test errors occur in RepPolicyEntryHandlerTest, one IndexOutOfBoundsException and two XML output format related errors&lt;/p&gt;</description>
                <environment></environment>
        <key id="13284862">SLING-9067</key>
            <summary>Fix build errors with Java 11</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Feb 2020 16:27:04 +0000</created>
                <updated>Wed, 8 Jul 2020 06:29:33 +0000</updated>
                            <resolved>Wed, 12 Feb 2020 16:30:59 +0000</resolved>
                                    <version>Content-Package to Feature Model Converter 1.0.8</version>
                                    <fixVersion>Content-Package to Feature Model Converter 1.0.10</fixVersion>
                                    <component>Feature Model</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17035496" author="cziegeler" created="Wed, 12 Feb 2020 16:30:44 +0000"  >&lt;p&gt;Fixed in rev 6b95010&lt;/p&gt;

&lt;p&gt;The IndexOutOfBoundsException in RepPolicyEntryHandler was caused by a wrong stack handling for nested XML elements. For some reason, this does not cause an exception in Java 8, but does in &amp;gt;= Java 11. I fixed the stack handling.&lt;/p&gt;

&lt;p&gt;The XML output errors were caused by two problems: indenting of XML in a transformer is set to indent by &quot;0&quot; spaces in Java 8, but to &quot;4&quot; spaces in Java &amp;gt;= 11. This results in different output. As the RepPolicyEntryHandlerTest tests test for an exact output which was not considering indention at all, this failed. I changed the code to always use &quot;4&quot; spaces and adjusted the test accordingly&lt;/p&gt;</comment>
                            <comment id="17036018" author="rombert" created="Thu, 13 Feb 2020 08:26:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; - does this cover &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8924&quot; title=&quot;Some tests fail on Java 11&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8924&quot;&gt;&lt;del&gt;SLING-8924&lt;/del&gt;&lt;/a&gt; as well?&lt;/p&gt;</comment>
                            <comment id="17036027" author="cziegeler" created="Thu, 13 Feb 2020 08:33:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; Yes, it does - I resolved that issue as well&lt;/p&gt;</comment>
                            <comment id="17036030" author="rombert" created="Thu, 13 Feb 2020 08:35:05 +0000"  >&lt;p&gt;Great, thanks Carsten.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310660">
                    <name>Completes</name>
                                            <outwardlinks description="fixes">
                                        <issuelink>
            <issuekey id="13274931">SLING-8924</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bf5k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9066] Dependency updates can lead to ConcurrentModificationException</title>
                <link>https://issues.apache.org/jira/browse/SLING-9066</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The adjustments of dependencies as introduced with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8649&quot; title=&quot;Missing dependencies when installing computed content-packages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8649&quot;&gt;&lt;del&gt;SLING-8649&lt;/del&gt;&lt;/a&gt; currently iterate over the dependencies while modifying the collection which can lead to a ConcurrentModificationException. &lt;/p&gt;</description>
                <environment></environment>
        <key id="13284811">SLING-9066</key>
            <summary>Dependency updates can lead to ConcurrentModificationException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="dsuess">Dominik S&#252;&#223;</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Feb 2020 13:47:31 +0000</created>
                <updated>Wed, 8 Jul 2020 06:29:35 +0000</updated>
                            <resolved>Thu, 13 Feb 2020 09:12:47 +0000</resolved>
                                    <version>Content-Package to Feature Model Converter 1.0.8</version>
                                    <fixVersion>Content-Package to Feature Model Converter 1.0.10</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17036049" author="cziegeler" created="Thu, 13 Feb 2020 09:12:47 +0000"  >&lt;p&gt;Merged PR&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0beu8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9065] Incorrect error handling for content distribution if binary is not present in blob store</title>
                <link>https://issues.apache.org/jira/browse/SLING-9065</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We did a content distribution and the publisher used a different blob store. So the reference to the binary could not be resolved.&lt;/p&gt;

&lt;p&gt;We get a stack trace like below but the ui just shows the queue as running with 0 retries. So it seems the error is not handled correctly.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.github.com/cschneider/c663fa7912b4e643c9d761aa8b70906f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/cschneider/c663fa7912b4e643c9d761aa8b70906f&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13284805">SLING-9065</key>
            <summary>Incorrect error handling for content distribution if binary is not present in blob store</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cschneider">Christian Schneider</assignee>
                                    <reporter username="cschneider">Christian Schneider</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Feb 2020 12:57:49 +0000</created>
                <updated>Mon, 24 Jun 2024 06:21:41 +0000</updated>
                            <resolved>Mon, 24 Jun 2024 06:21:41 +0000</resolved>
                                    <version>Content Distribution Journal Core 0.1.6</version>
                                    <fixVersion>Content Distribution Journal Core 0.4.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17035435" author="marett" created="Wed, 12 Feb 2020 15:16:10 +0000"  >&lt;p&gt;This issue and &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9052&quot; title=&quot;DistributionSubscriber is not failing correctly on  OakConstraint0025&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9052&quot;&gt;&lt;del&gt;SLING-9052&lt;/del&gt;&lt;/a&gt; seem to share the same symptom, not considering a failure as an failed attempt.&lt;/p&gt;</comment>
                            <comment id="17859581" author="chris@die-schneider.net" created="Mon, 24 Jun 2024 06:21:35 +0000"  >&lt;p&gt;In the mean time we added a catch for RuntimeException which includes IllegalStateException. So this issue should be covered now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 17 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0besw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9064] Javadoc use self-closing elements and invalid characters</title>
                <link>https://issues.apache.org/jira/browse/SLING-9064</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Javadoc contains invalid characters like &lt;tt&gt;&amp;gt;&lt;/tt&gt; and self closing elements like &lt;tt&gt;&amp;lt;/p&amp;gt;&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13284797">SLING-9064</key>
            <summary>Javadoc use self-closing elements and invalid characters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="marett">Timothee Maret</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Feb 2020 12:21:50 +0000</created>
                <updated>Sun, 16 Feb 2020 21:53:41 +0000</updated>
                            <resolved>Wed, 12 Feb 2020 12:22:57 +0000</resolved>
                                                    <fixVersion>Content Distribution API 0.4.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17035322" author="marett" created="Wed, 12 Feb 2020 12:22:50 +0000"  >&lt;p&gt;Done in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-api/commit/4870792678effd78902b3908e3e0465841e345b1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4870792678effd78902b3908e3e0465841e345b1&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ber4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9059] CPConverter CLI wrongly not setting setDropPackages by default</title>
                <link>https://issues.apache.org/jira/browse/SLING-9059</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The patch &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/commit/e173157dcaa34a233400f1d9566ab6a2c0f44558&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/commit/e173157dcaa34a233400f1d9566ab6a2c0f44558&lt;/a&gt; was incomplete and adjusted the .setDropContent(true) in the test case but not the CLI. This breaks in cases where non snapshot packages are converted as the default upload will be blocked by the converted content artifacts (not contributing any content).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13283983">SLING-9059</key>
            <summary>CPConverter CLI wrongly not setting setDropPackages by default</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="dsuess">Dominik S&#252;&#223;</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Feb 2020 17:28:25 +0000</created>
                <updated>Wed, 8 Jul 2020 06:29:37 +0000</updated>
                            <resolved>Thu, 13 Feb 2020 09:13:25 +0000</resolved>
                                    <version>Content-Package to Feature Model Converter 1.0.8</version>
                                    <fixVersion>Content-Package to Feature Model Converter 1.0.10</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17036052" author="cziegeler" created="Thu, 13 Feb 2020 09:13:26 +0000"  >&lt;p&gt;Merged PR&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0b9q0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9058] Regression in parent 37: A required class was missing while executing org.apache.maven.plugins:maven-release-plugin:3.0.0-M1:prepare: org/eclipse/aether/util/version/GenericVersionScheme</title>
                <link>https://issues.apache.org/jira/browse/SLING-9058</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When trying to trigger a release with parent 37 the following error can be observed&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] Checking dependencies and plugins &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; snapshots ...
[INFO] [prepare dry-run] 4/17 create-backup-poms
[INFO] [prepare dry-run] 5/17 map-release-versions
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  1.220 s
[INFO] Finished at: 2020-02-07T10:27:41+01:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-release-plugin:3.0.0-M1:prepare (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-cli) on project org.apache.sling.installer.core: Execution &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-cli of goal org.apache.maven.plugins:maven-release-plugin:3.0.0-M1:prepare failed: A required &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;was missing &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; executing org.apache.maven.plugins:maven-release-plugin:3.0.0-M1:prepare: org/eclipse/aether/util/version/GenericVersionScheme
[ERROR] -----------------------------------------------------
[ERROR] realm =    plugin&amp;gt;org.apache.maven.plugins:maven-release-plugin:3.0.0-M1
[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy
[ERROR] urls[0] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/plugins/maven-release-plugin/3.0.0-M1/maven-release-plugin-3.0.0-M1.jar
[ERROR] urls[1] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/release/maven-release-oddeven-policy/3.0.0-M1/maven-release-oddeven-policy-3.0.0-M1.jar
[ERROR] urls[2] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/release/maven-release-api/3.0.0-M1/maven-release-api-3.0.0-M1.jar
[ERROR] urls[3] = file:/Users/konradwindszus/.m2/repository/org/sonatype/sisu/sisu-inject-bean/1.4.2/sisu-inject-bean-1.4.2.jar
[ERROR] urls[4] = file:/Users/konradwindszus/.m2/repository/org/sonatype/sisu/sisu-guice/2.1.7/sisu-guice-2.1.7-noaop.jar
[ERROR] urls[5] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/release/maven-release-manager/3.0.0-M1/maven-release-manager-3.0.0-M1.jar
[ERROR] urls[6] = file:/Users/konradwindszus/.m2/repository/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-6/plexus-interactivity-api-1.0-alpha-6.jar
[ERROR] urls[7] = file:/Users/konradwindszus/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.14/plexus-interpolation-1.14.jar
[ERROR] urls[8] = file:/Users/konradwindszus/.m2/repository/org/sonatype/plexus/plexus-sec-dispatcher/1.3/plexus-sec-dispatcher-1.3.jar
[ERROR] urls[9] = file:/Users/konradwindszus/.m2/repository/org/sonatype/plexus/plexus-cipher/1.4/plexus-cipher-1.4.jar
[ERROR] urls[10] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/shared/maven-invoker/2.2/maven-invoker-2.2.jar
[ERROR] urls[11] = file:/Users/konradwindszus/.m2/repository/org/apache/commons/commons-lang3/3.7/commons-lang3-3.7.jar
[ERROR] urls[12] = file:/Users/konradwindszus/.m2/repository/commons-cli/commons-cli/1.2/commons-cli-1.2.jar
[ERROR] urls[13] = file:/Users/konradwindszus/.m2/repository/commons-io/commons-io/2.2/commons-io-2.2.jar
[ERROR] urls[14] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/scm/maven-scm-providers-standard/1.11.2/maven-scm-providers-standard-1.11.2.pom
[ERROR] urls[15] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/scm/maven-scm-provider-accurev/1.11.2/maven-scm-provider-accurev-1.11.2.jar
[ERROR] urls[16] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/scm/maven-scm-provider-bazaar/1.11.2/maven-scm-provider-bazaar-1.11.2.jar
[ERROR] urls[17] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/scm/maven-scm-provider-clearcase/1.11.2/maven-scm-provider-clearcase-1.11.2.jar
[ERROR] urls[18] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/scm/maven-scm-provider-cvsexe/1.11.2/maven-scm-provider-cvsexe-1.11.2.jar
[ERROR] urls[19] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/scm/maven-scm-provider-cvs-commons/1.11.2/maven-scm-provider-cvs-commons-1.11.2.jar
[ERROR] urls[20] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/scm/maven-scm-provider-cvsjava/1.11.2/maven-scm-provider-cvsjava-1.11.2.jar
[ERROR] urls[21] = file:/Users/konradwindszus/.m2/repository/org/netbeans/lib/cvsclient/20060125/cvsclient-20060125.jar
[ERROR] urls[22] = file:/Users/konradwindszus/.m2/repository/ch/ethz/ganymed/ganymed-ssh2/build210/ganymed-ssh2-build210.jar
[ERROR] urls[23] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/scm/maven-scm-provider-gitexe/1.11.2/maven-scm-provider-gitexe-1.11.2.jar
[ERROR] urls[24] = file:/Users/konradwindszus/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar
[ERROR] urls[25] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/scm/maven-scm-provider-git-commons/1.11.2/maven-scm-provider-git-commons-1.11.2.jar
[ERROR] urls[26] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/scm/maven-scm-provider-jgit/1.11.2/maven-scm-provider-jgit-1.11.2.jar
[ERROR] urls[27] = file:/Users/konradwindszus/.m2/repository/org/eclipse/jgit/org.eclipse.jgit/4.5.4.201711221230-r/org.eclipse.jgit-4.5.4.201711221230-r.jar
[ERROR] urls[28] = file:/Users/konradwindszus/.m2/repository/com/jcraft/jsch/0.1.53/jsch-0.1.53.jar
[ERROR] urls[29] = file:/Users/konradwindszus/.m2/repository/com/googlecode/javaewah/JavaEWAH/0.7.9/JavaEWAH-0.7.9.jar
[ERROR] urls[30] = file:/Users/konradwindszus/.m2/repository/org/apache/httpcomponents/httpclient/4.3.6/httpclient-4.3.6.jar
[ERROR] urls[31] = file:/Users/konradwindszus/.m2/repository/org/apache/httpcomponents/httpcore/4.3.3/httpcore-4.3.3.jar
[ERROR] urls[32] = file:/Users/konradwindszus/.m2/repository/commons-logging/commons-logging/1.1.3/commons-logging-1.1.3.jar
[ERROR] urls[33] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/scm/maven-scm-provider-hg/1.11.2/maven-scm-provider-hg-1.11.2.jar
[ERROR] urls[34] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/scm/maven-scm-provider-perforce/1.11.2/maven-scm-provider-perforce-1.11.2.jar
[ERROR] urls[35] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/scm/maven-scm-provider-starteam/1.11.2/maven-scm-provider-starteam-1.11.2.jar
[ERROR] urls[36] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/scm/maven-scm-provider-svnexe/1.11.2/maven-scm-provider-svnexe-1.11.2.jar
[ERROR] urls[37] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/scm/maven-scm-provider-synergy/1.11.2/maven-scm-provider-synergy-1.11.2.jar
[ERROR] urls[38] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/scm/maven-scm-provider-vss/1.11.2/maven-scm-provider-vss-1.11.2.jar
[ERROR] urls[39] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/scm/maven-scm-provider-tfs/1.11.2/maven-scm-provider-tfs-1.11.2.jar
[ERROR] urls[40] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/scm/maven-scm-provider-integrity/1.11.2/maven-scm-provider-integrity-1.11.2.jar
[ERROR] urls[41] = file:/Users/konradwindszus/.m2/repository/com/mks/api/mksapi-jar/4.10.9049/mksapi-jar-4.10.9049.jar
[ERROR] urls[42] = file:/Users/konradwindszus/.m2/repository/org/codehaus/groovy/groovy-all/1.7.6/groovy-all-1.7.6.jar
[ERROR] urls[43] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/scm/maven-scm-provider-jazz/1.11.2/maven-scm-provider-jazz-1.11.2.jar
[ERROR] urls[44] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/scm/maven-scm-manager-plexus/1.8/maven-scm-manager-plexus-1.8.jar
[ERROR] urls[45] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/scm/maven-scm-provider-svn-commons/1.11.2/maven-scm-provider-svn-commons-1.11.2.jar
[ERROR] urls[46] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/shared/maven-artifact-transfer/0.9.1/maven-artifact-transfer-0.9.1.jar
[ERROR] urls[47] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/shared/maven-common-artifact-filters/3.0.1/maven-common-artifact-filters-3.0.1.jar
[ERROR] urls[48] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/shared/maven-shared-utils/3.1.0/maven-shared-utils-3.1.0.jar
[ERROR] urls[49] = file:/Users/konradwindszus/.m2/repository/commons-codec/commons-codec/1.6/commons-codec-1.6.jar
[ERROR] urls[50] = file:/Users/konradwindszus/.m2/repository/org/sonatype/aether/aether-util/1.7/aether-util-1.7.jar
[ERROR] urls[51] = file:/Users/konradwindszus/.m2/repository/org/codehaus/plexus/plexus-component-annotations/1.7.1/plexus-component-annotations-1.7.1.jar
[ERROR] urls[52] = file:/Users/konradwindszus/.m2/repository/org/apache/maven/scm/maven-scm-api/1.11.2/maven-scm-api-1.11.2.jar
[ERROR] urls[53] = file:/Users/konradwindszus/.m2/repository/org/codehaus/plexus/plexus-utils/3.0.15/plexus-utils-3.0.15.jar
[ERROR] urls[54] = file:/Users/konradwindszus/.m2/repository/org/jdom/jdom/1.1/jdom-1.1.jar
[ERROR] &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of foreign imports: 1
[ERROR] &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt;: Entry[&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt;  from realm ClassRealm[maven.api, parent: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;]]
[ERROR] 
[ERROR] -----------------------------------------------------
[ERROR] : org.eclipse.aether.util.version.GenericVersionScheme
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt;.
[ERROR] Re-run Maven using the -X &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt; to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http:&lt;span class=&quot;code-comment&quot;&gt;//cwiki.apache.org/confluence/display/MAVEN/PluginContainerException&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13283891">SLING-9058</key>
            <summary>Regression in parent 37: A required class was missing while executing org.apache.maven.plugins:maven-release-plugin:3.0.0-M1:prepare: org/eclipse/aether/util/version/GenericVersionScheme</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Feb 2020 09:42:04 +0000</created>
                <updated>Fri, 7 Feb 2020 11:05:45 +0000</updated>
                            <resolved>Fri, 7 Feb 2020 11:05:45 +0000</resolved>
                                    <version>Parent 37</version>
                                    <fixVersion>Parent 38</fixVersion>
                                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17032258" author="kwin" created="Fri, 7 Feb 2020 09:47:49 +0000"  >&lt;p&gt;A workaround is to add the following dependency to the plugin classpath of maven-release-plugin:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;plugin&amp;gt;
                &amp;lt;artifactId&amp;gt;maven-release-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;dependencies&amp;gt;
                    &amp;lt;dependency&amp;gt;
                        &amp;lt;groupId&amp;gt;org.eclipse.aether&amp;lt;/groupId&amp;gt;
                        &amp;lt;artifactId&amp;gt;aether-util&amp;lt;/artifactId&amp;gt;
                        &amp;lt;version&amp;gt;1.0.0.v20140518&amp;lt;/version&amp;gt;
                    &amp;lt;/dependency&amp;gt;
                &amp;lt;/dependencies&amp;gt;
            &amp;lt;/plugin&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17032298" author="kwin" created="Fri, 7 Feb 2020 11:05:38 +0000"  >&lt;p&gt;Added workaround in &lt;a href=&quot;https://github.com/apache/sling-parent/commit/0f45c5635828907c27ab0612e191ad3f8c9e32d1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-parent/commit/0f45c5635828907c27ab0612e191ad3f8c9e32d1&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="13283890">MRELEASE-1040</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13281777">SLING-9032</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 37 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0b95k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9056] Adding target name=sling for MetricRegistry reference in sling-org-apache-sling-commons-scheduler</title>
                <link>https://issues.apache.org/jira/browse/SLING-9056</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There is a bug in sling-org-apache-sling-commons-scheduler due to which&#160;commons.scheduler.* metrics are coming under forms.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13283662">SLING-9056</key>
            <summary>Adding target name=sling for MetricRegistry reference in sling-org-apache-sling-commons-scheduler</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ieb">Ian Boston</assignee>
                                    <reporter username="aman2604">Aman</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Feb 2020 09:59:51 +0000</created>
                <updated>Mon, 10 Feb 2020 09:53:14 +0000</updated>
                            <resolved>Thu, 6 Feb 2020 10:03:45 +0000</resolved>
                                    <version>Commons Scheduler 2.7.4</version>
                                    <fixVersion>Commons Scheduler 2.7.6</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17031427" author="davidb" created="Thu, 6 Feb 2020 10:03:45 +0000"  >&lt;p&gt;Fixed with&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-scheduler/pull/3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-scheduler/pull/3&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 37 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0b7qo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9052] DistributionSubscriber is not failing correctly on  OakConstraint0025</title>
                <link>https://issues.apache.org/jira/browse/SLING-9052</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;During the reproduction attempt of another issue a node was mistakenly replicated incomplete (not satisfying the OakConstraints) leading to OakConstraint0025 - this should have caused the replication to be considered failed as the replicated node couldn&apos;t be written into the repository at first hand - instead this caused &amp;gt;4000 retries within an hour until being noticed.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
*ERROR* [Queue Processor &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Subscriber agent forwardSubscriber] org.apache.sling.distribution.journal.impl.subscriber.DistributionSubscriber Error processing queue item
org.apache.sling.distribution.common.DistributionException: javax.jcr.nodetype.ConstraintViolationException: OakConstraint0025: /etc/packages/my_packages/temptest.zip[[nt:file]]: Mandatory child node jcr:content not found in a &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; node
	at org.apache.sling.distribution.serialization.impl.vlt.FileVaultContentSerializer.importFromStream(FileVaultContentSerializer.java:170) [org.apache.sling.distribution.core:0.4.1.T201912202217-537bb57]
	at org.apache.sling.distribution.packaging.impl.InMemoryDistributionPackageBuilder.installPackageInternal(InMemoryDistributionPackageBuilder.java:119) [org.apache.sling.distribution.core:0.4.1.T201912202217-537bb57]
	at org.apache.sling.distribution.packaging.impl.AbstractDistributionPackageBuilder.installPackage(AbstractDistributionPackageBuilder.java:156) [org.apache.sling.distribution.core:0.4.1.T201912202217-537bb57]
	at org.apache.sling.distribution.monitor.impl.MonitoringDistributionPackageBuilder.installPackage(MonitoringDistributionPackageBuilder.java:92) [org.apache.sling.distribution.core:0.4.1.T201912202217-537bb57]
	at org.apache.sling.distribution.serialization.impl.vlt.VaultDistributionPackageBuilderFactory.installPackage(VaultDistributionPackageBuilderFactory.java:340) [org.apache.sling.distribution.core:0.4.1.T201912202217-537bb57]
	at org.apache.sling.distribution.journal.impl.subscriber.PackageHandler.installAddPackage(PackageHandler.java:70) [org.apache.sling.distribution.journal:0.1.7.T202023011551-c372493]
	at org.apache.sling.distribution.journal.impl.subscriber.PackageHandler.apply(PackageHandler.java:53) [org.apache.sling.distribution.journal:0.1.7.T202023011551-c372493]
	at org.apache.sling.distribution.journal.impl.subscriber.BookKeeper.importPackage(BookKeeper.java:153) [org.apache.sling.distribution.journal:0.1.7.T202023011551-c372493]
	at org.apache.sling.distribution.journal.impl.subscriber.DistributionSubscriber.processQueueItem(DistributionSubscriber.java:408) [org.apache.sling.distribution.journal:0.1.7.T202023011551-c372493]
	at org.apache.sling.distribution.journal.impl.subscriber.DistributionSubscriber.fetchAndProcessQueueItem(DistributionSubscriber.java:369) [org.apache.sling.distribution.journal:0.1.7.T202023011551-c372493]
	at org.apache.sling.distribution.journal.impl.subscriber.DistributionSubscriber.processQueue(DistributionSubscriber.java:353) [org.apache.sling.distribution.journal:0.1.7.T202023011551-c372493]
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:834)
Caused by: javax.jcr.nodetype.ConstraintViolationException: OakConstraint0025: /etc/packages/my_packages/temptest.zip[[nt:file]]: Mandatory child node jcr:content not found in a &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; node
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Clarification: &lt;br/&gt;
The expected behavior would be at least having the queue being blocked (which happened at no point) and in the specific case retries are doomed to continously fail as the package is incompatible with the target while. The errormessage does spam the error.log&lt;/p&gt;</description>
                <environment></environment>
        <key id="13283531">SLING-9052</key>
            <summary>DistributionSubscriber is not failing correctly on  OakConstraint0025</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="cschneider">Christian Schneider</assignee>
                                    <reporter username="dsuess">Dominik S&#252;&#223;</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Feb 2020 16:48:41 +0000</created>
                <updated>Tue, 21 Dec 2021 12:58:03 +0000</updated>
                            <resolved>Mon, 13 Dec 2021 08:59:50 +0000</resolved>
                                                    <fixVersion>Content Distribution Journal Core 0.1.22</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17034279" author="chris@die-schneider.net" created="Tue, 11 Feb 2020 09:18:15 +0000"  >&lt;p&gt;The error in the log indicates that the replication failed. What result would you expect instead?&lt;/p&gt;</comment>
                            <comment id="17034476" author="dsuess" created="Tue, 11 Feb 2020 14:14:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cschneider&quot; class=&quot;user-hover&quot; rel=&quot;cschneider&quot;&gt;cschneider&lt;/a&gt; please see added clarification above - the problem is that there was not indicator from the outside showing that an error was happening beyond the error messages in the error.log. The problem was only identified as in the test case I was anticipating the queue to eventually show to be blocked - I gave up after 1h and found it in the described state.&lt;/p&gt;</comment>
                            <comment id="17034482" author="chris@die-schneider.net" created="Tue, 11 Feb 2020 14:19:04 +0000"  >&lt;p&gt;I agree that the queue state should be changed after a certain number of retries. I will fix that.&lt;br/&gt;
We can not simply stop processing as we have no UI to then restart processing again. We can look into doing less frequent retries and/or less logging.&lt;/p&gt;</comment>
                            <comment id="17034594" author="marett" created="Tue, 11 Feb 2020 16:49:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cschneider&quot; class=&quot;user-hover&quot; rel=&quot;cschneider&quot;&gt;cschneider&lt;/a&gt; I think we need to figure out why OakConstraint0025 does not increase the retry count. That should be possible to reproduce fairly easily locally in a test.&lt;/p&gt;</comment>
                            <comment id="17381883" author="marett" created="Fri, 16 Jul 2021 08:10:32 +0000"  >&lt;p&gt;Currently, the code &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-journal/blob/697c9dd7ba83c5bf10e6a148aba971db1e8e7832/src/main/java/org/apache/sling/distribution/journal/impl/subscriber/DistributionSubscriber.java#L313-L316&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;catches all exceptions raised during import&lt;/a&gt;,  retries follow an exponential delay (since &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-10592&quot; title=&quot;Follow an exponential delay between import attempts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-10592&quot;&gt;&lt;del&gt;SLING-10592&lt;/del&gt;&lt;/a&gt;) and the number of import attempts is reflected in the json representation of the queue and/or queue item. One can get the json representation at /libs/sling/distribution/services/agents/publish/queues.2.json and looking at the property .&amp;lt;queueName&amp;gt;.&amp;lt;itemId&amp;gt;.attempts (e.g. 76cbf150-d210-4183-9af7-1a311e4e134a-publishSubscriber/package-0@878209/attempts).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dsuess&quot; class=&quot;user-hover&quot; rel=&quot;dsuess&quot;&gt;dsuess&lt;/a&gt; Anything left here ? Can you still reproduce this issue ? If not, I suggest to resolve this one as `Cannot Reproduce`.&lt;/p&gt;</comment>
                            <comment id="17458221" author="chris@die-schneider.net" created="Mon, 13 Dec 2021 08:59:50 +0000"  >&lt;p&gt;I was not able to reproduce this error anymore with current code.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 45 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0b6xk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9051] Package handling should not auto save the session</title>
                <link>https://issues.apache.org/jira/browse/SLING-9051</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;For clean transactional behavior of replication the session should not be autoSaved - the ootb behavior of filevault is to autoSave the nodes all 1024 nodes. This behavior should be changed somehow to keep transactional integrity&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-journal/blob/0b977dbd4782291c14f4173e76ef1451568100a2/src/main/java/org/apache/sling/distribution/journal/impl/subscriber/ContentPackageExtractor.java#L95-L97&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-journal/blob/0b977dbd4782291c14f4173e76ef1451568100a2/src/main/java/org/apache/sling/distribution/journal/impl/subscriber/ContentPackageExtractor.java#L95-L97&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13283530">SLING-9051</key>
            <summary>Package handling should not auto save the session</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="dsuess">Dominik S&#252;&#223;</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Feb 2020 16:44:30 +0000</created>
                <updated>Tue, 21 Dec 2021 12:58:03 +0000</updated>
                            <resolved>Fri, 17 Dec 2021 15:25:33 +0000</resolved>
                                                    <fixVersion>Content Distribution Journal Core 0.1.22</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17378275" author="marett" created="Fri, 9 Jul 2021 20:23:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dsuess&quot; class=&quot;user-hover&quot; rel=&quot;dsuess&quot;&gt;dsuess&lt;/a&gt; The repository can&apos;t save arbitrarily large commit, therefore a transactional handling is possible only for packages of limited size.&lt;/p&gt;

&lt;p&gt;Enforcing a limit in the content package extractor does not seem like a sensible option. Unlike today, end users would be required to split large package which is extra work and complexity. Moreover, importing those content packages won&apos;t be transactional.&lt;/p&gt;</comment>
                            <comment id="17461514" author="tmaret" created="Fri, 17 Dec 2021 15:25:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dsuess&quot; class=&quot;user-hover&quot; rel=&quot;dsuess&quot;&gt;dsuess&lt;/a&gt; I think that this can only be done when our backend, Apache Jackrabbit Oak, support saving arbitrarily large commits.&lt;/p&gt;</comment>
                            <comment id="17461516" author="tmaret" created="Fri, 17 Dec 2021 15:26:05 +0000"  >&lt;p&gt;Resolved as won&apos;t fix. Please reopen if there&apos;s an opportunity we missed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0b6xc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9050] Failures to extract or install the packages are not reported to the upper layer</title>
                <link>https://issues.apache.org/jira/browse/SLING-9050</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-journal/blob/0b977dbd4782291c14f4173e76ef1451568100a2/src/main/java/org/apache/sling/distribution/journal/impl/subscriber/ContentPackageExtractor.java#L100-L102&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-journal/blob/0b977dbd4782291c14f4173e76ef1451568100a2/src/main/java/org/apache/sling/distribution/journal/impl/subscriber/ContentPackageExtractor.java#L100-L102&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;swallows the exception and causes a failed extraction to not be reported and staying unnoticed. While a feature to autounblock and dispose packages from a queue if they fail to extract might be desirable there would be the need of a feedback channel reporting such disposed packages.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13283529">SLING-9050</key>
            <summary>Failures to extract or install the packages are not reported to the upper layer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cschneider">Christian Schneider</assignee>
                                    <reporter username="dsuess">Dominik S&#252;&#223;</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Feb 2020 16:41:53 +0000</created>
                <updated>Tue, 31 Mar 2020 12:44:55 +0000</updated>
                            <resolved>Tue, 17 Mar 2020 11:40:10 +0000</resolved>
                                                    <fixVersion>Content Distribution Journal Core 0.1.10</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17034484" author="chris@die-schneider.net" created="Tue, 11 Feb 2020 14:22:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt;&#160;I see the failed extract only does a warn message. So I propose we instead throw the exception and let the whole import of the distribution package fail. So the issue is reported clearly. Do you agree?&lt;/p&gt;</comment>
                            <comment id="17034596" author="marett" created="Tue, 11 Feb 2020 16:50:21 +0000"  >&lt;blockquote&gt;&lt;p&gt;we instead throw the exception and let the whole import of the distribution package fail. So the issue is reported clearly&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1, it is what I had in mind when we investigated the issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 37 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0b6x4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9049] DistributionPublisher does not validate queue names</title>
                <link>https://issues.apache.org/jira/browse/SLING-9049</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;ExtendedDistributionServiceResourceProvider currently fails to render json in case unexpected structures are mixed in (e.g. to provide resources to render a corresponding UI)&lt;/p&gt;

&lt;p&gt;This causes exceptions like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.IllegalArgumentException: Unsupported entryId format jcr:content
	at org.apache.sling.distribution.journal.impl.queue.impl.EntryUtil.entryOffset(EntryUtil.java:32)
	at org.apache.sling.distribution.journal.impl.queue.impl.PubQueue.getEntry(PubQueue.java:126)
	at org.apache.sling.distribution.resources.impl.ExtendedDistributionServiceResourceProvider.getQueueProperties(ExtendedDistributionServiceResourceProvider.java:180)
	at org.apache.sling.distribution.resources.impl.ExtendedDistributionServiceResourceProvider.getChildResourceProperties(ExtendedDistributionServiceResourceProvider.java:81)
	at org.apache.sling.distribution.resources.impl.DistributionServiceResourceProvider.getInternalResourceProperties(DistributionServiceResourceProvider.java:64)
	at org.apache.sling.distribution.resources.impl.common.AbstractReadableResourceProvider.getResourceProperties(AbstractReadableResourceProvider.java:175)
	at org.apache.sling.distribution.resources.impl.common.AbstractReadableResourceProvider.getResource(AbstractReadableResourceProvider.java:79)
	at org.apache.sling.distribution.resources.impl.DistributionServiceResourceProviderFactory.getResource(DistributionServiceResourceProviderFactory.java:99)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13283528">SLING-9049</key>
            <summary>DistributionPublisher does not validate queue names</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="dsuess">Dominik S&#252;&#223;</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Feb 2020 16:39:33 +0000</created>
                <updated>Thu, 17 Sep 2020 09:51:21 +0000</updated>
                            <resolved>Fri, 7 Feb 2020 21:13:39 +0000</resolved>
                                    <version>Content Distribution Journal Core 0.1.0</version>
                                    <fixVersion>Content Distribution Journal Core 0.1.8</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17032662" author="marett" created="Fri, 7 Feb 2020 21:13:39 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-journal/commit/93db4ac677a46a403aaafae9333fcbd695199412&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;93db4ac677a46a403aaafae9333fcbd695199412&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="13328026">SLING-9742</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 37 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0b6ww:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9048] The HTL engine does not specify the correct io.sightly.runtime requirement version range</title>
                <link>https://issues.apache.org/jira/browse/SLING-9048</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8471&quot; title=&quot;Update the HTL modules to the Sling bundle parent pom 35&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8471&quot;&gt;&lt;del&gt;SLING-8471&lt;/del&gt;&lt;/a&gt; was implemented, the transition from the &lt;tt&gt;maven-bundle-plugin&lt;/tt&gt; to the &lt;tt&gt;bnd-maven-plugin&lt;/tt&gt; introduced the error of defining the &lt;tt&gt;io.sightly.runtime&lt;/tt&gt; requirement as:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Require-Capability: io.sightly.runtime; filter:=&lt;span class=&quot;code-quote&quot;&gt;&quot;(&amp;amp;(version&amp;lt;=1.0)(!(version&amp;gt;=2.0)))&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;instead of:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Require-Capability: io.sightly.runtime; filter:=&lt;span class=&quot;code-quote&quot;&gt;&quot;(&amp;amp;(version&amp;gt;=1.0)(!(version&amp;gt;=2.0)))&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;While in practice this doesn&apos;t affect a regular Sling setup, it should be corrected.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13283480">SLING-9048</key>
            <summary>The HTL engine does not specify the correct io.sightly.runtime requirement version range</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Feb 2020 13:39:58 +0000</created>
                <updated>Mon, 22 Jun 2020 13:12:17 +0000</updated>
                            <resolved>Wed, 5 Feb 2020 13:58:27 +0000</resolved>
                                    <version>Scripting HTL Engine 1.2.0-1.4.0</version>
                                    <fixVersion>Scripting HTL Engine 1.4.0-1.4.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17030671" author="radu.cotescu" created="Wed, 5 Feb 2020 13:58:27 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-sightly/commit/a584639&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit a584639&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310460">
                    <name>Child-Issue</name>
                                                                <inwardlinks description="is a child of">
                                        <issuelink>
            <issuekey id="13291973">SLING-9207</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13237746">SLING-8471</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 38 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0b6m8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9047] The CIStatusValidator cannot verify multi-module releases</title>
                <link>https://issues.apache.org/jira/browse/SLING-9047</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &lt;tt&gt;CIStatusValidator&lt;/tt&gt; cannot verify multi-module releases, since the current algorithm for detecting the GitHub endpoint for retrieving the build status &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; relies on the artifact name + version for the reference. This works for regular single-module releases, since the tag corresponds to the artifact name + version. However, in the case of multi-module releases the validator fails. The reliable way of validating releases is by just using the tag name, which in the case of a release available in the pom.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; - &lt;a href=&quot;https://developer.github.com/v3/repos/statuses/#get-the-combined-status-for-a-specific-ref&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://developer.github.com/v3/repos/statuses/#get-the-combined-status-for-a-specific-ref&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13283465">SLING-9047</key>
            <summary>The CIStatusValidator cannot verify multi-module releases</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Feb 2020 12:36:38 +0000</created>
                <updated>Wed, 5 Feb 2020 12:39:18 +0000</updated>
                            <resolved>Wed, 5 Feb 2020 12:39:18 +0000</resolved>
                                                    <fixVersion>Committer CLI 1.0.0</fixVersion>
                                    <component>Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17030620" author="radu.cotescu" created="Wed, 5 Feb 2020 12:39:18 +0000"  >&lt;p&gt;Fixed in&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-committer-cli/commit/646b413&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 646b413&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 38 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0b6iw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9044] Use traversal to count items in resource based distribution queue</title>
                <link>https://issues.apache.org/jira/browse/SLING-9044</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/queue/impl/resource/ResourceQueueUtils.java#L320&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ResourceQueueUtils# getResourceCount()&lt;/a&gt; function is responsible for triggering an xpath query to get the resource queue items. This query tries to find all the &lt;tt&gt;nt:unstructured&lt;/tt&gt; nodes under a resource queue&apos;s path. This query is currently not backed by any index definition. This leads to a warning like below being logged when a request is made to list the items of resource queue - &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;11.12.2019 14:15:46.926 *WARN* [0:0:0:0:0:0:0:1 [1576053946802] GET /libs/granite/distribution/content/distribution-agent.html HTTP/1.1] org.apache.jackrabbit.oak.query.QueryImpl Traversal query (query without index): select [jcr:path], [jcr:score], * from [nt:unstructured] as a where isdescendantnode(a, &lt;span class=&quot;code-quote&quot;&gt;&apos;/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/sling/distribution/queues/bpqatest0/error-endpoint-bpqatest0&apos;&lt;/span&gt;) &lt;span class=&quot;code-comment&quot;&gt;/* xpath: /jcr:root/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/sling/distribution/queues/bpqatest0/error-endpoint-bpqatest0&lt;span class=&quot;code-comment&quot;&gt;//element(*,nt:unstructured) */&lt;/span&gt;; consider creating an index&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Switching to traversal here would be as efficient as writing an index for this query. &lt;/p&gt;

&lt;p&gt;Further, since a resource queue can also be an &lt;tt&gt;active&lt;/tt&gt; queue and the items will come and go, the indexer will have to do extra work of indexing the transient items.&lt;/p&gt;

&lt;p&gt;cc - &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashishc&quot; class=&quot;user-hover&quot; rel=&quot;ashishc&quot;&gt;ashishc&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13282577">SLING-9044</key>
            <summary>Use traversal to count items in resource based distribution queue</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="mohiaror">Mohit Arora</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 Jan 2020 10:04:48 +0000</created>
                <updated>Sun, 16 Feb 2020 21:54:43 +0000</updated>
                            <resolved>Fri, 7 Feb 2020 14:59:20 +0000</resolved>
                                                    <fixVersion>Content Distribution Core 0.4.2</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17027354" author="marett" created="Fri, 31 Jan 2020 10:30:42 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mohiaror&quot; class=&quot;user-hover&quot; rel=&quot;mohiaror&quot;&gt;mohiaror&lt;/a&gt;! This makes sense, would you provide a PR for this change ?&lt;/p&gt;</comment>
                            <comment id="17027504" author="jebailey" created="Fri, 31 Jan 2020 13:46:50 +0000"  >&lt;p&gt;As a note, we have a traversal library that&apos;s part of the core Sling bundles&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resource-filter&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resource-filter&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17031886" author="mohiaror" created="Thu, 6 Feb 2020 20:11:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jebailey&quot; class=&quot;user-hover&quot; rel=&quot;jebailey&quot;&gt;jebailey&lt;/a&gt; Thanks. I am checking it.&lt;/p&gt;

&lt;p&gt;By the way, it seems there is a typo in readme. I have raised a PR to fix that - &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resource-filter/pull/1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resource-filter/pull/1&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17031915" author="mohiaror" created="Thu, 6 Feb 2020 20:36:33 +0000"  >&lt;p&gt;It seems &lt;tt&gt;sling-resource-filter&lt;/tt&gt; bundle is not part of AEM QS at the moment. If I have to use it in sling-core I will have to include it in CQ/QS as well.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt; would that be Ok? Or should this change be done without &lt;tt&gt;sling-resource-filter&lt;/tt&gt; bundle?&lt;/p&gt;</comment>
                            <comment id="17031929" author="marett" created="Thu, 6 Feb 2020 21:00:40 +0000"  >&lt;p&gt;I suggest to go with the simple approach for now which I think is without the dependency and fill a follow up issue that covers leveraging the resource filter bundle in the entire bundle, not only for this method.&lt;/p&gt;</comment>
                            <comment id="17032322" author="mohiaror" created="Fri, 7 Feb 2020 11:52:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt; I have leveraged the iteration already being done in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/queue/impl/resource/ResourceQueueUtils.java#L159&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ResourceQueueUtils#getEntries()&lt;/a&gt; method for a resource queue. Added the handling for limit parameter.&lt;/p&gt;

&lt;p&gt;Can you please review the PR - &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/37&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/37&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17032323" author="mohiaror" created="Fri, 7 Feb 2020 11:53:19 +0000"  >&lt;p&gt;As a side note - the build for distribution-core is currently dependant on distribution-api&apos;s snapshot version. At least API bundle should be released and updated in distribution-core bundle.&lt;/p&gt;</comment>
                            <comment id="17032424" author="marett" created="Fri, 7 Feb 2020 14:59:08 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mohiaror&quot; class=&quot;user-hover&quot; rel=&quot;mohiaror&quot;&gt;mohiaror&lt;/a&gt;, merged your PR &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/37&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#37&lt;/a&gt;. I also added a test in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/commit/d8e3b1d97325e8d12fdb88a609ff4e0714147633&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;d8e3b1d97325e8d12fdb88a609ff4e0714147633&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Regarding the snapshot dependency, you are right. We are planning to cut a release of the api and core bundles together and then update the dependency in the core bundle.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 37 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0b1c8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9043] COPY/MOVE should be in the referer filter&apos;s default list of protected HTTP methods</title>
                <link>https://issues.apache.org/jira/browse/SLING-9043</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The COPY/MOVE method , by default, are not in the list of methods covered by the CSRF Referer filter. This might allow an attacker to copy files (abusing the privileges of a logged in victim) using CSRF.&lt;/p&gt;

&lt;p&gt;Note : With proper CORS configuration (such as the default) this issue is mitigated,&#160;CSRF is not a problem for COPY/MOVE&#160;&lt;b&gt;unless&lt;/b&gt;&#160;the attacked site has been configured to be wide open for CORS access.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13282533">SLING-9043</key>
            <summary>COPY/MOVE should be in the referer filter&apos;s default list of protected HTTP methods</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="sonagupt">Sonal Gupta</reporter>
                        <labels>
                            <label>vulnerability</label>
                    </labels>
                <created>Fri, 31 Jan 2020 06:23:12 +0000</created>
                <updated>Tue, 18 Feb 2020 10:03:59 +0000</updated>
                            <resolved>Mon, 10 Feb 2020 09:57:35 +0000</resolved>
                                                    <fixVersion>Security 1.1.18</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3600">1h</timespent>
                                <comments>
                            <comment id="17027223" author="sonagupt" created="Fri, 31 Jan 2020 06:24:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-security/pull/2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-security/pull/2&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17027228" author="reschke" created="Fri, 31 Jan 2020 06:39:45 +0000"  >&lt;p&gt;Not convinced, that COPY is actually a problem. Also, if COPY is, MOVE would be, too, right?&lt;/p&gt;</comment>
                            <comment id="17027304" author="sonagupt" created="Fri, 31 Jan 2020 09:17:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reschke&quot; class=&quot;user-hover&quot; rel=&quot;reschke&quot;&gt;reschke&lt;/a&gt; There was an issue opened for COPY function vulnerability inside Adobe&#160; as we are using COPY method to copy nodes in our CRX UI. we are nit using MOVE html request method in our code hence no vulnerability was raised for the same. So i fixed for COPY only. If required we can add MOVE as well. Please suggest.&lt;/p&gt;</comment>
                            <comment id="17027305" author="reschke" created="Fri, 31 Jan 2020 09:19:07 +0000"  >&lt;p&gt;Well, if COPY is problematic, so is MOVE.&lt;/p&gt;

&lt;p&gt;That said, I&apos;d like to see the concrete reasoning why COPY is problematic.&lt;/p&gt;</comment>
                            <comment id="17027311" author="sonagupt" created="Fri, 31 Jan 2020 09:25:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reschke&quot; class=&quot;user-hover&quot; rel=&quot;reschke&quot;&gt;reschke&lt;/a&gt; COPY command works perfectly fine with both valid/in-valid referrers and request passes.&#160;This might allow an attacker to copy files (abusing the privileges of a logged in victim) using CSRF.&#160;&#160;On adding COPY in referrer filter list, 403 Forbidden error occurs on using invalid referrer.&#160;&lt;/p&gt;

&lt;p&gt;curl &apos;http://localhost:8082/crx/server/crx.default/jcr%3aroot/etc/commerce&apos; -X COPY -H &apos;Connection: keep-alive&apos; -H &apos;Pragma: no-cache&apos; -H &apos;Cache-Control: no-cache&apos; -H &apos;X-Requested-With: XMLHttpRequest&apos; -H &apos;Overwrite: T&apos; -H &apos;Destination: /crx/server/crx.default/jcr%3aroot/apps/commerce&apos; -H &apos;User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36&apos; -H &apos;Accept:&#160;&lt;b&gt;/&lt;/b&gt;&apos; -H &apos;Origin:&#160;&lt;a href=&quot;http://localhost:8082/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8082&lt;/a&gt;&apos; -H &apos;Sec-Fetch-Site: same-origin&apos; -H &apos;Sec-Fetch-Mode: cors&apos; -H &apos;Referer:&#160;&lt;a href=&quot;http://localhost:8082/crx/de/index.jsp&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8082/crx/de/index.jsp&lt;/a&gt;&apos; -H &apos;Accept-Encoding: gzip, deflate, br&apos; -H &apos;Accept-Language: en-US,en;q=0.9&apos; -u &quot;admin:admin&quot; --compressed -I&lt;/p&gt;

&lt;p&gt;curl &apos;http://localhost:8082/crx/server/crx.default/jcr%3aroot/etc/commerce&apos; -X COPY -H &apos;Connection: keep-alive&apos; -H &apos;Pragma: no-cache&apos; -H &apos;Cache-Control: no-cache&apos; -H &apos;X-Requested-With: XMLHttpRequest&apos; -H &apos;Overwrite: T&apos; -H &apos;Destination: /crx/server/crx.default/jcr%3aroot/apps/commerce&apos; -H &apos;User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36&apos; -H &apos;Accept:&#160;&lt;b&gt;/&lt;/b&gt;&apos; -H &apos;Origin:&#160;&lt;a href=&quot;http://www.google.com/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.google.com&lt;/a&gt;&apos; -H &apos;Sec-Fetch-Site: same-origin&apos; -H &apos;Sec-Fetch-Mode: cors&apos; -H &apos;Referer:&#160;&lt;a href=&quot;http://www.google.com/search&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.google.com/search&lt;/a&gt;&apos; -H &apos;Accept-Encoding: gzip, deflate, br&apos; -H &apos;Accept-Language: en-US,en;q=0.9&apos; -u &quot;admin:admin&quot; --compressed -I&lt;/p&gt;</comment>
                            <comment id="17027313" author="reschke" created="Fri, 31 Jan 2020 09:33:39 +0000"  >&lt;p&gt;So the assumption is that the XHR request will not include the &quot;Referer&quot; request header??? Has this been tested?&lt;/p&gt;</comment>
                            <comment id="17029716" author="sonagupt" created="Tue, 4 Feb 2020 10:10:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reschke&quot; class=&quot;user-hover&quot; rel=&quot;reschke&quot;&gt;reschke&lt;/a&gt;&#160;Yes, i have tested that if referrer is empty/not specified then Forbidden error appears as empty referrer is not allowed by default.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-security/blob/master/src/main/java/org/apache/sling/security/impl/ReferrerFilter.java#L107&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-security/blob/master/src/main/java/org/apache/sling/security/impl/ReferrerFilter.java#L107&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Commands used:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;curl &apos;http://localhost:8081/crx/server/crx.default/jcr%3aroot/etc/commerce&apos; -X COPY -H &apos;Connection: keep-alive&apos; -H &apos;Pragma: no-cache&apos; -H &apos;Cache-Control: no-cache&apos; -H &apos;X-Requested-With: XMLHttpRequest&apos; -H &apos;Overwrite: T&apos; -H &apos;Destination: /crx/server/crx.default/jcr%3aroot/apps/commerce&apos; -H &apos;User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36&apos; -H &apos;Accept: &lt;b&gt;/&lt;/b&gt;&apos; -H &apos;Origin: &lt;a href=&quot;http://localhost:8081&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8081&lt;/a&gt;&apos; -H &apos;Sec-Fetch-Site: same-origin&apos; -H &apos;Sec-Fetch-Mode: cors&apos; -H &apos;Referer:&apos; -H &apos;Accept-Encoding: gzip, deflate, br&apos; -H &apos;Accept-Language: en-US,en;q=0.9&apos; -u &quot;admin:admin&quot; --compressed -I&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;curl &apos;http://localhost:8081/crx/server/crx.default/jcr%3aroot/etc/commerce&apos; -X COPY -H &apos;Connection: keep-alive&apos; -H &apos;Pragma: no-cache&apos; -H &apos;Cache-Control: no-cache&apos; -H &apos;X-Requested-With: XMLHttpRequest&apos; -H &apos;Overwrite: T&apos; -H &apos;Destination: /crx/server/crx.default/jcr%3aroot/apps/commerce&apos; -H &apos;User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36&apos; -H &apos;Accept: &lt;b&gt;/&lt;/b&gt;&apos; -H &apos;Origin: &lt;a href=&quot;http://localhost:8081&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8081&lt;/a&gt;&apos; -H &apos;Sec-Fetch-Site: same-origin&apos; -H &apos;Sec-Fetch-Mode: cors&apos; -H &apos;Accept-Encoding: gzip, deflate, br&apos; -H &apos;Accept-Language: en-US,en;q=0.9&apos; -u &quot;admin:admin&quot; --compressed -I&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="17029771" author="reschke" created="Tue, 4 Feb 2020 11:26:38 +0000"  >&lt;p&gt;I think testing with curl is misleading; you really need to test with the request as sent from a browser.&lt;/p&gt;</comment>
                            <comment id="17029773" author="sonagupt" created="Tue, 4 Feb 2020 11:29:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reschke&quot; class=&quot;user-hover&quot; rel=&quot;reschke&quot;&gt;reschke&lt;/a&gt; Yes, i am using the same command as used in browser. I performed a copy operation in AEM server CRXDELite with Chrome and in the network tab right-clicked the request and &quot;copy as Curl&quot;. Using the same command for testing.&lt;/p&gt;</comment>
                            <comment id="17029774" author="reschke" created="Tue, 4 Feb 2020 11:30:50 +0000"  >&lt;p&gt;So is the browser sending &quot;Referer&quot; for COPY or not?&lt;/p&gt;</comment>
                            <comment id="17029777" author="sonagupt" created="Tue, 4 Feb 2020 11:33:17 +0000"  >&lt;p&gt;Yes, it is sending. I tested without referrer for your comment:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;So the assumption is that the XHR request will not include the &quot;Referer&quot; request header??? Has this been tested?&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="17029778" author="reschke" created="Tue, 4 Feb 2020 11:35:58 +0000"  >&lt;p&gt;At this point I don&apos;t understand what the actual attack is.&lt;/p&gt;

&lt;p&gt;If the browser sends Refererer, COPY will continue to work, right?&lt;/p&gt;

&lt;p&gt;So what is the scenario in which blocking COPY requests without referer actually helps?&lt;/p&gt;</comment>
                            <comment id="17030359" author="sonagupt" created="Wed, 5 Feb 2020 04:58:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reschke&quot; class=&quot;user-hover&quot; rel=&quot;reschke&quot;&gt;reschke&lt;/a&gt; The attack is that if the COPY request is coming from a different host (referrer is not the same host) it should be blocked. Presently COPY method is not in the default list of methods hence requests coming from different host are also getting passed. We need to block these requests with invalid referrers.&lt;/p&gt;</comment>
                            <comment id="17030374" author="reschke" created="Wed, 5 Feb 2020 05:53:27 +0000"  >&lt;p&gt;That is not an attack.&lt;/p&gt;

&lt;p&gt;Please describe a scenario in which an attack is possible without the Referer check...&lt;/p&gt;</comment>
                            <comment id="17031428" author="chaotic" created="Thu, 6 Feb 2020 10:04:41 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reschke&quot; class=&quot;user-hover&quot; rel=&quot;reschke&quot;&gt;reschke&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COPY (and yes, MOVE as well) are state-changing operations and should ideally be protected against CSRF as a defense-in-depth measure in case of an overly permissive CORS (or even same-site) configuration.&lt;br/&gt;
The attack consists of luring a victim to an attacker&apos;s site, and then do an COPY XHR to the target, abusing the fact that the victim is authenticated and their browser will be automatically sending a session token. &lt;br/&gt;
Since the referrer will be the attackers site this attack would be mitigated by the referrer filter (analogous to PUT and DELETE already present in the list).&lt;/p&gt;</comment>
                            <comment id="17031442" author="kwin" created="Thu, 6 Feb 2020 10:21:23 +0000"  >&lt;p&gt;As the referrer is very often disabled in browsers one should IMHO rather rely on the origin header to prevent such kind of attack (&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin&lt;/a&gt;). AFAIK the origin header cannot be disabled (&lt;a href=&quot;https://www.sjoerdlangkemper.nl/2019/02/27/prevent-csrf-with-the-origin-http-request-header/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.sjoerdlangkemper.nl/2019/02/27/prevent-csrf-with-the-origin-http-request-header/&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="17031455" author="chaotic" created="Thu, 6 Feb 2020 10:42:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;: Yes, with proper CORS configuration this issue is mitigated - however, both headers might be stripped in some situations (see also: &lt;a href=&quot;https://owasp.org/www-project-cheat-sheets/cheatsheets/Cross-Site_Request_Forgery_Prevention_Cheat_Sheet.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://owasp.org/www-project-cheat-sheets/cheatsheets/Cross-Site_Request_Forgery_Prevention_Cheat_Sheet.html&lt;/a&gt;) and IMHO it wouldn&apos;t hurt to add the methods to the referrer filter given that it&apos;s already there, and given the many lax CORS configurations out there. &lt;/p&gt;</comment>
                            <comment id="17031467" author="reschke" created="Thu, 6 Feb 2020 10:48:42 +0000"  >&lt;p&gt;Ok, there were two things here that alarmed me:&lt;/p&gt;

&lt;p&gt;1. special-casing COPY but not MOVE&lt;br/&gt;
2. not mentioning that CSRF is not a problem for COPY &lt;b&gt;unless&lt;/b&gt; the attacked site has been configured to be wide open for CORS access&lt;/p&gt;

&lt;p&gt;The latter absolutely needs to be mentioned here, so that people do not come to wrong conclusions.&lt;/p&gt;</comment>
                            <comment id="17032288" author="chaotic" created="Fri, 7 Feb 2020 10:45:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reschke&quot; class=&quot;user-hover&quot; rel=&quot;reschke&quot;&gt;reschke&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;: &lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sonagupt&quot; class=&quot;user-hover&quot; rel=&quot;sonagupt&quot;&gt;sonagupt&lt;/a&gt; has updated the PR and added MOVE. Any more concerns from your side? Merci!&lt;/p&gt;</comment>
                            <comment id="17032539" author="reschke" created="Fri, 7 Feb 2020 17:26:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chaotic&quot; class=&quot;user-hover&quot; rel=&quot;chaotic&quot;&gt;chaotic&lt;/a&gt; - it should be made clear in the ticket description that there&apos;s only a risk if the attacked server has opened the CORS settings for these methods; so essentially has opted-in to this.&lt;/p&gt;</comment>
                            <comment id="17033387" author="sonagupt" created="Mon, 10 Feb 2020 05:48:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reschke&quot; class=&quot;user-hover&quot; rel=&quot;reschke&quot;&gt;reschke&lt;/a&gt;&#160;I have updated the issue description. Can you please merge the check-in.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-security/pull/2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-security/pull/2&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="17033393" author="reschke" created="Mon, 10 Feb 2020 06:18:10 +0000"  >&lt;p&gt;I&apos;d rephrase &quot;proper CORS configuration&quot; to &quot;proper CORS configuration (such as the default)&quot;.&lt;/p&gt;

&lt;p&gt;That said, I&apos;m not a committer; so I can&apos;t help you with that.&lt;/p&gt;</comment>
                            <comment id="17033395" author="sonagupt" created="Mon, 10 Feb 2020 06:21:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;&#160;Can you please help me in committing this fix.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="17033476" author="rombert" created="Mon, 10 Feb 2020 09:57:47 +0000"  >&lt;p&gt;PR applied, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sonagupt&quot; class=&quot;user-hover&quot; rel=&quot;sonagupt&quot;&gt;sonagupt&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17033503" author="kwin" created="Mon, 10 Feb 2020 11:16:16 +0000"  >&lt;p&gt;I added &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9061&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-9061&lt;/a&gt; to track the improvement to evaluate the Origin header as well.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13284253">SLING-9061</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 37 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0b12g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9041] Converter adding .config ending of sling:OsgiConfig nodes to pid</title>
                <link>https://issues.apache.org/jira/browse/SLING-9041</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The extraction logic of the cp2featuremodel converter currently extracts the pid from the name by stripping of the extension after (including) the last dot - this is wrong in context of sling:OsgiConfig nodes as those are serialized as .xml while the nodes themselves have a .config option. The mechanism should be replaced by an adjustment of the already existing pattern-matcher based logic (currently used for detecting the runmodes).&lt;/p&gt;

&lt;p&gt;As consumers may already depend on nodes without the .config ending the endings .config.xml and .xml must be supported in a non-greedy way (if ending with .config.xml the .config shouldn&apos;t be part of the capturing group) for backwards compatiblity.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13282421">SLING-9041</key>
            <summary>Converter adding .config ending of sling:OsgiConfig nodes to pid</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="karlpauls">Karl Pauls</assignee>
                                    <reporter username="dsuess">Dominik S&#252;&#223;</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Jan 2020 15:53:18 +0000</created>
                <updated>Mon, 10 Feb 2020 09:50:44 +0000</updated>
                            <resolved>Thu, 30 Jan 2020 17:02:50 +0000</resolved>
                                    <version>Content-Package to Feature Model Converter 1.0.6</version>
                                    <fixVersion>Content-Package to Feature Model Converter 1.0.8</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17026780" author="dsuess" created="Thu, 30 Jan 2020 15:57:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=karlpauls&quot; class=&quot;user-hover&quot; rel=&quot;karlpauls&quot;&gt;karlpauls&lt;/a&gt; - can you please pick up PR?&lt;/p&gt;</comment>
                            <comment id="17026820" author="karlpauls" created="Thu, 30 Jan 2020 17:02:50 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dsuess&quot; class=&quot;user-hover&quot; rel=&quot;dsuess&quot;&gt;dsuess&lt;/a&gt;, its merged.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 38 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0b0dk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9040] High resource consumption when activating/deactivating ResourceProviders</title>
                <link>https://issues.apache.org/jira/browse/SLING-9040</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8946&quot; title=&quot;Non-deterministic shadowing of resource observation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8946&quot;&gt;SLING-8946&lt;/a&gt; the updating of all ResourceProviders when their exclude path set changes was introduced to prevent non-deterministic behaviour of resource observation. &lt;/p&gt;

&lt;p&gt;This change though caused calling &lt;tt&gt;updateProviderContext()&lt;/tt&gt; and &lt;tt&gt;ResourceProviderHandler#update()&lt;/tt&gt; on every registered &lt;tt&gt;ResourceProviderHandler&lt;/tt&gt; when a new ResourceProvider was activated/deactivated no matter if the paths actually intersect. &lt;/p&gt;

&lt;p&gt;This is quite resource consuming (processing time and memory) and should be reduced to update only those handlers that actually intersect with the handler added/removed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13282390">SLING-9040</key>
            <summary>High resource consumption when activating/deactivating ResourceProviders</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="diru">Dirk Rudolph</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Jan 2020 14:37:45 +0000</created>
                <updated>Fri, 21 Aug 2020 12:08:35 +0000</updated>
                            <resolved>Fri, 21 Aug 2020 12:08:11 +0000</resolved>
                                                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="17026735" author="diru" created="Thu, 30 Jan 2020 14:48:16 +0000"  >&lt;p&gt;I&apos;m working on a patch that reduces the collection of ResourceProviderHandlers being updated to those that actually can intersect. This is in most cases max 2 (root an the actual activated/deactivated ResourceProvider). &lt;/p&gt;

&lt;p&gt;Still JcrResourceProvider is on each ResourceProvider#update(long) removing and registering its jcr listener(s). This should be addressed as well.&lt;/p&gt;</comment>
                            <comment id="17027067" author="rombert" created="Thu, 30 Jan 2020 23:01:01 +0000"  >&lt;p&gt;Your PR is applied, thanks a lot &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt; for the rapid fix&lt;/p&gt;</comment>
                            <comment id="17032296" author="sonagupt" created="Fri, 7 Feb 2020 11:04:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt;&#160;Can you please look into the failing tests which i have attached in the related issue.&lt;/p&gt;</comment>
                            <comment id="17095102" author="cziegeler" created="Wed, 29 Apr 2020 05:48:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sonagupt&quot; class=&quot;user-hover&quot; rel=&quot;sonagupt&quot;&gt;sonagupt&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt; Reading the last comment, it seems there are issues with this change - if so we need to reopen and fix to unblock potential resource resolver releases&lt;/p&gt;</comment>
                            <comment id="17095116" author="diru" created="Wed, 29 Apr 2020 06:24:09 +0000"  >&lt;p&gt;I think &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sonagupt&quot; class=&quot;user-hover&quot; rel=&quot;sonagupt&quot;&gt;sonagupt&lt;/a&gt;&#160;was referring to the Adobe ITs related to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8946&quot; title=&quot;Non-deterministic shadowing of resource observation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8946&quot;&gt;SLING-8946&lt;/a&gt;.&#160;&lt;/p&gt;</comment>
                            <comment id="17095120" author="rombert" created="Wed, 29 Apr 2020 06:31:22 +0000"  >&lt;p&gt;We still have &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8946&quot; title=&quot;Non-deterministic shadowing of resource observation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8946&quot;&gt;SLING-8946&lt;/a&gt; open. Would be good if &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sonagupt&quot; class=&quot;user-hover&quot; rel=&quot;sonagupt&quot;&gt;sonagupt&lt;/a&gt; would confirm ( here or on &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8946&quot; title=&quot;Non-deterministic shadowing of resource observation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8946&quot;&gt;SLING-8946&lt;/a&gt; ) whether there are any outstading issues detected.&lt;/p&gt;</comment>
                            <comment id="17095131" author="diru" created="Wed, 29 Apr 2020 06:46:16 +0000"  >&lt;p&gt;And there is &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9077&quot; title=&quot;Improve runtime complexity of o.a.s.api.resource.path.PathSet&amp;#39;s factory methods&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9077&quot;&gt;&lt;del&gt;SLING-9077&lt;/del&gt;&lt;/a&gt; open, which reduces the time complexity of the problem noticeably. Not sure though if the introduced complexity in the PathSet is worth it, considering &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9365&quot; title=&quot;Optionally don&amp;#39;t create resource providers for servlets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9365&quot;&gt;&lt;del&gt;SLING-9365&lt;/del&gt;&lt;/a&gt; will be a more elegant approach if feasible.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17095135" author="sonagupt" created="Wed, 29 Apr 2020 06:52:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9365&quot; title=&quot;Optionally don&amp;#39;t create resource providers for servlets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9365&quot;&gt;&lt;del&gt;SLING-9365&lt;/del&gt;&lt;/a&gt;&#160;is not yet fixed. There is no change related to the same. Not sure if it is worth it to test with the PR for&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9077&quot; title=&quot;Improve runtime complexity of o.a.s.api.resource.path.PathSet&amp;#39;s factory methods&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9077&quot;&gt;&lt;del&gt;SLING-9077&lt;/del&gt;&lt;/a&gt;&#160; if we are not planning to include it. Please suggest.&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17095143" author="cziegeler" created="Wed, 29 Apr 2020 06:59:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sonagupt&quot; class=&quot;user-hover&quot; rel=&quot;sonagupt&quot;&gt;sonagupt&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9365&quot; title=&quot;Optionally don&amp;#39;t create resource providers for servlets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9365&quot;&gt;&lt;del&gt;SLING-9365&lt;/del&gt;&lt;/a&gt; will be fixed soon&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt; So I think we can probably close &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9077&quot; title=&quot;Improve runtime complexity of o.a.s.api.resource.path.PathSet&amp;#39;s factory methods&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9077&quot;&gt;&lt;del&gt;SLING-9077&lt;/del&gt;&lt;/a&gt; (due to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9365&quot; title=&quot;Optionally don&amp;#39;t create resource providers for servlets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9365&quot;&gt;&lt;del&gt;SLING-9365&lt;/del&gt;&lt;/a&gt;) and then continue the discussion on &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8946&quot; title=&quot;Non-deterministic shadowing of resource observation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8946&quot;&gt;SLING-8946&lt;/a&gt; what needs to be done there.&lt;br/&gt;
Thanks&lt;/p&gt;</comment>
                            <comment id="17178974" author="rombert" created="Mon, 17 Aug 2020 13:29:12 +0000"  >&lt;p&gt;This commit has been reverted and moved to &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/tree/feature/SLING-8946&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/tree/feature/SLING-8946&lt;/a&gt; . Please see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8946?focusedCommentId=17178893&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17178893&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-8946?focusedCommentId=17178893&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17178893&lt;/a&gt; for more context.&lt;/p&gt;</comment>
                            <comment id="17181841" author="rombert" created="Fri, 21 Aug 2020 12:08:11 +0000"  >&lt;p&gt;I&apos;m resolving this as a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8946&quot; title=&quot;Non-deterministic shadowing of resource observation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8946&quot;&gt;SLING-8946&lt;/a&gt;, since the fixes for that issue should be done without affecting performance.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13275778">SLING-8946</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13275778">SLING-8946</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 9 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0b06o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9039] The PackageCleanupTask may never run in k8s deployments</title>
                <link>https://issues.apache.org/jira/browse/SLING-9039</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8969&quot; title=&quot;Make sure that cleaning the package repo creates as few seeding packages as possible&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8969&quot;&gt;&lt;del&gt;SLING-8969&lt;/del&gt;&lt;/a&gt; the delay between two runs of the package cleanup task has been set to 7 days. That makes sense however in practice the task may never run unless the service is kept alive for 7 days. In cloud deployments where we treat services as cattle there likely are no service alive for that long.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13282342">SLING-9039</key>
            <summary>The PackageCleanupTask may never run in k8s deployments</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="marett">Timothee Maret</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Jan 2020 09:07:54 +0000</created>
                <updated>Sun, 16 Feb 2020 21:56:18 +0000</updated>
                            <resolved>Thu, 30 Jan 2020 09:12:28 +0000</resolved>
                                    <version>Content Distribution Journal Core 0.1.6</version>
                                    <fixVersion>Content Distribution Journal Core 0.1.8</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17026529" author="marett" created="Thu, 30 Jan 2020 09:12:20 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-journal/commit/05347db39306554539fd909b4b05b8782f7df967&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;05347db39306554539fd909b4b05b8782f7df967&lt;/a&gt; by making sure the task runs upon activate.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13277951">SLING-8969</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0azw0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9038] Feature IO is reporting any artifact not found even if found in another repository</title>
                <link>https://issues.apache.org/jira/browse/SLING-9038</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When an artifact is not available in the first remote place the Artifact Manager is looking then it will through an File Not Found Exception and it will report that even though that can be found later in another repository.&lt;/p&gt;

&lt;p&gt;The exception stacktrace should not printed and the log message should print the context that it is not a failure but just a try to find and on trace level.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13282277">SLING-9038</key>
            <summary>Feature IO is reporting any artifact not found even if found in another repository</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andysch">Andreas Schaefer</assignee>
                                    <reporter username="andysch">Andreas Schaefer</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Jan 2020 22:25:12 +0000</created>
                <updated>Fri, 20 Mar 2020 06:31:19 +0000</updated>
                            <resolved>Fri, 20 Mar 2020 06:31:19 +0000</resolved>
                                    <version>Feature Model IO 1.2.2</version>
                                    <fixVersion>Feature Model IO 1.3.0</fixVersion>
                                    <component>Feature Model</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17038663" author="cziegeler" created="Mon, 17 Feb 2020 22:18:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andysch&quot; class=&quot;user-hover&quot; rel=&quot;andysch&quot;&gt;andysch&lt;/a&gt; Isn&apos;t this already committed?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 36 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0azhk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9037] SubscriberIdle should report ready when waiting for a PreCondition</title>
                <link>https://issues.apache.org/jira/browse/SLING-9037</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently SusbscriberIdle status is RED when waiting for a PreCondition.&#160;&lt;br/&gt;
One case from AEM is that the golden publish master has a blocked queue (constantly failing package).&lt;/p&gt;

&lt;p&gt;In such a case it does not make sense to delay the readiness of instance.&lt;/p&gt;

&lt;p&gt;So Subscriber should report idle while waiting for a PreCondition.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13282151">SLING-9037</key>
            <summary>SubscriberIdle should report ready when waiting for a PreCondition</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cschneider">Christian Schneider</assignee>
                                    <reporter username="cschneider">Christian Schneider</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Jan 2020 10:47:45 +0000</created>
                <updated>Sun, 16 Feb 2020 21:56:21 +0000</updated>
                            <resolved>Wed, 29 Jan 2020 13:52:57 +0000</resolved>
                                    <version>Content Distribution Journal Core 0.1.6</version>
                                    <fixVersion>Content Distribution Journal Core 0.1.8</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17025885" author="chris@die-schneider.net" created="Wed, 29 Jan 2020 13:52:57 +0000"  >&lt;p&gt;Added an initially failing test and a fix for the issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0aypk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9035] The XSSProtectionAPIWebConsolePlugin fails to load resources when deployed under a custom context path</title>
                <link>https://issues.apache.org/jira/browse/SLING-9035</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The XSSProtectionAPIWebConsolePlugin fails to load CSS / JS resources when deployed under a custom context path.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13281953">SLING-9035</key>
            <summary>The XSSProtectionAPIWebConsolePlugin fails to load resources when deployed under a custom context path</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Jan 2020 15:07:37 +0000</created>
                <updated>Tue, 4 Feb 2020 10:40:17 +0000</updated>
                            <resolved>Tue, 28 Jan 2020 15:20:04 +0000</resolved>
                                    <version>XSS Protection API 2.2.0</version>
                                    <fixVersion>XSS Protection API 2.2.2</fixVersion>
                                    <component>XSS Protection API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17025205" author="radu.cotescu" created="Tue, 28 Jan 2020 15:20:04 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-xss/commit/08aac0f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 08aac0f&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0axhk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9034] The MemebersFinder service throws a NPE if the name is missing from an email address</title>
                <link>https://issues.apache.org/jira/browse/SLING-9034</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &lt;tt&gt;MemebersFinder&lt;/tt&gt; service throws a NPE if the name is missing from an email address.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13281894">SLING-9034</key>
            <summary>The MemebersFinder service throws a NPE if the name is missing from an email address</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Jan 2020 09:25:13 +0000</created>
                <updated>Tue, 28 Jan 2020 09:25:59 +0000</updated>
                            <resolved>Tue, 28 Jan 2020 09:25:59 +0000</resolved>
                                                    <fixVersion>Committer CLI 1.0.0</fixVersion>
                                    <component>Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17024985" author="radu.cotescu" created="Tue, 28 Jan 2020 09:25:59 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-committer-cli/commit/ea8c0ab&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit ea8c0ab&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ax4g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9032] Problem releaseing with Parent 36: NoClassDefFoundError: org/apache/maven/shared/release/env/ReleaseEnvironment</title>
                <link>https://issues.apache.org/jira/browse/SLING-9032</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;i&apos;ve problems releasing projects/bundles with parent 36 - e.g. when executing &lt;tt&gt;mvn release:prepare&lt;/tt&gt; on&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-resourceresolver-mock&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-resourceresolver-mock&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;this fails &lt;b&gt;immediately&lt;/b&gt; (before prompting for the version numbers) with:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] Scanning for projects...
[INFO]
[INFO] --&amp;lt; org.apache.sling:org.apache.sling.testing.resourceresolver-mock &amp;gt;---
[INFO] Building Apache Sling Testing Resource Resolver Mock 1.1.25-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO]
[INFO] --- maven-release-plugin:3.0.0-M1:prepare (default-cli) @ org.apache.sling.testing.resourceresolver-mock ---
[WARNING] Error injecting: org.apache.maven.plugins.release.PrepareReleaseMojo
java.lang.NoClassDefFoundError: org/apache/maven/shared/release/env/ReleaseEnvironment
    at java.lang.Class.getDeclaredConstructors0 (Native Method)
    at java.lang.Class.privateGetDeclaredConstructors (Class.java:2671)
    at java.lang.Class.getDeclaredConstructors (Class.java:2020)
    at com.google.inject.spi.InjectionPoint.forConstructorOf (InjectionPoint.java:245)
    at com.google.inject.internal.ConstructorBindingImpl.create (ConstructorBindingImpl.java:115)
    at com.google.inject.internal.InjectorImpl.createUninitializedBinding (InjectorImpl.java:706)
    at com.google.inject.internal.InjectorImpl.createJustInTimeBinding (InjectorImpl.java:930)
    at com.google.inject.internal.InjectorImpl.createJustInTimeBindingRecursive (InjectorImpl.java:852)
    at com.google.inject.internal.InjectorImpl.getJustInTimeBinding (InjectorImpl.java:291)
    at com.google.inject.internal.InjectorImpl.getBindingOrThrow (InjectorImpl.java:222)
    at com.google.inject.internal.InjectorImpl.getProviderOrThrow (InjectorImpl.java:1040)
    at com.google.inject.internal.InjectorImpl.getProvider (InjectorImpl.java:1071)
    at com.google.inject.internal.InjectorImpl.getProvider (InjectorImpl.java:1034)
    at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)
    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)
    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)
    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)
    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)
    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)
    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)
    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)
    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)
    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)
    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)
    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)
    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)
    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)
    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)
    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)
    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)
    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)
    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)
    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)
    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)
    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)
    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)
    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)
    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke (Method.java:498)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)
    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)
    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)
Caused by: java.lang.ClassNotFoundException: org.apache.maven.shared.release.env.ReleaseEnvironment
    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass (SelfFirstStrategy.java:50)
    at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass (ClassRealm.java:271)
    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:247)
    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:239)
    at java.lang.Class.getDeclaredConstructors0 (Native Method)
    at java.lang.Class.privateGetDeclaredConstructors (Class.java:2671)
    at java.lang.Class.getDeclaredConstructors (Class.java:2020)
    at com.google.inject.spi.InjectionPoint.forConstructorOf (InjectionPoint.java:245)
    at com.google.inject.internal.ConstructorBindingImpl.create (ConstructorBindingImpl.java:115)
    at com.google.inject.internal.InjectorImpl.createUninitializedBinding (InjectorImpl.java:706)
    at com.google.inject.internal.InjectorImpl.createJustInTimeBinding (InjectorImpl.java:930)
    at com.google.inject.internal.InjectorImpl.createJustInTimeBindingRecursive (InjectorImpl.java:852)
    at com.google.inject.internal.InjectorImpl.getJustInTimeBinding (InjectorImpl.java:291)
    at com.google.inject.internal.InjectorImpl.getBindingOrThrow (InjectorImpl.java:222)
    at com.google.inject.internal.InjectorImpl.getProviderOrThrow (InjectorImpl.java:1040)
    at com.google.inject.internal.InjectorImpl.getProvider (InjectorImpl.java:1071)
    at com.google.inject.internal.InjectorImpl.getProvider (InjectorImpl.java:1034)
    at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)
    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)
    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)
    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)
    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)
    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)
    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)
    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)
    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)
    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)
    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)
    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)
    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)
    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)
    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)
    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)
    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)
    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)
    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)
    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)
    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)
    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)
    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)
    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)
    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke (Method.java:498)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)
    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)
    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  2.110 s
[INFO] Finished at: 2020-01-27T19:05:32+01:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-release-plugin:3.0.0-M1:prepare (default-cli) on project org.apache.sling.testing.resourceresolver-mock: Execution default-cli of goal org.apache.maven.plugins:maven-release-plugin:3.0.0-M1:prepare failed: A required class was missing while executing org.apache.maven.plugins:maven-release-plugin:3.0.0-M1:prepare: org/apache/maven/shared/release/env/ReleaseEnvironment
[ERROR] -----------------------------------------------------
[ERROR] realm =    plugin&amp;gt;org.apache.maven.plugins:maven-release-plugin:3.0.0-M1
[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy
[ERROR] urls[0] = file:/~/.m2/repository/org/apache/maven/plugins/maven-release-plugin/3.0.0-M1/maven-release-plugin-3.0.0-M1.jar
[ERROR] urls[1] = file:/~/.m2/repository/org/apache/maven/release/maven-release-oddeven-policy/2.5.3/maven-release-oddeven-policy-2.5.3.jar
[ERROR] urls[2] = file:/~/.m2/repository/org/apache/maven/release/maven-release-api/2.5.3/maven-release-api-2.5.3.jar
[ERROR] urls[3] = file:/~/.m2/repository/org/eclipse/aether/aether-util/1.0.0.v20140518/aether-util-1.0.0.v20140518.jar
[ERROR] urls[4] = file:/~/.m2/repository/org/sonatype/sisu/sisu-inject-bean/1.4.2/sisu-inject-bean-1.4.2.jar
[ERROR] urls[5] = file:/~/.m2/repository/org/sonatype/sisu/sisu-guice/2.1.7/sisu-guice-2.1.7-noaop.jar
[ERROR] urls[6] = file:/~/.m2/repository/org/apache/maven/release/maven-release-manager/3.0.0-M1/maven-release-manager-3.0.0-M1.jar
[ERROR] urls[7] = file:/~/.m2/repository/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-6/plexus-interactivity-api-1.0-alpha-6.jar
[ERROR] urls[8] = file:/~/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.14/plexus-interpolation-1.14.jar
[ERROR] urls[9] = file:/~/.m2/repository/org/sonatype/plexus/plexus-sec-dispatcher/1.3/plexus-sec-dispatcher-1.3.jar
[ERROR] urls[10] = file:/~/.m2/repository/org/sonatype/plexus/plexus-cipher/1.4/plexus-cipher-1.4.jar
[ERROR] urls[11] = file:/~/.m2/repository/org/apache/maven/shared/maven-invoker/2.2/maven-invoker-2.2.jar
[ERROR] urls[12] = file:/~/.m2/repository/org/apache/commons/commons-lang3/3.7/commons-lang3-3.7.jar
[ERROR] urls[13] = file:/~/.m2/repository/commons-cli/commons-cli/1.2/commons-cli-1.2.jar
[ERROR] urls[14] = file:/~/.m2/repository/commons-io/commons-io/2.2/commons-io-2.2.jar
[ERROR] urls[15] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-providers-standard/1.11.2/maven-scm-providers-standard-1.11.2.pom
[ERROR] urls[16] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-accurev/1.11.2/maven-scm-provider-accurev-1.11.2.jar
[ERROR] urls[17] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-bazaar/1.11.2/maven-scm-provider-bazaar-1.11.2.jar
[ERROR] urls[18] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-clearcase/1.11.2/maven-scm-provider-clearcase-1.11.2.jar
[ERROR] urls[19] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-cvsexe/1.11.2/maven-scm-provider-cvsexe-1.11.2.jar
[ERROR] urls[20] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-cvs-commons/1.11.2/maven-scm-provider-cvs-commons-1.11.2.jar
[ERROR] urls[21] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-cvsjava/1.11.2/maven-scm-provider-cvsjava-1.11.2.jar
[ERROR] urls[22] = file:/~/.m2/repository/org/netbeans/lib/cvsclient/20060125/cvsclient-20060125.jar
[ERROR] urls[23] = file:/~/.m2/repository/ch/ethz/ganymed/ganymed-ssh2/build210/ganymed-ssh2-build210.jar
[ERROR] urls[24] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-gitexe/1.11.2/maven-scm-provider-gitexe-1.11.2.jar
[ERROR] urls[25] = file:/~/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar
[ERROR] urls[26] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-git-commons/1.11.2/maven-scm-provider-git-commons-1.11.2.jar
[ERROR] urls[27] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-jgit/1.11.2/maven-scm-provider-jgit-1.11.2.jar
[ERROR] urls[28] = file:/~/.m2/repository/org/eclipse/jgit/org.eclipse.jgit/4.5.4.201711221230-r/org.eclipse.jgit-4.5.4.201711221230-r.jar
[ERROR] urls[29] = file:/~/.m2/repository/com/jcraft/jsch/0.1.53/jsch-0.1.53.jar
[ERROR] urls[30] = file:/~/.m2/repository/com/googlecode/javaewah/JavaEWAH/0.7.9/JavaEWAH-0.7.9.jar
[ERROR] urls[31] = file:/~/.m2/repository/org/apache/httpcomponents/httpclient/4.3.6/httpclient-4.3.6.jar
[ERROR] urls[32] = file:/~/.m2/repository/org/apache/httpcomponents/httpcore/4.3.3/httpcore-4.3.3.jar
[ERROR] urls[33] = file:/~/.m2/repository/commons-logging/commons-logging/1.1.3/commons-logging-1.1.3.jar
[ERROR] urls[34] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-hg/1.11.2/maven-scm-provider-hg-1.11.2.jar
[ERROR] urls[35] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-perforce/1.11.2/maven-scm-provider-perforce-1.11.2.jar
[ERROR] urls[36] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-starteam/1.11.2/maven-scm-provider-starteam-1.11.2.jar
[ERROR] urls[37] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-svnexe/1.11.2/maven-scm-provider-svnexe-1.11.2.jar
[ERROR] urls[38] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-synergy/1.11.2/maven-scm-provider-synergy-1.11.2.jar
[ERROR] urls[39] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-vss/1.11.2/maven-scm-provider-vss-1.11.2.jar
[ERROR] urls[40] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-tfs/1.11.2/maven-scm-provider-tfs-1.11.2.jar
[ERROR] urls[41] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-integrity/1.11.2/maven-scm-provider-integrity-1.11.2.jar
[ERROR] urls[42] = file:/~/.m2/repository/com/mks/api/mksapi-jar/4.10.9049/mksapi-jar-4.10.9049.jar
[ERROR] urls[43] = file:/~/.m2/repository/org/codehaus/groovy/groovy-all/1.7.6/groovy-all-1.7.6.jar
[ERROR] urls[44] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-jazz/1.11.2/maven-scm-provider-jazz-1.11.2.jar
[ERROR] urls[45] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-manager-plexus/1.8/maven-scm-manager-plexus-1.8.jar
[ERROR] urls[46] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-svn-commons/1.11.2/maven-scm-provider-svn-commons-1.11.2.jar
[ERROR] urls[47] = file:/~/.m2/repository/org/apache/maven/shared/maven-artifact-transfer/0.9.1/maven-artifact-transfer-0.9.1.jar
[ERROR] urls[48] = file:/~/.m2/repository/org/apache/maven/shared/maven-common-artifact-filters/3.0.1/maven-common-artifact-filters-3.0.1.jar
[ERROR] urls[49] = file:/~/.m2/repository/org/apache/maven/shared/maven-shared-utils/3.1.0/maven-shared-utils-3.1.0.jar
[ERROR] urls[50] = file:/~/.m2/repository/commons-codec/commons-codec/1.6/commons-codec-1.6.jar
[ERROR] urls[51] = file:/~/.m2/repository/org/sonatype/aether/aether-util/1.7/aether-util-1.7.jar
[ERROR] urls[52] = file:/~/.m2/repository/org/codehaus/plexus/plexus-component-annotations/1.7.1/plexus-component-annotations-1.7.1.jar
[ERROR] urls[53] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-api/1.11.2/maven-scm-api-1.11.2.jar
[ERROR] urls[54] = file:/~/.m2/repository/org/codehaus/plexus/plexus-utils/3.0.15/plexus-utils-3.0.15.jar
[ERROR] urls[55] = file:/~/.m2/repository/org/jdom/jdom/1.1/jdom-1.1.jar
[ERROR] Number of foreign imports: 1
[ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]
[ERROR]
[ERROR] -----------------------------------------------------
[ERROR] : org.apache.maven.shared.release.env.ReleaseEnvironment
[ERROR] -&amp;gt; [Help 1]
[ERROR]
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR]
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13281777">SLING-9032</key>
            <summary>Problem releaseing with Parent 36: NoClassDefFoundError: org/apache/maven/shared/release/env/ReleaseEnvironment</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Jan 2020 18:37:52 +0000</created>
                <updated>Mon, 10 Feb 2020 16:38:25 +0000</updated>
                            <resolved>Mon, 27 Jan 2020 18:49:20 +0000</resolved>
                                    <version>Parent 36</version>
                    <version>Bundle Parent 36</version>
                                    <fixVersion>Parent 37</fixVersion>
                    <fixVersion>Bundle Parent 37</fixVersion>
                                    <component>Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17024558" author="sseifert@pro-vision.de" created="Mon, 27 Jan 2020 18:41:28 +0000"  >&lt;p&gt;this three lines hint at the problem&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] urls[0] = file:/~/.m2/repository/org/apache/maven/plugins/maven-release-plugin/3.0.0-M1/maven-release-plugin-3.0.0-M1.jar
[ERROR] urls[1] = file:/~/.m2/repository/org/apache/maven/release/maven-release-oddeven-policy/2.5.3/maven-release-oddeven-policy-2.5.3.jar
[ERROR] urls[2] = file:/~/.m2/repository/org/apache/maven/release/maven-release-api/2.5.3/maven-release-api-2.5.3.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;plugin version is 3.0.0-M1, but the maven-release-oddeven-policy-2.5.3 introduces a dependency to maven-release-api-2.5.3.jar.&lt;/p&gt;

&lt;p&gt;but - if i update the dependency to  maven-release-oddeven-policy-2.5.3 and thus implicitly to maven-release-api-2.5.3.jar in the sling-org-apache-sling-testing-resourceresolver-mock project, release:prepare still fails, this time with another error message:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] Scanning for projects...
[INFO]
[INFO] --&amp;lt; org.apache.sling:org.apache.sling.testing.resourceresolver-mock &amp;gt;---
[INFO] Building Apache Sling Testing Resource Resolver Mock 1.1.25-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO]
[INFO] --- maven-release-plugin:3.0.0-M1:prepare (default-cli) @ org.apache.sling.testing.resourceresolver-mock ---
[INFO] phase verify-release-configuration
[INFO] starting prepare goal, composed of 17 phases: check-poms, scm-check-modifications, check-dependency-snapshots, create-backup-poms, map-release-versions, input-variables, map-development-versions, rewrite-poms-for-release, generate-release-poms, run-preparation-goals, scm-commit-release, scm-tag, rewrite-poms-for-development, remove-release-poms, run-completion-goals, scm-commit-development, end-release
[INFO] [prepare] 1/17 check-poms
[INFO] [prepare] 2/17 scm-check-modifications
[INFO] Verifying that there are no local modifications...
[INFO]   ignoring changes on: **\pom.xml.next, **\release.properties, **\pom.xml.branch, **\pom.xml.tag, **\pom.xml.backup, **\pom.xml.releaseBackup
[INFO] Executing: cmd.exe /X /C &quot;git rev-parse --show-prefix&quot;
[INFO] Working directory: D:\Develop\OpenSource\sling-git\sling-org-apache-sling-testing-resourceresolver-mock
[INFO] Executing: cmd.exe /X /C &quot;git status --porcelain .&quot;
[INFO] Working directory: D:\Develop\OpenSource\sling-git\sling-org-apache-sling-testing-resourceresolver-mock
[WARNING] Ignoring unrecognized line: ?? release.properties
[INFO] [prepare] 3/17 check-dependency-snapshots
[INFO] Checking dependencies and plugins for snapshots ...
[INFO] [prepare] 4/17 create-backup-poms
[INFO] [prepare] 5/17 map-release-versions
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  4.041 s
[INFO] Finished at: 2020-01-27T19:14:02+01:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-release-plugin:3.0.0-M1:prepare (default-cli) on project org.apache.sling.testing.resourceresolver-mock: Execution default-cli of goal org.apache.maven.plugins:maven-release-plugin:3.0.0-M1:prepare failed: A required class was missing while executing org.apache.maven.plugins:maven-release-plugin:3.0.0-M1:prepare: org/eclipse/aether/util/version/GenericVersionScheme
[ERROR] -----------------------------------------------------
[ERROR] realm =    plugin&amp;gt;org.apache.maven.plugins:maven-release-plugin:3.0.0-M1
[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy
[ERROR] urls[0] = file:/~/.m2/repository/org/apache/maven/plugins/maven-release-plugin/3.0.0-M1/maven-release-plugin-3.0.0-M1.jar
[ERROR] urls[1] = file:/~/.m2/repository/org/apache/maven/release/maven-release-oddeven-policy/3.0.0-M1/maven-release-oddeven-policy-3.0.0-M1.jar
[ERROR] urls[2] = file:/~/.m2/repository/org/apache/maven/release/maven-release-api/3.0.0-M1/maven-release-api-3.0.0-M1.jar
[ERROR] urls[3] = file:/~/.m2/repository/org/sonatype/sisu/sisu-inject-bean/1.4.2/sisu-inject-bean-1.4.2.jar
[ERROR] urls[4] = file:/~/.m2/repository/org/sonatype/sisu/sisu-guice/2.1.7/sisu-guice-2.1.7-noaop.jar
[ERROR] urls[5] = file:/~/.m2/repository/org/apache/maven/release/maven-release-manager/3.0.0-M1/maven-release-manager-3.0.0-M1.jar
[ERROR] urls[6] = file:/~/.m2/repository/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-6/plexus-interactivity-api-1.0-alpha-6.jar
[ERROR] urls[7] = file:/~/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.14/plexus-interpolation-1.14.jar
[ERROR] urls[8] = file:/~/.m2/repository/org/sonatype/plexus/plexus-sec-dispatcher/1.3/plexus-sec-dispatcher-1.3.jar
[ERROR] urls[9] = file:/~/.m2/repository/org/sonatype/plexus/plexus-cipher/1.4/plexus-cipher-1.4.jar
[ERROR] urls[10] = file:/~/.m2/repository/org/apache/maven/shared/maven-invoker/2.2/maven-invoker-2.2.jar
[ERROR] urls[11] = file:/~/.m2/repository/org/apache/commons/commons-lang3/3.7/commons-lang3-3.7.jar
[ERROR] urls[12] = file:/~/.m2/repository/commons-cli/commons-cli/1.2/commons-cli-1.2.jar
[ERROR] urls[13] = file:/~/.m2/repository/commons-io/commons-io/2.2/commons-io-2.2.jar
[ERROR] urls[14] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-providers-standard/1.11.2/maven-scm-providers-standard-1.11.2.pom
[ERROR] urls[15] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-accurev/1.11.2/maven-scm-provider-accurev-1.11.2.jar
[ERROR] urls[16] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-bazaar/1.11.2/maven-scm-provider-bazaar-1.11.2.jar
[ERROR] urls[17] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-clearcase/1.11.2/maven-scm-provider-clearcase-1.11.2.jar
[ERROR] urls[18] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-cvsexe/1.11.2/maven-scm-provider-cvsexe-1.11.2.jar
[ERROR] urls[19] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-cvs-commons/1.11.2/maven-scm-provider-cvs-commons-1.11.2.jar
[ERROR] urls[20] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-cvsjava/1.11.2/maven-scm-provider-cvsjava-1.11.2.jar
[ERROR] urls[21] = file:/~/.m2/repository/org/netbeans/lib/cvsclient/20060125/cvsclient-20060125.jar
[ERROR] urls[22] = file:/~/.m2/repository/ch/ethz/ganymed/ganymed-ssh2/build210/ganymed-ssh2-build210.jar
[ERROR] urls[23] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-gitexe/1.11.2/maven-scm-provider-gitexe-1.11.2.jar
[ERROR] urls[24] = file:/~/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar
[ERROR] urls[25] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-git-commons/1.11.2/maven-scm-provider-git-commons-1.11.2.jar
[ERROR] urls[26] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-jgit/1.11.2/maven-scm-provider-jgit-1.11.2.jar
[ERROR] urls[27] = file:/~/.m2/repository/org/eclipse/jgit/org.eclipse.jgit/4.5.4.201711221230-r/org.eclipse.jgit-4.5.4.201711221230-r.jar
[ERROR] urls[28] = file:/~/.m2/repository/com/jcraft/jsch/0.1.53/jsch-0.1.53.jar
[ERROR] urls[29] = file:/~/.m2/repository/com/googlecode/javaewah/JavaEWAH/0.7.9/JavaEWAH-0.7.9.jar
[ERROR] urls[30] = file:/~/.m2/repository/org/apache/httpcomponents/httpclient/4.3.6/httpclient-4.3.6.jar
[ERROR] urls[31] = file:/~/.m2/repository/org/apache/httpcomponents/httpcore/4.3.3/httpcore-4.3.3.jar
[ERROR] urls[32] = file:/~/.m2/repository/commons-logging/commons-logging/1.1.3/commons-logging-1.1.3.jar
[ERROR] urls[33] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-hg/1.11.2/maven-scm-provider-hg-1.11.2.jar
[ERROR] urls[34] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-perforce/1.11.2/maven-scm-provider-perforce-1.11.2.jar
[ERROR] urls[35] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-starteam/1.11.2/maven-scm-provider-starteam-1.11.2.jar
[ERROR] urls[36] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-svnexe/1.11.2/maven-scm-provider-svnexe-1.11.2.jar
[ERROR] urls[37] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-synergy/1.11.2/maven-scm-provider-synergy-1.11.2.jar
[ERROR] urls[38] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-vss/1.11.2/maven-scm-provider-vss-1.11.2.jar
[ERROR] urls[39] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-tfs/1.11.2/maven-scm-provider-tfs-1.11.2.jar
[ERROR] urls[40] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-integrity/1.11.2/maven-scm-provider-integrity-1.11.2.jar
[ERROR] urls[41] = file:/~/.m2/repository/com/mks/api/mksapi-jar/4.10.9049/mksapi-jar-4.10.9049.jar
[ERROR] urls[42] = file:/~/.m2/repository/org/codehaus/groovy/groovy-all/1.7.6/groovy-all-1.7.6.jar
[ERROR] urls[43] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-jazz/1.11.2/maven-scm-provider-jazz-1.11.2.jar
[ERROR] urls[44] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-manager-plexus/1.8/maven-scm-manager-plexus-1.8.jar
[ERROR] urls[45] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-provider-svn-commons/1.11.2/maven-scm-provider-svn-commons-1.11.2.jar
[ERROR] urls[46] = file:/~/.m2/repository/org/apache/maven/shared/maven-artifact-transfer/0.9.1/maven-artifact-transfer-0.9.1.jar
[ERROR] urls[47] = file:/~/.m2/repository/org/apache/maven/shared/maven-common-artifact-filters/3.0.1/maven-common-artifact-filters-3.0.1.jar
[ERROR] urls[48] = file:/~/.m2/repository/org/apache/maven/shared/maven-shared-utils/3.1.0/maven-shared-utils-3.1.0.jar
[ERROR] urls[49] = file:/~/.m2/repository/commons-codec/commons-codec/1.6/commons-codec-1.6.jar
[ERROR] urls[50] = file:/~/.m2/repository/org/sonatype/aether/aether-util/1.7/aether-util-1.7.jar
[ERROR] urls[51] = file:/~/.m2/repository/org/codehaus/plexus/plexus-component-annotations/1.7.1/plexus-component-annotations-1.7.1.jar
[ERROR] urls[52] = file:/~/.m2/repository/org/apache/maven/scm/maven-scm-api/1.11.2/maven-scm-api-1.11.2.jar
[ERROR] urls[53] = file:/~/.m2/repository/org/codehaus/plexus/plexus-utils/3.0.15/plexus-utils-3.0.15.jar
[ERROR] urls[54] = file:/~/.m2/repository/org/jdom/jdom/1.1/jdom-1.1.jar
[ERROR] Number of foreign imports: 1
[ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]
[ERROR]
[ERROR] -----------------------------------------------------
[ERROR] : org.eclipse.aether.util.version.GenericVersionScheme
[ERROR] -&amp;gt; [Help 1]
[ERROR]
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR]
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17024569" author="sseifert@pro-vision.de" created="Mon, 27 Jan 2020 18:49:20 +0000"  >&lt;p&gt;i&apos;ve updated the maven-release-oddeven-policy depency to 3.0.0-M1 in the parent pom.&lt;br/&gt;
this together with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9028&quot; title=&quot;Update to ASF Parent 23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9028&quot;&gt;&lt;del&gt;SLING-9028&lt;/del&gt;&lt;/a&gt; (update to ASF parent 23) seems to solve the problem.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-parent/commit/f4c82004d70be6b5d137fa60b53fc5df8f243d46&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-parent/commit/f4c82004d70be6b5d137fa60b53fc5df8f243d46&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17032245" author="kwin" created="Fri, 7 Feb 2020 09:31:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt; I am still seeing the issue from &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9032?focusedCommentId=17024558&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17024558&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-9032?focusedCommentId=17024558&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17024558&lt;/a&gt;, e.g. when trying to run &lt;tt&gt;mvn release:prepare -DdryRun=true&lt;/tt&gt; on &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-core?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-core?&lt;/a&gt; Any idea why this should have been resolved with ASF parent 23?&lt;/p&gt;</comment>
                            <comment id="17032253" author="kwin" created="Fri, 7 Feb 2020 09:43:48 +0000"  >&lt;p&gt;I created now the dedicated ticket &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9058&quot; title=&quot;Regression in parent 37: A required class was missing while executing org.apache.maven.plugins:maven-release-plugin:3.0.0-M1:prepare: org/eclipse/aether/util/version/GenericVersionScheme&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9058&quot;&gt;&lt;del&gt;SLING-9058&lt;/del&gt;&lt;/a&gt; to track this.&lt;/p&gt;</comment>
                            <comment id="17033738" author="sseifert@pro-vision.de" created="Mon, 10 Feb 2020 16:38:25 +0000"  >&lt;blockquote&gt;&lt;p&gt;Any idea why this should have been resolved with ASF parent 23?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;i did not dig deeper, and i can confirm that the problem still exists with sling parent 37. your fix from &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9058&quot; title=&quot;Regression in parent 37: A required class was missing while executing org.apache.maven.plugins:maven-release-plugin:3.0.0-M1:prepare: org/eclipse/aether/util/version/GenericVersionScheme&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9058&quot;&gt;&lt;del&gt;SLING-9058&lt;/del&gt;&lt;/a&gt; solves the problem for me as well.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13277552">SLING-8960</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13283891">SLING-9058</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 37 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0aweg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9030] SimpleDistributionAgentQueueProcessor does not distinguish between recoverable and non-recoverable exceptions</title>
                <link>https://issues.apache.org/jira/browse/SLING-9030</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/agent/impl/SimpleDistributionAgentQueueProcessor.java#L83&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;SimpleDistributionAgentQueueProcessor.java&lt;/a&gt; is responsible for processing a queueItem which is then passed on to &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/packaging/impl/importer/RemoteDistributionPackageImporter.java#L59&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;RemoteDistributionPackageImporter#importPackage()&lt;/a&gt; which in turn selects a valid transporter and send the POST request through &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/transport/impl/SimpleHttpDistributionTransport.java#L108&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;SimpleHttpDistributionTransport#deliverPackage()&lt;/a&gt;. There can be 2 types of exceptions thrown by this deliverPackage() function. One is a &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/common/RecoverableDistributionException.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;RecoverableDistributionException&lt;/a&gt; which is a type of DistributionException and another is DistributionException. As the name suggests, a RecoverableDistributionException is where the transport is tried again. But it seems there is currently no cap on the number of retries.&lt;/p&gt;

&lt;p&gt;For example, if the endpoint is not accessible at the moment, the error logs of the caller application will be flooded with constant retries of the DistributionPackages in queue, until the endpoint comes up and the distribution is successful. The reason being, &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/agent/impl/SimpleDistributionAgentQueueProcessor.java#L151&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;the verbose logging done here&lt;/a&gt;. This would lead to sharp increase in disk size of the caller application. Perhaps the logging can be less verbose and can be logged at &lt;b&gt;WARN&lt;/b&gt; level for RecoverableDistributionException.&lt;/p&gt;

&lt;p&gt;cc - &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashishc&quot; class=&quot;user-hover&quot; rel=&quot;ashishc&quot;&gt;ashishc&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13281747">SLING-9030</key>
            <summary>SimpleDistributionAgentQueueProcessor does not distinguish between recoverable and non-recoverable exceptions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="mohiaror">Mohit Arora</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Jan 2020 16:01:29 +0000</created>
                <updated>Mon, 13 Apr 2020 17:50:03 +0000</updated>
                            <resolved>Thu, 30 Jan 2020 20:02:42 +0000</resolved>
                                                    <fixVersion>Content Distribution Core 0.4.2</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="6000">1h 40m</timespent>
                                <comments>
                            <comment id="17024977" author="ashishc" created="Tue, 28 Jan 2020 09:13:53 +0000"  >&lt;p&gt;PR: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/34&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/34&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17025069" author="marett" created="Tue, 28 Jan 2020 12:20:26 +0000"  >&lt;blockquote&gt;&lt;p&gt;Perhaps the logging can be less verbose and can be logged at WARN level for RecoverableDistributionException.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashishc&quot; class=&quot;user-hover&quot; rel=&quot;ashishc&quot;&gt;ashishc&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mohiaror&quot; class=&quot;user-hover&quot; rel=&quot;mohiaror&quot;&gt;mohiaror&lt;/a&gt;. Would you open a PR that changes the level ?&lt;/p&gt;</comment>
                            <comment id="17025084" author="ashishc" created="Tue, 28 Jan 2020 12:40:35 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cschneider&quot; class=&quot;user-hover&quot; rel=&quot;cschneider&quot;&gt;cschneider&lt;/a&gt;, please provide your opinion on the clarification I seek in the comment at &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/34&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/34&lt;/a&gt;. I&apos;ll raise a new PR accordingly. Thanks! &lt;/p&gt;</comment>
                            <comment id="17026464" author="ashishc" created="Thu, 30 Jan 2020 06:41:51 +0000"  >&lt;blockquote&gt;&lt;p&gt;...I&apos;ll raise a new PR accordingly&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;new PR: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/35&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/35&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17026966" author="marett" created="Thu, 30 Jan 2020 20:02:31 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashishc&quot; class=&quot;user-hover&quot; rel=&quot;ashishc&quot;&gt;ashishc&lt;/a&gt;! I have merged your PR &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/35&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#35&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="13298088">SLING-9363</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 38 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0aw7s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9029] PackageQueuedNotifier throws NPE for packages managed by an other type of agents </title>
                <link>https://issues.apache.org/jira/browse/SLING-9029</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-journal/blob/master/src/main/java/org/apache/sling/distribution/journal/impl/publisher/PackageQueuedNotifier.java#L66&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PackageQueuedNotifier.java&lt;/a&gt; handles all the &lt;tt&gt;DistributionEventTopics.AGENT_PACKAGE_QUEUED&lt;/tt&gt; events and try to remove the distribution package associated with the event from a callback map which does not contain the package as the map is populated only in case of &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-journal/blob/master/src/main/java/org/apache/sling/distribution/journal/impl/publisher/DistributionPublisher.java#L314&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;journal based distribution&lt;/a&gt; but the event is thrown in general from &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/agent/impl/QueueingDistributionPackageProcessor.java#L128&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;QueueingDistributionPackageProcessor.java&lt;/a&gt; which can be called for a normal end to end distribution without using the kafka pipeline and the journal flow.&lt;/p&gt;

&lt;p&gt;In such a case, a warning like below is logged - &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;07.01.2020 10:10:35.831 *WARN* [FelixLogListener] org.apache.felix.eventadmin Service [org.apache.sling.distribution.journal.impl.publisher.PackageQueuedNotifier,2499, [org.apache.sling.distribution.journal.impl.publisher.PackageQueuedNotifier, org.osgi.service.event.EventHandler]] EventAdmin: Exception during event dispatch [org.osgi.service.event.Event [topic=org/apache/sling/distribution/agent/&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;/queued] {distribution.type=ADD, distribution.component.name=bpuitestingtenant0, distribution.component.kind=AGENT, distribution.paths=[Ljava.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;;@5dd0dbd0} | [org.apache.sling.distribution.journal.impl.publisher.PackageQueuedNotifier, org.osgi.service.event.EventHandler] | Bundle(org.apache.sling.distribution.journal [527])] (java.lang.NullPointerException)
java.lang.NullPointerException: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
	at java.base/java.util.concurrent.ConcurrentHashMap.replaceNode(ConcurrentHashMap.java:1111)
	at java.base/java.util.concurrent.ConcurrentHashMap.remove(ConcurrentHashMap.java:1102)
	at org.apache.sling.distribution.journal.impl.publisher.PackageQueuedNotifier.handleEvent(PackageQueuedNotifier.java:66) [org.apache.sling.distribution.journal:0.1.6]
	at org.apache.felix.eventadmin.impl.handler.EventHandlerProxy.sendEvent(EventHandlerProxy.java:415) [org.apache.felix.eventadmin:1.5.0]
	at org.apache.felix.eventadmin.impl.tasks.HandlerTask.runWithoutBlacklistTiming(HandlerTask.java:82) [org.apache.felix.eventadmin:1.5.0]
	at org.apache.felix.eventadmin.impl.tasks.SyncDeliverTasks.execute(SyncDeliverTasks.java:104) [org.apache.felix.eventadmin:1.5.0]
	at org.apache.felix.eventadmin.impl.tasks.AsyncDeliverTasks$TaskExecuter.run(AsyncDeliverTasks.java:166) [org.apache.felix.eventadmin:1.5.0]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:834)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ideally, there should be different event(s) generated for different types of distribution.&lt;/p&gt;

&lt;p&gt;cc - &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashishc&quot; class=&quot;user-hover&quot; rel=&quot;ashishc&quot;&gt;ashishc&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13281711">SLING-9029</key>
            <summary>PackageQueuedNotifier throws NPE for packages managed by an other type of agents </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="mohiaror">Mohit Arora</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Jan 2020 12:36:13 +0000</created>
                <updated>Sun, 16 Feb 2020 21:56:24 +0000</updated>
                            <resolved>Thu, 30 Jan 2020 10:42:08 +0000</resolved>
                                                    <fixVersion>Content Distribution Journal Core 0.1.8</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17024418" author="mohiaror" created="Mon, 27 Jan 2020 15:21:43 +0000"  >&lt;p&gt;If it is not trivial to change the event type of different type of distribution, we can add a null check in handleEvent method. Raised a PR for the same - &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-journal/pull/23&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-journal/pull/23&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17024451" author="marett" created="Mon, 27 Jan 2020 16:05:34 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mohiaror&quot; class=&quot;user-hover&quot; rel=&quot;mohiaror&quot;&gt;mohiaror&lt;/a&gt;! It seems to me that the PR &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-journal/pull/23&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#23&lt;/a&gt; would still be prone to NPE. How about testing for nullability of the &lt;tt&gt;packageId&lt;/tt&gt; variable, only remove the &lt;tt&gt;packageId&lt;/tt&gt; from the map when it&apos;s not &lt;tt&gt;null&lt;/tt&gt; ? Would it also be possible to add a test in org.apache.sling.distribution.journal.impl.publisher.PackageQueuedNotifierTest ?&lt;/p&gt;</comment>
                            <comment id="17026215" author="mohiaror" created="Wed, 29 Jan 2020 20:53:49 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt;, &lt;/p&gt;

&lt;p&gt;Is there a valid case when &lt;tt&gt;receiveCallbacks&lt;/tt&gt; can contain null? Checking nullability of &lt;tt&gt;packageId&lt;/tt&gt; would work now but if &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/event/impl/DefaultDistributionEventFactory.java#L52&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;DefaultDistributionEventFactory#generatePackageEvent()&lt;/a&gt; also starts sending &lt;tt&gt;packageId&lt;/tt&gt; as part of the event in future, thus leading to the &lt;tt&gt;packageId&lt;/tt&gt; being not null, we would start getting NPE again. I can check for both packageId being not null and the existence of packageId in &lt;tt&gt;receiveCallbacks&lt;/tt&gt;. I will modify the PR accordingly along with a test case.&lt;/p&gt;

&lt;p&gt;EDIT - I just realized that receiveCallbacks.remove() will just return null if the key is not present and that null is already checked later in the function. In that case I agree that just checking packageId being not null would suffice.&lt;/p&gt;</comment>
                            <comment id="17026488" author="mohiaror" created="Thu, 30 Jan 2020 07:45:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt; I have made the required changed in my PR. Can you please review?&lt;/p&gt;</comment>
                            <comment id="17026573" author="marett" created="Thu, 30 Jan 2020 10:41:54 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mohiaror&quot; class=&quot;user-hover&quot; rel=&quot;mohiaror&quot;&gt;mohiaror&lt;/a&gt;! I merged your PR &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-journal/pull/23&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#23&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 38 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0avzs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9025] The MetricsService keeps stale metrics after bundles that have registered metrics are removed</title>
                <link>https://issues.apache.org/jira/browse/SLING-9025</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &lt;tt&gt;MetricsService&lt;/tt&gt;&#160;keeps stale metrics after bundles that have registered metrics are removed. Although the respective metrics are removed from the &lt;tt&gt;MetricsRegistry&lt;/tt&gt;, the &lt;tt&gt;MetricsService&lt;/tt&gt; internally caches the metrics and does not remove them once metric mappings are removed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13281197">SLING-9025</key>
            <summary>The MetricsService keeps stale metrics after bundles that have registered metrics are removed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Jan 2020 13:54:55 +0000</created>
                <updated>Mon, 27 Jan 2020 13:22:16 +0000</updated>
                            <resolved>Thu, 23 Jan 2020 14:17:35 +0000</resolved>
                                    <version>Commons Metrics 1.0.0</version>
                                    <fixVersion>Commons Metrics 1.2.8</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17022141" author="radu.cotescu" created="Thu, 23 Jan 2020 14:17:35 +0000"  >&lt;p&gt;Fixed in&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-metrics/commit/cf8b6bc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit cf8b6bc&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 39 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0astk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9020] JournalAvailableChecker should consider the journal as unavailable after 1 error</title>
                <link>https://issues.apache.org/jira/browse/SLING-9020</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently the JournalAvailableChecker waits 2 errors before considering the journal to be unavailable. There are some cases, however, were a single error will be thrown. An example is an error thrown from an agent DistributionSubscriber activate method. In this example, the agent fails to activate and the availability checker fails to turn the agent off/on.&lt;/p&gt;

&lt;p&gt;Retries should be moved in the messaging implementation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13281013">SLING-9020</key>
            <summary>JournalAvailableChecker should consider the journal as unavailable after 1 error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cschneider">Christian Schneider</assignee>
                                    <reporter username="marett">Timothee Maret</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Jan 2020 16:41:15 +0000</created>
                <updated>Sun, 16 Feb 2020 21:56:17 +0000</updated>
                            <resolved>Thu, 23 Jan 2020 14:08:02 +0000</resolved>
                                    <version>Content Distribution Journal Core 0.1.6</version>
                                    <fixVersion>Content Distribution Journal Core 0.1.8</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17022129" author="chris@die-schneider.net" created="Thu, 23 Jan 2020 14:04:50 +0000"  >&lt;p&gt;I have tested if changing to 1 error would have adverse effects. The itest do not seem to be affected. So I am changing to 1 error.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 39 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0arow:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9019] The XSSFilter will mark URLs containing both escaped characters and HTML entities as invalid</title>
                <link>https://issues.apache.org/jira/browse/SLING-9019</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;A URL similar to &lt;tt&gt;&lt;a href=&quot;http://localhost/?q=a+b&amp;amp;r=1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost/?q=a+b&amp;amp;amp;r=1&lt;/a&gt;&lt;/tt&gt; will be marked as invalid by the &lt;tt&gt;XSSFilterImpl&lt;/tt&gt; implementation. However, the URL provided is valid and should not be filtered.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13280979">SLING-9019</key>
            <summary>The XSSFilter will mark URLs containing both escaped characters and HTML entities as invalid</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Jan 2020 14:51:07 +0000</created>
                <updated>Mon, 27 Jan 2020 13:16:00 +0000</updated>
                            <resolved>Wed, 22 Jan 2020 15:18:45 +0000</resolved>
                                    <version>XSS Protection API 2.0.4</version>
                                    <fixVersion>XSS Protection API 2.2.0</fixVersion>
                                    <component>XSS Protection API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17021181" author="radu.cotescu" created="Wed, 22 Jan 2020 15:18:45 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-xss/commit/f8f046b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit f8f046b&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 40 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0arhc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9017] ErrorQueueDispatchingStrategy ends up using an incorrect QueueProvider</title>
                <link>https://issues.apache.org/jira/browse/SLING-9017</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently, &lt;tt&gt;ErrorQueueDispatchingStrategy&lt;/tt&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; interface dictates that the &lt;tt&gt;.add&lt;/tt&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; method supplies the &lt;tt&gt;DistributionQueueProvider&lt;/tt&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; to it.&lt;/p&gt;

&lt;p&gt;For &lt;tt&gt;ForwardDistributionAgentFactory&lt;/tt&gt; (and perhaps other Agent-factories as well), this &lt;tt&gt;DistributionQueueProvider&lt;/tt&gt; is further used to &lt;tt&gt;.getQueue&lt;/tt&gt; by a name &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;As the discussion in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8854&quot; title=&quot;In-file and In-memory queue-providers for Forward Distribution report incorrect value for processing &amp;quot;Attempts&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8854&quot;&gt;&lt;del&gt;SLING-8854&lt;/del&gt;&lt;/a&gt; concluded, it was found acceptable &lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; for &lt;tt&gt;DistributionQueue&lt;/tt&gt; impls and &lt;tt&gt;DistributionQueueProvider&lt;/tt&gt; impls to share state - concordantly, there needs to be a way for Agent-Factories to dictate which &lt;em&gt;specific&lt;/em&gt; queue-providers they want &lt;tt&gt;ErrorQueueDispatchingStrategy&lt;/tt&gt; to use.&lt;/p&gt;

&lt;p&gt;One approach to make that happen would be to enhance &lt;tt&gt;ErrorQueueDispatchingStrategy&lt;/tt&gt;  with another CTOR to accept a &lt;tt&gt;DistributionQueueProvider&lt;/tt&gt; argument. The impl of &lt;tt&gt;.add&lt;/tt&gt; can then treat the supplied &lt;tt&gt;DistributionQueueProvider&lt;/tt&gt; at the time of API invocation as a &apos;hint&apos; and ignore it if the &lt;tt&gt;ErrorQueueDispatchingStrategy&lt;/tt&gt; already has one of its own.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/queue/impl/ErrorQueueDispatchingStrategy.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/queue/impl/ErrorQueueDispatchingStrategy.java&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/537bb57af821f21537cf4a24ad7d2347c6a5dae1/src/main/java/org/apache/sling/distribution/queue/impl/ErrorQueueDispatchingStrategy.java#L56&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/537bb57af821f21537cf4a24ad7d2347c6a5dae1/src/main/java/org/apache/sling/distribution/queue/impl/ErrorQueueDispatchingStrategy.java#L56&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/537bb57af821f21537cf4a24ad7d2347c6a5dae1/src/main/java/org/apache/sling/distribution/agent/impl/SimpleDistributionAgentQueueProcessor.java#L187&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/537bb57af821f21537cf4a24ad7d2347c6a5dae1/src/main/java/org/apache/sling/distribution/agent/impl/SimpleDistributionAgentQueueProcessor.java#L187&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8854?focusedCommentId=16982396&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16982396&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-8854?focusedCommentId=16982396&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16982396&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13280714">SLING-9017</key>
            <summary>ErrorQueueDispatchingStrategy ends up using an incorrect QueueProvider</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ashishc">Ashish Chopra</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Jan 2020 10:06:47 +0000</created>
                <updated>Wed, 6 Aug 2025 16:25:30 +0000</updated>
                                                            <fixVersion>Content Distribution Core 0.8.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17020111" author="ashishc" created="Tue, 21 Jan 2020 10:07:08 +0000"  >&lt;blockquote&gt;&lt;p&gt;One approach to make that happen would be to enhance &lt;tt&gt;ErrorQueueDispatchingStrategy&lt;/tt&gt;  with another CTOR to accept a &lt;tt&gt;DistributionQueueProvider&lt;/tt&gt; argument. The impl of &lt;tt&gt;.add&lt;/tt&gt; can then treat the supplied &lt;tt&gt;DistributionQueueProvider&lt;/tt&gt; at the time of API invocation as a &apos;hint&apos; and ignore it if the &lt;tt&gt;ErrorQueueDispatchingStrategy&lt;/tt&gt; already has one of its own.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;del&gt;PR for that underway - will update here once ready.&lt;/del&gt;&lt;br/&gt;
PR: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/33&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/33&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 40 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0apug:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9015] RepositoryInitializerFactory fails with non-null but empty references or scripts</title>
                <link>https://issues.apache.org/jira/browse/SLING-9015</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;By default, the OSGi webconsole will provide an empty but non-null &quot;references&quot; or &quot;scripts&quot; value if entering only the other value, which breaks the checks in &lt;tt&gt;RepositoryInitializerFactory.processRepository()&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Not a big problem but confusing when using that feature from the webconsole.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13280539">SLING-9015</key>
            <summary>RepositoryInitializerFactory fails with non-null but empty references or scripts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Jan 2020 11:54:45 +0000</created>
                <updated>Fri, 21 Feb 2020 21:56:28 +0000</updated>
                            <resolved>Tue, 21 Jan 2020 12:14:57 +0000</resolved>
                                    <version>Repoinit JCR 1.1.16</version>
                                    <fixVersion>Repoinit JCR 1.1.18</fixVersion>
                                    <component>Repoinit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17020175" author="bdelacretaz" created="Tue, 21 Jan 2020 12:14:57 +0000"  >&lt;p&gt;Fixed at commit &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-repoinit/commit/d07f175296127c8448aaf930385baf9cdbeada4c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;d07f175296&lt;/a&gt;, also added integration tests for the &lt;tt&gt;RepositoryInitializerFactory&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 40 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0aork:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9012] Unkown nodetype during package installation</title>
                <link>https://issues.apache.org/jira/browse/SLING-9012</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It is not possible to install a package on sling cms on&#160;/bin/cpm/package.service.html&#160;&lt;/p&gt;

&lt;p&gt;I got always messages like these nodetype is unkown like&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;javax.jcr.nodetype.NoSuchNodeTypeException: Node type sling0:OsgiConfig does not exist
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;But on a Sling Starter 11&#160; it works without problems. I look for some configuration or similar. But I don&apos;t find something.&lt;/p&gt;

&lt;p&gt;Do you have an idea?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13280395">SLING-9012</key>
            <summary>Unkown nodetype during package installation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="thodte">Christoph Thodte</reporter>
                        <labels>
                    </labels>
                <created>Sun, 19 Jan 2020 11:57:22 +0000</created>
                <updated>Thu, 9 Apr 2020 12:49:59 +0000</updated>
                            <resolved>Thu, 9 Apr 2020 12:49:59 +0000</resolved>
                                    <version>CMS 0.14.0</version>
                                                    <component>App CMS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17019167" author="dklco" created="Mon, 20 Jan 2020 01:38:31 +0000"  >&lt;p&gt;Interesting I can say I&apos;ve seen that. It seems like it&apos;s probably a nodetype conflict.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;What system did you use to create the package? Could you attach a package which exhibits the issue?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310361">
                    <name>Blocked</name>
                                                                <inwardlinks description="Blocked">
                                        <issuelink>
            <issuekey id="13297120">SLING-9344</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 40 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0anvk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9010] itests fail because maven central now only accepts https</title>
                <link>https://issues.apache.org/jira/browse/SLING-9010</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I saw build failures in:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/Sling/job/sling-org-apache-sling-distribution-journal-it/job/master/259/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Sling/job/sling-org-apache-sling-distribution-journal-it/job/master/259/console&lt;/a&gt;&lt;br/&gt;
&#160;&lt;br/&gt;
It seems the problem is related to the change of maven central offering https now exclusively.&lt;br/&gt;
&#160;&lt;br/&gt;
For normal maven builds this works as recent maven versions also use https. Unfortunately it seems pax exam still (aether) still&lt;br/&gt;
uses http, so it fails.&lt;br/&gt;
&#160;&lt;br/&gt;
&#160;I was able to work around this by setting:repository(&quot;&lt;a href=&quot;https://repo1.maven.org/maven2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repo1.maven.org/maven2&lt;/a&gt;&quot;).id(&quot;central&quot;)in the pax exam configuration.&lt;br/&gt;
Unfortunately&#160;I think I hit a pax exam error. In sling&#160;TestSupport we already define such a repository for apache snapshots.&#160;Now when adding another one pax exam fails with some error stating that the repo url would begin with &quot;+&quot; which is invalid.&lt;/p&gt;

&lt;p&gt;I worked around&#160;that by redefining the base configuration without&#160;adding&#160;the apache snapshot repo.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13279947">SLING-9010</key>
            <summary>itests fail because maven central now only accepts https</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cschneider">Christian Schneider</assignee>
                                    <reporter username="cschneider">Christian Schneider</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jan 2020 17:52:58 +0000</created>
                <updated>Tue, 23 Jun 2020 08:28:51 +0000</updated>
                            <resolved>Thu, 16 Jan 2020 18:08:02 +0000</resolved>
                                    <version>Content Distribution Journal ITs 0.1.0</version>
                                    <fixVersion>Content Distribution Journal ITs 0.1.2</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 40 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0al40:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9001] CMS - Cannot Create Page without Template Policy</title>
                <link>https://issues.apache.org/jira/browse/SLING-9001</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Template policies are required in the page template model so pages cannot be created from a template where the policy is not set, even if the template does not truly need a policy.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13279752">SLING-9001</key>
            <summary>CMS - Cannot Create Page without Template Policy</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jan 2020 06:29:22 +0000</created>
                <updated>Wed, 25 Mar 2020 02:28:37 +0000</updated>
                            <resolved>Thu, 16 Jan 2020 06:32:28 +0000</resolved>
                                    <version>CMS 0.14.0</version>
                                    <fixVersion>CMS 0.16.0</fixVersion>
                                    <component>App CMS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17016586" author="dklco" created="Thu, 16 Jan 2020 06:32:28 +0000"  >&lt;p&gt;Fixed in&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/commit/41020a1631d9aa1327f834d163503d13dfef987a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/commit/41020a1631d9aa1327f834d163503d13dfef987a&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0akag:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-9000] CMS - Reload Fails When Editing Component</title>
                <link>https://issues.apache.org/jira/browse/SLING-9000</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Reload Fails When Component Embedded Directly in Page Component due to a JavaScript error:&lt;/p&gt;

&lt;p&gt;editor.min.js:17 Uncaught TypeError: Cannot read property &apos;dataset&apos; of null&lt;br/&gt;
 at Object.reloadComponent (editor.min.js:17)&lt;br/&gt;
 at scripts-all.min.js:72&lt;br/&gt;
 at HTMLButtonElement.&amp;lt;anonymous&amp;gt; (scripts-all.min.js:72)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13279751">SLING-9000</key>
            <summary>CMS - Reload Fails When Editing Component</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jan 2020 06:28:03 +0000</created>
                <updated>Wed, 25 Mar 2020 02:28:15 +0000</updated>
                            <resolved>Thu, 16 Jan 2020 06:32:11 +0000</resolved>
                                    <version>CMS 0.14.0</version>
                                    <fixVersion>CMS 0.16.0</fixVersion>
                                    <component>App CMS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17016585" author="dklco" created="Thu, 16 Jan 2020 06:32:11 +0000"  >&lt;p&gt;Fixed in&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/commit/772c6da06356891376ab96e12c6b2e5f8632601e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/commit/772c6da06356891376ab96e12c6b2e5f8632601e&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0aka8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8997] Delayed shutdown of sling instance because ExponentialBackOff executor waits for scheduled check</title>
                <link>https://issues.apache.org/jira/browse/SLING-8997</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently we only call shutdown on the executor of&#160;ExponentialBackOff. This leaves the executor thread running until the scheduled check happens. This can take up to the maximum delay (by default 5 minutes).&lt;/p&gt;

&lt;p&gt;The solution is to call shutdownNow so the scheduled check is canceled.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13279541">SLING-8997</key>
            <summary>Delayed shutdown of sling instance because ExponentialBackOff executor waits for scheduled check</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cschneider">Christian Schneider</assignee>
                                    <reporter username="cschneider">Christian Schneider</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Jan 2020 09:48:03 +0000</created>
                <updated>Sun, 16 Feb 2020 21:56:20 +0000</updated>
                            <resolved>Wed, 15 Jan 2020 15:09:26 +0000</resolved>
                                    <version>Content Distribution Journal Core 0.1.8</version>
                                    <fixVersion>Content Distribution Journal Core 0.1.8</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0aizs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8996] Error in clear callback</title>
                <link>https://issues.apache.org/jira/browse/SLING-8996</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The clear callback uses a wrong offset. This causes the&#160;ClearQueueItemTest to fail.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13279540">SLING-8996</key>
            <summary>Error in clear callback</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cschneider">Christian Schneider</assignee>
                                    <reporter username="cschneider">Christian Schneider</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Jan 2020 09:41:12 +0000</created>
                <updated>Sun, 16 Feb 2020 21:56:25 +0000</updated>
                            <resolved>Wed, 15 Jan 2020 15:09:16 +0000</resolved>
                                    <version>Content Distribution Journal Core 0.1.8</version>
                                    <fixVersion>Content Distribution Journal Core 0.1.8</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0aizk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8994] Optimize session saves for Single Queue Dispatching Strategy</title>
                <link>https://issues.apache.org/jira/browse/SLING-8994</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Separation of concerns dictate that there&apos;s a loose coupling between Distribution Packages and Queue entries, and thus the distribution-packages and queue-items are persisted in different sessions (indeed, depending on queue-impl/distribution-packaging-impl chosen there may not be a need to persist either, or any of them at all).&lt;/p&gt;

&lt;p&gt;To enable collection of unreferenced Distribution packages, currently, queue items are be acquired &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; and released &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; on a per-queue basis in &lt;tt&gt;MultipleQueueDispatchingStrategy&lt;/tt&gt;. Only the distribution-packages that don&apos;t have any live references are claimed.&lt;/p&gt;

&lt;p&gt;For a 1:1 distribution (as &lt;tt&gt;SingleQueueDispatchingStrategy&lt;/tt&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; aims to achieve), acquring and releasing packages is superfluous (since there&apos;s only one queue) and as such it should just be sufficient to mark the package &apos;released&apos; &lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; once the queue is done with it.&lt;br/&gt;
However, the ref-updates still happen given way it is implemented currently (as a subclass of &lt;tt&gt;MultipleQueueDispatchingStrategy&lt;/tt&gt; that doesn&apos;t override anything &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;).&lt;/p&gt;

&lt;p&gt;Opening this issue propose improving &lt;tt&gt;SingleQueueDispatchingStrategy&lt;/tt&gt; impl. This should slightly optimize the book-keeping and marginally reduce the write-overhead for 1:1 distribution.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/537bb57af821f21537cf4a24ad7d2347c6a5dae1/src/main/java/org/apache/sling/distribution/queue/impl/MultipleQueueDispatchingStrategy.java#L61&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/537bb57af821f21537cf4a24ad7d2347c6a5dae1/src/main/java/org/apache/sling/distribution/queue/impl/MultipleQueueDispatchingStrategy.java#L61&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/537bb57af821f21537cf4a24ad7d2347c6a5dae1/src/main/java/org/apache/sling/distribution/agent/impl/SimpleDistributionAgentQueueProcessor.java#L169&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/537bb57af821f21537cf4a24ad7d2347c6a5dae1/src/main/java/org/apache/sling/distribution/agent/impl/SimpleDistributionAgentQueueProcessor.java#L169&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/537bb57af821f21537cf4a24ad7d2347c6a5dae1/src/main/java/org/apache/sling/distribution/queue/impl/SingleQueueDispatchingStrategy.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/537bb57af821f21537cf4a24ad7d2347c6a5dae1/src/main/java/org/apache/sling/distribution/queue/impl/SingleQueueDispatchingStrategy.java&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/537bb57af821f21537cf4a24ad7d2347c6a5dae1/src/main/java/org/apache/sling/distribution/packaging/impl/DistributionPackageUtils.java#L107-L111&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/537bb57af821f21537cf4a24ad7d2347c6a5dae1/src/main/java/org/apache/sling/distribution/packaging/impl/DistributionPackageUtils.java#L107-L111&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13279251">SLING-8994</key>
            <summary>Optimize session saves for Single Queue Dispatching Strategy</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ashishc">Ashish Chopra</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Jan 2020 04:06:49 +0000</created>
                <updated>Wed, 6 Aug 2025 16:25:45 +0000</updated>
                                                            <fixVersion>Content Distribution Core 0.8.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17014892" author="ashishc" created="Tue, 14 Jan 2020 06:52:55 +0000"  >&lt;p&gt;Proposed changeset: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/32&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/32&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 41 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ah7k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8992] Sling main servlet name is not set after move to http whiteboard</title>
                <link>https://issues.apache.org/jira/browse/SLING-8992</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With the move the http whiteboard, the property name for the servlet name has not been updated and therefore the name is not picked up by the whiteboard&lt;/p&gt;</description>
                <environment></environment>
        <key id="13278904">SLING-8992</key>
            <summary>Sling main servlet name is not set after move to http whiteboard</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Sun, 12 Jan 2020 11:03:31 +0000</created>
                <updated>Wed, 29 Apr 2020 08:14:42 +0000</updated>
                            <resolved>Mon, 13 Jan 2020 08:21:55 +0000</resolved>
                                    <version>Engine 2.6.22</version>
                                    <fixVersion>Engine 2.7.2</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17014113" author="cziegeler" created="Mon, 13 Jan 2020 08:21:55 +0000"  >&lt;p&gt;Updated in rev dd431d8. Also added servlet-name to the metatype information&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 41 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0af2o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8986] osgi-mock: Incorrect selection of fields with assignable types for Set references</title>
                <link>https://issues.apache.org/jira/browse/SLING-8986</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When trying to inject references to fields that are of type collection, the injection fails, due to the following &lt;tt&gt;isAssignableFrom&lt;/tt&gt; check in the code below:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;     private static Field getFieldWithAssignableType(Class clazz, String fieldName, Class&amp;lt;?&amp;gt; type) {
         Field[] fields = clazz.getDeclaredFields();
         for (Field field : fields) {
            if (StringUtils.equals(field.getName(), fieldName) &amp;amp;&amp;amp; field.getType().isAssignableFrom(type)) {
                 return field;
             }
         }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;tt&gt;type&lt;/tt&gt; parameter is always Collection.class, and the &lt;tt&gt;field.getType()&lt;/tt&gt; is a subclass of Collection, such as Set or List. The problem is that the check is inverted, e.g. &lt;tt&gt;Set.class.isAssignableFrom(Collection.class)&lt;/tt&gt; is false, whereas &lt;tt&gt;Collection.class.isAssignableFrom(Set.class)&lt;/tt&gt; is true. The least specific class type should be first, opposite of the &lt;tt&gt;instanceof&lt;/tt&gt; check ( I always find this confusing ).&lt;/p&gt;

&lt;p&gt;I have prepared a simple patch, but unfortunately the build fails with &lt;tt&gt;MockBundleContextDynamicReferencesOsgiR6Test.testReferenceWithDynamicTargetFilter:172-&amp;gt;assertDependencies3DynamicFiltered:209 expected:&amp;lt;dependency3b&amp;gt; but was:&amp;lt;null&amp;gt;&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I am not familiar enough with the codebase to understand whether I should update the test or try and find out what breaks.&lt;/p&gt;

&lt;p&gt;The patch I tried is:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;diff --git a/core/src/main/java/org/apache/sling/testing/mock/osgi/OsgiServiceUtil.java b/core/src/main/java/org/apache/sling/testing/mock/osgi/OsgiServiceUtil.java
index 8726f9d..71b7e9a 100644
--- a/core/src/main/java/org/apache/sling/testing/mock/osgi/OsgiServiceUtil.java
+++ b/core/src/main/java/org/apache/sling/testing/mock/osgi/OsgiServiceUtil.java
@@ -340,7 +340,7 @@ final class OsgiServiceUtil {
     private static Field getFieldWithAssignableType(Class clazz, String fieldName, Class&amp;lt;?&amp;gt; type) {
         Field[] fields = clazz.getDeclaredFields();
         for (Field field : fields) {
-            if (StringUtils.equals(field.getName(), fieldName) &amp;amp;&amp;amp; field.getType().isAssignableFrom(type)) {
+            if (StringUtils.equals(field.getName(), fieldName) &amp;amp;&amp;amp; type.isAssignableFrom(field.getType())) {
                 return field;
             }
         }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13278705">SLING-8986</key>
            <summary>osgi-mock: Incorrect selection of fields with assignable types for Set references</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Jan 2020 12:24:15 +0000</created>
                <updated>Thu, 30 Jan 2020 18:47:58 +0000</updated>
                            <resolved>Wed, 22 Jan 2020 09:52:07 +0000</resolved>
                                    <version>Testing OSGi Mock 2.4.10</version>
                                    <fixVersion>Testing OSGi Mock 2.4.14</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17012791" author="rombert" created="Fri, 10 Jan 2020 12:28:14 +0000"  >&lt;p&gt;To reproduce the failure, build &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-dynamic-include/tree/feature/SLING-8982&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-dynamic-include/tree/feature/SLING-8982&lt;/a&gt; , with the &lt;tt&gt;configs&lt;/tt&gt; field type changed to &lt;tt&gt;Set&amp;lt;Configuration&amp;gt;&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt; - WDYT?&lt;/p&gt;</comment>
                            <comment id="17020926" author="sseifert@pro-vision.de" created="Wed, 22 Jan 2020 09:50:44 +0000"  >&lt;p&gt;this problem is specific to Set (or to be more precise non-Collection and non-List field types). the implementation assumed only Collection and List needs to be supported.&lt;/p&gt;</comment>
                            <comment id="17020927" author="sseifert@pro-vision.de" created="Wed, 22 Jan 2020 09:52:07 +0000"  >&lt;p&gt;fixed: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/commit/f5e384846ff35f2aa697990f53f255a3d9142ccf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/commit/f5e384846ff35f2aa697990f53f255a3d9142ccf&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17020932" author="rombert" created="Wed, 22 Jan 2020 10:02:10 +0000"  >&lt;p&gt;Thanks for the fix, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 40 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0adug:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8985] sling-mock/resourceresolver-mock: Ensure Resource.getResourceType never returns null</title>
                <link>https://issues.apache.org/jira/browse/SLING-8985</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;as discussed in &lt;a href=&quot;https://lists.apache.org/thread.html/rce8e3d424bd539e18bd5f747eafb0236200c37e6b095ebd860854eb5%40%3Cdev.sling.apache.org%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread.html/rce8e3d424bd539e18bd5f747eafb0236200c37e6b095ebd860854eb5%40%3Cdev.sling.apache.org%3E&lt;/a&gt; Resource.getResourceType should never return null.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13278699">SLING-8985</key>
            <summary>sling-mock/resourceresolver-mock: Ensure Resource.getResourceType never returns null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Jan 2020 12:00:51 +0000</created>
                <updated>Thu, 30 Jan 2020 18:48:20 +0000</updated>
                            <resolved>Fri, 10 Jan 2020 12:05:12 +0000</resolved>
                                    <version>Testing ResourceResolver Mock 1.1.24</version>
                    <version>Testing Sling Mock 2.3.18</version>
                                    <fixVersion>Testing ResourceResolver Mock 1.1.26</fixVersion>
                    <fixVersion>Testing Sling Mock 2.4.0</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17012776" author="sseifert@pro-vision.de" created="Fri, 10 Jan 2020 12:05:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-resourceresolver-mock/commit/1fec07ed591984ebe0cddf9944f309eb3d8d94ab&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-resourceresolver-mock/commit/1fec07ed591984ebe0cddf9944f309eb3d8d94ab&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/commit/1359a0a5c0c52026034eb14e8774dee516e4e271&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/commit/1359a0a5c0c52026034eb14e8774dee516e4e271&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 41 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0adt4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8983] Include the -source-release.zip file in releases</title>
                <link>https://issues.apache.org/jira/browse/SLING-8983</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As described on the 1.0.4 release thread of the content package to feature model converter, ( &lt;a href=&quot;https://lists.apache.org/thread.html/r9bef8ccde5ff94e5f841eaabaf66284faed6dfe89f82c4315f62daba%40%3Cdev.sling.apache.org%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread.html/r9bef8ccde5ff94e5f841eaabaf66284faed6dfe89f82c4315f62daba%40%3Cdev.sling.apache.org%3E&lt;/a&gt;&#160;), the release is missing the &lt;tt&gt;-source-release.zip&lt;/tt&gt; file. This problem is also present in the feature model converter component.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13278675">SLING-8983</key>
            <summary>Include the -source-release.zip file in releases</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davidb">A. J. David Bosschaert</assignee>
                                    <reporter username="bosschaert">David Bosschaert</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Jan 2020 09:54:18 +0000</created>
                <updated>Mon, 13 Jan 2020 16:13:52 +0000</updated>
                            <resolved>Fri, 10 Jan 2020 10:05:50 +0000</resolved>
                                    <version>Feature Model Converter 1.0.8</version>
                                    <fixVersion>Feature Model Converter 1.0.10</fixVersion>
                                    <component>Feature Model</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="13278492">SLING-8979</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 41 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0adns:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8979] Include the -source-release.zip file in releases</title>
                <link>https://issues.apache.org/jira/browse/SLING-8979</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As described on the 1.0.4 release thread ( &lt;a href=&quot;https://lists.apache.org/thread.html/r9bef8ccde5ff94e5f841eaabaf66284faed6dfe89f82c4315f62daba%40%3Cdev.sling.apache.org%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread.html/r9bef8ccde5ff94e5f841eaabaf66284faed6dfe89f82c4315f62daba%40%3Cdev.sling.apache.org%3E&lt;/a&gt;&#160;), the release is missing the &lt;tt&gt;-source-release.zip&lt;/tt&gt; file.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13278492">SLING-8979</key>
            <summary>Include the -source-release.zip file in releases</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davidb">A. J. David Bosschaert</assignee>
                                    <reporter username="bosschaert">David Bosschaert</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Jan 2020 16:23:47 +0000</created>
                <updated>Mon, 13 Jan 2020 16:15:15 +0000</updated>
                            <resolved>Fri, 10 Jan 2020 10:06:09 +0000</resolved>
                                    <version>Content-Package to Feature Model Converter 1.0.4</version>
                                    <fixVersion>Content-Package to Feature Model Converter 1.0.6</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                    <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="13278675">SLING-8983</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0acio:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8976] [API Regions] Resolving bundles in different version fails</title>
                <link>https://issues.apache.org/jira/browse/SLING-8976</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="13278423">SLING-8976</key>
            <summary>[API Regions] Resolving bundles in different version fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davidb">A. J. David Bosschaert</assignee>
                                    <reporter username="karlpauls">Karl Pauls</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Jan 2020 10:13:59 +0000</created>
                <updated>Thu, 13 Feb 2020 08:50:51 +0000</updated>
                            <resolved>Tue, 21 Jan 2020 09:54:51 +0000</resolved>
                                    <version>Feature Model API Regions Runtime Fragment 1.0.4</version>
                                    <fixVersion>Feature Model API Regions Runtime Fragment 1.0.6</fixVersion>
                                    <component>Feature Model</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17011946" author="karlpauls" created="Thu, 9 Jan 2020 15:25:03 +0000"  >&lt;p&gt;This need to revert the commits from&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8815&quot; title=&quot;[API Regions] Prevent from resolving to customer-provided bundles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8815&quot;&gt;&lt;del&gt;SLING-8815&lt;/del&gt;&lt;/a&gt; as they where not working properly and then, it should use the bundleOrigions and regionOrigions instead of the the bundles and features files generated from the apiregions extension.&lt;/p&gt;</comment>
                            <comment id="17017014" author="davidb" created="Thu, 16 Jan 2020 15:10:47 +0000"  >&lt;p&gt;I think we should continue using bundles.properties and features.properties but fix their content.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310660">
                    <name>Completes</name>
                                            <outwardlinks description="fixes">
                                        <issuelink>
            <issuekey id="13265303">SLING-8815</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 40 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ac3c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8974] Shows a 200 OK for a delete operation even if the node does not exist.</title>
                <link>https://issues.apache.org/jira/browse/SLING-8974</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When you try any curl query for a &apos;delete&apos; operation, it shows a 200 OK even even the node does not exist.&lt;/p&gt;

&lt;p&gt;curl query:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ curl -F&lt;span class=&quot;code-quote&quot;&gt;&quot;:operation=delete&quot;&lt;/span&gt; http:&lt;span class=&quot;code-comment&quot;&gt;//slinghosturl.com/content/invalid_node
&lt;/span&gt;
&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;Content modified /content/invalid_node&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;
    &amp;lt;body&amp;gt;
    &amp;lt;h1&amp;gt;Content modified /content/invalid_node&amp;lt;/h1&amp;gt;
    &amp;lt;table&amp;gt;
        &amp;lt;tbody&amp;gt;
            &amp;lt;tr&amp;gt;
                &amp;lt;td&amp;gt;Status&amp;lt;/td&amp;gt;
                &amp;lt;td&amp;gt;&amp;lt;div id=&lt;span class=&quot;code-quote&quot;&gt;&quot;Status&quot;&lt;/span&gt;&amp;gt;200&amp;lt;/div&amp;gt;&amp;lt;/td&amp;gt;
            &amp;lt;/tr&amp;gt;
            &amp;lt;tr&amp;gt;
                &amp;lt;td&amp;gt;Message&amp;lt;/td&amp;gt;
                &amp;lt;td&amp;gt;&amp;lt;div id=&lt;span class=&quot;code-quote&quot;&gt;&quot;Message&quot;&lt;/span&gt;&amp;gt;OK&amp;lt;/div&amp;gt;&amp;lt;/td&amp;gt;
            &amp;lt;/tr&amp;gt;
            &amp;lt;tr&amp;gt;
                &amp;lt;td&amp;gt;Location&amp;lt;/td&amp;gt;
                &amp;lt;td&amp;gt;&amp;lt;a href=&lt;span class=&quot;code-quote&quot;&gt;&quot;/invalid_node&quot;&lt;/span&gt; id=&lt;span class=&quot;code-quote&quot;&gt;&quot;Location&quot;&lt;/span&gt;&amp;gt;/invalid_node&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;
            &amp;lt;/tr&amp;gt;
            &amp;lt;tr&amp;gt;
                &amp;lt;td&amp;gt;Parent Location&amp;lt;/td&amp;gt;
                &amp;lt;td&amp;gt;&amp;lt;a href=&lt;span class=&quot;code-quote&quot;&gt;&quot;/content&quot;&lt;/span&gt; id=&lt;span class=&quot;code-quote&quot;&gt;&quot;ParentLocation&quot;&lt;/span&gt;&amp;gt;/content&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;
            &amp;lt;/tr&amp;gt;
            &amp;lt;tr&amp;gt;
                &amp;lt;td&amp;gt;Path&amp;lt;/td&amp;gt;
                &amp;lt;td&amp;gt;&amp;lt;div id=&lt;span class=&quot;code-quote&quot;&gt;&quot;Path&quot;&lt;/span&gt;&amp;gt;/content/invalid_node&amp;lt;/div&amp;gt;&amp;lt;/td&amp;gt;
            &amp;lt;/tr&amp;gt;
            &amp;lt;tr&amp;gt;
                &amp;lt;td&amp;gt;Referer&amp;lt;/td&amp;gt;
                &amp;lt;td&amp;gt;&amp;lt;div id=&lt;span class=&quot;code-quote&quot;&gt;&quot;Referer&quot;&lt;/span&gt;&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/td&amp;gt;
            &amp;lt;/tr&amp;gt;
            &amp;lt;tr&amp;gt;
                &amp;lt;td&amp;gt;ChangeLog&amp;lt;/td&amp;gt;
                &amp;lt;td&amp;gt;&amp;lt;div id=&lt;span class=&quot;code-quote&quot;&gt;&quot;ChangeLog&quot;&lt;/span&gt;&amp;gt;&amp;amp;lt;pre&amp;amp;gt;deleted(&amp;amp;quot;/content/invalid_node&amp;amp;quot;);&amp;amp;lt;br/&amp;amp;gt;&amp;amp;lt;/pre&amp;amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/td&amp;gt;
            &amp;lt;/tr&amp;gt;
        &amp;lt;/tbody&amp;gt;
    &amp;lt;/table&amp;gt;
    &amp;lt;p&amp;gt;&amp;lt;a href=&lt;span class=&quot;code-quote&quot;&gt;&quot;/invalid_node&quot;&lt;/span&gt;&amp;gt;Modified Resource&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;&amp;lt;a href=&lt;span class=&quot;code-quote&quot;&gt;&quot;/content&quot;&lt;/span&gt;&amp;gt;Parent of Modified Resource&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;
    &amp;lt;/body&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;So, even though this node does not exist, there is a 200 OK response for the same which is not expected as per the documentation here -&amp;gt; &lt;a href=&quot;https://sling.apache.org/documentation/bundles/manipulating-content-the-slingpostservlet-servlets-post.html#content-removal&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/bundles/manipulating-content-the-slingpostservlet-servlets-post.html#content-removal&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Expected result:&lt;/p&gt;

&lt;p&gt;The response should be 404 not found if the not does not exist.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13278236">SLING-8974</key>
            <summary>Shows a 200 OK for a delete operation even if the node does not exist.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="anarang">Anisha Narang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Jan 2020 19:27:12 +0000</created>
                <updated>Wed, 25 Jun 2025 06:14:07 +0000</updated>
                                                                            <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="17011635" author="rombert" created="Thu, 9 Jan 2020 10:02:22 +0000"  >&lt;p&gt;Thank you for the report &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anarang&quot; class=&quot;user-hover&quot; rel=&quot;anarang&quot;&gt;anarang&lt;/a&gt;. This definitely looks like a bug and I&apos;ve marked it for the next servlets POST release, to be taken into consideration.&lt;/p&gt;

&lt;p&gt;Of course, if you have the option of sending a pull request, the fix will land sooner &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17012521" author="anarang" created="Fri, 10 Jan 2020 07:24:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; that&apos;s awesome, thanks. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17013207" author="enorman" created="Fri, 10 Jan 2020 21:18:48 +0000"  >&lt;p&gt;Obviously, the ChangeLog of the response shouldn&apos;t include deleted items that did not actually exist so that looks wrong, but is this a problem with the documentation or the implementation?&lt;/p&gt;

&lt;p&gt;I would find it quite strange for the response to be different when the path to delete is supplied via a &quot;:applyTo&quot; parameter versus the inferred path when no &quot;:applyTo&quot; request parameter is supplied.&lt;/p&gt;

&lt;p&gt;In other words, wouldn&apos;t it would be more consistent for these two requests to return an identical response?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ curl -F&lt;span class=&quot;code-quote&quot;&gt;&quot;:operation=delete&quot;&lt;/span&gt; http:&lt;span class=&quot;code-comment&quot;&gt;//slinghosturl.com/content/invalid_node&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ curl -F&lt;span class=&quot;code-quote&quot;&gt;&quot;:operation=delete&quot;&lt;/span&gt; -F&lt;span class=&quot;code-quote&quot;&gt;&quot;:applyTo=/content/invalid_node&quot;&lt;/span&gt; http:&lt;span class=&quot;code-comment&quot;&gt;//slinghosturl.com/content/invalid_node&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;font color=&quot;#172b4d&quot;&gt;So my question is should the &quot;delete&quot; operation always silently fail for any invalid paths or return an error when any of the paths were not valid?&#160; For backward compatibility it should ignore invalid paths silently, but perhaps there is some interest in more &quot;strict&quot; interpretation of the request parameters?&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17014137" author="rombert" created="Mon, 13 Jan 2020 09:02:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enorman&quot; class=&quot;user-hover&quot; rel=&quot;enorman&quot;&gt;enorman&lt;/a&gt; - I agree that both operations should return identical results, and - as you said - we should not list invalid changelog entries.&lt;/p&gt;

&lt;p&gt;On the broader issue, I think that a 200 OK return code when trying to delete an inexisting resource is incorrect. I would like to know if the resource was actually deleted, otherwise this can hide programming errors.&lt;/p&gt;</comment>
                            <comment id="17764586" author="rombert" created="Wed, 13 Sep 2023 10:30:29 +0000"  >&lt;p&gt;Thinking about it some more, I think 400 would be a good compromise - &apos;bad request&apos; since the client should know that the node does not exist.&lt;/p&gt;</comment>
                            <comment id="17789490" author="JIRAUSER291579" created="Fri, 24 Nov 2023 15:05:06 +0000"  >&lt;p&gt;I tested this locally as well as wrote a unit test on the DeleteOperation to validate that the operation fails on a NonExistingResource and returns a 400 from the PostServlet.&#160;&lt;/p&gt;

&lt;p&gt;The unit tests pass and the E2E pass as well.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 47 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ab9s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8973] Repoinit convertion is not respecting runmodes</title>
                <link>https://issues.apache.org/jira/browse/SLING-8973</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When repoinit configurations get converted into repoinit extensions the runmode selection is not being respected and repoinit statements always being added to the non runmode specific feature.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13278199">SLING-8973</key>
            <summary>Repoinit convertion is not respecting runmodes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="dsuess">Dominik S&#252;&#223;</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Jan 2020 16:28:16 +0000</created>
                <updated>Mon, 13 Jan 2020 16:15:15 +0000</updated>
                            <resolved>Thu, 9 Jan 2020 10:32:37 +0000</resolved>
                                    <version>Content-Package to Feature Model Converter 1.0.2</version>
                                    <fixVersion>Content-Package to Feature Model Converter 1.0.6</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="17010816" author="dsuess" created="Wed, 8 Jan 2020 16:37:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kpauls&quot; class=&quot;user-hover&quot; rel=&quot;kpauls&quot;&gt;kpauls&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; - please crosscheck PR. I&apos;ll be running a few more real world examples but based on testing so far this eliminates the trouble that was just detected by some colleague.&lt;/p&gt;</comment>
                            <comment id="17010824" author="dsuess" created="Wed, 8 Jan 2020 16:57:56 +0000"  >&lt;p&gt;Had to delete PR as there still is something slightly off - need to debug&lt;/p&gt;</comment>
                            <comment id="17010842" author="dsuess" created="Wed, 8 Jan 2020 17:17:22 +0000"  >&lt;p&gt;Fixed the glitch and opened a new PR - &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kpauls&quot; class=&quot;user-hover&quot; rel=&quot;kpauls&quot;&gt;kpauls&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; now leads to expected result for real world conditions.&lt;/p&gt;</comment>
                            <comment id="17011476" author="cziegeler" created="Thu, 9 Jan 2020 06:33:59 +0000"  >&lt;p&gt;We should address &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bosschaert&quot; class=&quot;user-hover&quot; rel=&quot;bosschaert&quot;&gt;bosschaert&lt;/a&gt;s comment and provide the two methods in the interface&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ab1k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8970] CheckApiRegionsBundleExportsImports ignoring inherited exports</title>
                <link>https://issues.apache.org/jira/browse/SLING-8970</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;the current comparison methodology of the CheckApiRegionsBundleExportsImports Analyser only compares the regions a bundle that exports a package tot he regions an importing bundle is in - this lacks the cases where the ApiExports are inherited. Therefore adding a check on all importing regions if listAllExports (which considers inherited ApiExports) contains the checked package and adding it to the exportingRegions will bring the analyser in line with the runtime behavior.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13278171">SLING-8970</key>
            <summary>CheckApiRegionsBundleExportsImports ignoring inherited exports</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="karlpauls">Karl Pauls</assignee>
                                    <reporter username="dsuess">Dominik S&#252;&#223;</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Jan 2020 14:18:53 +0000</created>
                <updated>Mon, 23 Nov 2020 08:14:20 +0000</updated>
                            <resolved>Mon, 20 Jan 2020 16:06:58 +0000</resolved>
                                    <version>Feature Model API Regions Extension 1.1.0</version>
                                    <fixVersion>Feature Model API Regions Extension 1.1.2</fixVersion>
                    <fixVersion>Feature Model API Regions Runtime Fragment 1.0.6</fixVersion>
                                    <component>Feature Model Analyser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17010703" author="dsuess" created="Wed, 8 Jan 2020 14:21:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davidb&quot; class=&quot;user-hover&quot; rel=&quot;davidb&quot;&gt;davidb&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; please review PR that is supposed to fix case described above and via Test case added along.&lt;/p&gt;</comment>
                            <comment id="17019572" author="karlpauls" created="Mon, 20 Jan 2020 16:06:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dsuess&quot; class=&quot;user-hover&quot; rel=&quot;dsuess&quot;&gt;dsuess&lt;/a&gt;, I had to massage things a little but I think it should be working now - thanks!&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 40 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0aavc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8967] Log offset for skipped packages</title>
                <link>https://issues.apache.org/jira/browse/SLING-8967</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The offset of skipped packages in DistributionSubscriber is not yet contained in the log statements. There&apos;s no way to identify which package is skipped. We should add the offset in the statement.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13277938">SLING-8967</key>
            <summary>Log offset for skipped packages</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="marett">Timothee Maret</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Jan 2020 14:31:37 +0000</created>
                <updated>Sun, 16 Feb 2020 21:56:23 +0000</updated>
                            <resolved>Wed, 15 Jan 2020 19:20:47 +0000</resolved>
                                    <version>Content Distribution Journal Core 0.1.6</version>
                                    <fixVersion>Content Distribution Journal Core 0.1.8</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17009770" author="marett" created="Tue, 7 Jan 2020 14:34:53 +0000"  >&lt;p&gt;Done in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-journal/commit/26bbb2cf0d9044f38b2c94874775464f9efc23b0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;26bbb2cf0d9044f38b2c94874775464f9efc23b0&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0a9fk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8965] Avoid committing for each skipped package </title>
                <link>https://issues.apache.org/jira/browse/SLING-8965</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With the &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8908&quot; title=&quot;DistributionSubscriber does not keep track of skipped packages as processed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8908&quot;&gt;&lt;del&gt;SLING-8908&lt;/del&gt;&lt;/a&gt; change, we ensure that all package messages (even skipped ones) are marked as processed. By design, we mark processed package by committing to the local repository. Committing to the repository is not cheap and we should minimise it. For setups that generate a lot of skipped packages such as A) multiple farms support with multiple consumer agents or B) multi-region deployments with varying latencies, the amount of commits will increase even more.&lt;/p&gt;

&lt;p&gt;To reduce the commits, we should either redo &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8908&quot; title=&quot;DistributionSubscriber does not keep track of skipped packages as processed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8908&quot;&gt;&lt;del&gt;SLING-8908&lt;/del&gt;&lt;/a&gt; such that skipped offsets are kept in memory or simply only commit skipped packages as aggregates (e.g. 1 commits for 10 skipped packages).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13277896">SLING-8965</key>
            <summary>Avoid committing for each skipped package </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cschneider">Christian Schneider</assignee>
                                    <reporter username="marett">Timothee Maret</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Jan 2020 10:00:11 +0000</created>
                <updated>Sun, 16 Feb 2020 21:56:23 +0000</updated>
                            <resolved>Wed, 12 Feb 2020 09:23:02 +0000</resolved>
                                                    <fixVersion>Content Distribution Journal Core 0.1.8</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17035186" author="chris@die-schneider.net" created="Wed, 12 Feb 2020 09:23:02 +0000"  >&lt;p&gt;Seems I solved this problem in a different sling issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13279861">SLING-9009</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13273599">SLING-8908</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 37 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0a968:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8957] Tika Fallback Provider Fails on Large Files</title>
                <link>https://issues.apache.org/jira/browse/SLING-8957</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Tika Fallback Provider Fails on Large(ish) Files&lt;/p&gt;</description>
                <environment></environment>
        <key id="13277273">SLING-8957</key>
            <summary>Tika Fallback Provider Fails on Large Files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Jan 2020 22:42:58 +0000</created>
                <updated>Wed, 25 Mar 2020 02:28:05 +0000</updated>
                            <resolved>Thu, 2 Jan 2020 22:54:40 +0000</resolved>
                                    <version>CMS 0.14.0</version>
                                    <fixVersion>CMS 0.16.0</fixVersion>
                                    <component>App CMS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17007120" author="dklco" created="Thu, 2 Jan 2020 22:54:10 +0000"  >&lt;p&gt;Fixed in&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/commit/7c68ae70076a494fc93bab3c148b0d9f12c2080d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/commit/7c68ae70076a494fc93bab3c148b0d9f12c2080d&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0a5c0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8956] Archetype Token Replacement Issues</title>
                <link>https://issues.apache.org/jira/browse/SLING-8956</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Sling CMS Archetype fails to replace tokens in the readme and page.json and does not handle the path correctly in the java code.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13277272">SLING-8956</key>
            <summary>Archetype Token Replacement Issues</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Jan 2020 22:30:49 +0000</created>
                <updated>Wed, 25 Mar 2020 02:28:00 +0000</updated>
                            <resolved>Thu, 2 Jan 2020 22:54:56 +0000</resolved>
                                    <version>CMS 0.14.0</version>
                                    <fixVersion>CMS 0.16.0</fixVersion>
                                    <component>App CMS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17007121" author="dklco" created="Thu, 2 Jan 2020 22:54:56 +0000"  >&lt;p&gt;Fixed in&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/commit/5d4d462f430200782f861241beffcd6626320ae3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/commit/5d4d462f430200782f861241beffcd6626320ae3&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0a5bs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8953] CMS - Closing Search Issues</title>
                <link>https://issues.apache.org/jira/browse/SLING-8953</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There are two issues closing the search dialog:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;When closing from page properties, this also closes the page properties dialog&lt;/li&gt;
	&lt;li&gt;when closing without selecting a value from a component it just displays a loader and does not reopen the editor&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13276100">SLING-8953</key>
            <summary>CMS - Closing Search Issues</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Dec 2019 21:10:28 +0000</created>
                <updated>Wed, 25 Mar 2020 02:27:53 +0000</updated>
                            <resolved>Thu, 2 Jan 2020 22:55:38 +0000</resolved>
                                    <version>App CMS 0.12.0</version>
                    <version>CMS 0.14.0</version>
                                    <fixVersion>CMS 0.16.0</fixVersion>
                                    <component>App CMS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17007122" author="dklco" created="Thu, 2 Jan 2020 22:55:38 +0000"  >&lt;p&gt;Fixed in:&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/commit/1e7a0d29a52da96a2c7ee9bb4827bffeb3e5b267&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/commit/1e7a0d29a52da96a2c7ee9bb4827bffeb3e5b267&lt;/a&gt;&#160;and&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/commit/d035a8d00bfac9913371f209998a8bd49891d907&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/commit/d035a8d00bfac9913371f209998a8bd49891d907&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09y3s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8949] Handle two digits versions correctly</title>
                <link>https://issues.apache.org/jira/browse/SLING-8949</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;See e.g. &lt;a href=&quot;https://search.maven.org/artifact/org.bouncycastle/bcprov-jdk15on/1.64/jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://search.maven.org/artifact/org.bouncycastle/bcprov-jdk15on/1.64/jar&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;The problem is that org.osgi.framework.Version.toString() returns 1.64.0, the respecting code needs to be adjusted to handle two digit versions correctly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13275826">SLING-8949</key>
            <summary>Handle two digits versions correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="henzlerg">Georg Henzler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Dec 2019 23:17:51 +0000</created>
                <updated>Fri, 27 Dec 2019 07:26:51 +0000</updated>
                            <resolved>Sat, 21 Dec 2019 08:51:45 +0000</resolved>
                                                    <fixVersion>Installer Vault Package Install Hook 1.1.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17001647" author="henzlerg" created="Sat, 21 Dec 2019 08:51:40 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-provider-installhook/commit/f45a29a581980d15974e530263d91a5d435829d3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;f45a29a581980d&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09wew:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8947] CMS - Grid View Missing Fields</title>
                <link>https://issues.apache.org/jira/browse/SLING-8947</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently the table view shows data which is not visible on the grid view. We should add the:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Title&lt;/li&gt;
	&lt;li&gt;Modified date&lt;/li&gt;
	&lt;li&gt;Publish status&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13275791">SLING-8947</key>
            <summary>CMS - Grid View Missing Fields</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Dec 2019 19:11:16 +0000</created>
                <updated>Wed, 25 Mar 2020 02:27:46 +0000</updated>
                            <resolved>Mon, 23 Dec 2019 18:41:14 +0000</resolved>
                                    <version>CMS 0.14.0</version>
                                    <fixVersion>CMS 0.16.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17002432" author="dklco" created="Mon, 23 Dec 2019 18:41:14 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/commit/1294061a0d3e70f807c8cc96fecbbceb50962777&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/commit/1294061a0d3e70f807c8cc96fecbbceb50962777&lt;/a&gt;&#160;and &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/commit/3a94480ac0af97719267c2f0bc56d7be19f81079&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/commit/3a94480ac0af97719267c2f0bc56d7be19f81079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09w74:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8946] Non-deterministic shadowing of resource observation</title>
                <link>https://issues.apache.org/jira/browse/SLING-8946</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The BasicObservationReporter implements shadowing of events being propagated per ResourceProvider instance &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. Assuming we do have 2 ResourceProviders registered, where the one shadows the other like this:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;RP A registered on /&lt;/li&gt;
	&lt;li&gt;RP B registered on /path&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;then currently the excludes given to the BasicObservationReporter are different depending on either RP A or RP B gets registered first:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;RP A before RP B =&amp;gt; excludes are empty&lt;/li&gt;
	&lt;li&gt;RP B before RP A =&amp;gt; excludes contain /path&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This is because only the newly registered RP gets its ProviderContext updated &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Same applies if RP B is registered before RP A and gets unregistered. In that case the ObservationReporter of RP A stays untouched.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/observation/BasicObservationReporter.java#L102&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/observation/BasicObservationReporter.java#L102&lt;/a&gt;&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/providers/ResourceProviderTracker.java#L358&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/providers/ResourceProviderTracker.java#L358&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13275778">SLING-8946</key>
            <summary>Non-deterministic shadowing of resource observation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="diru">Dirk Rudolph</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Dec 2019 18:11:46 +0000</created>
                <updated>Tue, 8 Dec 2020 10:32:22 +0000</updated>
                                            <version>Resource Resolver 1.5.34</version>
                                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="5400">1.5h</timespent>
                                <comments>
                            <comment id="17001061" author="diru" created="Fri, 20 Dec 2019 18:17:33 +0000"  >&lt;p&gt;Created a according test in&#160;&lt;a href=&quot;https://github.com/Buuhuu/sling-org-apache-sling-resourceresolver/commit/0c091b07ba58b11dd6abbdccbcfcb0c316813fa3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/Buuhuu/sling-org-apache-sling-resourceresolver/commit/0c091b07ba58b11dd6abbdccbcfcb0c316813fa3&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17001076" author="diru" created="Fri, 20 Dec 2019 18:37:00 +0000"  >&lt;p&gt;I created&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/pull/16&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/pull/16&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If accepted, I would like to have this change back ported to 1.5.x. Whats the process to follow for that?&lt;/p&gt;

&lt;p&gt;Also, when calling the new &lt;tt&gt;updateHandlers()&lt;/tt&gt; there is always a &lt;tt&gt;update()&lt;/tt&gt; called on the handler which again calls &lt;tt&gt;ResourceProvider#update(long)&lt;/tt&gt; with a change set fixed to EXCLUDED_PATHS_CHANGED + OBSERVATION_LISTENER_CHANGED &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. I would like to propose to do either or the other depending on where the update came from. To be followed up on in another improvement I guess.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/providers/ResourceProviderHandler.java#L159&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/providers/ResourceProviderHandler.java#L159&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17010712" author="rombert" created="Wed, 8 Jan 2020 14:34:51 +0000"  >&lt;p&gt;PR applied, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="17010714" author="rombert" created="Wed, 8 Jan 2020 14:35:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt; - for the backport to the 1.5.x branch, I would first ask if you can&apos;t upgrade to the latest version instead, we rarely get maintenance branches.&lt;/p&gt;</comment>
                            <comment id="17010717" author="diru" created="Wed, 8 Jan 2020 14:39:37 +0000"  >&lt;p&gt;Not sure if 1.6.x is compatible with the product version we use (AEM 6.4). We cannot upgrade to any newer version and I also don&apos;t want to take the risk of deploying my own intermediate build of that bundle. So having an official build that we can request as hotfix via the product vendor would be best.&lt;/p&gt;</comment>
                            <comment id="17010726" author="rombert" created="Wed, 8 Jan 2020 14:45:01 +0000"  >&lt;p&gt;I see, that makes sense &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt;. My suggestion would be to ask for it from Adobe via support. Otherwise it will (probably, not wearing my Adobe hat) not be supported and basically the same as if you would build the bundle yourself.&lt;/p&gt;</comment>
                            <comment id="17025740" author="sonagupt31" created="Wed, 29 Jan 2020 09:31:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt;&#160;I tried to apply this change on Sling resource resolver 1.6.8 by cherry picking commit :&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/4f48deeddde060447cdcd00730263a9cb8e9ae6d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/4f48deeddde060447cdcd00730263a9cb8e9ae6d&lt;/a&gt;&#160;but after applying this fix integration tests are failing with random resource not found errors. Around 50 tests are failing on AEM servers. Can you please suggest on this? All tests were passing before applying this fix. Any suggestion to fix these.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;org.apache.sling.testing.clients.ClientException: Expected HTTP Status: 302 . Instead 403 was returned!org.apache.sling.testing.clients.ClientException: Expected HTTP Status: 302 . Instead 403 was returned!&#160;Response Content:&amp;lt;!DOCTYPE HTML PUBLIC &quot;-//IETF//DTD HTML 2.0//EN&quot;&amp;gt;&amp;lt;html&amp;gt;&#160; &#160; &amp;lt;head&amp;gt;&amp;lt;title&amp;gt;403 Forbidden&amp;lt;/title&amp;gt;&amp;lt;/head&amp;gt;&#160; &#160; &amp;lt;body&amp;gt;&#160; &#160; &#160; &#160; &amp;lt;h1&amp;gt;Forbidden&amp;lt;/h1&amp;gt;&#160; &#160; &#160; &#160; &amp;lt;p&amp;gt;Cannot serve request to /content/we-retail/qatestpage_c90223f8-8b8f-4a91-8520-8d5fd440dec4.commerce.smartlist.management.html on this server&amp;lt;/p&amp;gt;&#160; &#160; &#160; &#160;&#160;&#160; &#160; &#160; &#160;&#160;&#160; &#160; &#160; &#160;&#160;&#160; &#160; &#160; &#160; &amp;lt;hr&amp;gt;&#160; &#160; &#160; &#160; &amp;lt;address&amp;gt;ApacheSling/2.6 (jetty/9.4.12.v20180830, Java HotSpot(TM) 64-Bit Server VM 1.8.0_144, Windows 10 10.0 amd64)&amp;lt;/address&amp;gt;&#160; &#160; &amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;(return code=403) at org.apache.sling.testing.clients.util.HttpUtils.throwError(HttpUtils.java:102) at org.apache.sling.testing.clients.util.HttpUtils.verifyHttpStatus(HttpUtils.java:40) at org.apache.sling.testing.clients.AbstractSlingClient.doStreamRequest(AbstractSlingClient.java:325) at org.apache.sling.testing.clients.AbstractSlingClient.doRequest(AbstractSlingClient.java:471) at org.apache.sling.testing.clients.AbstractSlingClient.doPost(AbstractSlingClient.java:571) at com.adobe.cq.testing.client.CommerceClient.createSmartList(CommerceClient.java:493) at com.adobe.cq.commerce.it.http.SmartlistIT.testAddNewSmartlistNotDefault(SmartlistIT.java:152) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48) at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55) at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55) at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55) at org.apache.sling.testing.junit.rules.TestStickyCookieRule$1.evaluate(TestStickyCookieRule.java:34) at org.junit.rules.RunRules.evaluate(RunRules.java:20) at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48) at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48) at com.adobe.granite.testing.junit.rules.DefaultReplicationAgents$1.evaluate(DefaultReplicationAgents.java:50) at org.apache.sling.testing.junit.rules.instance.ExistingInstanceStatement.evaluate(ExistingInstanceStatement.java:62) at org.apache.sling.testing.junit.rules.instance.ExistingInstanceStatement.evaluate(ExistingInstanceStatement.java:62) at org.junit.rules.RunRules.evaluate(RunRules.java:20) at org.junit.runners.ParentRunner.run(ParentRunner.java:363) at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89) at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="17025741" author="sonagupt31" created="Wed, 29 Jan 2020 09:34:20 +0000"  >&lt;p&gt;If i keep a time delay of 5 secs between 2 tests ,all tests pass. So some operation is taking time to complete and making the server state incompatible during that time.&lt;/p&gt;

&lt;p&gt;Also as per the change update() is happening at activation which was not the case earlier. Can you please suggest why is this required?&lt;/p&gt;

&lt;p&gt;Also earlier&#160;updateProviderContext was called for the handler but now it is being called for&#160;handlers.values().get(0) which is a different handler than earlier. Is this correct?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/4f48deeddde060447cdcd00730263a9cb8e9ae6d#diff-c2a07f6ec3732814e0957272901af295R489&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/4f48deeddde060447cdcd00730263a9cb8e9ae6d#diff-c2a07f6ec3732814e0957272901af295R489&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17025955" author="diru" created="Wed, 29 Jan 2020 15:12:33 +0000"  >&lt;p&gt;From you client exception I cannot help you to resolve this issue. Can you share details of the test(s) and the environment they are executed against? Can you maybe share what is happening on the environment during you wait time (any services restarting)?&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Also as per the change update() is happening at activation which was not the case earlier. Can you please suggest why is this required?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;That is right. Before update was not called on the handler. That caused also that &lt;tt&gt;ProviderContext.EXCLUDED_PATHS_CHANGED&lt;/tt&gt; was not communicated to the ResourceProvider properly. The right behaviour is, that it is called when the exclude paths change.&lt;/p&gt;

&lt;p&gt;As suggested earlier &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; it might make sense to improve the current behaviour as now the &lt;tt&gt;provider.update()&lt;/tt&gt; is always called even if there is no overlap.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Also earlier updateProviderContext was called for the handler but now it is being called for handlers.values().get(0) which is a different handler than earlier. Is this correct?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;You are right the call of &lt;tt&gt;updateProviderContext&lt;/tt&gt; is now placed differently than before but from the execution flow it has been called on the first handler in the list per path before as well. &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;, &lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8946?focusedCommentId=17001076&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17001076&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-8946?focusedCommentId=17001076&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17001076&lt;/a&gt;&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/providers/ResourceProviderTracker.java#L179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/providers/ResourceProviderTracker.java#L179&lt;/a&gt;&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/providers/ResourceProviderTracker.java#L297&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/providers/ResourceProviderTracker.java#L297&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17026552" author="sonagupt" created="Thu, 30 Jan 2020 10:06:33 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;^test.zip&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt;&#160;Can you please use try the attached mvn project and execute&#160;SmartlistIT.java test cases from the same. Without the change all tests pass and there are random failures on applying the fix. Please use a valid AEM server author and publis as arguments&#160;-Dgranite.it.author.url=http://&amp;lt;server&amp;gt;:&amp;lt;port&amp;gt; -Dgranite.it.publish.url=http://&amp;lt;server&amp;gt;:&amp;lt;port&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17026589" author="sonagupt" created="Thu, 30 Jan 2020 10:53:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt;&#160;As you mentioned that you are also picking the first handler in the list&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/providers/ResourceProviderTracker.java#L179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/providers/ResourceProviderTracker.java#L179&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;but we are not adding the handler created as per provided info as done to matchningHanders list. We are just using the pre-existing list now. Can you please check this.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/providers/ResourceProviderTracker.java#L176-L177&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/providers/ResourceProviderTracker.java#L176-L177&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17026592" author="diru" created="Thu, 30 Jan 2020 10:59:44 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sonagupt&quot; class=&quot;user-hover&quot; rel=&quot;sonagupt&quot;&gt;sonagupt&lt;/a&gt; I will try to run you test on vanilla 6.4.7.&#160;&lt;/p&gt;

&lt;p&gt;In &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; the list of handlers is sorted putting the disposed one (if exists) to the end of the list &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;. So matchingHandlers.get(0) will always be the active handler. &lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/providers/ResourceProviderTracker.java#L178&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/providers/ResourceProviderTracker.java#L178&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/providers/ResourceProviderHandler.java#L130&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/providers/ResourceProviderHandler.java#L130&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17026726" author="diru" created="Thu, 30 Jan 2020 14:39:00 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sonagupt&quot; class=&quot;user-hover&quot; rel=&quot;sonagupt&quot;&gt;sonagupt&lt;/a&gt; for pointing that out. Indeed I have been able to reproduce the problem reported. It looks like the resource consumption when updating all ResourceProviderHandlers on activate/deactivate of a ResourceProvider grows exponentially now (time and memory). I created &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9040&quot; title=&quot;High resource consumption when activating/deactivating ResourceProviders&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9040&quot;&gt;&lt;del&gt;SLING-9040&lt;/del&gt;&lt;/a&gt; for that.&lt;/p&gt;</comment>
                            <comment id="17027322" author="sonagupt" created="Fri, 31 Jan 2020 09:47:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt;&#160;Can you please suggest the steps by which i can test this issue on AEM server?&lt;/p&gt;</comment>
                            <comment id="17027339" author="diru" created="Fri, 31 Jan 2020 10:21:26 +0000"  >&lt;p&gt;Please apply the changes made in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9040&quot; title=&quot;High resource consumption when activating/deactivating ResourceProviders&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9040&quot;&gt;&lt;del&gt;SLING-9040&lt;/del&gt;&lt;/a&gt; on top of the ones of this issue. &lt;/p&gt;</comment>
                            <comment id="17027341" author="sonagupt" created="Fri, 31 Jan 2020 10:23:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt;&#160;Yes i have done that but can you please suggest me the scenario to verify this fix?&lt;/p&gt;</comment>
                            <comment id="17027345" author="diru" created="Fri, 31 Jan 2020 10:27:07 +0000"  >&lt;p&gt;I verified the changes against the IT you shared earlier and there is a unit test.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8946?focusedCommentId=17026552&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-17026552&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-8946?focusedCommentId=17026552&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-17026552&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17029740" author="sonagupt" created="Tue, 4 Feb 2020 10:37:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt;&#160;Some tests are still failing. Can you please look into the same. Use the attached test2.zip and command&#160;&lt;/p&gt;

&lt;p&gt;mvn clean verify -Dgranite.it.author.url=http://&amp;lt;server&amp;gt;:&amp;lt;port&amp;gt; -Dgranite.it.publish.url=http://&amp;lt;server&amp;gt;:&amp;lt;port&amp;gt; -Dtest=com/adobe/cq/xf/it/adobetarget/TargetIntegrationIT.java&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;List of failing tests :&#160;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://noida-evergreen.ci.corp.adobe.com:12001/job/Evergreen-IT-6.4.0/1545/featureGroup=commerce,label=evergreen/testReport/junit/com.adobe.cq.xf.it.adobetarget/TargetIntegrationIT/testUpdatePageStatus/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;com.adobe.cq.xf.it.adobetarget.TargetIntegrationIT.testUpdatePageStatus&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://noida-evergreen.ci.corp.adobe.com:12001/job/Evergreen-IT-6.4.0/1545/featureGroup=commerce,label=evergreen/testReport/junit/com.adobe.cq.xf.it.adobetarget/TargetIntegrationIT/testExportToTarget/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;com.adobe.cq.xf.it.adobetarget.TargetIntegrationIT.testExportToTarget&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://noida-evergreen.ci.corp.adobe.com:12001/job/Evergreen-IT-6.4.0/1545/featureGroup=commerce,label=evergreen/testReport/junit/com.adobe.cq.xf.it.adobetarget/TargetIntegrationIT/testDeleteInTarget/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;com.adobe.cq.xf.it.adobetarget.TargetIntegrationIT.testDeleteInTarget&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://noida-evergreen.ci.corp.adobe.com:12001/job/Evergreen-IT-6.4.0/1545/featureGroup=commerce,label=evergreen/testReport/junit/com.adobe.cq.xf.it.socialmedia_integration.facebook/FacebookIT/endToEnd/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;com.adobe.cq.xf.it.socialmedia_integration.facebook.FacebookIT.endToEnd&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://noida-evergreen.ci.corp.adobe.com:12001/job/Evergreen-IT-6.4.0/1545/featureGroup=commerce,label=evergreen/testReport/junit/com.adobe.cq.xf.it.socialmedia_integration.pinterest/PinterestIT/endToEnd/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;com.adobe.cq.xf.it.socialmedia_integration.pinterest.PinterestIT.endToEnd&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17030589" author="sonagupt" created="Wed, 5 Feb 2020 11:34:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt;&#160;Can you please look into these failures urgently as I need to integrate the change for AEM service pack.&lt;/p&gt;</comment>
                            <comment id="17033416" author="diru" created="Mon, 10 Feb 2020 07:50:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sonagupt&quot; class=&quot;user-hover&quot; rel=&quot;sonagupt&quot;&gt;sonagupt&lt;/a&gt; please keep in mind that I am not an Adobe employee and can only barely reconstruct the dependency tree of the tests you share with what is available publicly. Also please make sure that you are actually allowed to share those packages of code here.&lt;/p&gt;

&lt;p&gt;In this particular case (test2.zip) I cannot get the tests running. Which version/patch level of AEM are they executed against? &lt;/p&gt;

&lt;p&gt;I don&apos;t see how the failure I get relate to the change here.&lt;/p&gt;</comment>
                            <comment id="17033436" author="sonagupt" created="Mon, 10 Feb 2020 08:40:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;^test.zip&amp;#93;&lt;/span&gt;Can you please use try the attached mvn project and execute TargetIntegrationIT.java test cases from the same. Without the change all tests pass and there are all failures on applying the fix. Please use a valid AEM server 6.4.7 author as argument -Dgranite.it.author.url=http://&amp;lt;server&amp;gt;:&amp;lt;port&amp;gt;&lt;/p&gt;

&lt;p&gt;All tests are passing on the 6.4.7 server and start to fail only after updating the sling resurce resolver bundle&lt;/p&gt;</comment>
                            <comment id="17033450" author="bdelacretaz" created="Mon, 10 Feb 2020 09:07:52 +0000"  >&lt;p&gt;Note that the Sling project is not the right place to discuss issues with commercial products. If the Sling test coverage is lacking, best would be to contribute tests that can be added to the Sling test suites.&lt;/p&gt;</comment>
                            <comment id="17033460" author="sonagupt" created="Mon, 10 Feb 2020 09:24:22 +0000"  >&lt;p&gt;Yes I understand that but i could not reach to the root cause of the issue hence attached the test cases. The tests are failing intermittently after applying this fix. As earlier other tests were failing and&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt;&#160;found that the resource consumption was growing exponentially.&#160;&#160;&lt;/p&gt;</comment>
                            <comment id="17033509" author="sonagupt" created="Mon, 10 Feb 2020 11:31:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt;&#160;Can you please suggest were you able to reproduce the issue with the changes?&lt;/p&gt;</comment>
                            <comment id="17033510" author="kwin" created="Mon, 10 Feb 2020 11:34:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sonagupt&quot; class=&quot;user-hover&quot; rel=&quot;sonagupt&quot;&gt;sonagupt&lt;/a&gt; Sorry, open source does not work like this. In general people are contributing in their free time. Nagging people after 2 hours is not the way to go here. If you need an urgent solution please reach out to an Adobe employee via some other channels!&lt;/p&gt;</comment>
                            <comment id="17033730" author="diru" created="Mon, 10 Feb 2020 16:28:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sonagupt&quot; class=&quot;user-hover&quot; rel=&quot;sonagupt&quot;&gt;sonagupt&lt;/a&gt; even with a compiled version of your IT, I cannot run them. Please provide a reproducible test that addresses the issue you have isolated. &lt;/p&gt;</comment>
                            <comment id="17038186" author="sonagupt" created="Mon, 17 Feb 2020 09:30:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt;&#160;I have added a performance test case in &lt;a href=&quot;https://github.com/sonagupt/sling-org-apache-sling-resourceresolver/blob/master/src/test/java/org/apache/sling/resourceresolver/impl/providers/ResourceProviderTrackerTest.java#L363&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/sonagupt/sling-org-apache-sling-resourceresolver/blob/master/src/test/java/org/apache/sling/resourceresolver/impl/providers/ResourceProviderTrackerTest.java#L363&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;mvn clean verify -Dtest=org.apache.sling.resourceresolver.impl.providers.ResourceProviderTrackerTest.java#testPerformance&lt;/p&gt;

&lt;p&gt;Can you please try and execute this with and without your changes. As per my observation the total time taken for creating and registering 1000 resources earlier was only ~300 ms which has increased a lot after this change to ~6000+ms which is ~200% increase. This has impacted performance a lot. Can you please suggest on the same.&lt;/p&gt;</comment>
                            <comment id="17038309" author="diru" created="Mon, 17 Feb 2020 12:26:35 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sonagupt&quot; class=&quot;user-hover&quot; rel=&quot;sonagupt&quot;&gt;sonagupt&lt;/a&gt;, I sampled the testcase you provided and see that the majority of time is actually spent in org.apache.sling.api.resource.path.PathSet#optimize(), which has a runtime complexity of O(n^2). This has never been a problem yet as the exclusion sets created were small, due to the so far missing updates. With / being shadowed by each and every ResourceProvider now the &quot;optimized&quot; set of paths grows big and so has an impact. I will create an improvement for this as I consider this unrelated to the change made here.&lt;/p&gt;</comment>
                            <comment id="17038894" author="rombert" created="Tue, 18 Feb 2020 08:47:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt; - I don&apos;t have a strong opinion on whether the &lt;tt&gt;PathSet#optimize()&lt;/tt&gt; issue needs to be a separate task or not. I am sure though that this is a considerable performance regression and we should not make a release as-is.&lt;/p&gt;</comment>
                            <comment id="17038912" author="diru" created="Tue, 18 Feb 2020 09:07:49 +0000"  >&lt;p&gt;Not sure if improving &lt;tt&gt;PathSet#optimize()&lt;/tt&gt;&#160;will help to resolve this (if even possible) as we will always have to iterate over all ResourceProviders at least once multiplied with what ever the PathSet does != O(1).&lt;/p&gt;

&lt;p&gt;Another approach would be 1) to throttle the update() on the ResourceProviders until a certain condition is meat to prevent recalculation of the excludes with each newly registered ResourceProvider, or 2) to stop recreating the ObservationReporter with each new ResourceProvider, but rather update its settings instead like its already done with the ProviderContext.&lt;/p&gt;

&lt;p&gt;1) increases the complexity of the runtime behaviour unnecessarily I think but 2) requires a change in the SPI&lt;/p&gt;</comment>
                            <comment id="17038926" author="rombert" created="Tue, 18 Feb 2020 09:18:37 +0000"  >&lt;p&gt;I am going to leave the discussion to you and anyone else that has good knowledge of that area - I just wanted to point out that the performance regressions is something that has to be addressed before making a release.&lt;/p&gt;</comment>
                            <comment id="17038954" author="sonagupt" created="Tue, 18 Feb 2020 10:02:44 +0000"  >&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12993746/12993746_PerformanceScript.sh&quot; title=&quot;PerformanceScript.sh attached to SLING-8946&quot;&gt;PerformanceScript.sh&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&#160;I have created a script for comparing the performance of master with the last released branch Attaching the same. Also proposing to add performance tests in sling for future releases.&#160;&lt;/p&gt;</comment>
                            <comment id="17038964" author="sonagupt" created="Tue, 18 Feb 2020 10:23:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt;&#160;Yes in my opinion also we should not commit after each resource Provider rather do a batch commit which will always take less time than sequentially updating&#160;ObservationReporter&#160; for each resource.&lt;/p&gt;</comment>
                            <comment id="17039224" author="cziegeler" created="Tue, 18 Feb 2020 16:39:09 +0000"  >&lt;p&gt;It seems we really need to reopen this issue&lt;/p&gt;</comment>
                            <comment id="17044413" author="diru" created="Tue, 25 Feb 2020 12:56:28 +0000"  >&lt;p&gt;For now implementing &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9077&quot; title=&quot;Improve runtime complexity of o.a.s.api.resource.path.PathSet&amp;#39;s factory methods&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9077&quot;&gt;&lt;del&gt;SLING-9077&lt;/del&gt;&lt;/a&gt; seems the easiest to progress on this for now. I tested the benchmark provided by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sonagupt&quot; class=&quot;user-hover&quot; rel=&quot;sonagupt&quot;&gt;sonagupt&lt;/a&gt; with varying numbers of ResourceProviders (100,200,400,800 and 1600) and compared the results of the test with and without my proposed changes for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9077&quot; title=&quot;Improve runtime complexity of o.a.s.api.resource.path.PathSet&amp;#39;s factory methods&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9077&quot;&gt;&lt;del&gt;SLING-9077&lt;/del&gt;&lt;/a&gt;. In neither of both cases the CPU time increases linear with the number of ResourceProviders unfortunately. Though with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9077&quot; title=&quot;Improve runtime complexity of o.a.s.api.resource.path.PathSet&amp;#39;s factory methods&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9077&quot;&gt;&lt;del&gt;SLING-9077&lt;/del&gt;&lt;/a&gt; the runtime of adding 1600 ResourceProviders compared to adding only 100 ResourceProviders improves from &lt;b&gt;~80x&lt;/b&gt; to &lt;b&gt;~5x&lt;/b&gt; (based on median and assuming linear growth). See&#160;&lt;a href=&quot;https://docs.google.com/spreadsheets/d/1r70aU6p5sCrGZibh43ANSDfXk9aCo1VfinKbNNYPJLI/edit#gid=1573960874&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.google.com/spreadsheets/d/1r70aU6p5sCrGZibh43ANSDfXk9aCo1VfinKbNNYPJLI/edit#gid=1573960874&lt;/a&gt;&#160;for a detailed analysis&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sonagupt&quot; class=&quot;user-hover&quot; rel=&quot;sonagupt&quot;&gt;sonagupt&lt;/a&gt;&#160;can you test if your ITs complete when using the changes to org.apache.sling.api bundle in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9077&quot; title=&quot;Improve runtime complexity of o.a.s.api.resource.path.PathSet&amp;#39;s factory methods&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9077&quot;&gt;&lt;del&gt;SLING-9077&lt;/del&gt;&lt;/a&gt;?&#160;&lt;/p&gt;

&lt;p&gt;I know this is not a proper solution (but maybe a sufficient one). For a proper solution I think we would need to make the PathSet used for the exclude Paths mutable so that overlapping ResourceProvider&apos;s can be added/removed as the RP actually appears/disappears. Now this sounds easier as it is but especially in the BasicObservationReporter&apos;s constructor some optimisation is applied when collecting the ObservationConfigurations. Also that would mean that the JcrResourceProvider cannot register it&apos;s listeners on update() with the excludePaths set anymore (not implemented anyway in Oak afaik).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; can you remember why BasicObservationReporter l101 ff &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; is necessary? As far as I can see the condition on the providerPath should be quite restrictive already, for example:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;providerPath = /&lt;br/&gt;
 excludedPaths = &lt;span class=&quot;error&quot;&gt;&amp;#91;/libs/sling/Folder/s7publish.json.POST.servlet,/libs/sling/distribution/services/agents,...&amp;#93;&lt;/span&gt; &lt;br/&gt;
 info.paths = &lt;span class=&quot;error&quot;&gt;&amp;#91;/content,/var&amp;#93;&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Can you give an example what this code was supposed to handle?&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/observation/BasicObservationReporter.java#L101&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/observation/BasicObservationReporter.java#L101&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17044430" author="cziegeler" created="Tue, 25 Feb 2020 13:27:01 +0000"  >&lt;p&gt;Long time....I think the code should handle:&lt;br/&gt;
providerPath = /&lt;br/&gt;
excludedPaths = &lt;span class=&quot;error&quot;&gt;&amp;#91;/libs/sling&amp;#93;&lt;/span&gt;&lt;br/&gt;
info.paths = &lt;span class=&quot;error&quot;&gt;&amp;#91;/libs/sling&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;While /libs/sling is a sub path of the root, the provider does not handle /libs/sling and therefore does not need to send events to that listener&lt;br/&gt;
(I hope I got this right)&lt;/p&gt;</comment>
                            <comment id="17045315" author="diru" created="Wed, 26 Feb 2020 09:50:18 +0000"  >&lt;p&gt;Ok got it. In this case the logic in BasicObservationReporter prevents the registration of an unnecessary listener which depending on the RP costs some overhead. ResourceChanges reported via the BasicObservationReporter are also filtered again in a later stage. &lt;/p&gt;

&lt;p&gt;I don&apos;t see any way to implement this in linear time keeping the behaviour that when ever a ResourceProvider appears/disappears it immediately is activated/deactivated. No matter how the control flow goes as long as the root ResourceProvider has to keep track on excluding all overlapping ResourceProviders the time complexity is at least n^2. &lt;/p&gt;

&lt;p&gt;Giving some background of the issue and why I set it critical: &lt;/p&gt;

&lt;p&gt;We have a ResourceProvider registered on a path (/content/foo), overlapping the root ResourceProvider.  This ResourceProvider resolves Resources from other areas of the repository (for example in /etc) and so &quot;mounts&quot; them on deep paths below /content/foo. Any other path that cannot be resolved to one of the &quot;other areas&quot; will be delegated to the parent/root ResourceProvider. For example:&lt;/p&gt;

&lt;p&gt;We have in /etc&lt;br/&gt;
/etc/appletrees/en_GB/apple &lt;span class=&quot;error&quot;&gt;&amp;#91;sling:resourceType=&amp;#39;fruit&amp;#39;&amp;#93;&lt;/span&gt;&lt;br/&gt;
And in /content/foo we have&lt;br/&gt;
/content/foo/en_GB =&amp;gt; from root ResourceProvider&lt;br/&gt;
/content/foo/en_GB/fruits =&amp;gt; from root ResourceProvider&lt;br/&gt;
/content/foo/en_GB/fruits/apple =&amp;gt; from custom ResourceProvider found by a &quot;Resource in /etc with resourceType=&apos;fruit&apos; and name=&apos;apple&apos;&quot;&lt;/p&gt;

&lt;p&gt;Now this works fine as long as it comes to events and ResourceChangeListeners, as they are used for sling:alias for example. We implemented the event listeners as instructed by the product&apos;s support team (actually registering listeners on the same JCR repository as the root ResourceProvider does) and now, depending on the start order of the services and as stated in the description, we receive ResourceChanges sometimes twice (first time from the root ResourceProvider and second time from our custom ResourceProvider).&lt;/p&gt;

&lt;p&gt;(p.s. I know this setup is not really lean and can probably be implemented differently)&lt;/p&gt;</comment>
                            <comment id="17045324" author="cziegeler" created="Wed, 26 Feb 2020 09:59:11 +0000"  >&lt;p&gt;I don&apos;t fully get your problem, but it seems to be two-fold. One is the performance problem, and once seems to be around events.&lt;br/&gt;
Now, I think your problem might be solveable by configuring your resource provider as being required for the resource resolver factory. It currently only requires the JCR provider to be available, but you can add yours too.&lt;/p&gt;</comment>
                            <comment id="17045357" author="diru" created="Wed, 26 Feb 2020 10:25:55 +0000"  >&lt;p&gt;Thats right. The problem we are facing is related to ResourceChanges being (sometimes) propagated twice as stated above. The root cause of this is that the root ResourceProvider was not updating its excludePath set when a new provider appears and because of this the ResourceChanges are not filtered properly in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/observation/BasicObservationReporter.java#L289&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;BasicObservationReporter.java#L289&lt;/a&gt;.&#160;&lt;/p&gt;

&lt;p&gt;The performance issues on the other hand are coming from the resolution of this ticket.&lt;/p&gt;

&lt;p&gt;Afaik adding my custom ResourceProvider to the the required providers of the Resource Resolver Factory configuration will no resolve the issue of events being propagated twice but will cause an expensive restart of the RRF when ever we deploy a snapshot of the bundle containing our custom ResourceProvider implementation.&lt;/p&gt;</comment>
                            <comment id="17095285" author="cziegeler" created="Wed, 29 Apr 2020 09:36:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9040&quot; title=&quot;High resource consumption when activating/deactivating ResourceProviders&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9040&quot;&gt;&lt;del&gt;SLING-9040&lt;/del&gt;&lt;/a&gt; indicates there are failing tests with this, can we resolve these to unblock a resource resolver release?&lt;/p&gt;</comment>
                            <comment id="17128170" author="cziegeler" created="Mon, 8 Jun 2020 11:02:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt; It&apos;s still unclear to me whether there is something to be done here - or if we are now ok to finally close this issue?&lt;/p&gt;</comment>
                            <comment id="17128201" author="diru" created="Mon, 8 Jun 2020 11:37:09 +0000"  >&lt;p&gt;Functional wise the applied patches works fine and with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9365&quot; title=&quot;Optionally don&amp;#39;t create resource providers for servlets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9365&quot;&gt;&lt;del&gt;SLING-9365&lt;/del&gt;&lt;/a&gt; the number of ResourceProviders is kept small which addresses the performance concerns.&#160;&lt;/p&gt;

&lt;p&gt;From my pov this can be resolved.&#160;&lt;/p&gt;</comment>
                            <comment id="17144244" author="rombert" created="Wed, 24 Jun 2020 19:44:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=karlpauls&quot; class=&quot;user-hover&quot; rel=&quot;karlpauls&quot;&gt;karlpauls&lt;/a&gt;  - I am not sure where we stand here. &lt;/p&gt;

&lt;p&gt;Dirk mentioned that &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9365&quot; title=&quot;Optionally don&amp;#39;t create resource providers for servlets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9365&quot;&gt;&lt;del&gt;SLING-9365&lt;/del&gt;&lt;/a&gt; actually fixed the performance problem. On the other hand, I see Karl mentioning a configurable property in that issue.&lt;/p&gt;

&lt;p&gt;Is there a scenario where the performance problems will come up if we release the Resource Resolver bundle as-is now?&lt;/p&gt;</comment>
                            <comment id="17144645" author="cziegeler" created="Thu, 25 Jun 2020 04:58:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; I have no idea, that&apos;s why I repeatedly asked. Especially if we take the comments from &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9040&quot; title=&quot;High resource consumption when activating/deactivating ResourceProviders&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9040&quot;&gt;&lt;del&gt;SLING-9040&lt;/del&gt;&lt;/a&gt; into account it gets even more confusing where failing tests have been mentioned - but we don&apos;t have any strong confirmation that they are solved now.&lt;/p&gt;</comment>
                            <comment id="17144920" author="diru" created="Thu, 25 Jun 2020 13:38:37 +0000"  >&lt;p&gt;&lt;b&gt;TLDR&lt;/b&gt; If &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9365&quot; title=&quot;Optionally don&amp;#39;t create resource providers for servlets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9365&quot;&gt;&lt;del&gt;SLING-9365&lt;/del&gt;&lt;/a&gt; remains an optional opt-in we have to expect a higher startup time of Sling Applications registering a arge amount of scripts/servlets.&#160;However the project that was facing this issue already change direction towards a different approach, getting rid of the custom ResourceProvider implementation at all. So I&apos;m also fine if we revert the changes and keep this open. wdyt?&lt;/p&gt;

&lt;p&gt;As said before the functional defect addressed here, has been resolved. The performance problems reported by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sonagupt&quot; class=&quot;user-hover&quot; rel=&quot;sonagupt&quot;&gt;sonagupt&lt;/a&gt;&#160;are related to AEM which apparently registers more than 1000 ResourceResolvers. The logic does not scale well for that amount and as explained before the registered ResourceProviders are iterated with a polynomial time complexity. &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9040&quot; title=&quot;High resource consumption when activating/deactivating ResourceProviders&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9040&quot;&gt;&lt;del&gt;SLING-9040&lt;/del&gt;&lt;/a&gt; addressed one of those iterations and &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9077&quot; title=&quot;Improve runtime complexity of o.a.s.api.resource.path.PathSet&amp;#39;s factory methods&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9077&quot;&gt;&lt;del&gt;SLING-9077&lt;/del&gt;&lt;/a&gt; was supposed to address another. Still it would not resolve the problem when scaling to 10s of thousands of ResourceProviders.&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9365&quot; title=&quot;Optionally don&amp;#39;t create resource providers for servlets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9365&quot;&gt;&lt;del&gt;SLING-9365&lt;/del&gt;&lt;/a&gt; simply addresses this problem from a different angle by not registering the (thousands of) ServletResourceProviders in the first place.&#160;&lt;/p&gt;

&lt;p&gt;Afaics the failing tests were simply caused by timeouts during the setup of the integration tests.&lt;/p&gt;</comment>
                            <comment id="17172094" author="cziegeler" created="Thu, 6 Aug 2020 07:41:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; Should we revert the changes and remove it from the current release?&lt;/p&gt;</comment>
                            <comment id="17172099" author="rombert" created="Thu, 6 Aug 2020 07:51:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; - I&apos;m fine with that, and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt; commented above that he&apos;s fine with it as well.&lt;/p&gt;</comment>
                            <comment id="17178893" author="rombert" created="Mon, 17 Aug 2020 10:13:42 +0000"  >&lt;p&gt;My plan is the following:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;create a new branch &lt;tt&gt;feature/&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8946&quot; title=&quot;Non-deterministic shadowing of resource observation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8946&quot;&gt;SLING-8946&lt;/a&gt;&lt;/tt&gt; based on the current master&lt;/li&gt;
	&lt;li&gt;revert commits &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/272ea9a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;sling-org-apache-sling-resourceresolver commit 272ea9a&lt;/a&gt; and &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/4f48dee&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;sling-org-apache-sling-resourceresolver commit 4f48dee&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;revert the commits from above on the master branch&lt;/li&gt;
	&lt;li&gt;keep the issue open and targeted for the &apos;next&apos; release&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If anyone objects, please let me know. Re-reverting is easy anyway.&lt;/p&gt;</comment>
                            <comment id="17178973" author="rombert" created="Mon, 17 Aug 2020 13:28:39 +0000"  >&lt;p&gt;I&apos;ve created &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/tree/feature/SLING-8946&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/tree/feature/SLING-8946&lt;/a&gt; and reverted the two commits.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13282390">SLING-9040</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13282390">SLING-9040</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13285774">SLING-9077</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13298131">SLING-9365</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12993746" name="PerformanceScript.sh" size="792" author="sonagupt" created="Tue, 18 Feb 2020 10:01:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 10 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09w48:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8945] ActiveResourceQueue doesn&apos;t provide cluster-consistent processing-attempts view</title>
                <link>https://issues.apache.org/jira/browse/SLING-8945</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; enables &lt;tt&gt;ActiveResourceQueue&lt;/tt&gt; (introduced via &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8853&quot; title=&quot;Develop an Active variant of ResourceQueue and make it available as possible queue.provider for ForwardDistributionAgentFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8853&quot;&gt;&lt;del&gt;SLING-8853&lt;/del&gt;&lt;/a&gt;) to capture processing attempts, but since those are kept in memory the processing-attempts view is not cluster-consistent. Specifically, if a &lt;tt&gt;ActiveResourceQueue&lt;/tt&gt; is introspected, and its Status or its Item Status is requested by an instance that is &lt;em&gt;not&lt;/em&gt; processing the &lt;tt&gt;ResourceQueue&lt;/tt&gt; (say, in response to a browser request), the statuses will be returned incorrectly (e.g., a blocked queue will be returned as running since the processing attempts will not be incremented on the instance not processing the queue).&lt;/p&gt;

&lt;p&gt;One way to fix this would be to persist the processing attempts alongside the queue-items in the resource-tree that backs the &lt;tt&gt;ResourceQueue&lt;/tt&gt;. &lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/commit/20f5575af5318c07c31e7623319cf4f1d20258c8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/commit/20f5575af5318c07c31e7623319cf4f1d20258c8&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13275758">SLING-8945</key>
            <summary>ActiveResourceQueue doesn&apos;t provide cluster-consistent processing-attempts view</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="ashishc">Ashish Chopra</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Dec 2019 16:15:48 +0000</created>
                <updated>Sun, 16 Feb 2020 21:54:45 +0000</updated>
                            <resolved>Fri, 20 Dec 2019 21:13:31 +0000</resolved>
                                    <version>Content Distribution Core 0.4.0</version>
                                    <fixVersion>Content Distribution Core 0.4.2</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17000999" author="marett" created="Fri, 20 Dec 2019 16:26:16 +0000"  >&lt;blockquote&gt;&lt;p&gt;One way to fix this would be to persist the processing attempts alongside the queue-items in the resource-tree that backs the ResourceQueue.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Makes sense, thanks for raising this.&lt;/p&gt;</comment>
                            <comment id="17001075" author="ashishc" created="Fri, 20 Dec 2019 18:35:24 +0000"  >&lt;p&gt;Raised &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;, which leverages the fact that sling-distribution-core bundle can now (post-merge of &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/24&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#24&lt;/a&gt;) contain java 8 constructs. This allows putting the &lt;tt&gt;statusMap&lt;/tt&gt; back to queue-impls (where they truly belong) which &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/26&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#26&lt;/a&gt; - incorrectly, in hindsight - had moved to queue-providers. A bunch of changes at &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; are actually reverting the files to a state before &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/26&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#26&lt;/a&gt; was merged.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/31&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/31&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17001216" author="marett" created="Fri, 20 Dec 2019 21:13:17 +0000"  >&lt;p&gt;Merged &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/31&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#31&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13270067">SLING-8854</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13269781">SLING-8853</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09vzs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8943] The Sling API ObjectConverter does not correctly convert JCR values</title>
                <link>https://issues.apache.org/jira/browse/SLING-8943</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8116&quot; title=&quot;ValueMap - implement default methods using OSGI Converter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8116&quot;&gt;&lt;del&gt;SLING-8116&lt;/del&gt;&lt;/a&gt; delegates value conversions to the &lt;tt&gt;org.osgi.util.converter.Converter&lt;/tt&gt;. However, JCR values will be wrongly processed by the &lt;tt&gt;Converter&lt;/tt&gt;, since it will first convert them to maps and then return the map&apos;s key if the key&apos;s type is the same as the conversion type. For JCR values, the Map&apos;s keys will be the value&apos;s public method names, whereas the values will be the invocation of said methods. This is definitely not the behaviour we want.&lt;/p&gt;

&lt;p&gt;The simplest solution would be to optionally import the &lt;tt&gt;javax.jcr&lt;/tt&gt; API and, if present, add some custom rules based on &lt;tt&gt;javax.jcr.Value&lt;/tt&gt; into the &lt;tt&gt;Converter&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13275732">SLING-8943</key>
            <summary>The Sling API ObjectConverter does not correctly convert JCR values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Dec 2019 13:42:11 +0000</created>
                <updated>Wed, 15 Jan 2020 15:43:37 +0000</updated>
                            <resolved>Mon, 6 Jan 2020 09:11:53 +0000</resolved>
                                    <version>API 2.21.0</version>
                                    <fixVersion>API 2.22.0</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17008652" author="radu.cotescu" created="Mon, 6 Jan 2020 09:11:53 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-api/commit/31658636c8aac7e9757ed3a7768c33ed329b792b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3165863&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13198951">SLING-8116</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09vu0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8942] Support aggregate and abstract privileges</title>
                <link>https://issues.apache.org/jira/browse/SLING-8942</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently only simple privileges are supported via &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/ffc6bb990dfaf82c477a28ad4b87b0c12859b743/src/main/java/org/apache/sling/feature/cpconverter/handlers/PrivilegesHandler.java#L65&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/ffc6bb990dfaf82c477a28ad4b87b0c12859b743/src/main/java/org/apache/sling/feature/cpconverter/handlers/PrivilegesHandler.java#L65&lt;/a&gt;. Aggregate and abstract privileges should be supported as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13275701">SLING-8942</key>
            <summary>Support aggregate and abstract privileges</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="karlpauls">Karl Pauls</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Dec 2019 10:33:12 +0000</created>
                <updated>Mon, 17 May 2021 11:38:41 +0000</updated>
                            <resolved>Tue, 12 Jan 2021 16:32:22 +0000</resolved>
                                    <version>Content-Package to Feature Model Converter 1.0.2</version>
                                    <fixVersion>Content-Package to Feature Model Converter 1.1.0</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17243172" author="anchela" created="Thu, 3 Dec 2020 13:00:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, IMHO this is actually a critical bug.... registering an aggregated privilege as single-privileges will  result in a different effective permission setup, wherever that privilege is being used in the access control setup and essentially leave the repository in an inconsistent state. and afaik, such a wrongly registered privilege cannot be altered afterwards.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, fyi&lt;/p&gt;</comment>
                            <comment id="17247286" author="anchela" created="Thu, 10 Dec 2020 14:47:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=karlpauls&quot; class=&quot;user-hover&quot; rel=&quot;karlpauls&quot;&gt;karlpauls&lt;/a&gt; , just an quick, ugly draft patch on how that could be addressed (e.g. i am pretty sure the exists some utility to properly convert Name objects into strings... but i didn&apos;t remember where that was and how it was called). i kept wondering, why the code parses the xml itself with hardcoded strings, when Jackrabbit fvault comes with utilities that actually do parse meta-info like privileges. maybe there is a reason for this, that i am not aware of... this definitely need to be checked. also, i couldn&apos;t find examples for content packages with abstract/aggregated privileges if jackrabbit fvault.... hope i got it right.&lt;/p&gt;

&lt;p&gt;also spotted a bug in the test privileges.xml resource:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;privileges xmlns:crx=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//sling.apache.org/rx/1.0&quot;&lt;/span&gt;&amp;gt;
&lt;/span&gt;   &amp;lt;privilege name=&lt;span class=&quot;code-quote&quot;&gt;&quot;rx:replicate&quot;&lt;/span&gt;/&amp;gt;
&amp;lt;/privileges&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;the namespace prefix is garbled.... probably leftover from trying to disguise that this was just a copy from Adobe AEM....&lt;/p&gt;</comment>
                            <comment id="17263292" author="anchela" created="Tue, 12 Jan 2021 12:15:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=karlpauls&quot; class=&quot;user-hover&quot; rel=&quot;karlpauls&quot;&gt;karlpauls&lt;/a&gt;, updated patch.... had to dig in the old jackrabbit core to lookup the proper way to convert &lt;tt&gt;Name&lt;/tt&gt; objects to JCR name strings.&lt;/p&gt;

&lt;p&gt;in version 3 also fixed the garbled namespace mapping in privileges.xml resource.&lt;br/&gt;
i will create a PR for review: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/45&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/45&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17263464" author="karlpauls" created="Tue, 12 Jan 2021 16:32:22 +0000"  >&lt;p&gt;Thanks a lot for the patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Angela&quot; class=&quot;user-hover&quot; rel=&quot;angela&quot;&gt;Angela&lt;/a&gt;. I merged it.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13115663">SLING-7227</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13345299">SLING-9992</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13018629" name="SLING-8942-3.patch" size="11560" author="angela" created="Tue, 12 Jan 2021 12:38:40 +0000"/>
                            <attachment id="13016855" name="SLING-8942.patch" size="11724" author="angela" created="Thu, 10 Dec 2020 14:41:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 41 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09vn4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8939] Async Health Checks also executed every minute</title>
                <link>https://issues.apache.org/jira/browse/SLING-8939</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;I currently observed something with async health checks.&lt;/p&gt;

&lt;p&gt;We recently migrated to AEM6.5 and observed, that our health checks were executed every minute by default. Because this was to often, I tried to use asyncCronExpression.&lt;/p&gt;

&lt;p&gt;This makes our Health Checks executed as defined in the asyncCronExpression, but additionally they are still executed every minute.&lt;/p&gt;

&lt;p&gt;Is this a bug or how can I let my Health Checks &lt;em&gt;only&lt;/em&gt; be executed as defined in the asyncCronExpression?&lt;/p&gt;

&lt;p&gt;I add some log output at the end. In that case the StaleWorkflowsHealthCheck&#160; should be executed every 5 minutes (asyncCronExpression = &quot;0 0/5 * * * ? *&quot;)&lt;/p&gt;

&lt;p&gt;Thanks for your help.&lt;/p&gt;

&lt;p&gt;Timo&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;44&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&lt;br/&gt;
&lt;a href=&quot;http://localhost:4502/system/console/bundles/44&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Apache Sling Health Check API (org.apache.sling.hc.api)&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1.0.2&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;sling&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Active&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;536&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&lt;br/&gt;
&lt;a href=&quot;http://localhost:4502/system/console/bundles/536&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Apache Sling Health Check Core (org.apache.sling.hc.core)&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1.2.10&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;sling&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Active&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 19.12.2019 16:46:01.402 *DEBUG* [OsgiInstallerImpl] com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck CUST-Web Stale Workflows Health Check started.
19.12.2019 16:47:01.406 *DEBUG* [sling-&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-4-health-com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck] com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck CUST-Web Stale Workflows Health Check started.
19.12.2019 16:48:01.406 *DEBUG* [sling-&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-1-health-com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck] com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck CUST-Web Stale Workflows Health Check started.
19.12.2019 16:49:01.406 *DEBUG* [sling-&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-5-health-com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck] com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck CUST-Web Stale Workflows Health Check started.
19.12.2019 16:50:00.000 *DEBUG* [sling-&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-3-job-hc-13695] org.apache.sling.hc.core.impl.executor.AsyncHealthCheckExecutor Running job [Async job &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; HealthCheck &lt;span class=&quot;code-quote&quot;&gt;&apos;CUST-Web Stale Workflows Health Check&apos;&lt;/span&gt;]
19.12.2019 16:50:00.000 *DEBUG* [HealthCheck CUST-Web Stale Workflows Health Check] org.apache.sling.hc.core.impl.executor.HealthCheckFuture Starting check HealthCheck &lt;span class=&quot;code-quote&quot;&gt;&apos;CUST-Web Stale Workflows Health Check&apos;&lt;/span&gt;
19.12.2019 16:50:00.000 *DEBUG* [HealthCheck CUST-Web Stale Workflows Health Check] com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck CUST-Web Stale Workflows Health Check started.
19.12.2019 16:50:00.005 *DEBUG* [HealthCheck CUST-Web Stale Workflows Health Check] com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck No stale workflows that are older then 2 day(s) were found.
19.12.2019 16:50:00.005 *DEBUG* [HealthCheck CUST-Web Stale Workflows Health Check] org.apache.sling.hc.core.impl.executor.HealthCheckFuture Time consumed &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; HealthCheck &lt;span class=&quot;code-quote&quot;&gt;&apos;CUST-Web Stale Workflows Health Check&apos;&lt;/span&gt;: 4ms
19.12.2019 16:50:00.005 *DEBUG* [HealthCheck CUST-Web Stale Workflows Health Check] org.apache.sling.hc.core.impl.executor.AsyncHealthCheckExecutor Updated result &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; async hc HealthCheck &lt;span class=&quot;code-quote&quot;&gt;&apos;CUST-Web Stale Workflows Health Check&apos;&lt;/span&gt; with ExecutionResult [status=OK, finishedAt=Thu Dec 19 16:50:00 CET 2019, elapsedTimeInMs=4, timedOut=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;]
19.12.2019 16:50:01.406 *DEBUG* [sling-&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-4-health-com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck] com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck CUST-Web Stale Workflows Health Check started.
19.12.2019 16:51:01.407 *DEBUG* [sling-&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-3-health-com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck] com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck CUST-Web Stale Workflows Health Check started.
19.12.2019 16:52:01.407 *DEBUG* [sling-&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-5-health-com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck] com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck CUST-Web Stale Workflows Health Check started.
19.12.2019 16:53:01.407 *DEBUG* [sling-&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-3-health-com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck] com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck CUST-Web Stale Workflows Health Check started.
19.12.2019 16:54:01.407 *DEBUG* [sling-&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-1-health-com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck] com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck CUST-Web Stale Workflows Health Check started.
19.12.2019 16:54:59.998 *DEBUG* [sling-&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-2-job-hc-13695] org.apache.sling.hc.core.impl.executor.AsyncHealthCheckExecutor Running job [Async job &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; HealthCheck &lt;span class=&quot;code-quote&quot;&gt;&apos;CUST-Web Stale Workflows Health Check&apos;&lt;/span&gt;]
19.12.2019 16:54:59.998 *DEBUG* [HealthCheck CUST-Web Stale Workflows Health Check] org.apache.sling.hc.core.impl.executor.HealthCheckFuture Starting check HealthCheck &lt;span class=&quot;code-quote&quot;&gt;&apos;CUST-Web Stale Workflows Health Check&apos;&lt;/span&gt;
19.12.2019 16:54:59.998 *DEBUG* [HealthCheck CUST-Web Stale Workflows Health Check] com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck CUST-Web Stale Workflows Health Check started.
19.12.2019 16:55:00.000 *DEBUG* [HealthCheck CUST-Web Stale Workflows Health Check] com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck No stale workflows that are older then 2 day(s) were found.
19.12.2019 16:55:00.000 *DEBUG* [HealthCheck CUST-Web Stale Workflows Health Check] org.apache.sling.hc.core.impl.executor.HealthCheckFuture Time consumed &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; HealthCheck &lt;span class=&quot;code-quote&quot;&gt;&apos;CUST-Web Stale Workflows Health Check&apos;&lt;/span&gt;: 2ms
19.12.2019 16:55:00.000 *DEBUG* [HealthCheck CUST-Web Stale Workflows Health Check] org.apache.sling.hc.core.impl.executor.AsyncHealthCheckExecutor Updated result &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; async hc HealthCheck &lt;span class=&quot;code-quote&quot;&gt;&apos;CUST-Web Stale Workflows Health Check&apos;&lt;/span&gt; with ExecutionResult [status=OK, finishedAt=Thu Dec 19 16:55:00 CET 2019, elapsedTimeInMs=2, timedOut=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;]
19.12.2019 16:55:01.407 *DEBUG* [sling-&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-2-health-com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck] com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck CUST-Web Stale Workflows Health Check started.
19.12.2019 16:56:01.406 *DEBUG* [sling-&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-1-health-com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck] com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck CUST-Web Stale Workflows Health Check started.
19.12.2019 16:57:01.406 *DEBUG* [sling-&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-2-health-com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck] com.cust.web.core.service.healthchecks.StaleWorkflowsHealthCheck CUST-Web Stale Workflows Health Check started.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13275552">SLING-8939</key>
            <summary>Async Health Checks also executed every minute</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10004">Not A Bug</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="muenkti">Timo M&#252;nkenwarf</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Dec 2019 16:41:59 +0000</created>
                <updated>Fri, 24 Jan 2020 14:47:58 +0000</updated>
                            <resolved>Fri, 20 Dec 2019 08:50:30 +0000</resolved>
                                                                    <component>Health Check</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17000281" author="henzlerg" created="Thu, 19 Dec 2019 18:19:53 +0000"  >&lt;blockquote&gt;&lt;p&gt;health checks were executed every minute by default&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;by default HCs are only executed when requested, that means there is some client requesting every minute. &lt;/p&gt;

&lt;p&gt;if that client (could be http, JMX or via API) sets the option forceInstantExecution, you get the described behavior. Can you check if that&#8217;s the case in your setup &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=muenkti&quot; class=&quot;user-hover&quot; rel=&quot;muenkti&quot;&gt;muenkti&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="17000730" author="muenkti" created="Fri, 20 Dec 2019 08:50:05 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=henzlerg&quot; class=&quot;user-hover&quot; rel=&quot;henzlerg&quot;&gt;henzlerg&lt;/a&gt; for your hint.&lt;/p&gt;

&lt;p&gt;I digged into the stacktrace while debugging and noticed, that the class com.adobe.granite.queries.impl.hc.QueryHealthCheckMetrics seems to start our health checks.&lt;/p&gt;

&lt;p&gt;This class has a Felix configuration &quot;Query Health Check Configuration&quot; with a property &quot;Job Period (getPeriod)&quot;, which is set to &quot;60&quot; seconds. If I change this value, e.g. to 90 seconds, our health checks are executed every 90 seconds additionally to the definitions in the asyncCronExpression.&lt;/p&gt;

&lt;p&gt;I guess I will open a Daycare Ticket for that one, because this is not Sling related further.&lt;/p&gt;

&lt;p&gt;If you know something more about this, please let me know.&lt;/p&gt;

&lt;p&gt;Kind regards&lt;/p&gt;

&lt;p&gt;Timo&lt;/p&gt;</comment>
                            <comment id="17022986" author="muenkti" created="Fri, 24 Jan 2020 14:47:58 +0000"  >&lt;p&gt;For documentation, Daycare answered:&lt;/p&gt;

&lt;blockquote&gt;

&lt;p&gt;After checking internally I have found out that this is a known issue of AEM 6.5.2 &quot;Custom Health Checks getting executed every minute&quot; and it has been already reported to the AEM product team.&lt;/p&gt;

&lt;p&gt;Internal jira tracking number is: GRANITE-27455&lt;/p&gt;
&lt;/blockquote&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09uq0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8937] &quot;link&quot; tag is incorrectly outputted as self-closing</title>
                <link>https://issues.apache.org/jira/browse/SLING-8937</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We generate an RSS feed in HTL.&lt;/p&gt;

&lt;p&gt;When we put e.g.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;link&amp;gt;&lt;/span&gt;test&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/link&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;in our template, it is being rendered as&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;link/&amp;gt;&lt;/span&gt;test&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/link&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A workaround is to use&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;${&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;link&amp;gt;&lt;/span&gt;&apos;&lt;/span&gt; @ context=&lt;span class=&quot;code-quote&quot;&gt;&apos;unsafe&apos;&lt;/span&gt;}test&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/link&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This happens in AEM 6.5 SP3. It did not happen with AEM 6.2 SP1 CFP4&lt;/p&gt;</description>
                <environment></environment>
        <key id="13275499">SLING-8937</key>
            <summary>&quot;link&quot; tag is incorrectly outputted as self-closing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dhardtke">Dominik Hardtke</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Dec 2019 13:13:43 +0000</created>
                <updated>Thu, 19 Dec 2019 13:50:03 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09ue8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8933] The IncludeRuntimeExtension doesn&apos;t correctly normalise paths when using the path manipulation options</title>
                <link>https://issues.apache.org/jira/browse/SLING-8933</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The&#160;&lt;tt&gt;prependPath&lt;/tt&gt;&#160;and &lt;tt&gt;appendPath&lt;/tt&gt;&#160;options passed to &lt;tt&gt;data-sly-resource&lt;/tt&gt; or &lt;tt&gt;data-sly-include&lt;/tt&gt; seem to have wrongly been handled by the &lt;tt&gt;UriManipulationFilter&lt;/tt&gt; until &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8896&quot; title=&quot;The URI Manipulation Filter should not interfere with data-sly-use parameters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8896&quot;&gt;&lt;del&gt;SLING-8896&lt;/del&gt;&lt;/a&gt;, when the filter was changed to be applied in all other contexts, except for &lt;tt&gt;data-sly-resource&lt;/tt&gt;, &lt;tt&gt;data-sly-include&lt;/tt&gt;, &lt;tt&gt;data-sly-use&lt;/tt&gt;, &lt;tt&gt;data-sly-call&lt;/tt&gt;, &lt;tt&gt;data-sly-template&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;This led to the discovery that the &lt;tt&gt;data-sly-include&lt;/tt&gt; plugin doesn&apos;t correctly normalise the paths when path options are passed. E.g.:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-html&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;sly data-sly-include=&lt;span class=&quot;code-quote&quot;&gt;&quot;${&lt;span class=&quot;code-quote&quot;&gt;&apos;nav.html&apos;&lt;/span&gt; @ prependPath=&lt;span class=&quot;code-quote&quot;&gt;&apos;/apps/myproject/components/templates&apos;&lt;/span&gt;}&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/sly&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;will now fail, since the generated script path will be &lt;tt&gt;/apps/myproject/components/templatesnav.html&lt;/tt&gt; - notice the missing &lt;tt&gt;/&lt;/tt&gt; character.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13275284">SLING-8933</key>
            <summary>The IncludeRuntimeExtension doesn&apos;t correctly normalise paths when using the path manipulation options</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Dec 2019 15:25:10 +0000</created>
                <updated>Wed, 15 Jan 2020 15:40:02 +0000</updated>
                            <resolved>Thu, 19 Dec 2019 16:16:10 +0000</resolved>
                                    <version>Scripting HTL Engine 1.2.0-1.4.0</version>
                                    <fixVersion>Scripting HTL Engine 1.3.2-1.4.0</fixVersion>
                    <fixVersion>Scripting HTL Testing Content 1.0.18-1.4.0</fixVersion>
                    <fixVersion>Scripting HTL Testing 1.0.20-1.4.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17000177" author="radu.cotescu" created="Thu, 19 Dec 2019 16:16:10 +0000"  >&lt;p&gt;Fixed in commits &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-sightly/commit/5cd359b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;5cd359b&lt;/a&gt; and &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-sightly/commit/2262199&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;2262199&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13272839">SLING-8896</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09t2g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8931] CMS - Strange Display of Duplicate Key</title>
                <link>https://issues.apache.org/jira/browse/SLING-8931</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When editing an i18n entry with multiple copies of the same key, the UI will duplicate across the respective translations, but will not show the duplicated key.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13275172">SLING-8931</key>
            <summary>CMS - Strange Display of Duplicate Key</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                            <label>newbie</label>
                    </labels>
                <created>Wed, 18 Dec 2019 07:26:50 +0000</created>
                <updated>Mon, 23 Dec 2019 18:41:54 +0000</updated>
                                            <version>CMS 0.14.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09sdk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8930] CMS - i18n Not Reloading</title>
                <link>https://issues.apache.org/jira/browse/SLING-8930</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When adding a new entry to the i18n editor, the editor does not display a value until the page is refreshed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13275171">SLING-8930</key>
            <summary>CMS - i18n Not Reloading</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Dec 2019 07:25:12 +0000</created>
                <updated>Wed, 25 Mar 2020 02:27:38 +0000</updated>
                            <resolved>Thu, 19 Dec 2019 21:16:21 +0000</resolved>
                                    <version>CMS 0.14.0</version>
                                    <fixVersion>CMS 0.16.0</fixVersion>
                                    <component>App CMS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17000391" author="dklco" created="Thu, 19 Dec 2019 21:16:21 +0000"  >&lt;p&gt;Fixed in&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/commit/45cb96f24449944c8324bfe41d7cd1594f2fbe73&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/commit/45cb96f24449944c8324bfe41d7cd1594f2fbe73&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09sdc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8924] Some tests fail on Java 11</title>
                <link>https://issues.apache.org/jira/browse/SLING-8924</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Running &lt;tt&gt;mvn clean install&lt;/tt&gt; with&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Apache Maven 3.6.2 (SUSE 3.6.2-1.1)
Maven home: /usr/share/maven
Java version: 11.0.5, vendor: Oracle Corporation, runtime: /usr/lib64/jvm/java-11-openjdk-11
Default locale: en_US, platform encoding: UTF-8
OS name: &quot;linux&quot;, version: &quot;5.3.12-1-default&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;results in the following failures/errors:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] Failures: 
[ERROR]   RepPolicyEntryHandlerTest.notDeclaredSystemUsersWillNotHaveAclSettings:179 expected:&amp;lt;...maryType=&quot;rep:ACL&quot;&amp;gt;
[&amp;lt;allow0 jcr:primaryType=&quot;rep:GrantACE&quot; rep:principalName=&quot;acs-commons-ensure-oak-index-service&quot; rep:privileges=&quot;{Name}[jcr:read,rep:write,rep:indexDefinitionManagement]&quot;&amp;gt;
&amp;lt;rep:restrictions jcr:primaryType=&quot;rep:Restrictions&quot; rep:glob=&quot;{Name}[*/oak:index/*]&quot;/&amp;gt;
&amp;lt;/allow0&amp;gt;
]&amp;lt;allow1 jcr:primaryT...&amp;gt; but was:&amp;lt;...maryType=&quot;rep:ACL&quot;&amp;gt;
[    &amp;lt;allow0 jcr:primaryType=&quot;rep:GrantACE&quot; rep:principalName=&quot;acs-commons-ensure-oak-index-service&quot; rep:privileges=&quot;{Name}[jcr:read,rep:write,rep:indexDefinitionManagement]&quot;&amp;gt;
        &amp;lt;rep:restrictions jcr:primaryType=&quot;rep:Restrictions&quot; rep:glob=&quot;{Name}[*/oak:index/*]&quot;/&amp;gt;
    &amp;lt;/allow0&amp;gt;
    ]&amp;lt;allow1 jcr:primaryT...&amp;gt;
[ERROR]   RepPolicyEntryHandlerTest.systemUserAclSetNotForUserPath:214 expected:&amp;lt;...maryType=&quot;rep:ACL&quot;&amp;gt;
[&amp;lt;allow0 jcr:primaryType=&quot;rep:GrantACE&quot; rep:principalName=&quot;acs-commons-ensure-oak-index-service&quot; rep:privileges=&quot;{Name}[jcr:read,rep:write,rep:indexDefinitionManagement]&quot;&amp;gt;
&amp;lt;rep:restrictions jcr:primaryType=&quot;rep:Restrictions&quot; rep:glob=&quot;{Name}[*/oak:index/*]&quot;/&amp;gt;
&amp;lt;/allow0&amp;gt;
&amp;lt;allow1 jcr:primaryType=&quot;rep:GrantACE&quot; rep:principalName=&quot;acs-commons-dispatcher-flush-service&quot; rep:privileges=&quot;{Name}[jcr:read,crx:replicate,jcr:removeNode]&quot;/&amp;gt;
&amp;lt;allow3 jcr:primaryType=&quot;rep:GrantACE&quot; rep:principalName=&quot;acs-commons-ensure-service-user-service&quot; rep:privileges=&quot;{Name}[jcr:read,rep:write,jcr:readAccessControl,jcr:modifyAccessControl]&quot;/&amp;gt;
&amp;lt;allow4 jcr:primaryType=&quot;rep:GrantACE&quot; rep:principalName=&quot;acs-commons-automatic-package-replicator-service&quot; rep:privileges=&quot;{Name}[jcr:read]&quot;/&amp;gt;
]&amp;lt;allow5 jcr:primaryT...&amp;gt; but was:&amp;lt;...maryType=&quot;rep:ACL&quot;&amp;gt;
[    &amp;lt;allow0 jcr:primaryType=&quot;rep:GrantACE&quot; rep:principalName=&quot;acs-commons-ensure-oak-index-service&quot; rep:privileges=&quot;{Name}[jcr:read,rep:write,rep:indexDefinitionManagement]&quot;&amp;gt;
        &amp;lt;rep:restrictions jcr:primaryType=&quot;rep:Restrictions&quot; rep:glob=&quot;{Name}[*/oak:index/*]&quot;/&amp;gt;
    &amp;lt;/allow0&amp;gt;
    &amp;lt;allow1 jcr:primaryType=&quot;rep:GrantACE&quot; rep:principalName=&quot;acs-commons-dispatcher-flush-service&quot; rep:privileges=&quot;{Name}[jcr:read,crx:replicate,jcr:removeNode]&quot;/&amp;gt;
    &amp;lt;allow3 jcr:primaryType=&quot;rep:GrantACE&quot; rep:principalName=&quot;acs-commons-ensure-service-user-service&quot; rep:privileges=&quot;{Name}[jcr:read,rep:write,jcr:readAccessControl,jcr:modifyAccessControl]&quot;/&amp;gt;
    &amp;lt;allow4 jcr:primaryType=&quot;rep:GrantACE&quot; rep:principalName=&quot;acs-commons-automatic-package-replicator-service&quot; rep:privileges=&quot;{Name}[jcr:read]&quot;/&amp;gt;
    ]&amp;lt;allow5 jcr:primaryT...&amp;gt;
[ERROR] Errors: 
[ERROR]   RepPolicyEntryHandlerTest.parseAcl:88-&amp;gt;parseAndSetRepoinit:231-&amp;gt;parseAndSetRepoinit:258 &#187; IndexOutOfBounds
[INFO] 
[ERROR] Tests run: 131, Failures: 2, Errors: 1, Skipped: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13274931">SLING-8924</key>
            <summary>Some tests fail on Java 11</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Dec 2019 08:28:40 +0000</created>
                <updated>Wed, 8 Jul 2020 06:29:40 +0000</updated>
                            <resolved>Thu, 13 Feb 2020 08:33:27 +0000</resolved>
                                                    <fixVersion>Content-Package to Feature Model Converter 1.0.10</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="12310660">
                    <name>Completes</name>
                                                                <inwardlinks description="is fixed by">
                                        <issuelink>
            <issuekey id="13284862">SLING-9067</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 45 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09qw0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8923] Jackson Sling Model Exporter for application/xml needs correct character encoding</title>
                <link>https://issues.apache.org/jira/browse/SLING-8923</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Incorrect Character encoding was identified in the below issue&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-7344&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-7344&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;and the fix was provided only for application/json Content-type.&lt;/p&gt;

&lt;p&gt;This issue needs to be fixed even for application/xml type&#160;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Currently, this is being set to iso-8859-1, which would be problem with Special Characters.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/12988969/12988969_image-2019-12-17-09-18-52-797.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13274890">SLING-8923</key>
            <summary>Jackson Sling Model Exporter for application/xml needs correct character encoding</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sumanjun">Sumanth</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Dec 2019 03:50:09 +0000</created>
                <updated>Tue, 7 Dec 2021 07:46:52 +0000</updated>
                                                                            <component>Extensions</component>
                    <component>Sling Models</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17041285" author="kwin" created="Thu, 20 Feb 2020 20:26:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reschke&quot; class=&quot;user-hover&quot; rel=&quot;reschke&quot;&gt;reschke&lt;/a&gt; Is there a default charset for application/xml similar as to application/json (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-7344?focusedCommentId=16358007&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16358007)?&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-7344?focusedCommentId=16358007&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16358007)?&lt;/a&gt; Is Jetty supposed to set the charset automatically?&lt;/p&gt;</comment>
                            <comment id="17041287" author="reschke" created="Thu, 20 Feb 2020 20:33:25 +0000"  >&lt;p&gt;No, there is no default. If it&apos;s not present, consumers are supposed to detect the encoding as defined in the XML spec (first XML decl, otherwise auto-detect, AFAIR).&lt;/p&gt;

&lt;p&gt;Adding a default charset parameter (is this happening here?) would be a bug.&lt;/p&gt;</comment>
                            <comment id="17041288" author="kwin" created="Thu, 20 Feb 2020 20:36:05 +0000"  >&lt;p&gt;I think the according entry is still missing in &lt;a href=&quot;https://github.com/eclipse/jetty.project/blob/jetty-9.3.x/jetty-http/src/main/resources/org/eclipse/jetty/http/encoding.properties&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eclipse/jetty.project/blob/jetty-9.3.x/jetty-http/src/main/resources/org/eclipse/jetty/http/encoding.properties&lt;/a&gt;, i.e.  Jetty will still set a default charset parameter.&lt;/p&gt;</comment>
                            <comment id="17411837" author="dvd86" created="Wed, 8 Sep 2021 10:29:48 +0000"  >&lt;p&gt;any update? is there a temporary workaround?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17453412" author="kwin" created="Sat, 4 Dec 2021 13:45:18 +0000"  >&lt;p&gt;I can not reproduce with the IT based on Sling 11 (&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-models-integration-tests).&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-models-integration-tests).&lt;/a&gt; Calling &quot;/content/exp/childComponent.xml&quot; returns the response header &lt;tt&gt;Content-Type:application/xml;charset=utf-8&lt;/tt&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13128035">SLING-7344</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12988969" name="image-2019-12-17-09-18-52-797.png" size="2309" author="sumanjun" created="Tue, 17 Dec 2019 03:48:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 46 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09qmw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8921] requestPath must to be encoded in SlingClient#doGet()</title>
                <link>https://issues.apache.org/jira/browse/SLING-8921</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-clients/blob/609cb61fd2dec08657556b9adc91e889911a230e/src/main/java/org/apache/sling/testing/clients/AbstractSlingClient.java#L492&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;SlingClient#doGet()&lt;/a&gt; requires `requestPath` to be encoded (because it&apos;s passed to multiple URI constructors). &lt;/p&gt;

&lt;p&gt;The contract should be uniform: all the parameters are passed decoded and the method takes care to encode them properly before creating the request.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13274730">SLING-8921</key>
            <summary>requestPath must to be encoded in SlingClient#doGet()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andrei.dulvac">Andrei Dulvac</assignee>
                                    <reporter username="volteanu">Valentin Olteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Dec 2019 10:44:24 +0000</created>
                <updated>Thu, 26 Nov 2020 11:08:31 +0000</updated>
                            <resolved>Fri, 14 Feb 2020 10:32:25 +0000</resolved>
                                                    <fixVersion>Apache Sling Testing Clients 1.2.6</fixVersion>
                                    <component>Apache Sling Testing Clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4200">1h 10m</timespent>
                                <comments>
                            <comment id="16997751" author="akrainiouk" created="Tue, 17 Dec 2019 01:01:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=volteanu&quot; class=&quot;user-hover&quot; rel=&quot;volteanu&quot;&gt;volteanu&lt;/a&gt; Thanks creating a ticket. I have submitted a pull request for this:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-clients/pull/14&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-clients/pull/14&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;modified implementation uses different URI constructor that takes path as as separate parameter. It still attempts to handle special cases when supplied path contains &apos;:&apos; character in which case the beginning of the path value is treated as URI scheme followed by optional host. However this happens to be consistent with unit test expectations so we should be good here.&lt;br/&gt;
Note that this change brakes compatibility with &lt;a href=&quot;https://github.com/adobe/aem-test-samples/commit/cf6c1685102f2487de359d705a868ca9659b7986&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this commit&lt;/a&gt; to aem-test-samples repo which should be reverted in order for the smoke tests to continue to work. &lt;/p&gt;</comment>
                            <comment id="17239192" author="satyadeep" created="Thu, 26 Nov 2020 11:01:13 +0000"  >&lt;p&gt;Would it be right to assume that this change is backwards incompatible with Sling-testing-client-1.2.4 and the consumers of sling-testing-client need to adapt accordingly?&lt;br/&gt;
cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=akrainiouk&quot; class=&quot;user-hover&quot; rel=&quot;akrainiouk&quot;&gt;akrainiouk&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=volteanu&quot; class=&quot;user-hover&quot; rel=&quot;volteanu&quot;&gt;volteanu&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="17239200" author="ashishc" created="Thu, 26 Nov 2020 11:08:31 +0000"  >&lt;blockquote&gt;&lt;p&gt;this change is backwards incompatible with Sling-testing-client-1.2.4 and the consumers of sling-testing-client need to adapt accordingly?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;An example of such a consumer is cq-testing-clients-65. &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/adobe/aem-testing-clients/commits/cq-65&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/adobe/aem-testing-clients/commits/cq-65&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 47 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09pnc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8919] CMS - Error Dialogs Blank</title>
                <link>https://issues.apache.org/jira/browse/SLING-8919</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Error dialogs are coming up blank due to an error in the fetch error handling.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13274574">SLING-8919</key>
            <summary>CMS - Error Dialogs Blank</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Sat, 14 Dec 2019 14:58:29 +0000</created>
                <updated>Thu, 19 Dec 2019 21:07:48 +0000</updated>
                            <resolved>Thu, 19 Dec 2019 21:07:48 +0000</resolved>
                                    <version>CMS 0.14.0</version>
                                    <fixVersion>CMS 0.16.0</fixVersion>
                                    <component>App CMS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17000380" author="dklco" created="Thu, 19 Dec 2019 21:07:39 +0000"  >&lt;p&gt;Fixed in&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/commit/4b7e0beb6102b7e64e0d15b94e65fdc67c2cd165&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/commit/4b7e0beb6102b7e64e0d15b94e65fdc67c2cd165&lt;/a&gt;&#160;which also included a large number of fixes for the fetch handling and overall javascript structure.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09ooo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8911] Resource Does Not Reset Correctly</title>
                <link>https://issues.apache.org/jira/browse/SLING-8911</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When clicking on a page from the home screen, reloading the page or performing an action causes the filter to re-apply.&lt;/p&gt;
&lt;h3&gt;&lt;a name=&quot;Stepstoreproduce&quot;&gt;&lt;/a&gt;Steps to reproduce&lt;/h3&gt;
&lt;ul&gt;
	&lt;li&gt;Click on page from home screen&lt;/li&gt;
	&lt;li&gt;Clear the filter and select another page&lt;/li&gt;
	&lt;li&gt;Edit the page properties&lt;/li&gt;
	&lt;li&gt;Note the filter is reapplied&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13274027">SLING-8911</key>
            <summary>Resource Does Not Reset Correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                            <label>newbie</label>
                    </labels>
                <created>Thu, 12 Dec 2019 04:33:17 +0000</created>
                <updated>Thu, 12 Dec 2019 04:33:17 +0000</updated>
                                                                            <component>App CMS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 46 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09lb4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8908] DistributionSubscriber does not keep track of skipped packages as processed</title>
                <link>https://issues.apache.org/jira/browse/SLING-8908</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;DistributionSubscriber skips packages associated to a non subscribed DistributionPublisher and packages of another package type. Those packages should be marked as processed (persisted) to avoid fetching and processing them again in case of transient error (e.g. journal unavailable).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13273599">SLING-8908</key>
            <summary>DistributionSubscriber does not keep track of skipped packages as processed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cschneider">Christian Schneider</assignee>
                                    <reporter username="marett">Timothee Maret</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Dec 2019 11:53:13 +0000</created>
                <updated>Sun, 16 Feb 2020 21:56:19 +0000</updated>
                            <resolved>Mon, 23 Dec 2019 15:03:12 +0000</resolved>
                                                    <fixVersion>Content Distribution Journal Core 0.1.8</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13277896">SLING-8965</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 46 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09io0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8907] Journal distribution agents with empty names are invalid </title>
                <link>https://issues.apache.org/jira/browse/SLING-8907</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Distribution agents with empty names must be considered as invalid (must not start).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13273592">SLING-8907</key>
            <summary>Journal distribution agents with empty names are invalid </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="marett">Timothee Maret</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Dec 2019 11:22:19 +0000</created>
                <updated>Fri, 13 Aug 2021 18:59:32 +0000</updated>
                            <resolved>Fri, 16 Jul 2021 12:13:51 +0000</resolved>
                                    <version>Content Distribution Journal Core 0.1.6</version>
                                    <fixVersion>Content Distribution Journal Core 0.1.20</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17381932" author="marett" created="Fri, 16 Jul 2021 09:41:11 +0000"  >&lt;p&gt;Opened PR &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-journal/pull/87&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-journal/pull/87&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17382026" author="marett" created="Fri, 16 Jul 2021 12:13:44 +0000"  >&lt;p&gt;Merged PR #87&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 14 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09img:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8901] Wrapped bundles that are skipped are not easy to discover</title>
                <link>https://issues.apache.org/jira/browse/SLING-8901</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;For the APIs jar to correctly pick up compiled classes, wrapped bundles should be deflated as well. Apparently, the way this happens right now is that the wrapped jars are extracted but they are not processed.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ tree ./apis-jars/deflated-bin/org.apache.sling.scripting.jsp-api-1.0.0.jar/
./apis-jars/deflated-bin/org.apache.sling.scripting.jsp-api-1.0.0.jar/
&#9492;&#9472;&#9472; jsp-api-6.0.14.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This leads to missing classes in the APIs jar.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13273341">SLING-8901</key>
            <summary>Wrapped bundles that are skipped are not easy to discover</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Dec 2019 12:13:00 +0000</created>
                <updated>Mon, 16 Dec 2019 15:53:18 +0000</updated>
                            <resolved>Mon, 9 Dec 2019 13:18:03 +0000</resolved>
                                                    <fixVersion>slingfeature-maven-plugin 1.1.12</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16991536" author="rombert" created="Mon, 9 Dec 2019 12:18:26 +0000"  >&lt;p&gt;Hm, so apparently this happens since:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[DEBUG] No Maven GAV info attached to wrapped bundle target/apis-jars/deflated-bin/org.apache.sling.scripting.jsp-api-1.0.0.jar/jsp-api-6.0.14.jar, it will be ignored&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16991544" author="rombert" created="Mon, 9 Dec 2019 12:27:18 +0000"  >&lt;p&gt;Leaving this untouched for now, but this will probably turn into a collection of fixes for specific bundles that don&apos;t properly embed/wrap other bundles.&lt;/p&gt;</comment>
                            <comment id="16991547" author="rombert" created="Mon, 9 Dec 2019 12:34:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; - WDYT about promoting this to INFO/WARN (maybe as a summary at the end) to help uncover problems sooner?&lt;/p&gt;</comment>
                            <comment id="16991571" author="cziegeler" created="Mon, 9 Dec 2019 13:10:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; WARN sounds good to me&lt;/p&gt;</comment>
                            <comment id="16991578" author="rombert" created="Mon, 9 Dec 2019 13:18:03 +0000"  >&lt;p&gt;Fixed with &lt;a href=&quot;https://github.com/apache/sling-slingfeature-maven-plugin/commit/51edf31&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;sling-slingfeature-maven-plugin commit 51edf31&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 46 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09h2g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8896] The URI Manipulation Filter should not interfere with data-sly-use parameters</title>
                <link>https://issues.apache.org/jira/browse/SLING-8896</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The following HTL construct will result in an error when trying to initialise the passed use object:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-html&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;div data-sly-use.pojo=&lt;span class=&quot;code-quote&quot;&gt;&quot;${&lt;span class=&quot;code-quote&quot;&gt;&apos;org.example.Pojo&apos;&lt;/span&gt; @ path=&lt;span class=&quot;code-quote&quot;&gt;&apos;/a/b/c&apos;&lt;/span&gt;}&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;What will happen currently is that the &lt;tt&gt;path&lt;/tt&gt; option will be interpreted as a URI manipulation indicator, with the construct being equivalent to:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-html&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;div data-sly-use.pojo=&lt;span class=&quot;code-quote&quot;&gt;&quot;/a/b/c/org.example.Pojo&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The bug is caused by the fact that the &lt;tt&gt;org.apache.sling.scripting.sightly.impl.filter.URIManipulationFilter&lt;/tt&gt; acts on all contexts, except for &lt;tt&gt;data-sly-template&lt;/tt&gt; and &lt;tt&gt;data-sly-call&lt;/tt&gt;. However, the filter should exclude &lt;tt&gt;data-sly-template&lt;/tt&gt;, &lt;tt&gt;data-sly-call&lt;/tt&gt;, &lt;tt&gt;data-sly-use&lt;/tt&gt;, &lt;tt&gt;data-sly-resource&lt;/tt&gt; (handled in a runtime extension) and &lt;tt&gt;data-sly-include&lt;/tt&gt; (also handled in a runtime extension).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13272839">SLING-8896</key>
            <summary>The URI Manipulation Filter should not interfere with data-sly-use parameters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Dec 2019 19:30:43 +0000</created>
                <updated>Wed, 18 Dec 2019 15:25:48 +0000</updated>
                            <resolved>Fri, 6 Dec 2019 19:54:50 +0000</resolved>
                                    <version>Scripting HTL Compiler 1.2.0-1.4.0</version>
                                    <fixVersion>Scripting HTL Compiler 1.2.4-1.4.0</fixVersion>
                    <fixVersion>HTL Maven Plugin 1.3.4-1.4.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16990128" author="radu.cotescu" created="Fri, 6 Dec 2019 19:54:50 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-sightly-compiler/commit/c324189&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit c324189&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13275284">SLING-8933</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 46 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09dyw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8890] Exported packages with no java classes trigger API jars errors</title>
                <link>https://issues.apache.org/jira/browse/SLING-8890</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Assume that we have a bundle that exports a package which contains no java classes.&lt;/p&gt;

&lt;p&gt;If these packages are part of the exported from an API region, when generating the APIs jar, a warning is generated for each jar, since:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;there are no java source files for the sources jar&lt;/li&gt;
	&lt;li&gt;there are no class file for the api jar&lt;/li&gt;
	&lt;li&gt;there are no javadoc files generated for the javadoc jar&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;To my understanding, it is legal to export such packages, as importers will have access to the resources included in those packages.&lt;/p&gt;

&lt;p&gt;I see a couple of ways out:&lt;/p&gt;

&lt;p&gt;1. Track packages that contain only non-java resources. For these specifically, update the checks as follows:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;sources jar must contain files, but not java sources&lt;/li&gt;
	&lt;li&gt;api jar must contain files, but not java classes&lt;/li&gt;
	&lt;li&gt;javadoc jar must not contain any files&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;2. Skip checking for packages that only contain non-java resources. This is I think wrong, as at development time you will need those resources.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13272614">SLING-8890</key>
            <summary>Exported packages with no java classes trigger API jars errors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Dec 2019 23:27:30 +0000</created>
                <updated>Mon, 16 Dec 2019 15:53:20 +0000</updated>
                            <resolved>Fri, 6 Dec 2019 16:24:27 +0000</resolved>
                                                    <fixVersion>slingfeature-maven-plugin 1.1.12</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16989250" author="rombert" created="Thu, 5 Dec 2019 23:29:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; - how do you think we should approach the issue? See also &lt;a href=&quot;https://github.com/apache/sling-slingfeature-maven-plugin/pull/44&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-slingfeature-maven-plugin/pull/44&lt;/a&gt; for a demonstration of the problem.&lt;/p&gt;</comment>
                            <comment id="16989434" author="cziegeler" created="Fri, 6 Dec 2019 06:24:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; I agree, option 1 sounds like the right solution. We should probably take the api as the source of truth - if there are no java classes, then it is ok that sources has no java source and javadoc has no file. If the api has java classes, sources and javadoc must contain source files/javadoc.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 46 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09ckw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8879] Make JSONObject#toString and XSSAPI#encodeForJSString both safe and correct for pasting into a javascript string literal</title>
                <link>https://issues.apache.org/jira/browse/SLING-8879</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The current implementation risks exceptions in strict javascript engines.&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;return source == null ? null : Encode.forJavaScript(source).replace(&quot;&amp;#x5C;&amp;#x5C;-&quot;, &quot;&amp;#x5C;&amp;#x5C;u002D&quot;);&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Substitutes on top of the encoder&apos;s result with the intent to correct the encoder are near-sighted (i.e. suffer from the context-free approach). If &lt;tt&gt;source&lt;/tt&gt; had a backslash followed by a dash, i.e. &lt;tt&gt;raw &amp;#x5C;&amp;#x2D;&lt;/tt&gt;, the &lt;tt&gt;forJavaScript&lt;/tt&gt; call would properly change the backslash into 2 backslashes &lt;tt&gt;raw &amp;#x5C;&amp;#x5C;&amp;#x2D;&lt;/tt&gt; (this would result in the javascript engine turning the string literal back to &lt;tt&gt;raw &amp;#x5C;&amp;#x2D;&lt;/tt&gt;). But the subsequent &lt;tt&gt;replace&lt;/tt&gt; call will destroy the context of the second backslash, turning the string into &lt;tt&gt;raw &amp;#x5C;&amp;#x5C;u002D&lt;/tt&gt; which would turn to &lt;tt&gt;raw &amp;#x5C;u002D&lt;/tt&gt; in the javascript engine&apos;s variable.&lt;/p&gt;

&lt;p&gt;I argue for dropping the &lt;tt&gt;.replace()&lt;/tt&gt; call (aiming at disabling malicious comment injection) here and encoding the opening angle bracket &lt;tt&gt;raw &amp;lt;&lt;/tt&gt; as &lt;tt&gt;raw &amp;#x5C;u003C&lt;/tt&gt; in the &lt;tt&gt;Encode.forJavaScript&lt;/tt&gt; implementation. This will protect against both the malicious comment injection and the injection of closing script tags &lt;tt&gt;raw &amp;#x3C;&amp;#x5C;script&amp;gt;&lt;/tt&gt; forcing the javascript interpreter to drop out of the string literal context and drop out of the script context.&lt;/p&gt;

&lt;p&gt;The existing prefixing of forward slashes with a backslash agrees with JSON but not with Javascript. It should be removed in favour of replacing just the opening angle bracket.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SingleEscapeCharacter :: one of
&apos; &quot; \ b f n r t v
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://www.ecma-international.org/ecma-262/6.0/#sec-literals-string-literals&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.ecma-international.org/ecma-262/6.0/#sec-literals-string-literals&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String#Escape_notation&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String#Escape_notation&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I noticed that JSONObject#toString suffers from the same idea of a non-universal protection of the forward slash.  I guess both XSSAPI and JSONObject#toString reuse the same code.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13272535">SLING-8879</key>
            <summary>Make JSONObject#toString and XSSAPI#encodeForJSString both safe and correct for pasting into a javascript string literal</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ilatypov">Ilguiz Latypov</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Dec 2019 15:51:22 +0000</created>
                <updated>Wed, 22 Feb 2023 08:01:05 +0000</updated>
                                                                            <component>XSS Protection API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16988929" author="ilatypov" created="Thu, 5 Dec 2019 15:55:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-xss/blob/a827eb7/src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java#L412&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-xss/blob/a827eb7/src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java#L412&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16988935" author="rombert" created="Thu, 5 Dec 2019 16:08:37 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ilatypov&quot; class=&quot;user-hover&quot; rel=&quot;ilatypov&quot;&gt;ilatypov&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu&quot; class=&quot;user-hover&quot; rel=&quot;radu&quot;&gt;radu&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vladb&quot; class=&quot;user-hover&quot; rel=&quot;vladb&quot;&gt;vladb&lt;/a&gt; - thoughts?&lt;/p&gt;</comment>
                            <comment id="16989011" author="ilatypov" created="Thu, 5 Dec 2019 17:34:34 +0000"  >&lt;p&gt;I see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6679&quot; title=&quot;Replace usage of org.apache.sling.commons.json.* and org.json in launchpad relevant bundles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6679&quot;&gt;&lt;del&gt;SLING-6679&lt;/del&gt;&lt;/a&gt; replaced JSONObject with Johnzon in year 2017 which has a simple serializer that does not reuse the &quot;for javascript&quot; encoder.  On the other hand, Johnzon would not protect against the closing script tag injection or the open comment tag injection in cases where the javascript string literal is embedded with the HTML response.&lt;/p&gt;

&lt;p&gt;I see Johnzon substitutes the double quotes, as required by JSON and by the need to protect against the attack where malicious payload drops out of the javascript string literal context in a Javascript embedded in HTML.  Of course.&lt;/p&gt;

&lt;p&gt;It would be nice if Johnzon replaced the open angle bracket &lt;tt&gt;raw &amp;#x3C;&lt;/tt&gt; with an ASCII presentation of the respective Unicode, &lt;tt&gt;raw &amp;#x5C;u003C&lt;/tt&gt;, which is also compatible with both JSON and Javascript.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/johnzon/blob/master/johnzon-core/src/main/java/org/apache/johnzon/core/Strings.java#L64&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/johnzon/blob/master/johnzon-core/src/main/java/org/apache/johnzon/core/Strings.java#L64&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;XSSAPI encodeForJSString() could reuse Johnzon&apos;s above serialization.  (I guess this would require accessing Johnzon via Sling&apos;s service provider interface to an abstract JSON implementation).&lt;/p&gt;

&lt;p&gt;Our older AEM code still uses the older JSONObject, but I guess there would not be a security (built-in XSS protection against abuse of javascript code with string literals embedded in HTML) or stability (strict javascript engine failing to parse the backslash-forwardslash encoding I observed in JSONObject#toString) update to that version of Sling.&lt;/p&gt;</comment>
                            <comment id="16989033" author="ilatypov" created="Thu, 5 Dec 2019 17:54:00 +0000"  >&lt;p&gt;I also see a suggestion to fool-proof more characters serialized as JSON strings in case these strings are embedded into a javascript embedded in HTML or XHTML.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://security.stackexchange.com/questions/11091/is-this-json-encoding-vulnerable-to-cdata-injection/11097#11097&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://security.stackexchange.com/questions/11091/is-this-json-encoding-vulnerable-to-cdata-injection/11097#11097&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This suggests to encode with &lt;tt&gt;raw &amp;#x5C;uXXXX&lt;/tt&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;the double quotes &lt;tt&gt;raw &amp;#x22;&lt;/tt&gt; against terminating the string,&lt;/li&gt;
	&lt;li&gt;the escape character &lt;tt&gt;raw &amp;#x5C;&lt;/tt&gt; against breaking the context of escaping other characters,&lt;/li&gt;
	&lt;li&gt;the opening angle bracket &lt;tt&gt;raw &amp;#x3C;&lt;/tt&gt; against closing the script tag or opening a comment tag,&lt;/li&gt;
	&lt;li&gt;the closing angle bracket &lt;tt&gt;raw &amp;#x3E;&lt;/tt&gt; against closing a possible CDATA wrapper around the javascript text embedded in XHTML (and HTML?),&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;U+2028&lt;/tt&gt; and &lt;tt&gt;U+2029&lt;/tt&gt; allowed in JSON but not in Javascript against disrupting the javascript engine.&lt;/li&gt;
	&lt;li&gt;the ampersand &lt;tt&gt;raw &amp;#x26;&lt;/tt&gt; against the mandatory HTML entity decoding in XHTML (but not HTML) documents.&lt;/li&gt;
&lt;/ul&gt;

</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310660">
                    <name>Completes</name>
                                            <outwardlinks description="fixes">
                                        <issuelink>
            <issuekey id="13523760">SLING-11768</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="12994605">SLING-5946</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 46 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09c3c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8876] ApisJar mojo includes invalid javadoc package roots</title>
                <link>https://issues.apache.org/jira/browse/SLING-8876</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When creating the javadoc command arguments the &lt;tt&gt;ApisJarMojo&lt;/tt&gt; takes into account all top-level source directories. However, it can happen that these top-level directories do not contain Java source files, leading to an argument like&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;-subpackages org:com:javax:ch:schemaorg_apache_xmlbeans:opennlp&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;This is probably due to a &lt;tt&gt;sourceId&lt;/tt&gt; mapping of &lt;tt&gt;org.apache.xmlbeans:xmlbeans:jar:sources:3.1.0&lt;/tt&gt;, which apparently contains a &lt;tt&gt;schema&lt;/tt&gt; directory with only non-java files.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13272500">SLING-8876</key>
            <summary>ApisJar mojo includes invalid javadoc package roots</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Dec 2019 13:28:53 +0000</created>
                <updated>Mon, 16 Dec 2019 15:53:23 +0000</updated>
                            <resolved>Thu, 5 Dec 2019 22:37:53 +0000</resolved>
                                                    <fixVersion>slingfeature-maven-plugin 1.1.12</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="600">10m</timespent>
                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 46 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09bvk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8872] CMS - Fails to Extract JPEG Metadata</title>
                <link>https://issues.apache.org/jira/browse/SLING-8872</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The File Metadata Extractor fails to extract the metadata of JPEG files due to the errors described here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2987&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TIKA-2987&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The fix is to:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Update to Tika 1.22&lt;/li&gt;
	&lt;li&gt;Remove the Tika Parsers to avoid conflicting imports&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13271707">SLING-8872</key>
            <summary>CMS - Fails to Extract JPEG Metadata</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Dec 2019 13:53:05 +0000</created>
                <updated>Wed, 25 Mar 2020 02:27:30 +0000</updated>
                            <resolved>Mon, 2 Dec 2019 13:53:59 +0000</resolved>
                                    <version>CMS 0.14.0</version>
                                    <fixVersion>CMS 0.16.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16986062" author="dklco" created="Mon, 2 Dec 2019 13:53:59 +0000"  >&lt;p&gt;Fixed in:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/commit/8b4e29c010f1f46acc4edb925c2d43db5bdad562&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/commit/8b4e29c010f1f46acc4edb925c2d43db5bdad562&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/commit/4a126ba0eb932141ad93da520cfe28925301b89a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/commit/4a126ba0eb932141ad93da520cfe28925301b89a&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/commit/cce41edfc177e5df66c151957a4a2dac6dfba022&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/commit/cce41edfc177e5df66c151957a4a2dac6dfba022&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 47 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z096zs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8871] CMS - Upload Click Handler Registered Multiple Times</title>
                <link>https://issues.apache.org/jira/browse/SLING-8871</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When a user uploads a file and then closes the dialog and uploads another file the click handler will register multiple times resulting in the UI attempting to upload the same file multiple times.&#160;&lt;/p&gt;

&lt;p&gt;This does not affect the drag and drop functionality.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13271706">SLING-8871</key>
            <summary>CMS - Upload Click Handler Registered Multiple Times</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Dec 2019 13:48:48 +0000</created>
                <updated>Wed, 25 Mar 2020 02:27:25 +0000</updated>
                            <resolved>Mon, 2 Dec 2019 13:50:29 +0000</resolved>
                                    <version>CMS 0.14.0</version>
                                    <fixVersion>CMS 0.16.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16986060" author="dklco" created="Mon, 2 Dec 2019 13:50:29 +0000"  >&lt;p&gt;Fixed in&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/commit/9e5966c78359680deab6c35b43477d3c8652282c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/commit/9e5966c78359680deab6c35b43477d3c8652282c&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 47 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z096zk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8869] SimpleHttpDistributionTransport does not refresh the secret for token based implementations.</title>
                <link>https://issues.apache.org/jira/browse/SLING-8869</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;While saving the &lt;tt&gt;contextKeyExecutor&lt;/tt&gt; in &lt;tt&gt;DistributionTransportContext&lt;/tt&gt; map, it is not expected that the secret associated with the executor could be expired. This can happen in case of access token based implementations where the token is expired after a certain period of time and has to be refreshed.&lt;/p&gt;

&lt;p&gt;The code to refresh the token is written in the secret provider but since the executor is &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/transport/impl/SimpleHttpDistributionTransport.java#L208&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;cached in the map&lt;/a&gt;&#160;the secrets are not refreshed. It works fine for credentials based secret provider but not for access token based.&lt;/p&gt;

&lt;p&gt;cc - &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13271638">SLING-8869</key>
            <summary>SimpleHttpDistributionTransport does not refresh the secret for token based implementations.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="mohiaror">Mohit Arora</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Dec 2019 08:33:58 +0000</created>
                <updated>Sun, 16 Feb 2020 21:54:41 +0000</updated>
                            <resolved>Thu, 5 Dec 2019 19:23:03 +0000</resolved>
                                                    <fixVersion>Content Distribution Core 0.4.2</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="9000">2.5h</timespent>
                                <comments>
                            <comment id="16985903" author="mohiaror" created="Mon, 2 Dec 2019 08:37:42 +0000"  >&lt;p&gt;Attached a sample patch to resolve the issue.&lt;/p&gt;

&lt;p&gt;cc - &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashishc&quot; class=&quot;user-hover&quot; rel=&quot;ashishc&quot;&gt;ashishc&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16986649" author="ashishc" created="Tue, 3 Dec 2019 06:26:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mohiaror&quot; class=&quot;user-hover&quot; rel=&quot;mohiaror&quot;&gt;mohiaror&lt;/a&gt;, IIUC the patch, once the secret is associated with an &lt;tt&gt;Executor&lt;/tt&gt; created via a call to &lt;tt&gt;buildAuthExecutor&lt;/tt&gt;, it is being inserted in a map named &lt;tt&gt;contextKeyExecutor&lt;/tt&gt;. Upon the next invocation of &lt;tt&gt;getExecutor&lt;/tt&gt;, that map is queried first &lt;em&gt;irrespective&lt;/em&gt; of whether &lt;tt&gt;DistributionTransportSecret&lt;/tt&gt; was refreshed or not; if found in the Map, the executor is being reused with (possibly stale) secret.&lt;br/&gt;
It is not immediately obvious to me how the executor with stale secret is being evicted in &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12987439/12987439_SLING-8869.patch&quot; title=&quot;SLING-8869.patch attached to SLING-8869&quot;&gt;SLING-8869.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;. I&apos;m likely missing something obvious here - can you please explain?&lt;/p&gt;</comment>
                            <comment id="16986688" author="mohiaror" created="Tue, 3 Dec 2019 08:06:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashishc&quot; class=&quot;user-hover&quot; rel=&quot;ashishc&quot;&gt;ashishc&lt;/a&gt;&#160;Thanks for pointing it out. I have updated the patch.&lt;/p&gt;</comment>
                            <comment id="16986813" author="bdelacretaz" created="Tue, 3 Dec 2019 11:26:16 +0000"  >&lt;p&gt;I don&apos;t have much context about this so feel free to ignore this comment if it&apos;s not relevant...AFAIU the current patch disables caching of any tokens that might expire.&lt;/p&gt;

&lt;p&gt;Isn&apos;t that a problem in terms of performance? You could maybe enhance the Executor with a checkExpired() method that getExecutor() can call to refresh the token only when needed. If it&apos;s a standard Java Executor that you&apos;re using you&apos;d need an instanceof + cast to your expanded Executor to run the check, but that&apos;s a small price to pay vs not caching at all.&lt;/p&gt;</comment>
                            <comment id="16987619" author="ashishc" created="Wed, 4 Dec 2019 07:37:58 +0000"  >&lt;p&gt;hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;, thanks for your comments!&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;If it&apos;s a standard Java Executor that you&apos;re using you&apos;d need an instanceof + cast to your expanded Executor to run the check, but that&apos;s a small price to pay vs not caching at all.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This is a HTTP Components&apos; Fluent API executor &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.&lt;br/&gt;
Per the documentation, the benefit for &lt;tt&gt;Executor&lt;/tt&gt; is to retain authorization information associated with it via the &lt;tt&gt;.auth&lt;/tt&gt; invocations.&lt;br/&gt;
I see no other benefit of &lt;tt&gt;Executor&lt;/tt&gt; from &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; - notably &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; doesn&apos;t invoke &lt;tt&gt;.auth&lt;/tt&gt;, but sets an HTTP header directly.&lt;br/&gt;
Perhaps we should be OK invoking the &lt;tt&gt;Request.&lt;/tt&gt; directly (after all, that &lt;em&gt;is&lt;/em&gt; the purported benefit of the Fluent API &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;) - but if you see merit in reusing the &lt;tt&gt;Executor&lt;/tt&gt; (and the &lt;tt&gt;HttpClient&lt;/tt&gt; it backs) still, maybe we can consider adding the &lt;tt&gt;Authorization&lt;/tt&gt; header in the POST request itself &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; instead of adding it as a default-header in the HttpClient that backs the &lt;tt&gt;Executor&lt;/tt&gt; in question.&lt;/p&gt;

&lt;p&gt;Does above seem like a reasonable approach to you?&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://hc.apache.org/httpcomponents-client-ga/tutorial/html/fluent.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hc.apache.org/httpcomponents-client-ga/tutorial/html/fluent.html&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/deb3d2ae33c4f4678c8503091a9fffdbb141e569/src/main/java/org/apache/sling/distribution/transport/impl/SimpleHttpDistributionTransport.java#L228&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/deb3d2ae33c4f4678c8503091a9fffdbb141e569/src/main/java/org/apache/sling/distribution/transport/impl/SimpleHttpDistributionTransport.java#L228&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://hc.apache.org/httpcomponents-client-ga/fluent-hc/apidocs/org/apache/http/client/fluent/Request.html#addHeader(org.apache.http.Header&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hc.apache.org/httpcomponents-client-ga/fluent-hc/apidocs/org/apache/http/client/fluent/Request.html#addHeader(org.apache.http.Header&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="16987641" author="mohiaror" created="Wed, 4 Dec 2019 08:17:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashishc&quot; class=&quot;user-hover&quot; rel=&quot;ashishc&quot;&gt;ashishc&lt;/a&gt; I have attached another patch,  &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12987442/12987442_SLING-8869-new.patch&quot; title=&quot;SLING-8869-new.patch attached to SLING-8869&quot;&gt;SLING-8869-new.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;  which keeps the caching as it is and always inject a header in request if the credentials provider is authorization based credentials provider. As Ashish mentioned, I do not see a clear advantage of one approach on the other so we can choose either one.&lt;/p&gt;</comment>
                            <comment id="16987757" author="ashishc" created="Wed, 4 Dec 2019 11:31:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mohiaror&quot; class=&quot;user-hover&quot; rel=&quot;mohiaror&quot;&gt;mohiaror&lt;/a&gt;, may I suggest raising a PR for SCD maintainers (and broader Sling community) to review and merge? Thanks!&lt;/p&gt;

&lt;p&gt;\cc: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16987967" author="marett" created="Wed, 4 Dec 2019 16:05:13 +0000"  >&lt;blockquote&gt;&lt;p&gt;It works fine for credentials based secret provider but not for access token based.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;True, but only by luck.&#160;&lt;/p&gt;

&lt;p&gt;If an Executor with a wrong pwd is cached then the only way to evict that executor is to recreate the&#160;DistributionTransportContext cache entirely. This happens currently because re-configuring a credential based secret provider will force the components referencing it to restart.&lt;/p&gt;

&lt;p&gt;One way to handle this would be to evict the Executor based on the returned status code, 401 and 403.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Please open PRs instead of attaching patches, it&apos;s much easier to review/comment &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16988514" author="mohiaror" created="Thu, 5 Dec 2019 06:35:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt; I have raised PRs for both the approaches - &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/28&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/28&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/29&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/29&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;cc - &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashishc&quot; class=&quot;user-hover&quot; rel=&quot;ashishc&quot;&gt;ashishc&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16988538" author="ashishc" created="Thu, 5 Dec 2019 07:05:44 +0000"  >&lt;blockquote&gt;&lt;p&gt;If an Executor with a wrong pwd is cached then the only way to evict that executor is to recreate the DistributionTransportContext cache entirely. This happens currently because re-configuring a credential based secret provider will force the components referencing it to restart.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I share your understanding on this. Currently, new instances of &lt;tt&gt;RemoteDistributionPackageImporter&lt;/tt&gt; will be created each time credential-providers is reconfigured (e.g., due to credential-update), ensuring that HTTP transport always works with most up-to-date credentials and executors with stale credentials aren&apos;t accessible (and are candidates for GC). This is true for both &lt;tt&gt;DistributionAgentFactory&lt;/tt&gt; impls and &lt;tt&gt;RemoteDistributionPackageImporterFactory&lt;/tt&gt;.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;it works&amp;#93;&lt;/span&gt; only by luck.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Erm, to me it seems to be as-designed - unless there&apos;s another supported mechanism that can create/update credential-providers &lt;em&gt;without&lt;/em&gt; a corresponding creation of &lt;tt&gt;RemoteDistributionPackageImporter&lt;/tt&gt; with updated credentials.&lt;br/&gt;
If such a mechanism exists, can you please explain it here for my better understanding?&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;One way to handle this would be to evict the Executor based on the returned status code, 401 and 403.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Assuming my understanding is correct, this seems like overkill for a credential provider that contains static-secrets.&lt;br/&gt;
For dynamic-secrets, (even if there is 401/403 based executor-eviction, followed by token-reacquisition) since the secret-provider can&apos;t be explicitly asked for a token-update (which isn&apos;t possible because there&apos;s no such capability in the API &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;), we anyway need to rely on the secret-provider returning the most updated token when asked for.&lt;br/&gt;
In current proposal HTTP Transport impl doesn&apos;t concern itself with token expiry/regeneration/caching and dumbly asks for the credentials from secret-provider always, letting the secret-provider deal with all the complexities of returning most up-to-date token always, which it leverages for transport.&lt;/p&gt;

&lt;p&gt;Can you please help me understand the benefit of a failing HTTP call as you propose?&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-api/blob/master/src/main/java/org/apache/sling/distribution/transport/DistributionTransportSecretProvider.java#L45&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-api/blob/master/src/main/java/org/apache/sling/distribution/transport/DistributionTransportSecretProvider.java#L45&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16988627" author="marett" created="Thu, 5 Dec 2019 10:12:18 +0000"  >&lt;blockquote&gt;&lt;p&gt;If such a mechanism exists, can you please explain it here for my better understanding&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;DistributionTransportSecretProvider is an API and anyone can provide an implementation for it.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Can you please help me understand the benefit of a failing HTTP call as you propose?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It covers both &lt;em&gt;dynamic&lt;/em&gt;&#160;and &lt;em&gt;static&lt;/em&gt;&#160;secret providers without making any assumption about the providers being &lt;em&gt;dynamic&lt;/em&gt; or &lt;em&gt;static&lt;/em&gt;.&lt;/p&gt;</comment>
                            <comment id="16988653" author="ashishc" created="Thu, 5 Dec 2019 10:28:51 +0000"  >&lt;blockquote&gt;&lt;p&gt;DistributionTransportSecretProvider is an API and anyone can provide an implementation for it.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Agreed. But as long as one is using &lt;tt&gt;RemoteDistributionPackageImporter&lt;/tt&gt; (and being an impl, the only way to &lt;em&gt;use&lt;/em&gt; it would be a via creation of configs for &lt;tt&gt;DistributionAgentFactory&lt;/tt&gt; impls and &lt;tt&gt;RemoteDistributionPackageImporterFactory&lt;/tt&gt;), I still don&apos;t see in which case a &lt;tt&gt;DistributionTransportSecretProvider&lt;/tt&gt; can be created/updated &lt;em&gt;without&lt;/em&gt; a corresponding creation of new instance of &lt;tt&gt;RemoteDistributionPackageImporter&lt;/tt&gt;.&lt;/p&gt;

&lt;blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Can you please help me understand the benefit of a failing HTTP call as you propose?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It covers both dynamic and static secret providers without making any assumption about the providers being dynamic or static.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;None of the secret-providers can actually &apos;refresh&apos; the token on a 401 because no such method exists in the API &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;. Depending on their impls they&apos;d either have to cache+refresh the credentials on every call, or just keep returning the stale ones.&lt;/p&gt;

&lt;p&gt;My concerns with 401/403 based executor eviction are:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;evicting a perfectly good HTTP Client (that backs the executor instance) (afaik HTTP components advise HTTP Client reuse &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;) when all we need a header value update&lt;/li&gt;
	&lt;li&gt;retry semantics would need review (currently, a &lt;tt&gt;RecoverableDistributionException&lt;/tt&gt; is thrown for a 401/404 - its behaviour in light of how the retry-attempt-counting and moving to error-queue works &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; would likely need to be reviewed deeply)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-api/blob/master/src/main/java/org/apache/sling/distribution/transport/DistributionTransportSecretProvider.java#L45&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-api/blob/master/src/main/java/org/apache/sling/distribution/transport/DistributionTransportSecretProvider.java#L45&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://hc.apache.org/httpclient-3.x/performance.html#Reuse_of_HttpClient_instance&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hc.apache.org/httpclient-3.x/performance.html#Reuse_of_HttpClient_instance&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/af3140fc5641c6c3eeee94b1bbc4dbd4013965e6/src/main/java/org/apache/sling/distribution/agent/impl/SimpleDistributionAgentQueueProcessor.java#L147-L162&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/af3140fc5641c6c3eeee94b1bbc4dbd4013965e6/src/main/java/org/apache/sling/distribution/agent/impl/SimpleDistributionAgentQueueProcessor.java#L147-L162&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16988664" author="marett" created="Thu, 5 Dec 2019 10:46:14 +0000"  >&lt;blockquote&gt;&lt;p&gt;I still don&apos;t see in which case a&#160;&lt;tt&gt;DistributionTransportSecretProvider&lt;/tt&gt;&#160;can be created/updated&#160;&lt;em&gt;without&lt;/em&gt;&#160;a corresponding creation of new instance of&#160;&lt;tt&gt;RemoteDistributionPackageImporter&lt;/tt&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Any secret provider that changes secrets without deactivating/activating itself. A concrete example, used in this&#160;ticket,&#160;is an access token provider.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;None of the secret-providers can actually &apos;refresh&apos; the token on a 401 because no such method exists in the API&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;The implementation parses the response status code and can evict the Executor from the cache. There would be no need to extend the API.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;evicting a perfectly good HTTP Client&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It&apos;s questionable how the client is perfectly good when it is actually configured to cache headers that will yields 401s.&#160;I understand your point though. With the approach taken by &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12987442/12987442_SLING-8869-new.patch&quot; title=&quot;SLING-8869-new.patch attached to SLING-8869&quot;&gt;SLING-8869-new.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; we could reuse the client and only fix the secret.&lt;/p&gt;</comment>
                            <comment id="16988758" author="mohiaror" created="Thu, 5 Dec 2019 12:41:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt; &lt;blockquote&gt;&lt;p&gt;With the approach taken by &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8869&quot; title=&quot;SimpleHttpDistributionTransport does not refresh the secret for token based implementations.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8869&quot;&gt;&lt;del&gt;SLING-8869&lt;/del&gt;&lt;/a&gt;-new.patch we could reuse the client and only fix the secret.&lt;/p&gt;&lt;/blockquote&gt;&lt;/p&gt;

&lt;p&gt;Can you please review the PR &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; based on this approach and it seems Ok, approve it?&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/28&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/28&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16988770" author="ashishc" created="Thu, 5 Dec 2019 12:56:32 +0000"  >&lt;blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;I still don&apos;t see in which case a &lt;tt&gt;DistributionTransportSecretProvider&lt;/tt&gt; can be created/updated without a corresponding creation of new instance of &lt;tt&gt;RemoteDistributionPackageImporter&lt;/tt&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Any secret provider that changes secrets without deactivating/activating itself. A concrete example, used in this ticket, is an access token provider.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;We are talking about different things - I meant changing of the &lt;tt&gt;DistributionTransportSecretProvider&lt;/tt&gt; Java implementation object itself, whereas you meant &lt;em&gt;contents&lt;/em&gt; of the &lt;tt&gt;Map&lt;/tt&gt; returned by &lt;tt&gt;DistributionTransportSecretProvider.getSecret().asCredentialsMap()&lt;/tt&gt; changing (which is what I called &quot;dynamic&quot; secret provider earlier).&lt;br/&gt;
But I get your point - there can indeed be a &lt;tt&gt;DistributionTransportSecretProvider&lt;/tt&gt; impl which change the username/password without changing the Java implementation object (reading them off a secret-store via any API, perhaps).&lt;/p&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;None of the secret-providers can actually &apos;refresh&apos; the token on a 401 because no such method exists in the API&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;The implementation parses the response status code and can evict the Executor from the cache. There would be no need to extend the API.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;My intent was not to propose extending &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-api/blob/master/src/main/java/org/apache/sling/distribution/transport/DistributionTransportSecretProvider.java#L45&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;the API&lt;/a&gt; - I wished to point out that &lt;em&gt;unless&lt;/em&gt; the &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-api/blob/master/src/main/java/org/apache/sling/distribution/transport/DistributionTransportSecretProvider.java#L45&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;API&lt;/a&gt; has a &apos;refresh-secret&apos; method, &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8869?focusedCommentId=16988653&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16988653&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;evicting the executor upon a 401 v/s calling &lt;tt&gt;DistributionTransportSecretProvider.getSecret().asCredentialsMap()&lt;/tt&gt; before issuing the transport every time will be equivalent&lt;/a&gt; when it comes to freshness/staleness of the retrieved credentials-&lt;tt&gt;Map&lt;/tt&gt;.&lt;br/&gt;
&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12987442/12987442_SLING-8869-new.patch&quot; title=&quot;SLING-8869-new.patch attached to SLING-8869&quot;&gt;SLING-8869-new.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; follows the latter and benefits from Executor/HTTP client reuse (this is &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8869?focusedCommentId=16986813&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16986813&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;in line with @bdelacretaz&apos;s suggestion above&lt;/a&gt;).&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;With the approach taken by &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8869&quot; title=&quot;SimpleHttpDistributionTransport does not refresh the secret for token based implementations.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8869&quot;&gt;&lt;del&gt;SLING-8869&lt;/del&gt;&lt;/a&gt;-new.patch we could reuse the client and only fix the secret.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Thanks! the corresponding PR is &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/28&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/28&lt;/a&gt;. I&apos;ll try to update that with a commit applying the executor-eviction on 401 strategy.&lt;/p&gt;

&lt;p&gt;\cc: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mohiaror&quot; class=&quot;user-hover&quot; rel=&quot;mohiaror&quot;&gt;mohiaror&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16988792" author="marett" created="Thu, 5 Dec 2019 13:12:25 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;ll try to update that with a commit applying the executor-eviction on 401 strategy.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&#160;Thanks!&lt;/p&gt;</comment>
                            <comment id="16988892" author="marett" created="Thu, 5 Dec 2019 14:59:08 +0000"  >&lt;p&gt;Based on &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashishc&quot; class=&quot;user-hover&quot; rel=&quot;ashishc&quot;&gt;ashishc&lt;/a&gt; PR &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/30&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#30&lt;/a&gt; it seems we&apos;d require a lot of changes (drop functional API) to be able to refresh the headers only upon 401s and 403s. &lt;/p&gt;

&lt;p&gt;Let&apos;s go with #28 once the NPE issue is addressed.&lt;/p&gt;</comment>
                            <comment id="16988966" author="mohiaror" created="Thu, 5 Dec 2019 16:42:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt; I have addressed the NPE. Can you please review the PR again?&lt;/p&gt;</comment>
                            <comment id="16989081" author="marett" created="Thu, 5 Dec 2019 19:22:44 +0000"  >&lt;p&gt;Merged PR &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/28&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#28&lt;/a&gt; thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12987442" name="SLING-8869-new.patch" size="3922" author="mohiaror" created="Wed, 4 Dec 2019 08:15:47 +0000"/>
                            <attachment id="12987439" name="SLING-8869.patch" size="2987" author="mohiaror" created="Wed, 4 Dec 2019 07:49:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 46 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z096kg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8868] DistributionPackage built using DistributionPackageBuilder.getPackage doesn&apos;t contain correct DIstributionPackageInfo</title>
                <link>https://issues.apache.org/jira/browse/SLING-8868</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;tt&gt;DIstributionPackage&lt;/tt&gt; as returned by &lt;tt&gt;DistributionPackageBuilder.createPackage&lt;/tt&gt; contains metadata of the package within it, which can be retrieved via &lt;tt&gt;DIstributionPackage.getInfo()&lt;/tt&gt;. &lt;tt&gt;DistributionPackage.getId&lt;/tt&gt; returns the unique identifier for the created package, which can later be retrieved via the ID and &lt;tt&gt;DistributionPackageBuilder.getPackage&lt;/tt&gt; API.&lt;/p&gt;

&lt;p&gt;However, when the &lt;tt&gt;DistributionPackage&lt;/tt&gt; is retrieved, the &lt;tt&gt;DistributionPackageInfo&lt;/tt&gt; returned by &lt;tt&gt;.getInfo&lt;/tt&gt; method doesn&apos;t contain correct metadata of the package.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13271476">SLING-8868</key>
            <summary>DistributionPackage built using DistributionPackageBuilder.getPackage doesn&apos;t contain correct DIstributionPackageInfo</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="ashishc">Ashish Chopra</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Nov 2019 22:00:47 +0000</created>
                <updated>Sun, 16 Feb 2020 21:54:42 +0000</updated>
                            <resolved>Thu, 5 Dec 2019 14:12:58 +0000</resolved>
                                    <version>Content Distribution Core 0.4.0</version>
                                    <fixVersion>Content Distribution Core 0.4.2</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="16985202" author="ashishc" created="Fri, 29 Nov 2019 22:16:01 +0000"  >&lt;p&gt;PR at &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;edit:&lt;/em&gt; PR updated to include tests. It is noteworthy that In-memory-package remote-distribution seems broken to me currently - i.e., its &lt;tt&gt;.getPackageInternal&lt;/tt&gt; returns &lt;tt&gt;null&lt;/tt&gt;, consequently any subsequent efforts to retrieve and import the package (as in &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;) will inevitably fail.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/27&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/27&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/deb3d2ae33c4f4678c8503091a9fffdbb141e569/src/main/java/org/apache/sling/distribution/agent/impl/SimpleDistributionAgentQueueProcessor.java#L123&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/deb3d2ae33c4f4678c8503091a9fffdbb141e569/src/main/java/org/apache/sling/distribution/agent/impl/SimpleDistributionAgentQueueProcessor.java#L123&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16987754" author="ashishc" created="Wed, 4 Dec 2019 11:28:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt;, I&apos;ve updated the PR &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; to address sonarqube and coverage concerns reported in the previous iteration.&lt;/p&gt;

&lt;p&gt;Please review and provide feedback at &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; and merge in case you feel this is fine. Thanks!&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/27&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/27&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16988843" author="marett" created="Thu, 5 Dec 2019 14:12:52 +0000"  >&lt;p&gt;Merged PR &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/27&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#27&lt;/a&gt;, thanks Ashish Chopra!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 46 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z095kg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8864] Report authentication errors immediately without looking at the response&apos;s body</title>
                <link>https://issues.apache.org/jira/browse/SLING-8864</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When the JIRA password is not passed correctly, the 401 errors should be reported in a more easy to understand format, since there&apos;s no need to parse the response body.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;docker run -it --env-file=./docker-env apache/sling-cli release create-new-jira-version -r 2160 -x INTERACTIVE
Found Version: Resource Resolver 1.6.16 (id=12346273, fixed issues=3).
Should version Resource Resolver 1.6.18 be created?
Yes (y)/No (n)? [Yes (y)]:
Failed executing command
java.io.IOException: Status line : HTTP/1.1 401 401. Failed parsing response as JSON ( java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 11 column 1 path $ )
	at org.apache.sling.cli.impl.jira.VersionClient.newException(VersionClient.java:235)
	at org.apache.sling.cli.impl.jira.VersionClient.create(VersionClient.java:156)
	at org.apache.sling.cli.impl.release.CreateJiraVersionCommand.run(CreateJiraVersionCommand.java:90)
	at picocli.CommandLine.executeUserObject(CommandLine.java:1687)
	at picocli.CommandLine.access$900(CommandLine.java:146)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:2059)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:2026)
	at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:1893)
	at picocli.CommandLine.execute(CommandLine.java:1822)
	at org.apache.sling.cli.impl.CommandProcessor.runCommand(CommandProcessor.java:110)
	at org.apache.sling.cli.impl.ExecutionTrigger.lambda$activate$0(ExecutionTrigger.java:33)
	at java.base/java.lang.Thread.run(Unknown Source)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13270936">SLING-8864</key>
            <summary>Report authentication errors immediately without looking at the response&apos;s body</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Nov 2019 09:59:20 +0000</created>
                <updated>Wed, 11 Dec 2019 13:25:26 +0000</updated>
                            <resolved>Wed, 11 Dec 2019 10:25:10 +0000</resolved>
                                                    <fixVersion>Committer CLI 1.0.0</fixVersion>
                                    <component>Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16983479" author="rombert" created="Wed, 27 Nov 2019 12:33:57 +0000"  >&lt;p&gt;This worked recently. Could you capture the full HTTP request? (feel free to scrub it of sensitive data and send it on a separate channel )&lt;/p&gt;</comment>
                            <comment id="16983508" author="radu.cotescu" created="Wed, 27 Nov 2019 13:30:37 +0000"  >&lt;p&gt;I&apos;ve just realised that this is part PEBKAC, part a not so helpful error message. I was still using my old Jira username and password, from before the migration to LDAP. Is there a way to detect an authentication failure and report it like that? We do have a 401 error code in the response, so I guess it shouldn&apos;t be that difficult.&lt;/p&gt;</comment>
                            <comment id="16983523" author="rombert" created="Wed, 27 Nov 2019 13:52:03 +0000"  >&lt;p&gt;I guess we should be able to check for anything &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. I assumed that all Jira responses are JSON, but what we can do is try to parse JSON, and if that fails return the response body itself. Can you add here what the response looks like, so I can add a test case + fix?&lt;/p&gt;</comment>
                            <comment id="16992728" author="radu.cotescu" created="Tue, 10 Dec 2019 16:45:38 +0000"  >&lt;p&gt;There&apos;s no test case we need to add. I think we should skip parsing the response body in case we encounter a 401 and just report it as such.&lt;/p&gt;</comment>
                            <comment id="16993411" author="radu.cotescu" created="Wed, 11 Dec 2019 10:25:10 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-committer-cli/commit/75b5594&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 75b5594&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 46 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0928g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8859] PubQueueCache keeps sending seeding messages when journal is not available</title>
                <link>https://issues.apache.org/jira/browse/SLING-8859</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When an instance comes up and there is a permanent authentication failure we see the situation that JournalAvailableChecker reports the journal as unavailable but the PubQueueCache continues to send seeding messages.&lt;/p&gt;

&lt;p&gt;The JournalAvailableChecker unregisters the JournalAvailable service. This should cause the PubQueueCacheService to deactivate and stop sending seeding messages.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13270695">SLING-8859</key>
            <summary>PubQueueCache keeps sending seeding messages when journal is not available</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cschneider">Christian Schneider</assignee>
                                    <reporter username="cschneider">Christian Schneider</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Nov 2019 11:07:43 +0000</created>
                <updated>Fri, 6 Dec 2019 12:47:28 +0000</updated>
                            <resolved>Tue, 26 Nov 2019 16:23:50 +0000</resolved>
                                    <version>Content Distribution Journal Core 0.1.4</version>
                                    <fixVersion>Content Distribution Journal Core 0.1.6</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 48 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z090qw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8858] Model Cache causes NPE in sling.models.impl 1.4.10+</title>
                <link>https://issues.apache.org/jira/browse/SLING-8858</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In AEM 6.4 ServicePack 6 we face NullPointerExceptions when using the Sling model cache that used to work before (in SP 3).&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Exception Stacktrace is:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
22.11.2019 15:29:22.525 *ERROR* [127.0.0.1 [1574432957337] GET /content/mypage.html HTTP/1.1] org.apache.sling.engine.impl.SlingRequestProcessorImpl service: Uncaught SlingException
org.apache.sling.scripting.sightly.SightlyException: org.apache.sling.api.SlingException: Cannot get DefaultSlingScript: org.apache.sling.api.SlingException: Cannot get DefaultSlingScript: org.apache.sling.api.SlingException: Cannot get DefaultSlingScript: org.apache.sling.api.SlingException: Cannot get DefaultSlingScript: org.apache.sling.api.SlingException: Cannot get DefaultSlingScript: org.apache.sling.api.SlingException: Cannot get DefaultSlingScript: Identifier xx.xxx.MyModel cannot be correctly instantiated by the Use API

[...]

Caused by: java.lang.NullPointerException: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
 at org.apache.sling.models.impl.ModelAdapterFactory.internalCreateModel(ModelAdapterFactory.java:407)
 at org.apache.sling.models.impl.ModelAdapterFactory.createModel(ModelAdapterFactory.java:314)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Problem seems to be related to introduction of WeakReferences in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-7586&quot; title=&quot;[Sling Models] Memory Leak in cached adapters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-7586&quot;&gt;&lt;del&gt;SLING-7586&lt;/del&gt;&lt;/a&gt;. Without knowing any details and being deeply into the Sling Model Caching implementation, I think a null-check is missing for &quot;SoftReference&quot; in Line 407:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
SoftReference&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; SoftReference = adaptableCache.get(requestedType);
ModelType cachedObject = (ModelType) SoftReference.get();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;That seems to cause caching to throw NPE for any not yet cached model.&lt;/p&gt;</description>
                <environment>Java SE 1.8.0_231</environment>
        <key id="13270111">SLING-8858</key>
            <summary>Model Cache causes NPE in sling.models.impl 1.4.10+</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="klcodanr">Dan Klco</assignee>
                                    <reporter username="frank@pauleickhoff.com">Frank Pauleickhoff</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Nov 2019 15:20:12 +0000</created>
                <updated>Mon, 19 Oct 2020 10:30:46 +0000</updated>
                            <resolved>Mon, 16 Mar 2020 12:34:50 +0000</resolved>
                                    <version>Models Impl 1.4.10</version>
                                    <fixVersion>Models Impl 1.4.14</fixVersion>
                                    <component>Sling Models</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="16980561" author="etugarev" created="Fri, 22 Nov 2019 22:54:16 +0000"  >&lt;p&gt;PR filled: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-models-impl/pull/18&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-models-impl/pull/18&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17060107" author="henry kuijpers" created="Mon, 16 Mar 2020 10:36:23 +0000"  >&lt;p&gt;Can someone please have a look at the provided PR?&lt;/p&gt;

&lt;p&gt;We&apos;re currently affected by this bug and I think the fix is quite straightforward.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;WDYT&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="17060120" author="cziegeler" created="Mon, 16 Mar 2020 11:02:52 +0000"  >&lt;p&gt;The provided patch looks good to me, thanks . I just applied it&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dklco&quot; class=&quot;user-hover&quot; rel=&quot;dklco&quot;&gt;dklco&lt;/a&gt; Could you please cross check?&lt;/p&gt;</comment>
                            <comment id="17060171" author="dklco" created="Mon, 16 Mar 2020 12:34:24 +0000"  >&lt;p&gt;Provided patch looks good to me as well. Moving to resolved.&#160;&lt;/p&gt;</comment>
                            <comment id="17060172" author="dklco" created="Mon, 16 Mar 2020 12:34:50 +0000"  >&lt;p&gt;Fixed in&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-models-impl/pull/18/commits/92c0a7289924f209332af675311c044338347b62&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-models-impl/pull/18/commits/92c0a7289924f209332af675311c044338347b62&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 32 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z08x54:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8857] Lower the log level for validation errors in org.apache.sling.xss.impl.XSSFilterImpl#runHrefValidation</title>
                <link>https://issues.apache.org/jira/browse/SLING-8857</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When falling back to simpler regular expressions to validate URLs, the current log level is &lt;tt&gt;WARN&lt;/tt&gt;, which is too high. This should be set to &lt;tt&gt;DEBUG&lt;/tt&gt; and a &lt;tt&gt;WARN&lt;/tt&gt; should be logged only if the URL cannot be validated.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13270097">SLING-8857</key>
            <summary>Lower the log level for validation errors in org.apache.sling.xss.impl.XSSFilterImpl#runHrefValidation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Nov 2019 14:22:33 +0000</created>
                <updated>Fri, 6 Dec 2019 12:06:50 +0000</updated>
                            <resolved>Fri, 22 Nov 2019 16:06:02 +0000</resolved>
                                    <version>XSS Protection API 2.1.16</version>
                                    <fixVersion>XSS Protection API 2.1.18</fixVersion>
                                    <component>XSS Protection API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16980275" author="radu.cotescu" created="Fri, 22 Nov 2019 16:06:02 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-xss/commit/4c6946c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 4c6946c&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13261752">SLING-8775</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 48 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z08x20:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8854] In-file and In-memory queue-providers for Forward Distribution report incorrect value for processing &quot;Attempts&quot;</title>
                <link>https://issues.apache.org/jira/browse/SLING-8854</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;tt&gt;ForwardDistributionAgentFactory&lt;/tt&gt; allows specifying &quot;In-Memory&quot; and &quot;In-File&quot; queue-providers &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;. Both these implementations are provided by &lt;tt&gt;SimpleDistributionQueue&lt;/tt&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;While responding to a queue-processing request, the head of the queue is fetched to create a &lt;tt&gt;DistributionQueueEntry&lt;/tt&gt;, which encapsulates a &lt;tt&gt;DistributionQueueItemStatus&lt;/tt&gt;. While retrieving the queue-head-entry, the number-of-attempts are also incremented by 1, implying &lt;em&gt;one more&lt;/em&gt; processing-attempt to have happened on a given queue-item. &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;The trouble arises from the fact that &lt;tt&gt;SimpleDistributionQueue#getHead&lt;/tt&gt; ends up being called from at least three other places:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Queue status Health Check &lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt;, which is a periodic job&lt;/li&gt;
	&lt;li&gt;UI (via &lt;tt&gt;ExtendedDistributionServiceResourceProvider&lt;/tt&gt;) &lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;Distribution Queue status MBean &lt;span class=&quot;error&quot;&gt;&amp;#91;5&amp;#93;&lt;/span&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Out of these, #1 is most troublesome - because of its periodic nature, the number of Attempts for a queue-item that&apos;s being processed (or, is blocked) will keep on increasing without corresponding dequeue-attempts.&lt;br/&gt;
Due to #2, everytime the queue status is delivered to the UI, the attempt would again increase. Similar would be the case of MBean invocations.&lt;/p&gt;

&lt;p&gt;This needs to be addressed. Notably, &quot;Sling Jobs&quot; based queue doesn&apos;t suffer from this issue because it relies on retry-counts as maintained by Sling Job Execution Engine.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/deb3d2ae33c4f4678c8503091a9fffdbb141e569/src/main/java/org/apache/sling/distribution/agent/impl/ForwardDistributionAgentFactory.java#L258-L262&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/deb3d2ae33c4f4678c8503091a9fffdbb141e569/src/main/java/org/apache/sling/distribution/agent/impl/ForwardDistributionAgentFactory.java#L258-L262&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/deb3d2ae33c4f4678c8503091a9fffdbb141e569/src/main/java/org/apache/sling/distribution/queue/impl/simple/SimpleDistributionQueue.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/deb3d2ae33c4f4678c8503091a9fffdbb141e569/src/main/java/org/apache/sling/distribution/queue/impl/simple/SimpleDistributionQueue.java&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/deb3d2ae33c4f4678c8503091a9fffdbb141e569/src/main/java/org/apache/sling/distribution/queue/impl/simple/SimpleDistributionQueue.java#L110-L112&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/deb3d2ae33c4f4678c8503091a9fffdbb141e569/src/main/java/org/apache/sling/distribution/queue/impl/simple/SimpleDistributionQueue.java#L110-L112&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/deb3d2ae33c4f4678c8503091a9fffdbb141e569/src/main/java/org/apache/sling/distribution/monitor/DistributionQueueHealthCheck.java#L113&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/deb3d2ae33c4f4678c8503091a9fffdbb141e569/src/main/java/org/apache/sling/distribution/monitor/DistributionQueueHealthCheck.java#L113&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/deb3d2ae33c4f4678c8503091a9fffdbb141e569/src/main/java/org/apache/sling/distribution/resources/impl/ExtendedDistributionServiceResourceProvider.java#L158&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/deb3d2ae33c4f4678c8503091a9fffdbb141e569/src/main/java/org/apache/sling/distribution/resources/impl/ExtendedDistributionServiceResourceProvider.java#L158&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;5&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/deb3d2ae33c4f4678c8503091a9fffdbb141e569/src/main/java/org/apache/sling/distribution/monitor/impl/DistributionQueueMBeanImpl.java#L62-L91&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/deb3d2ae33c4f4678c8503091a9fffdbb141e569/src/main/java/org/apache/sling/distribution/monitor/impl/DistributionQueueMBeanImpl.java#L62-L91&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13270067">SLING-8854</key>
            <summary>In-file and In-memory queue-providers for Forward Distribution report incorrect value for processing &quot;Attempts&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="ashishc">Ashish Chopra</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Nov 2019 10:20:49 +0000</created>
                <updated>Sun, 16 Feb 2020 21:54:46 +0000</updated>
                            <resolved>Fri, 20 Dec 2019 12:18:06 +0000</resolved>
                                    <version>Content Distribution Core 0.4.0</version>
                                    <fixVersion>Content Distribution Core 0.4.2</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4200">1h 10m</timespent>
                                <comments>
                            <comment id="16980102" author="ashishc" created="Fri, 22 Nov 2019 12:20:25 +0000"  >&lt;p&gt;One way to address this would be to add a capability for recording processing attempts in the &lt;tt&gt;DistributionQueue&lt;/tt&gt; SPI.&lt;br/&gt;
Since it is entirely up to the implementation of the &lt;tt&gt;DistributionQueue&lt;/tt&gt; to decide what to do when processing attempt is recorded, a &lt;tt&gt;default&lt;/tt&gt; implementation of a no-op can be added to the SPI so that existing clients don&apos;t break.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Assumption:&lt;/em&gt; Java  &amp;lt; 8 are not expected to be supported anymore (esp. given Oracle itself has dropped the ball on it).&lt;/p&gt;

&lt;p&gt;Patch at  &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12986518/12986518_0001-SLING-8854-In-file-and-In-memory-queue-providers-for.patch&quot; title=&quot;0001-SLING-8854-In-file-and-In-memory-queue-providers-for.patch attached to SLING-8854&quot;&gt;0001-SLING-8854-In-file-and-In-memory-queue-providers-for.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; illustrates the approach by:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;adding &lt;tt&gt;DistributionQueue.recordProcessingAttempt&lt;/tt&gt; method&lt;/li&gt;
	&lt;li&gt;implementing &lt;tt&gt;SimpleDistributionQueue.recordProcessingAttempt&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;updating &lt;tt&gt;SimpleDistributionQueueProcessor.run&lt;/tt&gt; to call the added method while dequeing the item from queue-head.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If the approach is deemed acceptable, I will work on adding tests and raising a PR.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt;, would be great if you can provide your initial feedback on this.&lt;/p&gt;</comment>
                            <comment id="16980314" author="marett" created="Fri, 22 Nov 2019 16:49:28 +0000"  >&lt;blockquote&gt;&lt;p&gt;This needs to be addressed.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I agree, thanks for spotting this. The approach you suggested generally makes sense to me. We may be able to do it without extending the &lt;tt&gt;DistributionQueue&lt;/tt&gt; SPI.&lt;/p&gt;

&lt;p&gt;How about keeping the status map in the &lt;tt&gt;SimpleDistributionQueueProvider&lt;/tt&gt; and pass the status map to &lt;tt&gt;SimpleDistributionQueue&lt;/tt&gt;&#160;and &lt;tt&gt;SimpleDistributionQueueProcessor&lt;/tt&gt; ? The management of status would remain an implementation detail of the simple implementation.&lt;/p&gt;</comment>
                            <comment id="16981430" author="ashishc" created="Mon, 25 Nov 2019 10:45:38 +0000"  >&lt;blockquote&gt;&lt;p&gt;We may be able to do it without extending the &lt;tt&gt;DistributionQueue&lt;/tt&gt; SPI. How about keeping the status map in the &lt;tt&gt;SimpleDistributionQueueProvider&lt;/tt&gt; and pass the status map to &lt;tt&gt;SimpleDistributionQueue&lt;/tt&gt; and &lt;tt&gt;SimpleDistributionQueueProcessor&lt;/tt&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Thanks for reviewing the approach &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt;!&lt;br/&gt;
I agree that the mechanism would work for &lt;em&gt;current&lt;/em&gt; implementation of &lt;tt&gt;SimpleDistributionQueue&lt;/tt&gt; - currently, the status is stored in a transient data-structure which isn&apos;t dependent on &lt;tt&gt;DistributionQueue&lt;/tt&gt;&apos;s implementation.&lt;/p&gt;

&lt;p&gt;However, there may be a scenario where updating an item-dequeue-status depends on queue-implementation (e.g., incrementing a column in the table-entry, if the queue is implemented as a db-table). In such a case, the implementation detail of the queue will have to be &apos;exposed&apos; to a &lt;tt&gt;DistributionQueueProcessor&lt;/tt&gt; so it can update the status. (the same detail will need to be exposed to &lt;tt&gt;DistributionQueueProvider&lt;/tt&gt; as well, but exposing that to a queue-provider may be OK).&lt;/p&gt;

&lt;p&gt;I think the trouble arises from the fact that (unlike typical queue interfaces), &lt;tt&gt;DistributionQueue&lt;/tt&gt; doesn&apos;t have a notion of distinct operations for &quot;peek&quot; and &quot;dequeue&quot;. Instead, it has a &lt;tt&gt;getHead&lt;/tt&gt; operation, which (based on the intent of the caller) may not always map to &quot;processing a queue entry&quot;.&lt;br/&gt;
IMHO either &lt;tt&gt;DistribitionQueue&lt;/tt&gt; should provide distinct &quot;peek&quot;/&quot;dequeue&quot; operations, or have a way for the caller to express the &quot;intent&quot; (i.e., what it intends to do with the item obtained from the queue&apos;s head).&lt;/p&gt;

&lt;p&gt;In my proposal, I went with the latter since that has the least chances of breaking existing implementations. Do let me know your views on this.&lt;/p&gt;</comment>
                            <comment id="16981477" author="ashishc" created="Mon, 25 Nov 2019 11:43:19 +0000"  >&lt;p&gt;PR at &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/22&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/22&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16981515" author="marett" created="Mon, 25 Nov 2019 12:37:26 +0000"  >&lt;blockquote&gt;&lt;p&gt;However, there may be a scenario where updating an item-dequeue-status depends on queue-implementation (e.g., incrementing a column in the table-entry, if the queue is implemented as a db-table)&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This scenario is hypothetical but even then&#160;you could provide your own implementation.&lt;/p&gt;

&lt;p&gt;The issue is what you identified in the first place, the retries count is incremented as a side effect of a getHead operation which does not make sense.&lt;/p&gt;

&lt;p&gt;Could you give a try with the implementation that does not extend the SPI ? We could extend the SPI when really needed (concrete use case).&lt;/p&gt;</comment>
                            <comment id="16981545" author="ashishc" created="Mon, 25 Nov 2019 13:16:25 +0000"  >&lt;blockquote&gt;&lt;p&gt;The issue is what you identified in the first place, the retries count is incremented as a side effect of a getHead operation which does not make sense.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I concur with this understanding.&lt;br/&gt;
That&apos;s why I wrote that &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8854?focusedCommentId=16981430&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16981430&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;conflating &lt;tt&gt;.getHead&lt;/tt&gt; with attempts to process the queue is problematic&lt;/a&gt;, and it needs to be broken down to two separate operations.&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;One way to make that happen is what I proposed in the &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/22&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;patch/PR&lt;/a&gt; - adding a new method to the queue so that the processors can indicate there was a queue processing attempt&lt;/li&gt;
	&lt;li&gt;Another would be to keep the behavior of &lt;tt&gt;.getHead&lt;/tt&gt; as is, and add a &lt;tt&gt;.peek&lt;/tt&gt; method to the &lt;tt&gt;DistributionQueue&lt;/tt&gt; SPI which can be called by &quot;non-queue-processing&quot; functions in the system.&lt;/li&gt;
&lt;/ol&gt;


&lt;blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;there may be a scenario where updating an item-dequeue-status depends on queue-implementation (e.g., incrementing a column in the table-entry, if the queue is implemented as a db-table)&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This scenario is hypothetical but even then you could provide your own implementation.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It is not hypothetical - that&apos;s pretty much what &lt;tt&gt;ResourceQueue&lt;/tt&gt; would have to deal with if it had a processor attached to it (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8853&quot; title=&quot;Develop an Active variant of ResourceQueue and make it available as possible queue.provider for ForwardDistributionAgentFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8853&quot;&gt;&lt;del&gt;SLING-8853&lt;/del&gt;&lt;/a&gt;).&lt;br/&gt;
To get a consistent queue-entry-process-attempt-count across all instances of the cluster, one way could be to persist the count alongside the entry. A &lt;tt&gt;DistributionQueueProcessor&lt;/tt&gt; should only tell the queue that there was a processing attempt made. Since persistence to JCR is an implementation detail of &lt;tt&gt;ResourceQueue&lt;/tt&gt;, it is &lt;tt&gt;ResourceQueue&lt;/tt&gt; itself which should be able to decide how to record the processing-attempts. That&apos;s one of the reasons why I&apos;m not quite on board with making a &lt;tt&gt;DistributionQueueProcessor&lt;/tt&gt; update a (transient?) data-structure on the Queue&apos;s behalf.&lt;/p&gt;

&lt;p&gt;In general, the Queue implementation should be the best judge to decide whether the Queue is expected to be cluster-aware or not and what do they want to do to get a cluster-consistent view for processing-attempts. A queue-processor/queue-provider shouldn&apos;t impose that on the queue-impl.&lt;/p&gt;</comment>
                            <comment id="16982155" author="ashishc" created="Tue, 26 Nov 2019 06:15:25 +0000"  >&lt;p&gt;&lt;em&gt;making note of an off-JIRA discussion with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt; yesterday&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;tl;dr:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt; believes &lt;b&gt;it is OK to couple implementations of a &lt;tt&gt;DistributionQueue&lt;/tt&gt; and &lt;tt&gt;DistributionQueueProcessor&lt;/tt&gt;&lt;/b&gt;. &lt;tt&gt;DistributionQueue&lt;/tt&gt; impls should be dumb/stupid and shouldn&apos;t be made aware of processing-attempts. It should be the responsibility of &lt;tt&gt;DistributionQueueProcessor&lt;/tt&gt; (aided by &lt;tt&gt;DistributionQueueProvider&lt;/tt&gt;) implementations to track processing-attempts. &lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashishc&quot; class=&quot;user-hover&quot; rel=&quot;ashishc&quot;&gt;ashishc&lt;/a&gt; believes that to maximise code-resuse and follow DRY, &lt;b&gt;it is &lt;em&gt;not&lt;/em&gt; OK to couple implementations of a &lt;tt&gt;DistributionQueue&lt;/tt&gt; and &lt;tt&gt;DistributionQueueProcessor&lt;/tt&gt;&lt;/b&gt;. It is totally up to the queue implementation to decide &lt;em&gt;how&lt;/em&gt; (if at all) the processing-attempts should be recorded. To achieve that &lt;em&gt;without&lt;/em&gt; coupling implementations of &lt;tt&gt;DistributionQueueProcessor&lt;/tt&gt; with those of &lt;tt&gt;DistributionQueue&lt;/tt&gt; (and &lt;tt&gt;DistributionQueueProvider&lt;/tt&gt;), a mechanism for &lt;tt&gt;DistributionQueueProcessor&lt;/tt&gt; to communicate processing-attempts to the &lt;tt&gt;DistributionQueue&lt;/tt&gt; is required - this would mean updating &lt;tt&gt;DistributionQueue&lt;/tt&gt; SPI and picking one of the two alternatives &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8854?focusedCommentId=16981545&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16981545&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;presented here&lt;/a&gt;.&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;Tim&apos;s PoV:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We should keep the implementation for recording processing attempts private, unless there&apos;s a severe limitation that makes it impossible.&lt;br/&gt;
The fact that &lt;tt&gt;getHead&lt;/tt&gt; increases the processing-attempt-count is a bug - keeping the retry count in memory, or writing it in the repo is a definite option, but it need not be exposed at the Queue SPI level. It can be kept entirely within in implementation without exposing a method in the &lt;tt&gt;DistributionQueue&lt;/tt&gt; SPI.&lt;/p&gt;

&lt;p&gt;The idea to let the queue count the number of processing-attempts (and persist it) is totally against the principle of keeping the Queues dumb/stupid.&lt;br/&gt;
Taking the case of existing Sling Job based queue implementation as an illustration, the &lt;tt&gt;.getHead&lt;/tt&gt; invocation is side-effect free (i.e., no behind-the-scenes increment of processing-attempts-counter). It is entirely up to the Sling Queue implementation to record the counts whichever way it deems fit.&lt;br/&gt;
For the &quot;In-memory&quot; and &quot;In-File&quot; based queues, perhaps the addition of a new component could have achieved the same effect, but likely due to paucity of time the &lt;tt&gt;.getHead&lt;/tt&gt; also (incorrectly) updated the processing-attempt.&lt;/p&gt;

&lt;p&gt;The suggestion here would be to make queue-implementations write its own processor (or re-work the existing processor) &lt;em&gt;if&lt;/em&gt; they need such addition capabilities (to account for processing-attempts) such that common parts and specific parts are kept apart. Even when there are two parts to an implementation, the interface between the two can be kept internal.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ashish&apos;s PoV:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Processing-status of a queue-head can&apos;t be kept in-memory always. Queue implementations might be interested in generating a cluster-consistent view of processing-attempts made on a queue-head. Since persisting the processing-attempt would involve working through the queue-implementation, queue-impl is the most suitable place to record dequeue attempts.&lt;/p&gt;

&lt;p&gt;On the intent of keeping the queues unaware of processing attempts, it is noteworthy that &lt;tt&gt;DistributionQueue&lt;/tt&gt; impls need to return a &lt;tt&gt;DistributionQueueEntry&lt;/tt&gt; via a &lt;tt&gt;.getEntry&lt;/tt&gt; method. &lt;tt&gt;DistributionQueueEntry&lt;/tt&gt; encapsulates a &lt;tt&gt;DistributionQueueItemStatus&lt;/tt&gt;, which has a method named &lt;tt&gt;.getAttempts&lt;/tt&gt; to return the number of processing attempts made against this &lt;tt&gt;DistributionQueueEntry&lt;/tt&gt;.&lt;br/&gt;
Since &lt;tt&gt;DistributionQueue&lt;/tt&gt; impls are &lt;em&gt;already&lt;/em&gt; expected to know about statuses of their entries (processing-attempts is one of the items of the status), it makes sense to let the &lt;tt&gt;DistributionQueue&lt;/tt&gt; impls get an intimation about a processing-attempt made by a &lt;tt&gt;DistributionQueueProcessor&lt;/tt&gt; and dictate what to do with it.&lt;/p&gt;

&lt;p&gt;The trouble arises from the fact that (unlike typical queue interfaces), &lt;tt&gt;DistributionQueue&lt;/tt&gt; doesn&apos;t have a notion of distinct operations for &quot;peek&quot; and &quot;dequeue&quot;. Instead, it has a &lt;tt&gt;.getHead&lt;/tt&gt; operation, which (based on the intent of the caller) may not always map to &quot;processing a queue entry&quot;. There needs to be a notion of reading the head of the queue without incrementing the attempt-count.&lt;/p&gt;

&lt;p&gt;For Sling Job based queues, this happens by accident since the Sling engine keeps the count of job-execution-attempts.&lt;br/&gt;
For everything else, the callers of &lt;tt&gt;.getHead&lt;/tt&gt; must be able to indicate the intent (i.e., do they intend to process the entry, or intend to simply introspect the queue-head.&lt;/p&gt;

&lt;p&gt;To enable that, we need a &lt;tt&gt;DistributionQueue.peek&lt;/tt&gt;, which stuff like Health-Check, MBeans, UI, etc. can call to get info about the queue-head without calling &lt;tt&gt;.getHead&lt;/tt&gt;, or we need &lt;tt&gt;DistributionQueue.recordProcessingAttempt&lt;/tt&gt;, which the &lt;tt&gt;DistributionQueueProcessor&lt;/tt&gt; impls can explicitly call, making the queue aware of a processing-attempt &lt;em&gt;without&lt;/em&gt; expecting the &lt;tt&gt;DistributionQueueProcessor&lt;/tt&gt; to know the implementation details of a &lt;tt&gt;DistributionQueue&lt;/tt&gt;. Expecting that there should a 1:1 mapping between &lt;tt&gt;DistributionQueue&lt;/tt&gt; and &lt;tt&gt;DistributionQueueProcessor&lt;/tt&gt;, and that &lt;tt&gt;DistributionQueueProcessor&lt;/tt&gt; should know about the implementation-details of &lt;tt&gt;DistributionQueue&lt;/tt&gt; severely limits the capabilities of the interfaces in question.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="16982396" author="ashishc" created="Tue, 26 Nov 2019 11:39:47 +0000"  >&lt;p&gt;&lt;em&gt;(in continuation with discussion summarized &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8854?focusedCommentId=16982155&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16982155&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;here&lt;/a&gt;)&lt;/em&gt;:&lt;br/&gt;
 hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt;, as you had asked for off-JIRA, here are the PRs for all three approaches possible here:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;@ashishc&apos;s approach #1 (described &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8854?focusedCommentId=16981545&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16981545&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;here&lt;/a&gt;): add a &lt;tt&gt;.recordProcessingAttempt&lt;/tt&gt; method to &lt;tt&gt;DistributionQueue&lt;/tt&gt; SPI that &lt;tt&gt;DistributionQueueProcessor&lt;/tt&gt; impls are expected to invoke once they dequeue the queue-head with the intent of processing it
	&lt;ul&gt;
		&lt;li&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/22&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/22&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;@ashishc&apos;s approach #2 (described &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8854?focusedCommentId=16981545&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16981545&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;here&lt;/a&gt;): add a &lt;tt&gt;.peek&lt;/tt&gt; method to &lt;tt&gt;DistributionQueue&lt;/tt&gt; SPI. &lt;tt&gt;DistributionQueue&lt;/tt&gt; impls are not expected to consider this method&apos;s invocation as a processing attempt of the queue-head - this method is expected to be invoked by functions which need to introspect the Queue (Health Checks, MBeans, UI, etc.)
	&lt;ul&gt;
		&lt;li&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/25&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/25&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;@marett&apos;s approach (described &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8854?focusedCommentId=16980314&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16980314&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;here&lt;/a&gt;): impls of &lt;tt&gt;DistributionQueueProvider&lt;/tt&gt;, &lt;tt&gt;DistributionQueue&lt;/tt&gt; and &lt;tt&gt;DistributionQueueProcessors&lt;/tt&gt; are expected to manage the state by sharing implementation details amongst them.
	&lt;ul&gt;
		&lt;li&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/26&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/26&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16987745" author="ashishc" created="Wed, 4 Dec 2019 11:17:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt;, comments on &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8743&quot; title=&quot;Move DistributionQueueBuilderFactory class from impl to api surface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8743&quot;&gt;&lt;del&gt;SLING-8743&lt;/del&gt;&lt;/a&gt; indicate that separating the implementation of &lt;tt&gt;DistributionQueueProvider&lt;/tt&gt; and &lt;tt&gt;DistributionQueue&lt;/tt&gt; with that of a &lt;tt&gt;DistributionQueueProcessor&lt;/tt&gt; is the correct semantic.&lt;br/&gt;
(the implementation of the queue is expected to reside in one bundle - such as &lt;tt&gt;sling.distribution.core&lt;/tt&gt;, whereas its processing is expected to exist in another bundle).&lt;/p&gt;

&lt;p&gt;Given above, we shouldn&apos;t think of the queue-processor to be coupled with queue and queue-providers and thus can&apos;t expect the queue-processors to work in cohorts with queue and queue-providers to maintain the processing attempts.&lt;/p&gt;

&lt;p&gt;IMHO the resolution of this issue would be to:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;either change the behaviour of &lt;tt&gt;DistributionQueue.getHead&lt;/tt&gt; such that it doesn&apos;t increment the processing count automatically and add a new method to the SPI which &lt;tt&gt;DistributionQueueProcessor&lt;/tt&gt; can invoke to let the queue capture a processing attempt (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8854?focusedCommentId=16982396&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16982396&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;approach #1 here&lt;/a&gt;)
	&lt;ul&gt;
		&lt;li&gt;fwiw, this also aligns with the opinion you expressed that &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8854?focusedCommentId=16982155&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16982155&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;&lt;tt&gt;DistributionQueue.getHead&lt;/tt&gt; has no business incrementing processing count and should be side-effect free&lt;/a&gt;.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;or add a new &lt;tt&gt;DistributionQueue.peek&lt;/tt&gt; for introspection, expected to be used by components interested in inspecting and reporting queue-statuses (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8854?focusedCommentId=16982396&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16982396&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;approach #2 here&lt;/a&gt;)
	&lt;ul&gt;
		&lt;li&gt;this keeps the behaviour of &lt;tt&gt;DistributionQueue.getHead&lt;/tt&gt; intact - if required for backward-compatibility reasons - but IMHO is slightly more confusing than the first option.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;IMVHO approach which expects queue-provider, queue and queue-processors is too much coupling and severely reduces the fluency of the API.&lt;/p&gt;

&lt;p&gt;Looking forward to your feedback on the alternative PRs &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8854?focusedCommentId=16982396&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16982396&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;I shared here&lt;/a&gt;. Thanks!&lt;/p&gt;</comment>
                            <comment id="17000850" author="marett" created="Fri, 20 Dec 2019 12:17:29 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashishc&quot; class=&quot;user-hover&quot; rel=&quot;ashishc&quot;&gt;ashishc&lt;/a&gt;! I have merged &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/26&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#26&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13269781">SLING-8853</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13275758">SLING-8945</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12986518" name="0001-SLING-8854-In-file-and-In-memory-queue-providers-for.patch" size="4568" author="ashishc" created="Fri, 22 Nov 2019 12:13:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z08wvc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8848] Wrong calculation for copy/move whether single provider can be used</title>
                <link>https://issues.apache.org/jira/browse/SLING-8848</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When a copy/move is performed, the resource resolver checks whether a single provider can perform the copy/move or if sub providers exist (or source and dest have a different provider).&lt;br/&gt;
The checking for sub providers is currently wrong and leads to a copy/move being done &quot;manually&quot; (resource by resource)&lt;br/&gt;
Credits to Christian Keller for finding this and submitting a patch&lt;/p&gt;</description>
                <environment></environment>
        <key id="13268482">SLING-8848</key>
            <summary>Wrong calculation for copy/move whether single provider can be used</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Nov 2019 06:23:07 +0000</created>
                <updated>Wed, 27 Nov 2019 09:55:35 +0000</updated>
                            <resolved>Fri, 15 Nov 2019 06:25:35 +0000</resolved>
                                    <version>Resource Resolver 1.6.14</version>
                                    <fixVersion>Resource Resolver 1.6.16</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16974845" author="cziegeler" created="Fri, 15 Nov 2019 06:25:35 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/c571ac6a9feea403e65d1bb5f68ab6638d20009b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/c571ac6a9feea403e65d1bb5f68ab6638d20009b&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;And added more tests that verify the behaviour - the previous tests for copy/move did not detect the wrong calculation&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z08n3k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8846] Successfully handling clear command should be logged</title>
                <link>https://issues.apache.org/jira/browse/SLING-8846</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We don&apos;t yet log successful processing of clear commands. We should log a statement at INFO level &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-journal/blob/0b977dbd4782291c14f4173e76ef1451568100a2/src/main/java/org/apache/sling/distribution/journal/impl/subscriber/DistributionSubscriber.java#L712&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13268356">SLING-8846</key>
            <summary>Successfully handling clear command should be logged</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="marett">Timothee Maret</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Nov 2019 15:56:57 +0000</created>
                <updated>Fri, 6 Dec 2019 12:47:27 +0000</updated>
                            <resolved>Thu, 14 Nov 2019 16:15:28 +0000</resolved>
                                    <version>Content Distribution Journal Core 0.1.2</version>
                                    <fixVersion>Content Distribution Journal Core 0.1.6</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16974396" author="marett" created="Thu, 14 Nov 2019 16:15:21 +0000"  >&lt;p&gt;Done in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-journal/commit/dc8e24e5cdd45c72865d14b70e0977cd1f43e3af&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dc8e24e5cdd45c72865d14b70e0977cd1f43e3af&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z08mbk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8845] URL query parameter values are double-escaped for cases where namespace mangling has to be performed</title>
                <link>https://issues.apache.org/jira/browse/SLING-8845</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;URL query parameter values are double-escaped for cases where namespace mangling has to be performed:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
xssAPI.getValidHref(&lt;span class=&quot;code-quote&quot;&gt;&quot;/path/to/page?key=%25text&quot;&lt;/span&gt;); &lt;span class=&quot;code-comment&quot;&gt;// -&amp;gt; /path/to/page?key=%25text (which is correct)
&lt;/span&gt;
xssAPI.getValidHref(&lt;span class=&quot;code-quote&quot;&gt;&quot;/path/to/page/jcr:content/par?key=%25text&quot;&lt;/span&gt;); &lt;span class=&quot;code-comment&quot;&gt;// -&amp;gt; /path/to/page/_jcr_content/par?key=%2525text (which is wrong)&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13268342">SLING-8845</key>
            <summary>URL query parameter values are double-escaped for cases where namespace mangling has to be performed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Nov 2019 15:03:20 +0000</created>
                <updated>Fri, 22 Nov 2019 13:55:41 +0000</updated>
                            <resolved>Thu, 14 Nov 2019 15:28:31 +0000</resolved>
                                    <version>XSS Protection API 2.0.8</version>
                                    <fixVersion>XSS Protection API 2.1.16</fixVersion>
                                    <component>XSS Protection API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16974363" author="radu.cotescu" created="Thu, 14 Nov 2019 15:28:32 +0000"  >&lt;p&gt;Fixed in&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-xss/commit/9927ab0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 9927ab0&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z08m8g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8842] CP Converter creates packaging &quot;slingfeature&quot; instead of &quot;slingosgifeature&quot;</title>
                <link>https://issues.apache.org/jira/browse/SLING-8842</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I used the&#160;sling-feature-converter-maven-plugin to create features.json files from the sling-starter&#160;provisioning txt files.&lt;br/&gt;
The converter creates feature files with packaging&#160;&#8222;slingfeature&#8220; but installes them using&#160;&#8222;slingosgifeature&#8220;.&lt;br/&gt;
&#160;&lt;br/&gt;
Then I use the&#160;slingfeature-maven-plugin to create a&#160;&#8222;full&#8220; version from the files created above. The -full file has an &#8222;assembled-features&#8220;&#160;section containing the single feature files with packaging&#160;&#8222;slingfeature&#8220;, itself on the other hand declares a packaging&#160;&#8222;slingosgifeature&#8220;.&lt;br/&gt;
&#160;&lt;br/&gt;
Now I try to use the -full feature&#160;json as prototype for my own feature.json.&lt;br/&gt;
When I now use slingfeature-maven-plugin to assemble the artifacts, it tries to find them&#160;with packaging&#160;&#8222;slingfeature&#8220; (as declared in the assembled-section) &#8211; but can&apos;t find them as they have been installed as&#160;&#8222;slingosgifeature&#8220;.&lt;br/&gt;
&#160;&lt;br/&gt;
Could it be, that this is coming from FeatureJSONWriter Line 519:&lt;br/&gt;
&#160;&lt;br/&gt;
// When providing a classifier a type must be provided and so we set it to &apos;slingfeature&apos;&lt;br/&gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;idString =&lt;br/&gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;groupId + &quot;/&quot; +&lt;br/&gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;(nameOption.isEmpty() ? name : nameOption) + &quot;/&quot; +&lt;br/&gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;version +&lt;br/&gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;(nameOption.isEmpty() ? &quot;&quot; :&lt;br/&gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;/slingfeature/&quot; + name );&lt;/p&gt;</description>
                <environment></environment>
        <key id="13267937">SLING-8842</key>
            <summary>CP Converter creates packaging &quot;slingfeature&quot; instead of &quot;slingosgifeature&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="mikagoeckel">Mika Goeckel</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Nov 2019 08:03:18 +0000</created>
                <updated>Thu, 9 Apr 2020 11:39:25 +0000</updated>
                            <resolved>Fri, 20 Mar 2020 06:39:30 +0000</resolved>
                                    <version>Feature Model Converter 1.0.8</version>
                                    <fixVersion>Feature Model Converter 1.0.14</fixVersion>
                                    <component>Feature Model</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16973164" author="cziegeler" created="Wed, 13 Nov 2019 09:22:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mikagoeckel&quot; class=&quot;user-hover&quot; rel=&quot;mikagoeckel&quot;&gt;mikagoeckel&lt;/a&gt; I can&apos;t find this line in&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-io/blob/master/src/main/java/org/apache/sling/feature/io/json/FeatureJSONWriter.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-io/blob/master/src/main/java/org/apache/sling/feature/io/json/FeatureJSONWriter.java&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16973168" author="cziegeler" created="Wed, 13 Nov 2019 09:27:10 +0000"  >&lt;p&gt;I assume it is this one:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-modelconverter/blob/master/src/main/java/org/apache/sling/feature/modelconverter/ProvisioningToFeature.java#L514&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-modelconverter/blob/master/src/main/java/org/apache/sling/feature/modelconverter/ProvisioningToFeature.java#L514&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;There are more places in that file where &quot;slingfeature&quot; is used; probably all of them need to be changed to &quot;slingosgifeature&quot;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 50 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z08jqg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8826] RequestProgressTrackerLogFilter compares nanoseconds request duration to msec config min/max</title>
                <link>https://issues.apache.org/jira/browse/SLING-8826</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;While trying to configure the&#160;RequestProgressTrackerLogFilter to track request that took longer than 2000 ms , I found out it was tracking everything still.&lt;/p&gt;

&lt;p&gt;So I had a closer look at the code, and see that the duration returned by &quot;rpt&quot; variable is in nanoseconds (0), while the&#160;minDurationMs is set in milliseconds.&lt;/p&gt;

&lt;p&gt;Thus it explain it always tracked all.&lt;/p&gt;

&lt;p&gt;The duration value need to be converted to the milliseconds before executing the line (1)&lt;/p&gt;

&lt;p&gt;(0)&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/blob/master/src/main/java/org/apache/sling/engine/impl/debug/RequestProgressTrackerLogFilter.java#L168&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/blob/master/src/main/java/org/apache/sling/engine/impl/debug/RequestProgressTrackerLogFilter.java#L168&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(1)&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/blob/master/src/main/java/org/apache/sling/engine/impl/debug/RequestProgressTrackerLogFilter.java#L169&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/blob/master/src/main/java/org/apache/sling/engine/impl/debug/RequestProgressTrackerLogFilter.java#L169&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13266114">SLING-8826</key>
            <summary>RequestProgressTrackerLogFilter compares nanoseconds request duration to msec config min/max</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="petitbear68">Thierry Yg&#233;</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Nov 2019 13:02:16 +0000</created>
                <updated>Mon, 18 Nov 2019 14:10:31 +0000</updated>
                            <resolved>Mon, 4 Nov 2019 14:15:09 +0000</resolved>
                                    <version>Engine 2.6.20</version>
                                    <fixVersion>Engine 2.6.22</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16966688" author="bdelacretaz" created="Mon, 4 Nov 2019 14:15:09 +0000"  >&lt;p&gt;Thanks for reporting!&lt;/p&gt;

&lt;p&gt;Fixed with the following commits:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/commit/b16d6599&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/commit/b16d6599&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/commit/8afe797a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/commit/8afe797a&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 51 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z088hc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8825] Strings and Boxed types should be compared using &quot;equals()&quot;</title>
                <link>https://issues.apache.org/jira/browse/SLING-8825</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There are a number of Sonarqube violations relating to comparisons of Boxed types and Strings using the &quot;==&quot; operator rather than &quot;.equals()&quot;.&lt;/p&gt;

&lt;p&gt;Sonarcloud analysis:&#160;&lt;a href=&quot;https://sonarcloud.io/organizations/apache/issues?resolved=false&amp;amp;rules=squid%3AS4973&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sonarcloud.io/organizations/apache/issues?resolved=false&amp;amp;rules=squid%3AS4973&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Violated rule: &lt;a href=&quot;https://rules.sonarsource.com/java/RSPEC-4973&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://rules.sonarsource.com/java/RSPEC-4973&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Are pull requests for fixing these welcome?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13266094">SLING-8825</key>
            <summary>Strings and Boxed types should be compared using &quot;equals()&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="HarisAdzemovic">Haris Adzemovic</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Nov 2019 11:13:51 +0000</created>
                <updated>Wed, 6 Nov 2019 09:59:08 +0000</updated>
                            <resolved>Wed, 6 Nov 2019 09:59:08 +0000</resolved>
                                                    <fixVersion>Discovery Impl 1.2.14</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16966601" author="harisadzemovic" created="Mon, 4 Nov 2019 12:08:09 +0000"  >&lt;p&gt;I&apos;ve made one PR to show what a fix would look like:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-discovery-impl/pull/1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-discovery-impl/pull/1&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16968233" author="rombert" created="Wed, 6 Nov 2019 09:59:08 +0000"  >&lt;p&gt;PR applied, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=HarisAdzemovic&quot; class=&quot;user-hover&quot; rel=&quot;HarisAdzemovic&quot;&gt;HarisAdzemovic&lt;/a&gt; for your contribution!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://github.com/apache/sling-org-apache-sling-discovery-impl/pull/1]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 51 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z088cw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8815] [API Regions] Prevent from resolving to customer-provided bundles</title>
                <link>https://issues.apache.org/jira/browse/SLING-8815</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There is the case where a customer provides a different version of a bundle also provided by platform, preventing the system from resolving to customer-provided bundles is not yet implemented.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13265303">SLING-8815</key>
            <summary>[API Regions] Prevent from resolving to customer-provided bundles</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="simonetripodi">Simone Tripodi</assignee>
                                    <reporter username="simonetripodi">Simone Tripodi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Oct 2019 13:28:27 +0000</created>
                <updated>Thu, 9 Jan 2020 15:25:19 +0000</updated>
                            <resolved>Thu, 7 Nov 2019 14:59:30 +0000</resolved>
                                    <version>Feature Model API Regions Runtime Fragment 1.0.2</version>
                                    <fixVersion>Feature Model API Regions Runtime Fragment 1.0.4</fixVersion>
                                    <component>Feature Model</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16969322" author="simonetripodi" created="Thu, 7 Nov 2019 14:59:31 +0000"  >&lt;p&gt;Merged on &lt;tt&gt;master&lt;/tt&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310660">
                    <name>Completes</name>
                                                                <inwardlinks description="is fixed by">
                                        <issuelink>
            <issuekey id="13278423">SLING-8976</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 50 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z083h4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8812] DeleteAce request should return a meaningful error message when an invalid principalId is submitted</title>
                <link>https://issues.apache.org/jira/browse/SLING-8812</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;For consistency with the ModifyAce behavior, a&#160;DeleteAce request should return a meaningful error message when an invalid principalId is submitted.&#160; Currently an invalid principalId is silently ignored.&lt;/p&gt;

&lt;p&gt;Expected:&lt;/p&gt;

&lt;p&gt;if the principalId is invalid, raise a RepositoryException with a message of: &quot;Invalid principalId was submitted.&quot;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13264898">SLING-8812</key>
            <summary>DeleteAce request should return a meaningful error message when an invalid principalId is submitted</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Oct 2019 20:09:19 +0000</created>
                <updated>Mon, 3 Aug 2020 17:09:41 +0000</updated>
                            <resolved>Mon, 28 Oct 2019 21:14:52 +0000</resolved>
                                    <version>JCR Jackrabbit Access Manager 3.0.4</version>
                                    <fixVersion>JCR Jackrabbit Access Manager 3.0.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16961466" author="enorman" created="Mon, 28 Oct 2019 21:14:52 +0000"  >&lt;p&gt;Fixed at:&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-jackrabbit-accessmanager/commit/3011525cddd608d74537f8428ed7d408e7526be8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-jackrabbit-accessmanager/commit/3011525cddd608d74537f8428ed7d408e7526be8&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17170211" author="enorman" created="Mon, 3 Aug 2020 17:09:41 +0000"  >&lt;p&gt;Completed with the 3.0.6 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z080z4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8810] DeleteAce response to remove a non-existing ACE is not consistent</title>
                <link>https://issues.apache.org/jira/browse/SLING-8810</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When an attempt is made to remove a non-existing ACE via a DeleteAce request, the response is not consistent.&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;When an AccessControlList doesn&apos;t exist, a &quot;Unable to find or create an access control policy to update ...&quot; exception is thrown&lt;/li&gt;
	&lt;li&gt;When an AccessControlList does exist but is empty, no exception is thrown&lt;/li&gt;
	&lt;li&gt;When an AccessControlList exists but there is no ACE for the submitted principalId, no exception is thrown&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Expected:&lt;/p&gt;

&lt;p&gt;To be consistent, the #1 scenario above should behave the same as #2 and #3 and just do nothing and not throw the exception.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13264894">SLING-8810</key>
            <summary>DeleteAce response to remove a non-existing ACE is not consistent</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Oct 2019 20:02:34 +0000</created>
                <updated>Mon, 3 Aug 2020 17:09:18 +0000</updated>
                            <resolved>Mon, 28 Oct 2019 21:14:06 +0000</resolved>
                                    <version>JCR Jackrabbit Access Manager 3.0.4</version>
                                    <fixVersion>JCR Jackrabbit Access Manager 3.0.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16961464" author="enorman" created="Mon, 28 Oct 2019 21:14:07 +0000"  >&lt;p&gt;Fixed at:&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-jackrabbit-accessmanager/commit/f0b6d30eee752a31064ea2ecd9f09e4effa8330b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-jackrabbit-accessmanager/commit/f0b6d30eee752a31064ea2ecd9f09e4effa8330b&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17170209" author="enorman" created="Mon, 3 Aug 2020 17:09:18 +0000"  >&lt;p&gt;Completed with the 3.0.6 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z080y8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8809] ModifyAce request should return a meaningful error message when an invalid principalId is submitted</title>
                <link>https://issues.apache.org/jira/browse/SLING-8809</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;A ModifyAce request should return a meaningful error message when an invalid principalId is submitted.&#160; Currently an invalid principalId results in a NullPointerException.&lt;/p&gt;

&lt;p&gt;Expected:&lt;/p&gt;

&lt;p&gt;if the principalId is invalid, raise a RepositoryException with a message of: &quot;Invalid principalId was submitted.&quot;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13264893">SLING-8809</key>
            <summary>ModifyAce request should return a meaningful error message when an invalid principalId is submitted</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Oct 2019 19:53:00 +0000</created>
                <updated>Mon, 3 Aug 2020 17:09:07 +0000</updated>
                            <resolved>Mon, 28 Oct 2019 21:13:33 +0000</resolved>
                                    <version>JCR Jackrabbit Access Manager 3.0.4</version>
                                    <fixVersion>JCR Jackrabbit Access Manager 3.0.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16961462" author="enorman" created="Mon, 28 Oct 2019 21:13:33 +0000"  >&lt;p&gt;Fixed at:&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-jackrabbit-accessmanager/commit/64be7e51a3504afb137544406de2926fc651bdf8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-jackrabbit-accessmanager/commit/64be7e51a3504afb137544406de2926fc651bdf8&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17170208" author="enorman" created="Mon, 3 Aug 2020 17:09:07 +0000"  >&lt;p&gt;Completed with the 3.0.6 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z080y0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8808] Committer CLI does not record all votes from PMC members as binding</title>
                <link>https://issues.apache.org/jira/browse/SLING-8808</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ ./run.sh release tally-votes -r 2146
The following email would be sent from your @apache.org address (see the &quot;From:&quot; header):

From: Robert Munteanu &amp;lt;rombert@apache.org&amp;gt;
To: &quot;Sling Developers List&quot; &amp;lt;dev@sling.apache.org&amp;gt;
Reply-To: &quot;Sling Developers List&quot; &amp;lt;dev@sling.apache.org&amp;gt;
Date: Mon, 28 Oct 2019 09:32:28 +0000
Subject: [RESULT] [VOTE] Release Apache Sling Commons Threads 3.2.20

Hi,

The vote has passed with the following result:

+1 (binding): Robert Munteanu, Carsten Ziegeler, Dan Klco, Radu Cotescu
+1 (non-binding): David Bosschaert

I will copy this release to the Sling dist directory and
promote the artifacts to the central Maven repository.

Regards,
Robert Munteanu
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;David&apos;s vote is definitely binding.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13264775">SLING-8808</key>
            <summary>Committer CLI does not record all votes from PMC members as binding</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Oct 2019 09:34:04 +0000</created>
                <updated>Mon, 3 Apr 2023 10:46:25 +0000</updated>
                                                            <fixVersion>Committer CLI 1.0.2</fixVersion>
                                    <component>Build and Source Control</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="16960887" author="rombert" created="Mon, 28 Oct 2019 09:34:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu&quot; class=&quot;user-hover&quot; rel=&quot;radu&quot;&gt;radu&lt;/a&gt; - FYI&lt;/p&gt;</comment>
                            <comment id="16962082" author="radu.cotescu" created="Tue, 29 Oct 2019 14:59:24 +0000"  >&lt;p&gt;It&apos;s not a bug, it&apos;s &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davidb&quot; class=&quot;user-hover&quot; rel=&quot;davidb&quot;&gt;davidb&lt;/a&gt; - he sent the vote from his gmail account, not his @apache.org account, and the name for his gmail account - &quot;David Bosschaert&quot; - is different than what he provided to Whismy - &quot;A. J. David Bosschaert&quot;.&lt;/p&gt;</comment>
                            <comment id="16962176" author="davidb" created="Tue, 29 Oct 2019 16:23:08 +0000"  >&lt;p&gt;Does this mean that you are required to use your @apache.org email when casting votes?&lt;/p&gt;

&lt;p&gt;I&apos;m sure I&apos;m not the only one in this situation. In my case it&apos;s pretty easy to see but that&apos;s not always the case with other users...&lt;/p&gt;</comment>
                            <comment id="16962192" author="klcodanr" created="Tue, 29 Oct 2019 16:29:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu&quot; class=&quot;user-hover&quot; rel=&quot;radu&quot;&gt;radu&lt;/a&gt; , your statement brings up a concern:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;and the name for his gmail account - &quot;David Bosschaert&quot; - is different than what he provided to Whismy - &quot;A. J. David Bosschaert&quot;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Does that mean I could register an email &quot;A. J. David Bosschaert&quot; &amp;lt;nigerianprince@spam.ru&amp;gt; and it would count that as a vote for David Bosschaert? IMO you should have to either use your Apache email or a registered forwarding email on id.apache.org.&#160;&lt;/p&gt;</comment>
                            <comment id="16962208" author="rombert" created="Tue, 29 Oct 2019 16:38:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=klcodanr&quot; class=&quot;user-hover&quot; rel=&quot;klcodanr&quot;&gt;klcodanr&lt;/a&gt; - Well, the tooling suffers from the same issues as a human - we simply assume that whoever is sending the email is the proper owner of the email address. To make it clear &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davidb&quot; class=&quot;user-hover&quot; rel=&quot;davidb&quot;&gt;davidb&lt;/a&gt; - &lt;blockquote&gt;&lt;p&gt;Does this mean that you are required to use your @apache.org email when casting votes?&lt;/p&gt;&lt;/blockquote&gt; - I don&apos;t think we should have this requirement. Although most of the PMC members use their @apache.org address, I don&apos;t think we should enforce it. I found nothing about it on &lt;a href=&quot;http://www.apache.org/legal/release-policy.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/legal/release-policy.html&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;In the end, this issue is about is a tooling problem,&lt;/p&gt;</comment>
                            <comment id="16962215" author="cziegeler" created="Tue, 29 Oct 2019 16:43:43 +0000"  >&lt;p&gt;Instead of being too clever in the tooling, can&apos;t we simply configure the five or ten additional email addresses?&lt;/p&gt;</comment>
                            <comment id="16962216" author="rombert" created="Tue, 29 Oct 2019 16:44:52 +0000"  >&lt;blockquote&gt;&lt;p&gt;Instead of being too clever in the tooling, can&apos;t we simply configure the five or ten additional email addresses?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That works for me.&lt;/p&gt;</comment>
                            <comment id="16962238" author="radu.cotescu" created="Tue, 29 Oct 2019 17:04:58 +0000"  >&lt;blockquote&gt;&lt;p&gt;Instead of being too clever in the tooling, can&apos;t we simply configure the five or ten additional email addresses?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;What do you mean?&lt;/p&gt;</comment>
                            <comment id="16962251" author="radu.cotescu" created="Tue, 29 Oct 2019 17:15:18 +0000"  >&lt;h3&gt;&lt;a name=&quot;Possiblefix&quot;&gt;&lt;/a&gt;Possible fix&lt;/h3&gt;

&lt;p&gt;One way to try to identify if the owner of a non-apache email address is actually a PMC member would be to query Whimsy for each PMC member at &lt;a href=&quot;https://whimsy.apache.org/roster/committer/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://whimsy.apache.org/roster/committer/&lt;/a&gt;&amp;lt;pmc_member_id&amp;gt; and retrieve the alternate email addresses. This will be slow and I&apos;m not sure if the effort is really worth it. &lt;/p&gt;</comment>
                            <comment id="16962462" author="cziegeler" created="Tue, 29 Oct 2019 20:58:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu&quot; class=&quot;user-hover&quot; rel=&quot;radu&quot;&gt;radu&lt;/a&gt; Most of us seem to use an Apache email address; we can easily identify those email addresses which are used for voting that are not Apache email addresses and just enumerate them in the tooling as a configuration. Even if each PMC member would use an alternate email address its still just a few we have to list and they are not constantly changing.&lt;br/&gt;
So instead of finding out a clever way to identify those addresses we simply list them&lt;/p&gt;</comment>
                            <comment id="16993565" author="radu.cotescu" created="Wed, 11 Dec 2019 14:02:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davidb&quot; class=&quot;user-hover&quot; rel=&quot;davidb&quot;&gt;davidb&lt;/a&gt;, is there any chance to convince you to use your @apache.org email address for the release votes? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;The fix would be an &lt;tt&gt;alternate-emails.properties&lt;/tt&gt; file where we&apos;d have to add you:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
davidb=d.b@g.c,d_b@y.c
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16995533" author="bosschaert" created="Fri, 13 Dec 2019 10:31:04 +0000"  >&lt;blockquote&gt;&lt;p&gt;is there any chance to convince you to use your @apache.org email address for the release votes?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Sure, at least I can try... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 45 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0807s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8800] A change in a Content Package will not be reflected in a Converted CP on a rebuild</title>
                <link>https://issues.apache.org/jira/browse/SLING-8800</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;After a successful content package conversion any change in a content package will not be reflected in a converted content package.&lt;/p&gt;

&lt;p&gt;The reason is that the temporary generated file inside a temporary folder created in the&#160;VaultPackageAssembler is not deleted.&lt;/p&gt;

&lt;p&gt;The CP Converter should at least provide a flag to force the deletion but maybe it is best to use a hash to see if the content has changed and if should delete the temporary folder.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13264306">SLING-8800</key>
            <summary>A change in a Content Package will not be reflected in a Converted CP on a rebuild</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andysch">Andreas Schaefer</assignee>
                                    <reporter username="andysch">Andreas Schaefer</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 Oct 2019 18:08:02 +0000</created>
                <updated>Thu, 13 Feb 2020 08:46:05 +0000</updated>
                            <resolved>Wed, 27 Nov 2019 01:48:44 +0000</resolved>
                                                    <fixVersion>Content-Package to Feature Model Converter 1.0.2</fixVersion>
                                    <component>Feature Model</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16959853" author="schaefa" created="Fri, 25 Oct 2019 15:25:43 +0000"  >&lt;p&gt;This is an issue with the&#160;VaultPackageAssembler class as it only adds and changes files but does not remove files in the ZIP deflated folder and so removed files are staying in the package forever.&lt;/p&gt;

&lt;p&gt;I am looking into a solution where an existing deflated folder is deleted when the&#160;VaultPackageAssembler is created to make sure we do not carry around old baggage.&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16959917" author="schaefa" created="Fri, 25 Oct 2019 16:45:57 +0000"  >&lt;p&gt;The attached ZIP file contains a test project (generated with the Sling Project Archetype).&lt;br/&gt;
To see the issue to the following:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Go to folder ui.apps/src/main/content/jcr_root/apps/test2/page&lt;/li&gt;
	&lt;li&gt;Create a file test.html and add some content&lt;/li&gt;
	&lt;li&gt;Build it (mvn clean install)&lt;/li&gt;
	&lt;li&gt;Look into the the temporary folder (search the logs for &apos;Building zip:&apos; which should point out the folder)&lt;/li&gt;
	&lt;li&gt;List the deflated folder: &apos;ls -lta ui.apps-1.0.0-SNAPSHOT.zip-deflated/jcr_root/apps/test2/page`&lt;/li&gt;
	&lt;li&gt;The &apos;test.html&apos; file should be there next to page.html etc&lt;/li&gt;
	&lt;li&gt;Now delete this file in your source folder&lt;/li&gt;
	&lt;li&gt;Rebuild with (mvn clean install)&lt;/li&gt;
	&lt;li&gt;List the deflated folder once more and the file is still there&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This is how I fixed it in my project inside the VaulPackageAssembler:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; VaultPackageAssembler create(VaultPackage vaultPackage, WorkspaceFilter filter) {
    File storingDirectory = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(TMP_DIR, vaultPackage.getFile().getName() + &lt;span class=&quot;code-quote&quot;&gt;&quot;-deflated&quot;&lt;/span&gt;);
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(storingDirectory.exists()) {
        File backup = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(storingDirectory.getPath() + &lt;span class=&quot;code-quote&quot;&gt;&quot;.backup&quot;&lt;/span&gt;);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(backup.exists()) {
            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
                FileUtils.deleteDirectory(backup);
            } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt;(IOException e) {
                &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RuntimeException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Unable to delete backup folder: &lt;span class=&quot;code-quote&quot;&gt;&apos;&quot;&lt;/span&gt; + backup + &lt;span class=&quot;code-quote&quot;&gt;&quot;&apos;&lt;/span&gt;&quot;&lt;/span&gt;, e);
            }
        }
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(!storingDirectory.renameTo(backup)) {
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RuntimeException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Unable to rename folder: &lt;span class=&quot;code-quote&quot;&gt;&apos;&quot;&lt;/span&gt; + storingDirectory + &lt;span class=&quot;code-quote&quot;&gt;&quot;&apos;&lt;/span&gt; to folder: &lt;span class=&quot;code-quote&quot;&gt;&apos;&quot;&lt;/span&gt; + backup + &lt;span class=&quot;code-quote&quot;&gt;&quot;&apos;&lt;/span&gt;&quot;&lt;/span&gt;);
        }
    }
    &lt;span class=&quot;code-comment&quot;&gt;// avoid any possible Stream is not a content &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;. Missing &lt;span class=&quot;code-quote&quot;&gt;&apos;jcr_root&apos;&lt;/span&gt; error
&lt;/span&gt;    File jcrRootDirectory = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(storingDirectory, ROOT_DIR);
...&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I just kept the old folder there for comparison purposes.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16959920" author="schaefa" created="Fri, 25 Oct 2019 16:53:01 +0000"  >&lt;p&gt;Just on a side note the name for the temporary folder is misspelled: &apos;syntethic-content-packages&apos;&lt;/p&gt;

&lt;p&gt;It should be &apos;synthetic-content-packages&apos; if I am not mistaken.&lt;/p&gt;</comment>
                            <comment id="16959928" author="schaefa" created="Fri, 25 Oct 2019 17:09:08 +0000"  >&lt;p&gt;Updated the attachments as the original one contained the patched CP Converter in the local repo.&lt;/p&gt;</comment>
                            <comment id="16960187" author="schaefa" created="Fri, 25 Oct 2019 22:30:25 +0000"  >&lt;p&gt;Created a PR with a fix for this:&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/20&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/20&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16983077" author="schaefa" created="Wed, 27 Nov 2019 01:48:26 +0000"  >&lt;p&gt;I merged my PR as this was pending after a month and I discovered another issue where when two modules in a project have the same artifact id like ui.apps (but different group ids) then the deflated folder would contain both code as the folders are not deleted.&lt;br/&gt;
I fixed that by adding the package id as a prefix to the file name - hopefully this makes the folder unique. Anyhow the deletion of the folder would prevent the code duplication.&lt;/p&gt;</comment>
                            <comment id="16983078" author="schaefa" created="Wed, 27 Nov 2019 01:48:44 +0000"  >&lt;p&gt;Merged&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12984038" name="secondary-test.zip" size="13235035" author="andysch" created="Fri, 25 Oct 2019 17:06:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 48 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z07xbk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8799] Deleting converted CPs in local maven repo makes rebuild fail</title>
                <link>https://issues.apache.org/jira/browse/SLING-8799</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;To recreate this issue:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;POM with a CP Conversion (Sling Feature Converter Maven Plugin) and FM Aggregation (Sling Feature Maven Plugin)&lt;/li&gt;
	&lt;li&gt;CP Conversion is in a phase before FM Aggregation&lt;/li&gt;
	&lt;li&gt;Build with mvn clean install&lt;/li&gt;
	&lt;li&gt;Go to the local maven repo (.m2) and find the converted ZIP files&lt;/li&gt;
	&lt;li&gt;Delete the ZIP files or delete the entire group&lt;/li&gt;
	&lt;li&gt;Rebuild with mvn clean install&lt;/li&gt;
	&lt;li&gt;This build fails because Maven cannot find the converted ZIP files&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If the rebuild is split and the clean is executed ahead (mvn clean;mvn install) it works.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;This seems to be either an issue with the Sling Feature Maven Plugin&apos;s test ahead of the execution or with the CP Converter Plugin to not install the converted cps correctly when target contains the generated ZIP files but the local repo does not have them.&lt;/p&gt;</description>
                <environment>Latest Sling, Java 8, Maven 3.6.1</environment>
        <key id="13264044">SLING-8799</key>
            <summary>Deleting converted CPs in local maven repo makes rebuild fail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="andysch">Andreas Schaefer</assignee>
                                    <reporter username="andysch">Andreas Schaefer</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Oct 2019 15:25:53 +0000</created>
                <updated>Mon, 28 Oct 2019 16:10:33 +0000</updated>
                                            <version>slingfeature-maven-plugin 1.1.6</version>
                                                    <component>Feature Model</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16961202" author="schaefa" created="Mon, 28 Oct 2019 16:10:33 +0000"  >&lt;p&gt;This is to reproduce the issue with the attached sample project:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Extract Project&lt;/li&gt;
	&lt;li&gt;Build with &apos;mvn clean install&apos;&lt;/li&gt;
	&lt;li&gt;Delete the create folder in the local repo as &apos;com/adobe/aem/guides/skyline/test&apos;&lt;/li&gt;
	&lt;li&gt;Rebuild with &apos;mvn clean install&apos;&lt;/li&gt;
	&lt;li&gt;The build fails as it tries to find the ui.apps converted cp file&lt;/li&gt;
	&lt;li&gt;Then clean the project with &apos;mvn clean&apos;&lt;/li&gt;
	&lt;li&gt;Now the build with &apos;mvn install&apos; works&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This seems to be an issue because the Preprocessor adds the ui.apps.json from the&#160;generated&#160;FM folder (target/fm) as dependency which contains the dependency for the converted cp file.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;This is not a big issue but this can cause some confusion when users start&#160;running&#160;into issues and try to clean up their&#160;local&#160;Maven repo. I guess the best would be to check if the dependencies exist in the Preprocessor and throw an explaining exception as Maven does not know what this dependency is about.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12984045" name="secondary-test.zip" size="13235035" author="andysch" created="Fri, 25 Oct 2019 18:49:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z07vpc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8797] Static analysis improvements on Journal code</title>
                <link>https://issues.apache.org/jira/browse/SLING-8797</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In order to get up to speed with SCD Journal I am going through the codebase. While doing this I also run some static analysis and would like to include a few minor improvements, mostly related to javadoc, log statements, etc.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13263941">SLING-8797</key>
            <summary>Static analysis improvements on Journal code</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="teofili">Tommaso Teofili</assignee>
                                    <reporter username="teofili">Tommaso Teofili</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Oct 2019 06:57:59 +0000</created>
                <updated>Fri, 6 Dec 2019 12:47:30 +0000</updated>
                            <resolved>Wed, 23 Oct 2019 08:46:04 +0000</resolved>
                                                    <fixVersion>Content Distribution Journal Core 0.1.6</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 1 week, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z07v2g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8793] Content Distribution Core doesn&apos;t build with java 11</title>
                <link>https://issues.apache.org/jira/browse/SLING-8793</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When running &lt;em&gt;mvn clean install&lt;/em&gt; on &lt;em&gt;org.apache.sling.distribution.core&lt;/em&gt; I get a build failure like the following:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 01:07 min
[INFO] Finished at: 2019-10-21T13:28:53+02:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin:1.4.1:enforce (enforce-java) on project org.apache.sling.distribution.core: Execution enforce-java of goal org.apache.maven.plugins:maven-enforcer-plugin:1.4.1:enforce failed: An API incompatibility was encountered while executing org.apache.maven.plugins:maven-enforcer-plugin:1.4.1:enforce: java.lang.ExceptionInInitializerError: null
[ERROR] -----------------------------------------------------
[ERROR] realm =    plugin&amp;gt;org.apache.maven.plugins:maven-enforcer-plugin:1.4.1
[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy
[ERROR] urls[0] = file:/Users/teofili/.m2/repository/org/apache/maven/plugins/maven-enforcer-plugin/1.4.1/maven-enforcer-plugin-1.4.1.jar
[ERROR] urls[1] = file:/Users/teofili/.m2/repository/backport-util-concurrent/backport-util-concurrent/3.1/backport-util-concurrent-3.1.jar
[ERROR] urls[2] = file:/Users/teofili/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.11/plexus-interpolation-1.11.jar
[ERROR] urls[3] = file:/Users/teofili/.m2/repository/org/slf4j/slf4j-jdk14/1.5.6/slf4j-jdk14-1.5.6.jar
[ERROR] urls[4] = file:/Users/teofili/.m2/repository/org/slf4j/jcl-over-slf4j/1.5.6/jcl-over-slf4j-1.5.6.jar
[ERROR] urls[5] = file:/Users/teofili/.m2/repository/org/apache/maven/reporting/maven-reporting-api/2.2.1/maven-reporting-api-2.2.1.jar
[ERROR] urls[6] = file:/Users/teofili/.m2/repository/org/apache/maven/doxia/doxia-sink-api/1.1/doxia-sink-api-1.1.jar
[ERROR] urls[7] = file:/Users/teofili/.m2/repository/org/apache/maven/doxia/doxia-logging-api/1.1/doxia-logging-api-1.1.jar
[ERROR] urls[8] = file:/Users/teofili/.m2/repository/commons-cli/commons-cli/1.2/commons-cli-1.2.jar
[ERROR] urls[9] = file:/Users/teofili/.m2/repository/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-4/plexus-interactivity-api-1.0-alpha-4.jar
[ERROR] urls[10] = file:/Users/teofili/.m2/repository/org/sonatype/plexus/plexus-sec-dispatcher/1.3/plexus-sec-dispatcher-1.3.jar
[ERROR] urls[11] = file:/Users/teofili/.m2/repository/org/sonatype/plexus/plexus-cipher/1.4/plexus-cipher-1.4.jar
[ERROR] urls[12] = file:/Users/teofili/.m2/repository/org/codehaus/plexus/plexus-utils/3.0.22/plexus-utils-3.0.22.jar
[ERROR] urls[13] = file:/Users/teofili/.m2/repository/commons-lang/commons-lang/2.3/commons-lang-2.3.jar
[ERROR] urls[14] = file:/Users/teofili/.m2/repository/org/apache/maven/enforcer/enforcer-api/1.4.1/enforcer-api-1.4.1.jar
[ERROR] urls[15] = file:/Users/teofili/.m2/repository/org/apache/maven/enforcer/enforcer-rules/1.4.1/enforcer-rules-1.4.1.jar
[ERROR] urls[16] = file:/Users/teofili/.m2/repository/org/apache/maven/shared/maven-common-artifact-filters/1.4/maven-common-artifact-filters-1.4.jar
[ERROR] urls[17] = file:/Users/teofili/.m2/repository/org/beanshell/bsh/2.0b4/bsh-2.0b4.jar
[ERROR] urls[18] = file:/Users/teofili/.m2/repository/org/apache/maven/shared/maven-dependency-tree/2.2/maven-dependency-tree-2.2.jar
[ERROR] urls[19] = file:/Users/teofili/.m2/repository/org/codehaus/plexus/plexus-component-annotations/1.5.5/plexus-component-annotations-1.5.5.jar
[ERROR] urls[20] = file:/Users/teofili/.m2/repository/org/eclipse/aether/aether-util/0.9.0.M2/aether-util-0.9.0.M2.jar
[ERROR] urls[21] = file:/Users/teofili/.m2/repository/org/codehaus/plexus/plexus-i18n/1.0-beta-6/plexus-i18n-1.0-beta-6.jar
[ERROR] urls[22] = file:/Users/teofili/.m2/repository/org/apache/maven/plugin-testing/maven-plugin-testing-harness/1.3/maven-plugin-testing-harness-1.3.jar
[ERROR] urls[23] = file:/Users/teofili/.m2/repository/org/codehaus/plexus/plexus-archiver/2.2/plexus-archiver-2.2.jar
[ERROR] urls[24] = file:/Users/teofili/.m2/repository/org/codehaus/plexus/plexus-io/2.0.4/plexus-io-2.0.4.jar
[ERROR] urls[25] = file:/Users/teofili/.m2/repository/junit/junit/4.11/junit-4.11.jar
[ERROR] urls[26] = file:/Users/teofili/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar
[ERROR] Number of foreign imports: 1
[ERROR] import: Entry[import  from realm ClassRealm[project&amp;gt;org.apache.sling:org.apache.sling.distribution.core:0.4.1-SNAPSHOT, parent: ClassRealm[maven.api, parent: null]]]
[ERROR] 
[ERROR] -----------------------------------------------------
[ERROR] : begin 0, end 3, length 2
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13263514">SLING-8793</key>
            <summary>Content Distribution Core doesn&apos;t build with java 11</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="teofili">Tommaso Teofili</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Oct 2019 11:29:59 +0000</created>
                <updated>Wed, 23 Oct 2019 08:49:44 +0000</updated>
                                                                            <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16955987" author="rombert" created="Mon, 21 Oct 2019 11:45:35 +0000"  >&lt;p&gt;Upgrading to the latest parent pom should help.&lt;/p&gt;</comment>
                            <comment id="16956026" author="teofili" created="Mon, 21 Oct 2019 12:50:29 +0000"  >&lt;p&gt;thanks Robert.&lt;br/&gt;
It seems that to fix this we need to upgrade to a more recent parent release which, in turn, requires upgrading from Felix SCR to OSGi annotations.&lt;/p&gt;</comment>
                            <comment id="16956063" author="rombert" created="Mon, 21 Oct 2019 13:14:13 +0000"  >&lt;p&gt;That sounds just about right.&lt;/p&gt;</comment>
                            <comment id="16956182" author="kwin" created="Mon, 21 Oct 2019 15:10:21 +0000"  >&lt;p&gt;At the same time you need to migrate from building with bundle-maven-plugin to using bnd-maven-plugin (although only very few changes should be required for that).&lt;/p&gt;</comment>
                            <comment id="16957666" author="teofili" created="Wed, 23 Oct 2019 08:48:00 +0000"  >&lt;p&gt;are there recommended guidelines for migrating annotations and related plugins we should follow ?&lt;/p&gt;</comment>
                            <comment id="16957669" author="rombert" created="Wed, 23 Oct 2019 08:49:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://blog.osoco.de/2016/05/migrating-from-the-apache-felix-scr-annotations-to-the-osgi-declarative-services-annotations/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://blog.osoco.de/2016/05/migrating-from-the-apache-felix-scr-annotations-to-the-osgi-declarative-services-annotations/&lt;/a&gt; is a good resource&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 1 week, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z07sfk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8780] Include mimepull bundle to Sling for SOAP attachments </title>
                <link>https://issues.apache.org/jira/browse/SLING-8780</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There is a missing dependency of mimepull. This dependency needs to be added to Sling.&#160;&lt;br/&gt;
&lt;a href=&quot;http://repo1.maven.org/maven2/org/jvnet/mimepull/mimepull/1.9.7/mimepull-1.9.7.jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://repo1.maven.org/maven2/org/jvnet/mimepull/mimepull/1.9.7/mimepull-1.9.7.jar&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13262608">SLING-8780</key>
            <summary>Include mimepull bundle to Sling for SOAP attachments </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ashokpanghal">Ashok Kumar</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Oct 2019 11:21:47 +0000</created>
                <updated>Wed, 16 Oct 2019 11:21:47 +0000</updated>
                                                                            <component>Starter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z07nbc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8779] NPE in apis mojo when generating javadoc</title>
                <link>https://issues.apache.org/jira/browse/SLING-8779</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When building javadocs I get the following NPE:&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
    at org.apache.sling.feature.maven.mojos.ApisJarMojo.buildJavadocClasspath (ApisJarMojo.java:513)&lt;br/&gt;
    at org.apache.sling.feature.maven.mojos.ApisJarMojo.onArtifact (ApisJarMojo.java:365)&lt;br/&gt;
    at org.apache.sling.feature.maven.mojos.ApisJarMojo.computeWrappedBundles (ApisJarMojo.java:425)&lt;br/&gt;
    at org.apache.sling.feature.maven.mojos.ApisJarMojo.onArtifact (ApisJarMojo.java:355)&lt;br/&gt;
    at org.apache.sling.feature.maven.mojos.ApisJarMojo.onFeature (ApisJarMojo.java:272)&lt;br/&gt;
    at org.apache.sling.feature.maven.mojos.ApisJarMojo.execute (ApisJarMojo.java:220)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13262605">SLING-8779</key>
            <summary>NPE in apis mojo when generating javadoc</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Oct 2019 11:14:56 +0000</created>
                <updated>Mon, 21 Oct 2019 05:44:41 +0000</updated>
                            <resolved>Wed, 16 Oct 2019 11:21:23 +0000</resolved>
                                    <version>slingfeature-maven-plugin 1.1.4</version>
                                    <fixVersion>slingfeature-maven-plugin 1.1.6</fixVersion>
                                    <component>Feature Model</component>
                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16952727" author="cziegeler" created="Wed, 16 Oct 2019 11:21:23 +0000"  >&lt;p&gt;Fixed in rev 2e42d96&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z07nao:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8775] java.lang.StackOverflowError in XSSAPIImpl.getValidHref for long URLs</title>
                <link>https://issues.apache.org/jira/browse/SLING-8775</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The regex patterns defined in AntiSamy&apos;s configuration file can throw a StackOverflowError for long URLs (1700 characters or more).&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Caused by: java.lang.StackOverflowError
	at java.base/java.util.regex.Pattern$GroupTail.match(Pattern.java:4850)
	at java.base/java.util.regex.Pattern$CharPropertyGreedy.match(Pattern.java:4293)
	at java.base/java.util.regex.Pattern$CharProperty.match(Pattern.java:3927)
	at java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4791)
	at java.base/java.util.regex.Pattern$Branch.match(Pattern.java:4736)
	at java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4791)
	at java.base/java.util.regex.Pattern$Loop.match(Pattern.java:4928)
	at java.base/java.util.regex.Pattern$GroupTail.match(Pattern.java:4850)
	at java.base/java.util.regex.Pattern$BranchConn.match(Pattern.java:4700)
	at java.base/java.util.regex.Pattern$GroupTail.match(Pattern.java:4850)
	at java.base/java.util.regex.Pattern$CharPropertyGreedy.match(Pattern.java:4293)
	at java.base/java.util.regex.Pattern$CharProperty.match(Pattern.java:3927)
	at java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4791)
	at java.base/java.util.regex.Pattern$Branch.match(Pattern.java:4736)
	at java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4791)
	at java.base/java.util.regex.Pattern$Loop.match(Pattern.java:4928)
	at java.base/java.util.regex.Pattern$GroupTail.match(Pattern.java:4850)
	at java.base/java.util.regex.Pattern$BranchConn.match(Pattern.java:4700)
	at java.base/java.util.regex.Pattern$GroupTail.match(Pattern.java:4850)
	at java.base/java.util.regex.Pattern$CharPropertyGreedy.match(Pattern.java:4293)
	at java.base/java.util.regex.Pattern$CharProperty.match(Pattern.java:3927)
	at java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4791)
	at java.base/java.util.regex.Pattern$Branch.match(Pattern.java:4736)
	at java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4791)
	at java.base/java.util.regex.Pattern$Loop.match(Pattern.java:4928)
	at java.base/java.util.regex.Pattern$GroupTail.match(Pattern.java:4850)
	at java.base/java.util.regex.Pattern$BranchConn.match(Pattern.java:4700)
	at java.base/java.util.regex.Pattern$GroupTail.match(Pattern.java:4850)
	at java.base/java.util.regex.Pattern$CharPropertyGreedy.match(Pattern.java:4293)
	at java.base/java.util.regex.Pattern$CharProperty.match(Pattern.java:3927)
	at java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4791)
	at java.base/java.util.regex.Pattern$Branch.match(Pattern.java:4736)
	at java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4791)
	at java.base/java.util.regex.Pattern$Loop.match(Pattern.java:4928)
	at java.base/java.util.regex.Pattern$GroupTail.match(Pattern.java:4850)
	at java.base/java.util.regex.Pattern$BranchConn.match(Pattern.java:4700)
	at java.base/java.util.regex.Pattern$GroupTail.match(Pattern.java:4850)
	at java.base/java.util.regex.Pattern$CharPropertyGreedy.match(Pattern.java:4293)
	at java.base/java.util.regex.Pattern$CharProperty.match(Pattern.java:3927)
	at java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4791)
	at java.base/java.util.regex.Pattern$Branch.match(Pattern.java:4736)
	at java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4791)
	at java.base/java.util.regex.Pattern$Loop.match(Pattern.java:4928)
	at java.base/java.util.regex.Pattern$GroupTail.match(Pattern.java:4850)
	at java.base/java.util.regex.Pattern$BranchConn.match(Pattern.java:4700)
	at java.base/java.util.regex.Pattern$BmpCharProperty.match(Pattern.java:3951)
	at java.base/java.util.regex.Pattern$Branch.match(Pattern.java:4736)
	at java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4791)
	at java.base/java.util.regex.Pattern$Loop.match(Pattern.java:4928)
	at java.base/java.util.regex.Pattern$GroupTail.match(Pattern.java:4850)
	at java.base/java.util.regex.Pattern$BranchConn.match(Pattern.java:4700)
	at java.base/java.util.regex.Pattern$GroupTail.match(Pattern.java:4850)
	at java.base/java.util.regex.Pattern$CharPropertyGreedy.match(Pattern.java:4293)
	at java.base/java.util.regex.Pattern$CharProperty.match(Pattern.java:3927)
	at java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4791)
	at java.base/java.util.regex.Pattern$Branch.match(Pattern.java:4736)
	at java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4791)
	at java.base/java.util.regex.Pattern$Loop.match(Pattern.java:4928)
	at java.base/java.util.regex.Pattern$GroupTail.match(Pattern.java:4850)
	at java.base/java.util.regex.Pattern$BranchConn.match(Pattern.java:4700)
	at java.base/java.util.regex.Pattern$GroupTail.match(Pattern.java:4850)
	at java.base/java.util.regex.Pattern$CharPropertyGreedy.match(Pattern.java:4293)
	at java.base/java.util.regex.Pattern$CharProperty.match(Pattern.java:3927)
	at java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4791)
	at java.base/java.util.regex.Pattern$Branch.match(Pattern.java:4736)
	at java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4791)
	at java.base/java.util.regex.Pattern$Loop.match(Pattern.java:4928)
	at java.base/java.util.regex.Pattern$GroupTail.match(Pattern.java:4850)
	at java.base/java.util.regex.Pattern$BranchConn.match(Pattern.java:4700)
	at java.base/java.util.regex.Pattern$GroupTail.match(Pattern.java:4850)
	at java.base/java.util.regex.Pattern$CharPropertyGreedy.match(Pattern.java:4293)
	at java.base/java.util.regex.Pattern$CharProperty.match(Pattern.java:3927)
	at java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4791)
	at java.base/java.util.regex.Pattern$Branch.match(Pattern.java:4736)
	at java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4791)
	at java.base/java.util.regex.Pattern$Loop.match(Pattern.java:4928)
	at java.base/java.util.regex.Pattern$GroupTail.match(Pattern.java:4850)
	at java.base/java.util.regex.Pattern$BranchConn.match(Pattern.java:4700)
	at java.base/java.util.regex.Pattern$GroupTail.match(Pattern.java:4850)
	at java.base/java.util.regex.Pattern$CharPropertyGreedy.match(Pattern.java:4293)
	at java.base/java.util.regex.Pattern$CharProperty.match(Pattern.java:3927)
	at java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4791)
	at java.base/java.util.regex.Pattern$Branch.match(Pattern.java:4736)
	at java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4791)
	at java.base/java.util.regex.Pattern$Loop.match(Pattern.java:4928)
	at java.base/java.util.regex.Pattern$GroupTail.match(Pattern.java:4850)
	at java.base/java.util.regex.Pattern$BranchConn.match(Pattern.java:4700)
	at java.base/java.util.regex.Pattern$GroupTail.match(Pattern.java:4850)
	at java.base/java.util.regex.Pattern$CharPropertyGreedy.match(Pattern.java:4293)
	at java.base/java.util.regex.Pattern$CharProperty.match(Pattern.java:3927)
	at java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4791)
	at java.base/java.util.regex.Pattern$Branch.match(Pattern.java:4736)
	at java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4791)
	at java.base/java.util.regex.Pattern$Loop.match(Pattern.java:4928)
	at java.base/java.util.regex.Pattern$GroupTail.match(Pattern.java:4850)
	at java.base/java.util.regex.Pattern$BranchConn.match(Pattern.java:4700)
	at java.base/java.util.regex.Pattern$CharProperty.match(Pattern.java:3927)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13261752">SLING-8775</key>
            <summary>java.lang.StackOverflowError in XSSAPIImpl.getValidHref for long URLs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="asanso">Antonio Sanso</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Oct 2019 09:42:51 +0000</created>
                <updated>Mon, 27 Jul 2020 16:27:34 +0000</updated>
                            <resolved>Fri, 25 Oct 2019 14:39:22 +0000</resolved>
                                    <version>XSS Protection API 2.0.8</version>
                    <version>XSS Protection API 2.0.10</version>
                    <version>XSS Protection API 2.0.12</version>
                    <version>XSS Protection API 2.0.14</version>
                    <version>XSS Protection API 2.1.0</version>
                    <version>XSS Protection API 2.1.6</version>
                    <version>XSS Protection API 2.1.8</version>
                                    <fixVersion>XSS Protection API 2.1.10</fixVersion>
                                    <component>XSS Protection API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16955981" author="radu.cotescu" created="Mon, 21 Oct 2019 11:39:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asanso&quot; class=&quot;user-hover&quot; rel=&quot;asanso&quot;&gt;asanso&lt;/a&gt;, do you have some inputs that could be used for testing? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16959817" author="radu.cotescu" created="Fri, 25 Oct 2019 14:39:22 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-xss/commit/89dcfd4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 89dcfd4&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13270097">SLING-8857</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z07i14:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8767] Using renamed bundle names in a Karaf Features.</title>
                <link>https://issues.apache.org/jira/browse/SLING-8767</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Karaf Features contains reference to to renamed bundles:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mvn:org.apache.sling/org.apache.sling.jcr.compiler/2.1.0&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;was renamed to&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mvn:org.apache.sling/org.apache.sling.commons.compiler/2.3.7&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mvn:org.apache.sling/org.apache.sling.extensions.threaddump/0.2.2&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;was renamed to&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mvn:org.apache.sling/org.apache.sling.commons.threaddump/0.2.3&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Created PR at the:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-karaf-features/pull/3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-karaf-features/pull/3&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13260796">SLING-8767</key>
            <summary>Using renamed bundle names in a Karaf Features.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mibesis">Miroslav Berani&#269;</reporter>
                        <labels>
                    </labels>
                <created>Sun, 6 Oct 2019 22:37:21 +0000</created>
                <updated>Mon, 7 Oct 2019 18:41:36 +0000</updated>
                            <resolved>Mon, 7 Oct 2019 18:41:36 +0000</resolved>
                                                                    <component>Karaf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16946131" author="olli" created="Mon, 7 Oct 2019 18:41:36 +0000"  >&lt;ul&gt;
	&lt;li&gt;No new SNAPSHOTs in Sling&apos;s Karaf features&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;org.apache.sling.jcr.compiler&lt;/tt&gt; and &lt;tt&gt;org.apache.sling.commons.compiler&lt;/tt&gt; are different modules&lt;/li&gt;
	&lt;li&gt;Sling&apos;s Thread Dump support is superseded by Felix Thread Dump support, see &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-3339&quot; title=&quot;Consolidate Thread Dump Support&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-3339&quot;&gt;&lt;del&gt;FELIX-3339&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8769&quot; title=&quot;Remove feature sling-extensions-threaddump&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8769&quot;&gt;&lt;del&gt;SLING-8769&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 3 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z07c4w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8764] A metric named commons.scheduler.oldest.running.job.millis already exists</title>
                <link>https://issues.apache.org/jira/browse/SLING-8764</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;GaugesSupport throws an exception when activation happens after first time, as metrics do not get unregistered from the&#160;MetricRegistry.&lt;/p&gt;

&lt;p&gt;Method&#160;@Deactivate should be updated to unregister registered metric at the @Activate method.&lt;/p&gt;

&lt;p&gt;There seems to be already some-kind of metric-name tracking, but do not know what is the useage. So I&apos;ve created &quot;quick&amp;amp;easy&quot; solution, to track registered metric names and use this name array at the @Deactivate to unregister metric names.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I will provide PR at the project GitHub page located at the:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-scheduler&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-scheduler&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;This is just a proposal, I guess author knows what is missing better.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13260459">SLING-8764</key>
            <summary>A metric named commons.scheduler.oldest.running.job.millis already exists</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="mibesis">Miroslav Berani&#269;</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Oct 2019 22:20:57 +0000</created>
                <updated>Mon, 10 Feb 2020 09:53:13 +0000</updated>
                            <resolved>Thu, 6 Feb 2020 10:07:38 +0000</resolved>
                                                    <fixVersion>Commons Scheduler 2.7.6</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="7800">2h 10m</timespent>
                                <comments>
                            <comment id="16944078" author="mibesis" created="Thu, 3 Oct 2019 22:28:13 +0000"  >&lt;p&gt;I&apos;ve created PR at:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-scheduler/pull/1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-scheduler/pull/1&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I see also some formatting was included. Did not intend to do it.&lt;/p&gt;</comment>
                            <comment id="16959147" author="mibesis" created="Thu, 24 Oct 2019 18:49:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;&#160;I&apos;ve created new PR#2, I will close PR#1. I think all the changes are as agreed in PR#1 comments.&lt;/p&gt;

&lt;p&gt;New PR is at:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-scheduler/pull/2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-scheduler/pull/2&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Kind Regards,&lt;/p&gt;

&lt;p&gt;Miroslav&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17031432" author="davidb" created="Thu, 6 Feb 2020 10:07:38 +0000"  >&lt;p&gt;As pull request #2 was merged by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stefanegli&quot; class=&quot;user-hover&quot; rel=&quot;stefanegli&quot;&gt;stefanegli&lt;/a&gt;&#160;I&apos;m resolving this issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 37 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z07a20:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8763] Rename feature sling-scripting-sightly to sling-scripting-htl in Apache Sling - Karaf Distribution</title>
                <link>https://issues.apache.org/jira/browse/SLING-8763</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Feature was renamed with &lt;a href=&quot;https://issues.apache.org/jira/projects/SLING/issues/SLING-8685&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/projects/SLING/issues/SLING-8685&lt;/a&gt;, but was not updated in the Karaf Distribution project. It does not compile due to missing dependency - configuration file name.&lt;/p&gt;

&lt;p&gt;I&apos;ve made a fix and posted to GitHub. Will create PR at the project GitHub page:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-karaf-distribution&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-karaf-distribution&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13260450">SLING-8763</key>
            <summary>Rename feature sling-scripting-sightly to sling-scripting-htl in Apache Sling - Karaf Distribution</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olli">Oliver Lietz</assignee>
                                    <reporter username="mibesis">Miroslav Berani&#269;</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Oct 2019 21:42:03 +0000</created>
                <updated>Mon, 7 Oct 2019 20:44:22 +0000</updated>
                            <resolved>Mon, 7 Oct 2019 20:44:22 +0000</resolved>
                                                    <fixVersion>Karaf Distribution 1.0.0</fixVersion>
                                    <component>Karaf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16946212" author="olli" created="Mon, 7 Oct 2019 20:44:22 +0000"  >&lt;p&gt;Missing change committed (&lt;tt&gt;dbd1ea3&lt;/tt&gt;).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 3 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z07a00:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8760] [cp2fm] multiple node type registrations are handled as single registration</title>
                <link>https://issues.apache.org/jira/browse/SLING-8760</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As per subject, multiple node type registrations are handled as single registration&lt;/p&gt;</description>
                <environment></environment>
        <key id="13260187">SLING-8760</key>
            <summary>[cp2fm] multiple node type registrations are handled as single registration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="simonetripodi">Simone Tripodi</assignee>
                                    <reporter username="simonetripodi">Simone Tripodi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Oct 2019 21:14:22 +0000</created>
                <updated>Thu, 13 Feb 2020 08:46:08 +0000</updated>
                            <resolved>Wed, 2 Oct 2019 21:19:11 +0000</resolved>
                                                    <fixVersion>Content-Package to Feature Model Converter 1.0.2</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16943169" author="simonetripodi" created="Wed, 2 Oct 2019 21:19:11 +0000"  >&lt;p&gt;resolved in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/commit/fb37d8da10d549ddb7c450c869e7f5fb9f7ace99&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;fb37d8d&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z078rs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8755] Exception when empty value with a type hint other than string is posted</title>
                <link>https://issues.apache.org/jira/browse/SLING-8755</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With the changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2534&quot; title=&quot;Strings of zero length on update in post servlet delete the property&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2534&quot;&gt;&lt;del&gt;SLING-2534&lt;/del&gt;&lt;/a&gt;, posting an empty value with a type hint other than string (for example Long) results in an exception thrown as the empty value is tried to be coerced into that type.&lt;br/&gt;
We should probably restore the behaviour for all types other than string as of before &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2534&quot; title=&quot;Strings of zero length on update in post servlet delete the property&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2534&quot;&gt;&lt;del&gt;SLING-2534&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13259963">SLING-8755</key>
            <summary>Exception when empty value with a type hint other than string is posted</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Oct 2019 16:55:34 +0000</created>
                <updated>Sun, 6 Oct 2019 13:03:28 +0000</updated>
                            <resolved>Tue, 1 Oct 2019 16:57:48 +0000</resolved>
                                    <version>Servlets Post 2.3.32</version>
                                    <fixVersion>Servlets Post 2.3.34</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16942147" author="cziegeler" created="Tue, 1 Oct 2019 16:57:48 +0000"  >&lt;p&gt;Fixed the issue by checking the type again . And if it is not String or undefined the old behaviour (removal) is used&lt;br/&gt;
I&apos;Ve added two tests which verify that an empty string is set and that the property is removed for other types&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 4 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z077e8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8753] JspSlingHttpServletResponseWrapper resetBuffer() doesn&apos;t call super and doesn&apos;t handle reset()</title>
                <link>https://issues.apache.org/jira/browse/SLING-8753</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The JspSlingHttpServletResponseWrapper overrides resetBuffer() and does clear the JSPWriter in that case. That makes sense, however, it doesn&apos;t call super.resetBuffer() which means it might not clear whatever else is in the underlying response buffer. &lt;/p&gt;

&lt;p&gt;Furthermore, it doesn&apos;t override reset() - hence, it will keep the JSPWriter content in case of a reset() but the underlying buffer will be cleared. &lt;/p&gt;

&lt;p&gt;This seems highly inconsistent and unless I&apos;m missing something, we should change this to have resetBuffer() call super.resetBuffer() after clearing the JSPWriter and override reset() to clear the JSPWriter before calling super.reset().&lt;/p&gt;</description>
                <environment></environment>
        <key id="13259833">SLING-8753</key>
            <summary>JspSlingHttpServletResponseWrapper resetBuffer() doesn&apos;t call super and doesn&apos;t handle reset()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="karlpauls">Karl Pauls</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Oct 2019 08:04:37 +0000</created>
                <updated>Tue, 1 Oct 2019 13:23:24 +0000</updated>
                            <resolved>Tue, 1 Oct 2019 12:42:40 +0000</resolved>
                                    <version>Scripting JSP 2.3.6</version>
                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16941631" author="cziegeler" created="Tue, 1 Oct 2019 08:30:37 +0000"  >&lt;p&gt;I&apos;m not sure if resetBuffer should call super - if a jsp is included and calls resetBuffer it should only reset the buffer for the current jsp, not the buffer for the jsp including this&lt;br/&gt;
Thinking about it, the same issue might be with reset&lt;/p&gt;</comment>
                            <comment id="16941637" author="karlpauls" created="Tue, 1 Oct 2019 08:43:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, so you are saying it is a public version of the provided jasper include wrapper &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;? In that case it might want to make it clear it should only be used in the include scenario. Using it as a general wrapper in e.g. a forward makes it super inconsistent otherwise and I still think it should at a minimum take reset() into account.&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-jsp/blob/master/src/main/java/org/apache/sling/scripting/jsp/jasper/runtime/ServletResponseWrapperInclude.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-scripting-jsp/blob/master/src/main/java/org/apache/sling/scripting/jsp/jasper/runtime/ServletResponseWrapperInclude.java&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="16941681" author="cziegeler" created="Tue, 1 Oct 2019 09:28:45 +0000"  >&lt;p&gt;Ah right, I was confusing this wrapper with the one you mention at &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;/p&gt;

&lt;p&gt;However the javadoc states that this wrapper is intended to be used to implement tag libraries. And I assume that tag libraries have the same requirements, that you only want to reset the current jsp. Therefore its not a general purpose wrapper&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z076lc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8750] commons  html - make it easier to add elements in a stream</title>
                <link>https://issues.apache.org/jira/browse/SLING-8750</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Add element factory as a utility to support creations of a specific type of element&lt;/p&gt;</description>
                <environment></environment>
        <key id="13259708">SLING-8750</key>
            <summary>commons  html - make it easier to add elements in a stream</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jebailey">Jason E Bailey</assignee>
                                    <reporter username="jebailey">Jason E Bailey</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Sep 2019 16:20:15 +0000</created>
                <updated>Mon, 30 Sep 2019 16:21:25 +0000</updated>
                                                            <fixVersion>Commons HTML 1.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z075tk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8740] The repoinit IT is flaky</title>
                <link>https://issues.apache.org/jira/browse/SLING-8740</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The repoinit IT are flaky, consistently failing on Jenkins &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt; but only occasionally on my machine:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Tests run: 4, Failures: 0, Errors: 4, Skipped: 0, Time elapsed: 45.993 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.sling.jcr.repoinit.it.ProvisioningModelIT
namespaceAndCndRegistered(org.apache.sling.jcr.repoinit.it.ProvisioningModelIT)  Time elapsed: 14.793 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.IllegalStateException: unable to get a service reference, class=org.apache.sling.jcr.api.SlingRepository, filter=&apos;null&apos;
	at org.apache.sling.junit.rules.ServerSideTeleporter.getService(ServerSideTeleporter.java:83)
	at org.apache.sling.junit.rules.TeleporterRule.getService(TeleporterRule.java:136)
	at org.apache.sling.jcr.repoinit.it.ProvisioningModelIT.setup(ProvisioningModelIT.java:48)

userDisabled(org.apache.sling.jcr.repoinit.it.ProvisioningModelIT)  Time elapsed: 10.826 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.IllegalStateException: unable to get a service reference, class=org.apache.sling.jcr.api.SlingRepository, filter=&apos;null&apos;
	at org.apache.sling.junit.rules.ServerSideTeleporter.getService(ServerSideTeleporter.java:83)
	at org.apache.sling.junit.rules.TeleporterRule.getService(TeleporterRule.java:136)
	at org.apache.sling.jcr.repoinit.it.ProvisioningModelIT.setup(ProvisioningModelIT.java:48)

usersCreated(org.apache.sling.jcr.repoinit.it.ProvisioningModelIT)  Time elapsed: 10.156 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.IllegalStateException: unable to get a service reference, class=org.apache.sling.jcr.api.SlingRepository, filter=&apos;null&apos;
	at org.apache.sling.junit.rules.ServerSideTeleporter.getService(ServerSideTeleporter.java:83)
	at org.apache.sling.junit.rules.TeleporterRule.getService(TeleporterRule.java:136)
	at org.apache.sling.jcr.repoinit.it.ProvisioningModelIT.setup(ProvisioningModelIT.java:48)

userAclSet(org.apache.sling.jcr.repoinit.it.ProvisioningModelIT)  Time elapsed: 10.166 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.IllegalStateException: unable to get a service reference, class=org.apache.sling.jcr.api.SlingRepository, filter=&apos;null&apos;
	at org.apache.sling.junit.rules.ServerSideTeleporter.getService(ServerSideTeleporter.java:83)
	at org.apache.sling.junit.rules.TeleporterRule.getService(TeleporterRule.java:136)
	at org.apache.sling.jcr.repoinit.it.ProvisioningModelIT.setup(ProvisioningModelIT.java:48)

Running org.apache.sling.jcr.repoinit.it.RepoInitTextIT
Tests run: 3, Failures: 0, Errors: 3, Skipped: 0, Time elapsed: 30.593 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.sling.jcr.repoinit.it.RepoInitTextIT
anotherUserAcl(org.apache.sling.jcr.repoinit.it.RepoInitTextIT)  Time elapsed: 10.198 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.IllegalStateException: unable to get a service reference, class=org.apache.sling.jcr.api.SlingRepository, filter=&apos;null&apos;
	at org.apache.sling.junit.rules.ServerSideTeleporter.getService(ServerSideTeleporter.java:83)
	at org.apache.sling.junit.rules.TeleporterRule.getService(TeleporterRule.java:136)
	at org.apache.sling.jcr.repoinit.it.RepoInitTextIT.setup(RepoInitTextIT.java:55)

fredWilmaAcl(org.apache.sling.jcr.repoinit.it.RepoInitTextIT)  Time elapsed: 10.212 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.IllegalStateException: unable to get a service reference, class=org.apache.sling.jcr.api.SlingRepository, filter=&apos;null&apos;
	at org.apache.sling.junit.rules.ServerSideTeleporter.getService(ServerSideTeleporter.java:83)
	at org.apache.sling.junit.rules.TeleporterRule.getService(TeleporterRule.java:136)
	at org.apache.sling.jcr.repoinit.it.RepoInitTextIT.setup(RepoInitTextIT.java:55)

serviceUserCreated(org.apache.sling.jcr.repoinit.it.RepoInitTextIT)  Time elapsed: 10.182 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.IllegalStateException: unable to get a service reference, class=org.apache.sling.jcr.api.SlingRepository, filter=&apos;null&apos;
	at org.apache.sling.junit.rules.ServerSideTeleporter.getService(ServerSideTeleporter.java:83)
	at org.apache.sling.junit.rules.TeleporterRule.getService(TeleporterRule.java:136)
	at org.apache.sling.jcr.repoinit.it.RepoInitTextIT.setup(RepoInitTextIT.java:55)


Results :

Tests in error: 
  ProvisioningModelIT.setup:48 &#187; IllegalState unable to get a service reference,...
  ProvisioningModelIT.setup:48 &#187; IllegalState unable to get a service reference,...
  ProvisioningModelIT.setup:48 &#187; IllegalState unable to get a service reference,...
  ProvisioningModelIT.setup:48 &#187; IllegalState unable to get a service reference,...
  RepoInitTextIT.setup:55 &#187; IllegalState unable to get a service reference, clas...
  RepoInitTextIT.setup:55 &#187; IllegalState unable to get a service reference, clas...
  RepoInitTextIT.setup:55 &#187; IllegalState unable to get a service reference, clas...

Tests run: 7, Failures: 0, Errors: 7, Skipped: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; - &lt;a href=&quot;https://builds.apache.org/job/Sling/job/sling-org-apache-sling-jcr-repoinit/job/master/67/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Sling/job/sling-org-apache-sling-jcr-repoinit/job/master/67/&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; - &lt;a href=&quot;https://builds.apache.org/job/Sling/job/sling-org-apache-sling-jcr-repoinit/job/master/68/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Sling/job/sling-org-apache-sling-jcr-repoinit/job/master/68/&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; - &lt;a href=&quot;https://builds.apache.org/job/Sling/job/sling-org-apache-sling-jcr-repoinit/job/master/69/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Sling/job/sling-org-apache-sling-jcr-repoinit/job/master/69/&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; - &lt;a href=&quot;https://builds.apache.org/job/Sling/job/sling-org-apache-sling-jcr-repoinit/job/master/74/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Sling/job/sling-org-apache-sling-jcr-repoinit/job/master/74/&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt; - &lt;a href=&quot;https://builds.apache.org/job/Sling/job/sling-org-apache-sling-jcr-repoinit/job/master/75/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Sling/job/sling-org-apache-sling-jcr-repoinit/job/master/75/&lt;/a&gt; &lt;/p&gt;</description>
                <environment></environment>
        <key id="13258777">SLING-8740</key>
            <summary>The repoinit IT is flaky</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Sep 2019 11:28:14 +0000</created>
                <updated>Tue, 19 Nov 2019 09:46:00 +0000</updated>
                            <resolved>Fri, 1 Nov 2019 09:59:08 +0000</resolved>
                                    <version>Repoinit JCR 1.1.14</version>
                                    <fixVersion>Repoinit JCR 1.1.16</fixVersion>
                                    <component>Repoinit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16963880" author="bdelacretaz" created="Thu, 31 Oct 2019 11:10:25 +0000"  >&lt;p&gt;Confirmed, the tests are still flaky and typically fail with one of the below errors:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.IllegalStateException: unable to get a service reference, class=org.apache.sling.jcr.api.SlingRepository, filter=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&apos;&lt;/span&gt;
	at org.apache.sling.jcr.repoinit.it.ProvisioningModelIT.setup(ProvisioningModelIT.java:48)

java.lang.IllegalStateException: unable to get a service reference, class=org.apache.sling.jcr.api.SlingRepository, filter=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&apos;&lt;/span&gt;
	at org.apache.sling.jcr.repoinit.it.RepoInitTextIT.setup(RepoInitTextIT.java:55)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Various tests fail so it really looks like a test setup issue.&lt;/p&gt;</comment>
                            <comment id="16964081" author="rombert" created="Thu, 31 Oct 2019 14:21:18 +0000"  >&lt;p&gt;A note &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; - I remember seeing error entries which pointed to the Sling repository being restarted but failing due to Oak trying to re-register MBeans. Ideally the repository service would not restart, but if that is still the case then upgrading to Oak 1.18.0 may help, as there were some restart-related issues fixed.&lt;/p&gt;</comment>
                            <comment id="16964189" author="bdelacretaz" created="Thu, 31 Oct 2019 16:35:21 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; - considering that those tests were implemented using teleported tests which are fairly hard to troubleshoot, I have taken a different approach and moved to pax exam.&lt;/p&gt;

&lt;p&gt;The &lt;tt&gt;ProvisioningModelIT&lt;/tt&gt; was not really useful as a very similar behavior is tested by &lt;tt&gt;sling-org-apache-sling-launchpad-integration-tests/RepoinitPathTest&lt;/tt&gt;, so I have removed it and adapted the remaining &lt;tt&gt;RepoInitTextIT&lt;/tt&gt; to run with pax exam.&lt;/p&gt;

&lt;p&gt;I still need to re-add a test that validates an &lt;tt&gt;org.apache.sling.jcr.repoinit.impl.RepositoryInitializer&lt;/tt&gt; config with multiple URLs, working on that.&lt;/p&gt;

&lt;p&gt;For now I have committed the &lt;tt&gt;RepoInitTextIT&lt;/tt&gt; + pax exam setup changes, let&apos;s see how the tests behave at&#160;&lt;a href=&quot;https://builds.apache.org/job/Sling/job/sling-org-apache-sling-jcr-repoinit/job/master/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Sling/job/sling-org-apache-sling-jcr-repoinit/job/master/&lt;/a&gt; - on my box they look to be stable.&lt;/p&gt;</comment>
                            <comment id="16964750" author="bdelacretaz" created="Fri, 1 Nov 2019 09:59:08 +0000"  >&lt;p&gt;I have added a Pax Exam based &lt;tt&gt;RepositoryInitializerIT&lt;/tt&gt; to bring the test coverage back to what it was with the old &lt;tt&gt;ProvisioningModelIT&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;The tests are now stable, ran a number of them successfully at &lt;a href=&quot;https://builds.apache.org/job/Sling/job/sling-org-apache-sling-jcr-repoinit/job/master/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Sling/job/sling-org-apache-sling-jcr-repoinit/job/master/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;One unit test failed in one of those runs but it is unrelated, see below, looks like a different issue.&lt;/p&gt;

&lt;p&gt;With these changes the tests that were problematic are stable, marking this issue resolved.&lt;/p&gt;

&lt;p&gt;I have set the tests to run hourly (via a &lt;tt&gt;.sling-module.json&lt;/tt&gt; file), will leave that for a few days so we get more data.&lt;/p&gt;

&lt;p&gt;The unrelated unit test that failed once in many runs is&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
build #96, PrincipalBasedAclTest.globRestriction:292-&amp;gt;assertPermission:175
Expecting read &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; path /tmp_11e74abc-dc7c-4d7d-9cdc-264f4a3fb352/testxyz_11e74abc-dc7c-4d7d-9cdc-264f4a3fb352
to be denied expected:&amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;gt; but was:&amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16964786" author="bdelacretaz" created="Fri, 1 Nov 2019 12:00:43 +0000"  >&lt;p&gt;Another unit test failure, among many builds. I&apos;ll list those here for now, at this point I have no idea what could cause this. Maybe some things happen asynchronously and the unit tests don&apos;t take that into account.&lt;/p&gt;

&lt;p&gt;Note that the other failing unit test, mentioned above, is also about glob restrictions.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.sling.jcr.repoinit.GeneralAclTest.globRestrictionTest
...
java.lang.AssertionError: Error adding test_aaf54842-1227-45c0-b4a3-611a84abc699 to Node[NodeDelegate{tree=/testxyz_aaf54842-1227-45c0-b4a3-611a84abc699: { jcr:primaryType = nt:unstructured}}]OakAccess0000: Access denied
	at org.apache.sling.jcr.repoinit.GeneralAclTest.verifyAddChildNode(GeneralAclTest.java:319)
	at org.apache.sling.jcr.repoinit.GeneralAclTest.globRestrictionTest(GeneralAclTest.java:609)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 51 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0702g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8739] Add the ability to extract extensions from a Feature Model</title>
                <link>https://issues.apache.org/jira/browse/SLING-8739</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In some cases the contents of extensions in a feature model are usable in other contexts or with other tools.&#160;&lt;/p&gt;

&lt;p&gt;For this, we need to add a mojo to the slingfeature-maven-plugin that can extract extensions into a plain file.&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13258717">SLING-8739</key>
            <summary>Add the ability to extract extensions from a Feature Model</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bosschaert">David Bosschaert</assignee>
                                    <reporter username="bosschaert">David Bosschaert</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Sep 2019 07:40:43 +0000</created>
                <updated>Wed, 18 Dec 2019 06:23:59 +0000</updated>
                            <resolved>Mon, 30 Sep 2019 10:01:25 +0000</resolved>
                                    <version>slingfeature-maven-plugin 1.1.2</version>
                                    <fixVersion>slingfeature-maven-plugin 1.1.4</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 5 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z06zp4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8727] NPE in SlingClient constructor when url doesn&apos;t have a protocol</title>
                <link>https://issues.apache.org/jira/browse/SLING-8727</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;tt&gt;new SlingClient(URI.create(&quot;example.com/&quot;), &quot;user&quot;, &quot;pass&quot;)&lt;/tt&gt; fails with NPE because the url is considered relative and the hostname cannot be extracted.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="13257902">SLING-8727</key>
            <summary>NPE in SlingClient constructor when url doesn&apos;t have a protocol</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="volteanu">Valentin Olteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Sep 2019 09:39:14 +0000</created>
                <updated>Fri, 20 Sep 2019 09:58:32 +0000</updated>
                            <resolved>Fri, 20 Sep 2019 09:58:03 +0000</resolved>
                                    <version>Apache Sling Testing Clients 1.2.0</version>
                                    <fixVersion>Apache Sling Testing Clients 1.2.2</fixVersion>
                                    <component>Apache Sling Testing Clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4200">1h 10m</timespent>
                                <comments>
                            <comment id="16934259" author="radu.cotescu" created="Fri, 20 Sep 2019 09:57:32 +0000"  >&lt;p&gt;Applied patch in&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-clients/commit/609cb61&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 609cb61&lt;/a&gt;.&#160;Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=volteanu&quot; class=&quot;user-hover&quot; rel=&quot;volteanu&quot;&gt;volteanu&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z06uog:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8726] RepoInit: documentation implies that users can be created with pw-hash</title>
                <link>https://issues.apache.org/jira/browse/SLING-8726</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;the documentation for repo init contains the following example on line 171:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    create user demoUser with password {SHA-256} dc460da4ad72c482231e28e688e01f2778a88ce31a08826899d54ef7183998b5
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;this implies that repo init allows to create a user with a pw-hash. however, this is not the case, when looking at the corresponding code in &lt;tt&gt;o.a.s.jcr.repoinit&lt;/tt&gt;, which ultimately calls &lt;tt&gt;UserManager.createUser(id, pw, principal, intermediatePath&lt;/tt&gt;, which takes a plain text password (any string or null). if and how the pw is being hashed is an implementation detail.&lt;/p&gt;

&lt;p&gt;in order to make this clear and no generate the impression that a pw-hash can be specified, i would suggest to change the example to&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    create user demoUser with password plaintextpw
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment></environment>
        <key id="13257898">SLING-8726</key>
            <summary>RepoInit: documentation implies that users can be created with pw-hash</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="angela">Angela Schreiber</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Sep 2019 09:22:38 +0000</created>
                <updated>Mon, 23 Sep 2019 09:35:27 +0000</updated>
                                                                            <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16935688" author="anchela" created="Mon, 23 Sep 2019 09:35:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, since you recently updated the repo-init documentation, you may also want to look into this one....&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 5 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z06unk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8725] non-existing version of  o.a.s.jcr.repoinit referenced in documentation</title>
                <link>https://issues.apache.org/jira/browse/SLING-8725</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;lines 64 and 95 of &lt;tt&gt;sling-site/src/main/jbake/content/documentation/bundles/repository-initialization.md&lt;/tt&gt; refer to version 1.2.0 of &lt;em&gt;o.a.s.jcr.repoinit&lt;/em&gt;:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    # o.a.s.repoinit.parser 1.2.0 and
    # o.a.s.jcr.repoinit 1.2.0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;however, according to fix version set for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8602&quot; title=&quot;Add support for PrincipalAccessControlList and ac-management by principal&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8602&quot;&gt;&lt;del&gt;SLING-8602&lt;/del&gt;&lt;/a&gt; and the source code the next version of &lt;tt&gt;o.a.s.jcr.repoinit&lt;/tt&gt; will only be 1.1.14. i suspect it&apos;s just a copy paste error.&lt;/p&gt;

&lt;p&gt;unfortunately, a reference to the corresponding sling issue is missing and i don&apos;t have the time to investigate, which was the correct version of &lt;tt&gt;o.a.s.jcr.repoinit&lt;/tt&gt; to be referenced on line 64 and 95&lt;/p&gt;</description>
                <environment></environment>
        <key id="13257896">SLING-8725</key>
            <summary>non-existing version of  o.a.s.jcr.repoinit referenced in documentation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="angela">Angela Schreiber</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Sep 2019 09:13:12 +0000</created>
                <updated>Fri, 20 Sep 2019 09:35:39 +0000</updated>
                            <resolved>Fri, 20 Sep 2019 09:35:39 +0000</resolved>
                                                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="16934242" author="rombert" created="Fri, 20 Sep 2019 09:35:39 +0000"  >&lt;p&gt;Thanks for the report &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=angela&quot; class=&quot;user-hover&quot; rel=&quot;angela&quot;&gt;angela&lt;/a&gt;, it&apos;s fixed with &lt;a href=&quot;https://github.com/apache/sling-site/commit/8a20149a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;sling-site commit 8a20149a&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 5 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z06un4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8720] HTTP  Status 200 returned when JSP Engine fails due to JspFactoryHandler being null</title>
                <link>https://issues.apache.org/jira/browse/SLING-8720</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With fix from &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2704&quot; title=&quot;NPE in JspScriptEngineFactory in case JSP bundle restart while servicing request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2704&quot;&gt;&lt;del&gt;SLING-2704&lt;/del&gt;&lt;/a&gt; ,&#160;JspScriptEngineFactory returns no exception&#160; (ultimately results in a http success response) for the case where&#160;JspFactoryHandler gets null. It only logs the warning. Ideally, it should throw an exception (result into http status 404 ) instead of http status 200.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13257625">SLING-8720</key>
            <summary>HTTP  Status 200 returned when JSP Engine fails due to JspFactoryHandler being null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="karlpauls">Karl Pauls</assignee>
                                    <reporter username="ashokpanghal">Ashok Kumar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Sep 2019 09:38:33 +0000</created>
                <updated>Mon, 30 Sep 2019 21:03:14 +0000</updated>
                            <resolved>Thu, 26 Sep 2019 09:06:31 +0000</resolved>
                                    <version>Scripting JSP 2.3.4</version>
                                    <fixVersion>Scripting JSP 2.3.6</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="5400">1.5h</timespent>
                                <comments>
                            <comment id="16937399" author="ashokpanghal" created="Wed, 25 Sep 2019 04:52:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;&#160;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kpauls&quot; class=&quot;user-hover&quot; rel=&quot;kpauls&quot;&gt;kpauls&lt;/a&gt;&#160;, kindly review and merge the patch/PR. Thank you.&lt;/p&gt;</comment>
                            <comment id="16938420" author="karlpauls" created="Thu, 26 Sep 2019 09:06:31 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashokpanghal&quot; class=&quot;user-hover&quot; rel=&quot;ashokpanghal&quot;&gt;ashokpanghal&lt;/a&gt;, I merged your PR.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 5 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z06syw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8716] [cp2fm] content-packages have to be handled under /apps/*/install/* path</title>
                <link>https://issues.apache.org/jira/browse/SLING-8716</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently, content-packages are detected by the handler only when enlisted under /etc/packages/, behaviour has to be extended in order to support /apps//install/ also&lt;/p&gt;</description>
                <environment></environment>
        <key id="13257071">SLING-8716</key>
            <summary>[cp2fm] content-packages have to be handled under /apps/*/install/* path</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="simone.tripodi">Simone Tripodi</assignee>
                                    <reporter username="simone.tripodi">Simone Tripodi</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Sep 2019 09:50:06 +0000</created>
                <updated>Thu, 13 Feb 2020 08:46:07 +0000</updated>
                            <resolved>Tue, 17 Sep 2019 12:55:04 +0000</resolved>
                                                    <fixVersion>Content-Package to Feature Model Converter 1.0.2</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16931411" author="simone.tripodi" created="Tue, 17 Sep 2019 12:55:04 +0000"  >&lt;p&gt;resolved in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/commit/25b43e9f53250dc9e038018cdc945d0dd26b8f5b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;25b43e9&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 6 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z06pkg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8715] Feature Model Package should listen filters metadata</title>
                <link>https://issues.apache.org/jira/browse/SLING-8715</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The cp2fm converter scrubs filters metadata, which are valuable debugging information. &lt;/p&gt;
</description>
                <environment></environment>
        <key id="13256897">SLING-8715</key>
            <summary>Feature Model Package should listen filters metadata</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="simone.tripodi">Simone Tripodi</assignee>
                                    <reporter username="simone.tripodi">Simone Tripodi</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Sep 2019 13:59:44 +0000</created>
                <updated>Thu, 13 Feb 2020 08:46:01 +0000</updated>
                            <resolved>Mon, 16 Sep 2019 15:04:33 +0000</resolved>
                                                    <fixVersion>Content-Package to Feature Model Converter 1.0.2</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16930640" author="simone.tripodi" created="Mon, 16 Sep 2019 15:04:33 +0000"  >&lt;p&gt;Resolved in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/commit/b7ff19f5efff13c45c64e23e5122c5adcbe092f2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;b7ff19f&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 6 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z06ohs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8712] VersionClient does not correctly identify fixed and unresolved issues</title>
                <link>https://issues.apache.org/jira/browse/SLING-8712</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;tt&gt;org.apache.sling.cli.impl.jira.VersionClient&lt;/tt&gt; does not correctly identify fixed and unresolved issues, since it explicitly filters based on the &lt;tt&gt;resolution&lt;/tt&gt; field using two values: &lt;tt&gt;Fixed&lt;/tt&gt; and &lt;tt&gt;Unresolved&lt;/tt&gt;. However, the &lt;tt&gt;resolution&lt;/tt&gt; field could have multiple values identifying a fixed issue (e.g. &lt;tt&gt;Done&lt;/tt&gt;, &lt;tt&gt;Implemented&lt;/tt&gt;, etc.).&lt;/p&gt;

&lt;p&gt;A more accurate filtering would be performed by checking if the &lt;tt&gt;resolution&lt;/tt&gt; field is empty or not.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13256886">SLING-8712</key>
            <summary>VersionClient does not correctly identify fixed and unresolved issues</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Sep 2019 13:42:44 +0000</created>
                <updated>Mon, 16 Sep 2019 13:52:11 +0000</updated>
                            <resolved>Mon, 16 Sep 2019 13:52:11 +0000</resolved>
                                                    <fixVersion>Committer CLI 1.0.0</fixVersion>
                                    <component>Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16930584" author="radu.cotescu" created="Mon, 16 Sep 2019 13:52:11 +0000"  >&lt;p&gt;Fixed in&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-committer-cli/commit/5e267d3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 5e267d3&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 6 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z06ofc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8711] NPE when auth failed event is sent</title>
                <link>https://issues.apache.org/jira/browse/SLING-8711</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Some auth info might be null when the authentication failed which then results in an NPE when sending the event:&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at java.util.Hashtable.put(Hashtable.java:460)&lt;br/&gt;
	at org.apache.sling.auth.core.impl.SlingAuthenticator.postLoginFailedEvent(SlingAuthenticator.java:1541)&lt;br/&gt;
	at org.apache.sling.auth.core.impl.SlingAuthenticator.getResolver(SlingAuthenticator.java:840)&lt;br/&gt;
	at org.apache.sling.auth.core.impl.SlingAuthenticator.doHandleSecurity(SlingAuthenticator.java:518)&lt;br/&gt;
	at org.apache.sling.auth.core.impl.SlingAuthenticator.handleSecurity(SlingAuthenticator.java:462)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13256881">SLING-8711</key>
            <summary>NPE when auth failed event is sent</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Sep 2019 13:28:35 +0000</created>
                <updated>Sun, 12 Apr 2020 09:49:25 +0000</updated>
                            <resolved>Mon, 16 Sep 2019 13:31:20 +0000</resolved>
                                    <version>Auth Core 1.4.4</version>
                                    <fixVersion>Auth Core 1.4.6</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16930537" author="cziegeler" created="Mon, 16 Sep 2019 13:31:20 +0000"  >&lt;p&gt;Fixed in rev 4e16a9c&lt;/p&gt;</comment>
                            <comment id="16930674" author="enorman" created="Mon, 16 Sep 2019 16:14:13 +0000"  >&lt;p&gt;Would you mind elaborating on what the repro steps were to get to the NPE condition?&#160; &#160;I can imagine that the downstream consumers of the login failed event will need to be sensitive to events arriving without some of the details filled in.&lt;/p&gt;</comment>
                            <comment id="16930908" author="cziegeler" created="Mon, 16 Sep 2019 22:23:17 +0000"  >&lt;p&gt;I know that this happens during integration tests, not sure in what state though&lt;/p&gt;</comment>
                            <comment id="16934573" author="enorman" created="Fri, 20 Sep 2019 16:58:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;&#160;Any chance you can recall which integration tests you are referring to?&#160; I couldn&apos;t find that stack trace in the&#160;sling-org-apache-sling-launchpad-testing log files, but maybe I am looking in the wrong place?&lt;/p&gt;</comment>
                            <comment id="16935052" author="cziegeler" created="Sat, 21 Sep 2019 14:43:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enorman&quot; class=&quot;user-hover&quot; rel=&quot;enorman&quot;&gt;enorman&lt;/a&gt; These were some AEM internal tests and we have many of them and its now hard to find out the exact one that failed. But regardless, isn&apos;t this up to the auth handler to make sure to return the user on a failed login. So an auth handler might not return it &lt;/p&gt;</comment>
                            <comment id="16935116" author="enorman" created="Sat, 21 Sep 2019 18:18:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;&#160;Well, ok then.&#160; I guess the details are in a black box that you can&apos;t share?&lt;/p&gt;

&lt;p&gt;I was mostly interested in whether the login failures were from a real world scenario that may happen in a production sling deployment.&#160; If there are circumstances where a real end user login attempt may fail without any details about who the user was, then I was curious if that was expected/normal or some symptom of something going wrong elsewhere.&#160;&lt;/p&gt;

&lt;p&gt;For example, I was consuming the login failed events to implement a failed login throttling solution to mitigate brute force login attacks.&#160; And obviously, if there is a use case where real login attempts can happen without the failed login events knowing who the user was, then that solution is not going to work.&#160; I can&apos;t block login attempts for the offending user if I don&apos;t know who it was.&lt;/p&gt;

&lt;p&gt;I guess I&apos;ll be forced to just take your word for it that your fix is correct.&lt;/p&gt;</comment>
                            <comment id="16935192" author="cziegeler" created="Sun, 22 Sep 2019 02:45:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enorman&quot; class=&quot;user-hover&quot; rel=&quot;enorman&quot;&gt;enorman&lt;/a&gt; Our API is a little bit unclear whether AuthenticationInfo#getUser must return a user for this case. It can be interpreted in a way that null is a valid value. And it depends in an AuthenticationHandler to ensure this; as AuthenticationHandlers are plugins potentially written outside of Sling, we can&apos;t check/fix that code &lt;b&gt;if&lt;/b&gt; we would require getUser to return something.&lt;br/&gt;
Now, before the event sending was introduced, returning null worked and didn&apos;t cause problems. The newly introduced event handling code broke the previous behaviour.&lt;br/&gt;
Or in short: I think it&apos;s fine to check for null to not break anything; I also think it would be good to fix handlers returning no user.&lt;br/&gt;
There are two ways to fix the issue: one is to not send the user property if the information is null (like my change did), the other option would be to not send the event at all.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 5 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z06oe8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8690] Servlet Helpers: MockSlingHttpServletRequest.getContextPath should return &quot;&quot; by default</title>
                <link>https://issues.apache.org/jira/browse/SLING-8690</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;according to the JavaDocs of the  &lt;tt&gt;HttpServletRequest.getContextPath&lt;/tt&gt; method should return &quot;&quot; and not null for servlets registered to the root context path (which is the default for the mocks).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13255577">SLING-8690</key>
            <summary>Servlet Helpers: MockSlingHttpServletRequest.getContextPath should return &quot;&quot; by default</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Sep 2019 09:10:05 +0000</created>
                <updated>Mon, 4 Nov 2019 10:04:28 +0000</updated>
                            <resolved>Mon, 9 Sep 2019 09:14:17 +0000</resolved>
                                    <version>Servlet Helpers 1.2.0</version>
                                    <fixVersion>Servlet Helpers 1.3.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16925506" author="sseifert@pro-vision.de" created="Mon, 9 Sep 2019 09:14:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-servlet-helpers/commit/9649aaca8d5e729bf7b6fb09c50827ce6aae4215&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-servlet-helpers/commit/9649aaca8d5e729bf7b6fb09c50827ce6aae4215&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z06gcg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8682] IT apis-jar-wrapped-flattened-classes fails</title>
                <link>https://issues.apache.org/jira/browse/SLING-8682</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With the correction of subpackage handling in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8681&quot; title=&quot;Correct javadoc subpackages handling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8681&quot;&gt;&lt;del&gt;SLING-8681&lt;/del&gt;&lt;/a&gt; the apis-jar-wrapped-flattened-classes fails now.&lt;br/&gt;
This might be a bug in our api handling code as the javadoc command does not get a source&lt;/p&gt;</description>
                <environment></environment>
        <key id="13255277">SLING-8682</key>
            <summary>IT apis-jar-wrapped-flattened-classes fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="simone.tripodi">Simone Tripodi</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Sep 2019 13:59:55 +0000</created>
                <updated>Thu, 13 Feb 2020 08:53:09 +0000</updated>
                            <resolved>Mon, 9 Sep 2019 16:50:27 +0000</resolved>
                                                    <fixVersion>slingfeature-maven-plugin 1.1.2</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16925470" author="krystian" created="Mon, 9 Sep 2019 08:44:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;: Isn&apos;t it the case that when sourcesDir is empty, no javadoc at all should be generated anyway? I was checking what happens in IT apis-jar-wrapped-flattened-classes in both Java 8 and Java 11 case.&lt;br/&gt;
 Even though in Java 8 it seems fine from outside:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;docker volume create --name maven-repo
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;docker run -it --rm --name my-maven-project -v maven-repo:/root/.m2 -v &quot;$(pwd)&quot;:/usr/src/mymaven -w /usr/src/mymaven maven:3.6.1-jdk-8 mvn clean install
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;pretends to work OK:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] Building: apis-jar-wrapped-flattened-classes/pom.xml
[INFO] run post-build script verify.bsh
[INFO]           apis-jar-wrapped-flattened-classes/pom.xml ....... SUCCESS (92.2 s)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(...)&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] BUILD SUCCESS
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;b&gt;BUT&lt;/b&gt; when changing the directory:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;cd target/it/apis-jar-wrapped-flattened-classes
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and running:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;docker run -it --rm --name my-maven-project -v maven-repo:/root/.m2 -v &quot;$(pwd)&quot;:/usr/src/mymaven -w /usr/src/mymaven maven:3.6.1-jdk-8 mvn clean install
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;we get:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] --- slingfeature-maven-plugin:1.1.1-SNAPSHOT:apis-jar (analyze) @ slingfeature-maven-plugin-test ---
[INFO] Building jar: /usr/src/mymaven/target/apis-jars/slingfeature-maven-plugin-test-1.0.0-SNAPSHOT-base-apis.jar
[INFO] Building jar: /usr/src/mymaven/target/apis-jars/slingfeature-maven-plugin-test-1.0.0-SNAPSHOT-base-sources.jar
[INFO] Executing javadoc tool: [/usr/local/openjdk-8/jre/../bin/javadoc, @/usr/src/mymaven/target/apis-jars/slingfeature-maven-plugin-test/base/base-javadoc]
[INFO] 
javadoc: error - No packages or classes specified.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(...)&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;1 error
[INFO] Building jar: /usr/src/mymaven/target/apis-jars/slingfeature-maven-plugin-test-1.0.0-SNAPSHOT-base-javadoc.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(...)&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] BUILD SUCCESS
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In Java 11 instead:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;docker run -it --rm --name my-maven-project -v maven-repo:/root/.m2 -v &quot;$(pwd)&quot;:/usr/src/mymaven -w /usr/src/mymaven maven:3.6.1-jdk-11 mvn clean install
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;results in expliticly failed IT:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] Building: apis-jar-wrapped-flattened-classes/pom.xml
[INFO] run post-build script verify.bsh
[INFO]           apis-jar-wrapped-flattened-classes/pom.xml ....... FAILED (88.2 s)
[INFO]   The build exited with code 1. See /usr/src/mymaven/target/it/apis-jar-wrapped-flattened-classes/build.log for details.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;resulting in:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] -------------------------------------------------
[INFO] Build Summary:
[INFO]   Passed: 7, Failed: 1, Errors: 0, Skipped: 0
[INFO] -------------------------------------------------
[ERROR] The following builds failed:
[ERROR] *  apis-jar-wrapped-flattened-classes/pom.xml
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] BUILD FAILURE
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Also diving into the specific directory:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;cd target/it/apis-jar-wrapped-flattened-classes
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and running:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;docker run -it --rm --name my-maven-project -v maven-repo:/root/.m2 -v &quot;$(pwd)&quot;:/usr/src/mymaven -w /usr/src/mymaven maven:3.6.1-jdk-11 mvn clean install
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;we get an explicit javadoc error (similar to the one in Java 8 case, but this one fails the outer build, hence it was visible from outside):&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] --- slingfeature-maven-plugin:1.1.1-SNAPSHOT:apis-jar (analyze) @ slingfeature-maven-plugin-test ---
[INFO] Building jar: /usr/src/mymaven/target/apis-jars/slingfeature-maven-plugin-test-1.0.0-SNAPSHOT-base-apis.jar
[INFO] Building jar: /usr/src/mymaven/target/apis-jars/slingfeature-maven-plugin-test-1.0.0-SNAPSHOT-base-sources.jar
[INFO] Executing javadoc tool: [/usr/local/openjdk-11/bin/javadoc, @/usr/src/mymaven/target/apis-jars/slingfeature-maven-plugin-test/base/base-javadoc]
[INFO] 
javadoc: error - No modules, packages or classes specified.
1 error
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;So it seems in case when &lt;em&gt;sourcesDir&lt;/em&gt; list in &lt;a href=&quot;https://github.com/apache/sling-slingfeature-maven-plugin/blob/master/src/main/java/org/apache/sling/feature/maven/mojos/ApisJarMojo.java#L258-L260&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-slingfeature-maven-plugin/blob/master/src/main/java/org/apache/sling/feature/maven/mojos/ApisJarMojo.java#L258-L260&lt;/a&gt; is empty, both in Java 8 and Java 11 the &lt;em&gt;javadoc&lt;/em&gt; exec invocation fails, but the failure is not propagated up in Java 8, only in Java 11 case, hence only then it was visible from outside in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8597&quot; title=&quot;Build fails with java 11&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8597&quot;&gt;&lt;del&gt;SLING-8597&lt;/del&gt;&lt;/a&gt; and the resulting &lt;a href=&quot;https://github.com/apache/sling-slingfeature-maven-plugin/commit/23e848409876cfa35b0ec8669612d73351f4e2e3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-slingfeature-maven-plugin/commit/23e848409876cfa35b0ec8669612d73351f4e2e3&lt;/a&gt; - possibly &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8681&quot; title=&quot;Correct javadoc subpackages handling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8681&quot;&gt;&lt;del&gt;SLING-8681&lt;/del&gt;&lt;/a&gt; could be extended into not calling &lt;em&gt;javadoc&lt;/em&gt; exec at all if &lt;em&gt;sourcesDir&lt;/em&gt; list is empty. It would result in not having javadocs jar produced in this case, but the jar produced in Java 8&apos;s case (when the error doesn&apos;t stop the build) is almost empty anyway:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ unzip -l target/apis-jars/slingfeature-maven-plugin-test-1.0.0-SNAPSHOT-base-javadoc.jar
Archive:  target/apis-jars/slingfeature-maven-plugin-test-1.0.0-SNAPSHOT-base-javadoc.jar
  Length      Date    Time    Name
---------  ---------- -----   ----
      201  09-09-2019 08:41   META-INF/MANIFEST.MF
        0  09-09-2019 08:41   META-INF/
        0  09-09-2019 08:41   META-INF/maven/
        0  09-09-2019 08:41   META-INF/maven/org.apache.sling/
        0  09-09-2019 08:41   META-INF/maven/org.apache.sling/slingfeature-maven-plugin-test/
     2110  09-09-2019 08:24   META-INF/maven/org.apache.sling/slingfeature-maven-plugin-test/pom.xml
      121  09-09-2019 08:41   META-INF/maven/org.apache.sling/slingfeature-maven-plugin-test/pom.properties
---------                     -------
     2432                     7 files
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16925559" author="simone.tripodi" created="Mon, 9 Sep 2019 10:15:14 +0000"  >&lt;p&gt;Theoretically, there shouldn&apos;t be cases where sources directories are empty - that means that:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;the MOJO was not able to checkout sources, so please have a look at the WARNING messages in the build log;&lt;/li&gt;
	&lt;li&gt;or, worst case, a region does not export any APIs: that case IMHO should be prevented during the Analyzer phase.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16925635" author="krystian" created="Mon, 9 Sep 2019 12:18:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=simone.tripodi&quot; class=&quot;user-hover&quot; rel=&quot;simone.tripodi&quot;&gt;simone.tripodi&lt;/a&gt; - it turned out that the Java package in apis-jar-wrapped-flattened-classes IT API region exports was in fact not existing in bundle&apos;s sources jar making the directory empty and exposing the edge case (which was explicitly visible in Java 9+, here Java 11, but not obviously visible in Java 8 without going into wrapped IT Maven subprojects).&lt;br/&gt;
Please have a look at this PR for IT test config fix and protection against such edge case in MOJO: &lt;a href=&quot;https://github.com/apache/sling-slingfeature-maven-plugin/pull/38&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-slingfeature-maven-plugin/pull/38&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16925919" author="krystian" created="Mon, 9 Sep 2019 16:49:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;: PR is merge by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=simone.tripodi&quot; class=&quot;user-hover&quot; rel=&quot;simone.tripodi&quot;&gt;simone.tripodi&lt;/a&gt; - thanks! This ticket can be therefore mark as resolved and ready for 1.1.2 release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13246801">SLING-8597</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13255276">SLING-8681</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 7 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z06ehs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8681] Correct javadoc subpackages handling</title>
                <link>https://issues.apache.org/jira/browse/SLING-8681</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently subpackages are specified with a &quot;=&quot; which is wrong. It should be done without it as a separate argument&lt;br/&gt;
However, subpackages is always specified even if the package list is empty.&lt;/p&gt;

&lt;p&gt;Unfortunately correcting this code will make the apis-jar-wrapped-flattened-classes IT test fail which seems to be another bug in our code&lt;/p&gt;</description>
                <environment></environment>
        <key id="13255276">SLING-8681</key>
            <summary>Correct javadoc subpackages handling</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Sep 2019 13:55:07 +0000</created>
                <updated>Thu, 13 Feb 2020 08:53:09 +0000</updated>
                            <resolved>Fri, 6 Sep 2019 13:59:03 +0000</resolved>
                                    <version>slingfeature-maven-plugin 1.1.0</version>
                                    <fixVersion>slingfeature-maven-plugin 1.1.2</fixVersion>
                                    <component>Feature Model</component>
                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16924270" author="cziegeler" created="Fri, 6 Sep 2019 13:59:03 +0000"  >&lt;p&gt;Fixed in rev 58d4dc4&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13246801">SLING-8597</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13255277">SLING-8682</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z06ehk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8676] Prototype does not allow to remove requirements and capabilities</title>
                <link>https://issues.apache.org/jira/browse/SLING-8676</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Prototype does not allow to remove requirements and capabilities&lt;br/&gt;
(Code has a todo)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13254959">SLING-8676</key>
            <summary>Prototype does not allow to remove requirements and capabilities</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Sep 2019 09:43:09 +0000</created>
                <updated>Mon, 2 Mar 2020 16:53:32 +0000</updated>
                            <resolved>Mon, 24 Feb 2020 14:07:07 +0000</resolved>
                                                    <fixVersion>Feature Model 1.1.4</fixVersion>
                    <fixVersion>Feature Model IO 1.3.0</fixVersion>
                                    <component>Feature Model</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17043543" author="cziegeler" created="Mon, 24 Feb 2020 14:02:09 +0000"  >&lt;p&gt;Added methods to get the removals for requirements and capabilities in rev 4406100 to the feature model&lt;/p&gt;</comment>
                            <comment id="17043547" author="cziegeler" created="Mon, 24 Feb 2020 14:07:07 +0000"  >&lt;p&gt;Added reading and writing to/from JSON in rev da153c7 to feature.io&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z06cj4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8674] Tooling Support Install bundle does not resolve on Starter 12-SNAPSHOT</title>
                <link>https://issues.apache.org/jira/browse/SLING-8674</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This is caused by the migration to commons-lang3 (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-7953&quot; title=&quot;Switch from legacy commons lang 2 to commons lang 3&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-7953&quot;&gt;&lt;del&gt;SLING-7953&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;04.09.2019 15:22:33.954 *ERROR* [FelixStartLevel] ERROR: Bundle &apos;181&apos; Error starting inputstream:org.apache.sling.tooling.support.install-1.0.4.jar (org.osgi.framework.BundleException: Unable to resolve org.apache.sling.tooling.support.install [181](R 181.0): missing requirement [org.apache.sling.tooling.support.install [181](R 181.0)] osgi.wiring.package; (&amp;amp;(osgi.wiring.package=org.apache.commons.lang)(version&amp;gt;=2.4.0)(!(version&amp;gt;=3.0.0))) Unresolved requirements: [[org.apache.sling.tooling.support.install [181](R 181.0)] osgi.wiring.package; (&amp;amp;(osgi.wiring.package=org.apache.commons.lang)(version&amp;gt;=2.4.0)(!(version&amp;gt;=3.0.0)))])
org.osgi.framework.BundleException: Unable to resolve org.apache.sling.tooling.support.install [181](R 181.0): missing requirement [org.apache.sling.tooling.support.install [181](R 181.0)] osgi.wiring.package; (&amp;amp;(osgi.wiring.package=org.apache.commons.lang)(version&amp;gt;=2.4.0)(!(version&amp;gt;=3.0.0))) Unresolved requirements: [[org.apache.sling.tooling.support.install [181](R 181.0)] osgi.wiring.package; (&amp;amp;(osgi.wiring.package=org.apache.commons.lang)(version&amp;gt;=2.4.0)(!(version&amp;gt;=3.0.0)))]
	at org.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:4368)
	at org.apache.felix.framework.Felix.startBundle(Felix.java:2281)
	at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1539)
	at org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:308)
	at java.base/java.lang.Thread.run(Thread.java:834)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13254713">SLING-8674</key>
            <summary>Tooling Support Install bundle does not resolve on Starter 12-SNAPSHOT</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Sep 2019 13:32:48 +0000</created>
                <updated>Wed, 4 Sep 2019 13:40:51 +0000</updated>
                            <resolved>Wed, 4 Sep 2019 13:40:51 +0000</resolved>
                                                    <fixVersion>Tooling Support Install 1.0.6</fixVersion>
                                    <component>Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16922492" author="rombert" created="Wed, 4 Sep 2019 13:40:51 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-tooling-support-install/commit/b36a0c7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;sling-org-apache-sling-tooling-support-install commit b36a0c7&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13187600">SLING-7953</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 8 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z06bj4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8672] Missing Constraint: Require-Capability: osgi.service; filter=&quot;(objectClass=com.codahale.metrics.MetricRegistry)&quot;</title>
                <link>https://issues.apache.org/jira/browse/SLING-8672</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;I&apos;m using org.apache.commons.scheduler 2.7.4 and&#160;io.dropwizard.metrics.core 3.2.6. When i launch the application from eclipse, o.a.c.scheduler complains that:&#160;Missing Constraint: Require-Capability: osgi.service; filter=&quot;(objectClass=com.codahale.metrics.MetricRegistry)&quot;. The&#160;com.codahale.metrics.MetricRegistry class is defined and exported by&#160;io.dropwizard.metrics.core but dropwizard.metrics.core never declare that it provide this class as Capability (i checked a few versions of io.dropwizard.metrics.core). Is it a bug that sling.commons.scheduler requires such capability ? I havent seen this error when i was running on eclipse oxygen but with recent upgrade to eclipse 201903, this shows up.&lt;/p&gt;

&lt;p&gt;About our running env:&lt;/p&gt;

&lt;p&gt;org.eclipse.osgi 3.14.0.v20190517-1309&lt;/p&gt;

&lt;p&gt;org.apache.felix.scr 2.1.14.v20190123-1619&lt;/p&gt;

&lt;p&gt;pax-web-extender-whiteboard 7.2.10&lt;/p&gt;

&lt;p&gt;jetty 9.4.18.v20190429&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13254466">SLING-8672</key>
            <summary>Missing Constraint: Require-Capability: osgi.service; filter=&quot;(objectClass=com.codahale.metrics.MetricRegistry)&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lnthai2002">Nhut Thai Le</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Sep 2019 19:42:54 +0000</created>
                <updated>Sun, 22 Dec 2019 09:05:43 +0000</updated>
                            <resolved>Sun, 22 Dec 2019 09:04:54 +0000</resolved>
                                    <version>Commons Scheduler 2.7.4</version>
                                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16925478" author="rombert" created="Mon, 9 Sep 2019 08:51:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lnthai2002&quot; class=&quot;user-hover&quot; rel=&quot;lnthai2002&quot;&gt;lnthai2002&lt;/a&gt; - we provide this capability out of our commons.metrics bundle - see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-7600&quot; title=&quot;Add missing OSGi capabilities&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-7600&quot;&gt;&lt;del&gt;SLING-7600&lt;/del&gt;&lt;/a&gt; / &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-metrics/commit/3ba0a61&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;sling-org-apache-sling-commons-metrics commit 3ba0a61&lt;/a&gt; . Would using that bundle instead of the dropwizard one work for you? Alternatively, maybe &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; has an idea, as we worked on the issue I referenced.&lt;/p&gt;</comment>
                            <comment id="16925510" author="olli" created="Mon, 9 Sep 2019 09:19:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lnthai2002&quot; class=&quot;user-hover&quot; rel=&quot;lnthai2002&quot;&gt;lnthai2002&lt;/a&gt;, Have a look at the &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-karaf-features/blob/master/src/main/feature/feature.xml#L116&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;sling-commons-scheduler&lt;/a&gt; &#8211; it lists all dependencies (no issue with Commons Scheduler). Maybe you can disable service requirements in Eclipse resolver.&lt;/p&gt;</comment>
                            <comment id="17001743" author="alpic80" created="Sat, 21 Dec 2019 16:27:42 +0000"  >&lt;p&gt;Thanks that did it&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12979257" name="launchErr.PNG" size="17972" author="lnthai2002" created="Tue, 3 Sep 2019 19:52:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z06aco:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8669] Maven warnings due to missing parent projects or POMs</title>
                <link>https://issues.apache.org/jira/browse/SLING-8669</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When building Clam 1.1.0 I get some Maven warnings. Probably harmless, but can&apos;t be 100% sure.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] ---------------&amp;lt; org.apache.sling:org.apache.sling.clam &amp;gt;---------------
[INFO] Building Apache Sling Clam 1.1.0                                   [1/2]
[INFO] --------------------------------[ jar ]---------------------------------
[WARNING] The POM for com.sun.xml.bind:jaxb-osgi:jar:2.2.10 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details
[INFO] 
[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ org.apache.sling.clam ---
[INFO] 
[INFO] --- maven-enforcer-plugin:3.0.0-M2:enforce (enforce-maven-version) @ org.apache.sling.clam ---
[INFO] 
[INFO] --- maven-enforcer-plugin:3.0.0-M2:enforce (enforce-property-values) @ org.apache.sling.clam ---
[INFO] 
[INFO] --- maven-enforcer-plugin:3.0.0-M2:enforce (enforce-java-version) @ org.apache.sling.clam ---
[INFO] 
[INFO] --- maven-enforcer-plugin:3.0.0-M2:enforce (ban-maven-scr-plugin) @ org.apache.sling.clam ---
[INFO] 
[INFO] --- maven-enforcer-plugin:3.0.0-M2:enforce (ban-felix-scr-annotations) @ org.apache.sling.clam ---
[INFO] 
[INFO] --- maven-enforcer-plugin:3.0.0-M2:enforce (ban-maven-bundle-plugin) @ org.apache.sling.clam ---
[INFO] 
[INFO] --- maven-enforcer-plugin:3.0.0-M2:enforce (ban-maven-sling-plugin) @ org.apache.sling.clam ---
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.5:process (process-resource-bundles) @ org.apache.sling.clam ---
[WARNING] Failed to build parent project for com.sun.xml.bind.mvn:jaxb-bundles:pom:2.2.10
[WARNING] Failed to build parent project for com.sun.xml.bind.mvn:jaxb-osgi:pom:2.2.10
[WARNING] Failed to build parent project for com.sun.xml.bind:jaxb-osgi:jar:2.2.10
[WARNING] Invalid POM for com.sun.xml.bind:jaxb-osgi:jar:2.2.10, transitive dependencies (if any) will not be available, enable debug logging for more details
[INFO]&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13254187">SLING-8669</key>
            <summary>Maven warnings due to missing parent projects or POMs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10004">Not A Bug</resolution>
                                        <assignee username="olli">Oliver Lietz</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Sep 2019 08:49:21 +0000</created>
                <updated>Thu, 13 Jul 2023 00:37:56 +0000</updated>
                            <resolved>Wed, 23 Jun 2021 10:53:51 +0000</resolved>
                                    <version>Testing PaxExam 3.1.0</version>
                                    <fixVersion>Testing PaxExam 4.0.0</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16920701" author="rombert" created="Mon, 2 Sep 2019 08:49:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; - FYI&lt;/p&gt;</comment>
                            <comment id="16920741" author="olli" created="Mon, 2 Sep 2019 09:56:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, The warning is harmless. The jar is a dependency&#160;of &lt;tt&gt;io.rest-assured:xml-path&lt;/tt&gt; and pulled in via Option &lt;tt&gt;restassured()&lt;/tt&gt; from Testing PaxExam.&lt;/p&gt;</comment>
                            <comment id="17368044" author="olli" created="Wed, 23 Jun 2021 10:53:51 +0000"  >&lt;p&gt;Most probably fixed by JAXB/REST Assured update in&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9687&quot; title=&quot;Update options and versions to latest features&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9687&quot;&gt;&lt;del&gt;SLING-9687&lt;/del&gt;&lt;/a&gt; or a Parent update.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z068mo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8667] [cp2fm] -SNAPSHOT sub content-packages are not overridden when extracting them from the main package</title>
                <link>https://issues.apache.org/jira/browse/SLING-8667</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;tt&gt;-SNAPSHOT&lt;/tt&gt; sub content-packages are not overridden when extracting them from the main package, so it happens that the previous version is used when building the target content-package.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13253923">SLING-8667</key>
            <summary>[cp2fm] -SNAPSHOT sub content-packages are not overridden when extracting them from the main package</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="simone.tripodi">Simone Tripodi</assignee>
                                    <reporter username="simone.tripodi">Simone Tripodi</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Aug 2019 12:30:24 +0000</created>
                <updated>Thu, 13 Feb 2020 08:46:00 +0000</updated>
                            <resolved>Fri, 30 Aug 2019 13:35:36 +0000</resolved>
                                                    <fixVersion>Content-Package to Feature Model Converter 1.0.2</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16919551" author="simone.tripodi" created="Fri, 30 Aug 2019 13:35:36 +0000"  >&lt;p&gt;fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/commit/acc3e9825730c86bfa92cb43ba210832fae0605e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;acc3e98&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 8 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z06700:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8666] slingstart-maven-plugin 1.8.4 or newer fail with &quot;Failed to delete: .../target/features/processed: File does not exist: .../target/features/processed</title>
                <link>https://issues.apache.org/jira/browse/SLING-8666</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Updating the sling starter to a more recent version of the &lt;tt&gt;slingstart-maven-plugin&lt;/tt&gt; fails:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] Scanning for projects...
[ERROR] Failed to delete: /home/robert/sources/apache/sling/org-apache-sling-starter/target/features/processed: File does not exist: /home/robert/sources/apache/sling/org-apache-sling-starter/target/features/processed -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MavenExecutionException
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Seems all lifecycle phases are affected (tried clean, package, test ).&lt;/p&gt;

&lt;p&gt;Running with &lt;tt&gt;-X&lt;/tt&gt; I see the following stack trace&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] Failed to delete: /home/robert/sources/apache/sling/org-apache-sling-starter/target/features/processed: File does not exist: /home/robert/sources/apache/sling/org-apache-sling-starter/target/features/processed -&amp;gt; [Help 1]
org.apache.maven.MavenExecutionException: Failed to delete: /home/robert/sources/apache/sling/org-apache-sling-starter/target/features/processed
    at org.apache.sling.maven.slingstart.DependencyLifecycleParticipant.afterProjectsRead (DependencyLifecycleParticipant.java:100)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:264)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)
    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)
    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:954)
    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)
    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)
    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)
    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)
    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke (Method.java:566)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)
    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)
    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)
Caused by: java.io.FileNotFoundException: File does not exist: /home/robert/sources/apache/sling/org-apache-sling-starter/target/features/processed
    at org.apache.commons.io.FileUtils.forceDelete (FileUtils.java:2275)
    at org.apache.sling.maven.slingstart.DependencyLifecycleParticipant.afterProjectsRead (DependencyLifecycleParticipant.java:98)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:264)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)
    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)
    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:954)
    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)
    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)
    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)
    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)
    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke (Method.java:566)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)
    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)
    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13253913">SLING-8666</key>
            <summary>slingstart-maven-plugin 1.8.4 or newer fail with &quot;Failed to delete: .../target/features/processed: File does not exist: .../target/features/processed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Aug 2019 11:43:47 +0000</created>
                <updated>Mon, 21 Oct 2019 05:45:33 +0000</updated>
                            <resolved>Fri, 30 Aug 2019 11:49:09 +0000</resolved>
                                    <version>Slingstart Maven Plugin 1.8.4</version>
                    <version>Slingstart Maven Plugin 1.8.6</version>
                    <version>Slingstart Maven Plugin 1.9.0</version>
                                    <fixVersion>Slingstart Maven Plugin 1.9.4</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16919468" author="rombert" created="Fri, 30 Aug 2019 11:49:09 +0000"  >&lt;p&gt;Fixed with &lt;a href=&quot;https://github.com/apache/sling-slingstart-maven-plugin/commit/f1ed3af&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;sling-slingstart-maven-plugin commit f1ed3af&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13239251">SLING-8488</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 8 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z066xs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8661] Moving Jira issues to next version fails with 405 status code</title>
                <link>https://issues.apache.org/jira/browse/SLING-8661</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Found Version: Dynamic Include 3.1.6 (id=12345726, fixed issues=3).
Should version Dynamic Include 3.1.8 be created?
Yes (y)/No (n)? [Yes (y)]: y
Created version Dynamic Include 3.1.8
Should the 2 unresolved issue(s) from version Dynamic Include 3.1.6 be moved to version Dynamic Include 3.1.8?
Yes (y)/No (n)? [Yes (y)]: y
Moving the following issues from Dynamic Include 3.1.6 to Dynamic Include 3.1.8.
- SLING-8427 : Sling Dynamic Include - TTL not being set on synthetic resources
- SLING-8255 : Use of mappings in SDI
java.lang.RuntimeException: java.io.IOException: Status line : HTTP/1.1 405 405
	at org.apache.sling.cli.impl.jira.VersionClient.moveIssueToNewVersion(VersionClient.java:351)
	at org.apache.sling.cli.impl.jira.VersionClient.lambda$moveIssuesToNewVersion$5(VersionClient.java:324)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(Unknown Source)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(Unknown Source)
	at org.apache.sling.cli.impl.jira.VersionClient.moveIssuesToNewVersion(VersionClient.java:324)
	at org.apache.sling.cli.impl.release.CreateJiraVersionCommand.run(CreateJiraVersionCommand.java:117)
	at picocli.CommandLine.executeUserObject(CommandLine.java:1687)
	at picocli.CommandLine.access$900(CommandLine.java:146)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:2059)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:2026)
	at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:1893)
	at picocli.CommandLine.execute(CommandLine.java:1822)
	at org.apache.sling.cli.impl.CommandProcessor.runCommand(CommandProcessor.java:110)
	at org.apache.sling.cli.impl.ExecutionTrigger.lambda$activate$0(ExecutionTrigger.java:33)
	at java.base/java.lang.Thread.run(Unknown Source)
Caused by: java.io.IOException: Status line : HTTP/1.1 405 405
	at org.apache.sling.cli.impl.jira.VersionClient.newException(VersionClient.java:245)
	at org.apache.sling.cli.impl.jira.VersionClient.moveIssueToNewVersion(VersionClient.java:345)
	... 14 more&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13253080">SLING-8661</key>
            <summary>Moving Jira issues to next version fails with 405 status code</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 Aug 2019 16:15:46 +0000</created>
                <updated>Mon, 26 Aug 2019 16:35:01 +0000</updated>
                            <resolved>Mon, 26 Aug 2019 16:35:01 +0000</resolved>
                                                    <fixVersion>Committer CLI 1.0.0</fixVersion>
                                    <component>Build and Source Control</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16915930" author="rombert" created="Mon, 26 Aug 2019 16:35:01 +0000"  >&lt;p&gt;Fixed with &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-committer-cli/commit/4bc0019&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;sling-org-apache-sling-committer-cli commit 4bc0019&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 9 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z061sw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8657] Remove the biz.aQute.bndlib dependency</title>
                <link>https://issues.apache.org/jira/browse/SLING-8657</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Scripting Bundle Tracker makes use of the &lt;tt&gt;biz.aQute.bndlib&lt;/tt&gt; library in order to programatically generate a &lt;tt&gt;Provide-Capability&lt;/tt&gt; header. However, that library shadows some core OSGi annotations which should be consumed from their respective libraries. Given that the &lt;tt&gt;aQute.bnd.annotation.headers.ProvideCapability&lt;/tt&gt; annotation can be replaced with &lt;tt&gt;org.osgi.annotation.bundle.Capability&lt;/tt&gt;, there&apos;s no reason to keep&#160;&lt;tt&gt;biz.aQute.bndlib as a dependency.&lt;/tt&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13253043">SLING-8657</key>
            <summary>Remove the biz.aQute.bndlib dependency</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 Aug 2019 14:00:17 +0000</created>
                <updated>Sun, 1 Sep 2019 19:37:45 +0000</updated>
                            <resolved>Mon, 26 Aug 2019 15:25:36 +0000</resolved>
                                                    <fixVersion>Scripting Bundle Tracker 0.1.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16915888" author="radu.cotescu" created="Mon, 26 Aug 2019 15:25:36 +0000"  >&lt;p&gt;Fixed in&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-bundle-tracker/commit/76d9a40&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 76d9a40&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 9 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z061ko:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8654] commons  html - html5 parser doesn&apos;t handle doctype correctly</title>
                <link>https://issues.apache.org/jira/browse/SLING-8654</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;doctype is not handled correctly by the parser due to a regression when the parser was refactored, it&apos;s handling the doctype like a start tag instead of declaration.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13252722">SLING-8654</key>
            <summary>commons  html - html5 parser doesn&apos;t handle doctype correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jebailey">Jason E Bailey</assignee>
                                    <reporter username="jebailey">Jason E Bailey</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Aug 2019 17:34:03 +0000</created>
                <updated>Mon, 30 Sep 2019 14:45:14 +0000</updated>
                            <resolved>Mon, 30 Sep 2019 14:45:14 +0000</resolved>
                                                    <fixVersion>Commons HTML 1.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 9 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z05zlk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-8652] Prototypes are not supported in multi-module builds</title>
                <link>https://issues.apache.org/jira/browse/SLING-8652</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In a multi-module build, if a module A represents the prototype for a second module B, the reactor build will fail with an error similar to:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] Scanning for projects...
[ERROR] Unable to get feature A:slingosgifeature:0.0.1-SNAPSHOT : Recursive feature dependency list including project MavenProject: B:0.0.1-SNAPSHOT @ ~/workspace/reactor/B/pom.xml
[ERROR] Internal error: java.lang.IllegalStateException: Unable to find prototype feature A:slingosgifeature:0.0.1-SNAPSHOT -&amp;gt; [Help 1]
org.apache.maven.InternalErrorException: Internal error: java.lang.IllegalStateException: Unable to find prototype feature A:slingosgifeature:0.0.1-SNAPSHOT
   at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:120)
   at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)
   at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)
   at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)
   at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)
   at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)
   at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)
   at java.lang.reflect.Method.invoke (Method.java:566)
   at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)
   at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)
   at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)
   at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)
Caused by: java.lang.IllegalStateException: Unable to find prototype feature A:slingosgifeature:0.0.1-SNAPSHOT
   at org.apache.sling.feature.builder.FeatureBuilder.internalAssemble (FeatureBuilder.java:314)
   at org.apache.sling.feature.builder.FeatureBuilder.assemble (FeatureBuilder.java:59)
   at org.apache.sling.feature.maven.Preprocessor.process (Preprocessor.java:216)
   at org.apache.sling.feature.maven.Preprocessor.process (Preprocessor.java:118)
   at org.apache.sling.feature.maven.mojos.DependencyLifecycleParticipant.afterProjectsRead (DependencyLifecycleParticipant.java:79)
   at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:264)
   at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)
   at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)
   at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)
   at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)
   at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)
   at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)
   at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)
   at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)
   at java.lang.reflect.Method.invoke (Method.java:566)
   at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)
   at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)
   at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)
   at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The workaround, when one wants to work with a multi-module setup, is to use aggregates to compose feature B, instead of relying on A as a prototype.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13252386">SLING-8652</key>
            <summary>Prototypes are not supported in multi-module builds</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Aug 2019 13:21:26 +0000</created>
                <updated>Thu, 13 Feb 2020 08:53:08 +0000</updated>
                            <resolved>Mon, 26 Aug 2019 08:03:51 +0000</resolved>
                                    <version>slingfeature-maven-plugin 1.0.6</version>
                    <version>slingfeature-maven-plugin 1.1.0</version>
                                    <fixVersion>slingfeature-maven-plugin 1.1.2</fixVersion>
                                    <component>Feature Model</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16913341" author="cziegeler" created="Thu, 22 Aug 2019 14:08:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu.cotescu&quot; class=&quot;user-hover&quot; rel=&quot;radu.cotescu&quot;&gt;radu.cotescu&lt;/a&gt; It would be great if you could provide a sample project for this. The code we have should actually handle this case&lt;/p&gt;</comment>
                            <comment id="16913378" author="radu.cotescu" created="Thu, 22 Aug 2019 14:39:04 +0000"  >&lt;p&gt;Here&apos;s a sample setup:&#160;&lt;a href=&quot;https://github.com/raducotescu/slingfeature-maven-plugin-multi-module-issue&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/raducotescu/slingfeature-maven-plugin-multi-module-issue&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16915571" author="cziegeler" created="Mon, 26 Aug 2019 08:03:51 +0000"  >&lt;p&gt;This was a classic copy/paste/refactoring bug. Fixed in rev 447e95b&lt;/p&gt;

&lt;p&gt;Please note, that it is not possible to use aggregates as prototypes across projects in a multi project setup. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 9 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z05xj4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>