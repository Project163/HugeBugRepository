diff --git a/src/main/java/org/apache/commons/exec/DefaultExecutor.java b/src/main/java/org/apache/commons/exec/DefaultExecutor.java
index 25618625..34274da9 100644
--- a/src/main/java/org/apache/commons/exec/DefaultExecutor.java
+++ b/src/main/java/org/apache/commons/exec/DefaultExecutor.java
@@ -198,7 +198,7 @@ public class DefaultExecutor implements Executor {
 
     /** @see org.apache.commons.exec.Executor#setExitValues(int[]) */
     public void setExitValues(final int[] values) {
-        this.exitValues = values;
+        this.exitValues = (int[]) values.clone();
     }
 
     /** @see org.apache.commons.exec.Executor#isFailure(int) */
diff --git a/src/main/java/org/apache/commons/exec/util/MapUtils.java b/src/main/java/org/apache/commons/exec/util/MapUtils.java
index 3e1f9736..e7552e60 100644
--- a/src/main/java/org/apache/commons/exec/util/MapUtils.java
+++ b/src/main/java/org/apache/commons/exec/util/MapUtils.java
@@ -65,11 +65,12 @@ public class MapUtils
             return null;
         }
 
-        Iterator iter = source.keySet().iterator();
+        Iterator iter = source.entrySet().iterator();
 
         while(iter.hasNext()) {
-            Object key = iter.next();
-            Object value = source.get(key);
+            Map.Entry entry = (Map.Entry) iter.next();
+            Object key = entry.getKey();
+            Object value = entry.getValue();
             result.put(prefix + '.' + key.toString(), value);
         }
 
