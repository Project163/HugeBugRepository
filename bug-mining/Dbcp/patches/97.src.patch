diff --git a/src/changes/changes.xml b/src/changes/changes.xml
index b0525075..fde22658 100644
--- a/src/changes/changes.xml
+++ b/src/changes/changes.xml
@@ -91,6 +91,10 @@ The <action> type attribute can be add,update,fix,remove.
         Fix thread safety issues in the SharedPoolDataSource and the
         PerUserPoolDataSource. 
       </action>
+      <action dev="markt" issue="DBCP-382" type="fix" due-to="Stefan Rempfer">
+        Allow accessToUnderlyingConnectionAllowed to be configured when
+        configuration takes place via JNDI in a JavaEE container.
+      </action>
     </release>
     <release version="1.5.1" date="TBD" description="TBD">
       <action dev="markt" issue="DBCP-400" type="fix">
diff --git a/src/java/org/apache/commons/dbcp2/cpdsadapter/DriverAdapterCPDS.java b/src/java/org/apache/commons/dbcp2/cpdsadapter/DriverAdapterCPDS.java
index 4c66a590..5c6feaff 100644
--- a/src/java/org/apache/commons/dbcp2/cpdsadapter/DriverAdapterCPDS.java
+++ b/src/java/org/apache/commons/dbcp2/cpdsadapter/DriverAdapterCPDS.java
@@ -335,6 +335,12 @@ public class DriverAdapterCPDS
                         Integer.parseInt(ra.getContent().toString()));
                 }
 
+                ra = ref.get("accessToUnderlyingConnectionAllowed");
+                if (ra != null && ra.getContent() != null) {
+                    setAccessToUnderlyingConnectionAllowed(
+                            Boolean.valueOf(ra.getContent().toString()).booleanValue());
+                }
+
                 cpds = this;
             }
         }
