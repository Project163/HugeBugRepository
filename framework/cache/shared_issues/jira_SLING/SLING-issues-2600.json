<!--
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Thu Oct 23 09:38:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+%22SLING%22+AND+issuetype+%3D+Bug+ORDER+BY+key+DESC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="2600" end="2800" total="4707"/>
                <build-info>
            <version>8.20.10</version>
            <build-number>820010</build-number>
            <build-date>22-06-2022</build-date>
        </build-info>

<item>
            <title>[SLING-4723] resourceresolver-mock: Make sure type conversion on write is applied on putAll method as well</title>
                <link>https://issues.apache.org/jira/browse/SLING-4723</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;due to a method overload matching error the type conversion is currently not applied on values written via putAll to a ValueMap.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830848">SLING-4723</key>
            <summary>resourceresolver-mock: Make sure type conversion on write is applied on putAll method as well</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                            <label>mocks</label>
                    </labels>
                <created>Mon, 18 May 2015 22:33:54 +0000</created>
                <updated>Mon, 18 May 2015 22:34:50 +0000</updated>
                            <resolved>Mon, 18 May 2015 22:34:50 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14549394" author="sseifert@pro-vision.de" created="Mon, 18 May 2015 22:34:50 +0000"  >&lt;p&gt;Completed: At revision: 1680117  &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 24 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ewdb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4716] Distribution packages should be deleted in case of import failure</title>
                <link>https://issues.apache.org/jira/browse/SLING-4716</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The LocalDistributionPackageImporter should delete the read package if the import fails.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830256">SLING-4716</key>
            <summary>Distribution packages should be deleted in case of import failure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mpetria">Marius Petria</assignee>
                                    <reporter username="mpetria">Marius Petria</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 May 2015 18:16:43 +0000</created>
                <updated>Wed, 5 Aug 2015 11:26:24 +0000</updated>
                            <resolved>Tue, 19 May 2015 10:59:45 +0000</resolved>
                                    <version>Content Distribution Core 0.1.1</version>
                                    <fixVersion>Content Distribution Core 0.1.4</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14550231" author="mpetria" created="Tue, 19 May 2015 10:59:45 +0000"  >&lt;p&gt;Committed revision 1680244.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 24 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2esr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4715] Event filter in ResourceEventDistributionTrigger is wrongly configured</title>
                <link>https://issues.apache.org/jira/browse/SLING-4715</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In line 88 and 89 of &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/contrib/extensions/distribution/core/src/main/java/org/apache/sling/distribution/trigger/impl/ResourceEventDistributionTrigger.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ResourceEventDistributionTrigger&lt;/a&gt; class we have:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;properties.put(EventConstants.EVENT_FILTER, &lt;span class=&quot;code-quote&quot;&gt;&quot;(path=&quot;&lt;/span&gt; + path + &lt;span class=&quot;code-quote&quot;&gt;&quot;/*)&quot;&lt;/span&gt;);
properties.put(EventConstants.EVENT_FILTER, &lt;span class=&quot;code-quote&quot;&gt;&quot;(!(&quot;&lt;/span&gt; + DEAConstants.PROPERTY_APPLICATION + &lt;span class=&quot;code-quote&quot;&gt;&quot;=*))&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;That way the event filter for a specifi path (line 88) is overriden by a filter from line 99 (distributed events). Hence trigger is distributing too many distribution requests. They of course are skipped by allowedRoots property in SimpleDistributionAgent but nevertheless it&apos;s an issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12829827">SLING-4715</key>
            <summary>Event filter in ResourceEventDistributionTrigger is wrongly configured</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10001">Pending Closed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="maciusio">Maciej Dybek</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 May 2015 11:49:53 +0000</created>
                <updated>Tue, 14 Feb 2017 09:30:57 +0000</updated>
                            <resolved>Thu, 14 May 2015 14:40:33 +0000</resolved>
                                    <version>Content Distribution Core 0.1.1</version>
                                    <fixVersion>Content Distribution Core 0.2.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14543550" author="githubbot" created="Thu, 14 May 2015 12:12:37 +0000"  >&lt;p&gt;GitHub user maciusio opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/90&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/90&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4715&quot; title=&quot;Event filter in ResourceEventDistributionTrigger is wrongly configured&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4715&quot;&gt;&lt;del&gt;SLING-4715&lt;/del&gt;&lt;/a&gt; - Event filter in ResourceEventDistributionTrigger is wrongly configured&lt;/p&gt;

&lt;p&gt;    You are setting event filter first to a given path and then to not handle events from other sling instances. But actually the path filter has been overriden. Probbaly you meant to have this filter configured like this.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/maciusio/sling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/maciusio/sling&lt;/a&gt; trunk&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/90.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/90.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #90&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 514ce5913ccbad9e1fdd1010a392f904806cb64b&lt;br/&gt;
Author: Maciej Dybek &amp;lt;maciej.dybek@cognifide.com&amp;gt;&lt;br/&gt;
Date:   2015-05-14T12:04:16Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4715&quot; title=&quot;Event filter in ResourceEventDistributionTrigger is wrongly configured&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4715&quot;&gt;&lt;del&gt;SLING-4715&lt;/del&gt;&lt;/a&gt; - Event filter in ResourceEventDistributionTrigger is wrongly configured&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14543556" author="maciusio" created="Thu, 14 May 2015 12:16:03 +0000"  >&lt;p&gt;I created a pull request with proposed solution: &lt;a href=&quot;https://github.com/apache/sling/pull/90&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/90&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14543737" author="teofili" created="Thu, 14 May 2015 14:35:07 +0000"  >&lt;p&gt;thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=maciusio&quot; class=&quot;user-hover&quot; rel=&quot;maciusio&quot;&gt;maciusio&lt;/a&gt; for this, I&apos;ll apply it right away.&lt;/p&gt;</comment>
                            <comment id="14543742" author="githubbot" created="Thu, 14 May 2015 14:40:11 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/90&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/90&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14543743" author="teofili" created="Thu, 14 May 2015 14:40:34 +0000"  >&lt;p&gt;fixed in r1679386&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 24 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2eq4n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4714] rep:policy childnodes are not packaged individually and import fails</title>
                <link>https://issues.apache.org/jira/browse/SLING-4714</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Trying to replicate /home/users/t/testuser6503/rep:policy/allow1. We should have this trimmed down to rep:policy and distribute all policies in one package.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12829212">SLING-4714</key>
            <summary>rep:policy childnodes are not packaged individually and import fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mpetria">Marius Petria</assignee>
                                    <reporter username="mpetria">Marius Petria</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 May 2015 15:00:06 +0000</created>
                <updated>Wed, 5 Aug 2015 11:25:34 +0000</updated>
                            <resolved>Wed, 3 Jun 2015 15:11:10 +0000</resolved>
                                    <version>Content Distribution Core 0.1.1</version>
                                    <fixVersion>Content Distribution Core 0.1.4</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14539981" author="mpetria" created="Tue, 12 May 2015 15:05:14 +0000"  >&lt;p&gt;Committed revision 1678968.&lt;/p&gt;</comment>
                            <comment id="14570979" author="mpetria" created="Wed, 3 Jun 2015 15:11:10 +0000"  >&lt;p&gt;This has been fixed by preventing the jcr trigger to distribute paths under rep:policy&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2emhb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4713] Update Sightly REPL to display generated Java source code</title>
                <link>https://issues.apache.org/jira/browse/SLING-4713</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With the improvements provided by &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4692&quot; title=&quot;Decouple Sightly from the JCR Compiler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4692&quot;&gt;&lt;del&gt;SLING-4692&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4693&quot; title=&quot;Write Sightly generated classes&amp;#39; source code to disk when the scripting engine is in dev mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4693&quot;&gt;&lt;del&gt;SLING-4693&lt;/del&gt;&lt;/a&gt; generated Sightly classes are generated to disk using the &lt;tt&gt;org.apache.sling.commons.fsclassloader&lt;/tt&gt; &lt;tt&gt;ClassLoaderWriter&lt;/tt&gt; implementation. Therefore, if the sources were generated, they should be displayed by the Sightly REPL using the new disk location.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12829200">SLING-4713</key>
            <summary>Update Sightly REPL to display generated Java source code</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 May 2015 14:31:14 +0000</created>
                <updated>Mon, 12 Oct 2015 13:27:26 +0000</updated>
                            <resolved>Tue, 12 May 2015 15:52:11 +0000</resolved>
                                    <version>Scripting Sightly REPL 1.0.0</version>
                                    <fixVersion>Scripting Sightly REPL 1.0.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14540088" author="radu.cotescu" created="Tue, 12 May 2015 15:52:11 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1678985&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1678985&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 25 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2emen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4712] Make Sightly testing-content explicitly import javax.inject 1.0.0</title>
                <link>https://issues.apache.org/jira/browse/SLING-4712</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Due to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3944&quot; title=&quot;org.apache.sling.scripting.java bundle exports javax.inject package in wrong version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3944&quot;&gt;&lt;del&gt;SLING-3944&lt;/del&gt;&lt;/a&gt; the Apache Sling Scripting Testing Content bundle should explicitly import the &lt;tt&gt;javax.inject;version=1.0.0&lt;/tt&gt; package.&lt;/p&gt;

&lt;p&gt;The &lt;tt&gt;javax.inject&lt;/tt&gt; package is transitively imported due to the use of the &lt;tt&gt;org.apache.sling.models.api&lt;/tt&gt;, version 1.1.0.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12829161">SLING-4712</key>
            <summary>Make Sightly testing-content explicitly import javax.inject 1.0.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 May 2015 10:53:50 +0000</created>
                <updated>Tue, 14 Jul 2015 15:27:40 +0000</updated>
                            <resolved>Tue, 12 May 2015 15:51:23 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14540087" author="radu.cotescu" created="Tue, 12 May 2015 15:51:23 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1678984&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1678984&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12742099">SLING-3944</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 25 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2em5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4711] Syncing via a coordinate agent - conflicts resolution</title>
                <link>https://issues.apache.org/jira/browse/SLING-4711</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Basically this issue should be treated as a question/bug.&lt;/p&gt;

&lt;p&gt;I&apos;m trying to synchronize two Sling instances A and B via a (third) coordinating instance C. This scenario is described &lt;a href=&quot;https://github.com/apache/sling/tree/trunk/contrib/extensions/distribution#sync-distribution&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I am using SyncDistributionAgentFactory on the syncing instance and QueueDistributionAgentFactory on synced instances.&lt;br/&gt;
On the syncing instance I&apos;m using ScheduledDistributionTrigger which runs every 60 seconds.&lt;/p&gt;

&lt;p&gt;The scenario I wanted to test is conflict resolution. I made changes to the same resource on both &quot;publish&quot; instances A and B. On A instance I changed property X to value &quot;A&quot; and on B instance I changed the same property  to value &quot;B&quot; &lt;/p&gt;

&lt;p&gt;Currently the algorithm is as follows:&lt;br/&gt;
1. The syncing agent retrieves distribution packagages from both synced instances A and B.&lt;br/&gt;
2. The syncing agent have now two packagages which should be send to importers on synced instances.&lt;br/&gt;
3. The agent checks the first package and it sees that the package is from instance A thus it is not going to send the package to A instance. The agent sends the package to B instance. On B instance property X is of value &quot;A&quot;.&lt;br/&gt;
4. The agent checks the second package and it sees that the package is from instance B thus it sends the package only to A instance. On A instance property X is of value B.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Actual results:&lt;/b&gt;&lt;br/&gt;
Instances A and B are unsynchronized because the same property is of different values on both of them.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Expected results:&lt;/b&gt;&lt;br/&gt;
Instances A and B should have the same content.&lt;/p&gt;

&lt;p&gt;The question is if this is expected behaviour? Should I use some other implementations to sync my Sling instances?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12829100">SLING-4711</key>
            <summary>Syncing via a coordinate agent - conflicts resolution</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="maciusio">Maciej Dybek</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 May 2015 06:40:43 +0000</created>
                <updated>Thu, 14 May 2015 12:09:23 +0000</updated>
                                            <version>Content Distribution Core 0.1.1</version>
                                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14539436" author="mpetria" created="Tue, 12 May 2015 07:26:27 +0000"  >&lt;p&gt;I think you are right, the property is actually switched between instances.&lt;/p&gt;

&lt;p&gt;We can probably solve this in two ways:&lt;br/&gt;
1. Drop the optimization that makes a package not to be sent back to the originating instance. This way the packages are always sent to all instances and because they are added in the the order of receiving to the import queues then the &quot;sameness&quot; is preserved (last one wins)&lt;br/&gt;
2. Improve the optimization such that a package that modifies the same path erases all the other packages that are already in import queues and modify the same paths. This seems harder to implement.  &lt;/p&gt;</comment>
                            <comment id="14539453" author="maciusio" created="Tue, 12 May 2015 07:40:15 +0000"  >&lt;p&gt;Yes, I thought myself about the second option.&lt;br/&gt;
I also added an image depicting the conflict scenario.&lt;/p&gt;</comment>
                            <comment id="14539568" author="mpetria" created="Tue, 12 May 2015 09:20:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=maciusio&quot; class=&quot;user-hover&quot; rel=&quot;maciusio&quot;&gt;maciusio&lt;/a&gt;, I talked a bit with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=teofili&quot; class=&quot;user-hover&quot; rel=&quot;teofili&quot;&gt;teofili&lt;/a&gt; about how we should implement that. It looks that we might need to make the routing/dispatching strategy pluggable. Meaning we should allow different strategies to decide whether a package should be sent to an endpoint.&lt;/p&gt;

&lt;p&gt;Can you please let us know more about your usecase, what kind of content are you synchronizing. Do you expect concurrent writes on the same node?&lt;/p&gt;</comment>
                            <comment id="14541620" author="maciusio" created="Wed, 13 May 2015 08:55:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mpetria&quot; class=&quot;user-hover&quot; rel=&quot;mpetria&quot;&gt;mpetria&lt;/a&gt; I&apos;m just playing with this feature on Adobe Experience manager. Sling Distribution Content has been included in 6.1 to sync community users. I was just curious how you manage conflicts in case the same user profile is updated on two different publish instances. That&apos;s how I reproduced the issue.&lt;/p&gt;

&lt;p&gt;Sling Distribution Content looks very interesting to us and we may want to use it in the feature for different purposes. At this time we already can see a few possible practical applications of SLC (Sling Distribution Content) however right now I don&apos;t have a real use case scenario where we would expect concurrent writes on the same node.&lt;/p&gt;</comment>
                            <comment id="14543548" author="mpetria" created="Thu, 14 May 2015 12:09:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=maciusio&quot; class=&quot;user-hover&quot; rel=&quot;maciusio&quot;&gt;maciusio&lt;/a&gt; SDC in the context of community users does not have the requirement of concurrent writes on different instances. The setup is assumed to be based on sticky sessions and one user can edit its profile only on one instance.&lt;/p&gt;

&lt;p&gt;In fact in this context it is required &lt;b&gt;not&lt;/b&gt; to distribute back to the originating instance, as that would make the experience rather annoying for an user that is in the process of editing its profile (any temporary changes on that instance will be temporarily overwritten by older content).&lt;/p&gt;

&lt;p&gt;I am not sure how we can keep this requirement in place (do not distribute back) and also fix the current issue of concurrent writes that switch content. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12732181" name="screenshot-1.png" size="62265" author="maciusio" created="Tue, 12 May 2015 07:40:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 24 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2elsv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4701] SlingAuthenticator.isAnonAllowed matches for all paths starting with the same characters</title>
                <link>https://issues.apache.org/jira/browse/SLING-4701</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The SlingAuthenticator check if anonymous access is allowed compares paths with String.startsWith. If the holder.path does not end with a &apos;/&apos; it will erroneously match a different path that starts with the same characters, even if it is not a descendant of the first path. &lt;/p&gt;

&lt;p&gt;Example:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Allow anonymous acces on &apos;/&apos;&lt;/li&gt;
	&lt;li&gt;Deny anonymous access on a path &apos;/blubb&apos;&lt;br/&gt;
-&amp;gt; Authentication is enforced on a request to &apos;/blubb-blah&apos; - which is wrong.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12828021">SLING-4701</key>
            <summary>SlingAuthenticator.isAnonAllowed matches for all paths starting with the same characters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="chaotic">Lars Krapf</reporter>
                        <labels>
                            <label>authentication</label>
                    </labels>
                <created>Thu, 7 May 2015 14:15:12 +0000</created>
                <updated>Wed, 14 Sep 2016 11:22:08 +0000</updated>
                            <resolved>Tue, 3 Nov 2015 13:17:10 +0000</resolved>
                                    <version>Auth Core 1.3.6</version>
                                                    <component>Authentication</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14532715" author="chaotic" created="Thu, 7 May 2015 14:16:18 +0000"  >&lt;p&gt;Attached possible patch.&lt;/p&gt;</comment>
                            <comment id="14978408" author="santiagozky" created="Wed, 28 Oct 2015 13:23:52 +0000"  >&lt;p&gt;I stumble with the same issue and didn&apos;t realize there was already a ticket for this.&lt;br/&gt;
I&apos;ve also created a fix for this. I think Lars patch doesn&apos;t take into consideration the case where the path matches exactly (without trailing slash). I created a isWithin method in the PathBasedHolder to encapsulate the logic there.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling/pull/109&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/109&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14985172" author="santiagozky" created="Mon, 2 Nov 2015 12:52:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; brought to my attention that the documentation is not clear enough to tell if the current behavior is correct or not.&lt;br/&gt;
in &lt;a href=&quot;https://sling.apache.org/documentation/the-sling-engine/authentication/authentication-authenticationhandler.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/the-sling-engine/authentication/authentication-authenticationhandler.html&lt;/a&gt; it implies that the check is just a string match. If this is correct, the current behavior is correct:&lt;br/&gt;
`When looking for an AuthenticationHandler the authentication handler is selected whose path is the longest match on the request URL `&lt;/p&gt;

&lt;p&gt;then in  &lt;a href=&quot;https://sling.apache.org/documentation/the-sling-engine/authentication/authentication-framework.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/the-sling-engine/authentication/authentication-framework.html&lt;/a&gt; it says that each entry represent a subtree. In this case, the current behavior is wrong.&lt;br/&gt;
`Any entry prefixed with a dash - defines a subtree for which authentication is not required. Any entry not prefixed with a dash or prefixed with a plus + defines a subtree for which authentication is required up front and thus anonymous access is not allowed. This list is empty by default`&lt;/p&gt;</comment>
                            <comment id="14987147" author="kwin" created="Tue, 3 Nov 2015 11:49:38 +0000"  >&lt;p&gt;I came to the conclusion that both the &lt;tt&gt;sling.auth.requirements&lt;/tt&gt; (&lt;a href=&quot;https://sling.apache.org/documentation/the-sling-engine/authentication/authentication-framework.html#anonymous-login&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/the-sling-engine/authentication/authentication-framework.html#anonymous-login&lt;/a&gt;) as well as the &lt;tt&gt;AuthenticationHandler&lt;/tt&gt; path (&lt;a href=&quot;https://sling.apache.org/documentation/the-sling-engine/authentication/authentication-authenticationhandler.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/the-sling-engine/authentication/authentication-authenticationhandler.html&lt;/a&gt;) are only used to be compared against the request path.&lt;/p&gt;

&lt;p&gt;The request path for resource &apos;/blubb&apos; or subresources may look like any of the following:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/blubb.html&lt;/li&gt;
	&lt;li&gt;/blubb.selector.html&lt;/li&gt;
	&lt;li&gt;/blubb.html/suffix&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Both patches don&apos;t look correct to me (because some of the above mentioned cases are not covered).&lt;br/&gt;
I would therefore rather clarify in the documentation that there is a comparison if the request path starts with the given path and then leave it at that.&lt;/p&gt;

&lt;p&gt;To cover the case from above where you want to allow anonymous access to &apos;/blubb&apos; but not &apos;/blubb-blah&apos; you would have to give the following &lt;tt&gt;sling.auth.requirements&lt;/tt&gt;:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;/blubb/&lt;/li&gt;
	&lt;li&gt;/blubb.html (if necessary)&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="14987204" author="santiagozky" created="Tue, 3 Nov 2015 12:47:06 +0000"  >&lt;p&gt;thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;. Clarifying the doc also works for me. I think only the authentication framework page needs updating, but you know better.&lt;/p&gt;</comment>
                            <comment id="14987247" author="kwin" created="Tue, 3 Nov 2015 13:16:34 +0000"  >&lt;p&gt;I applied a slightly different version of &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=santiagozky&quot; class=&quot;user-hover&quot; rel=&quot;santiagozky&quot;&gt;santiagozky&lt;/a&gt;&apos;s documentation patch. Please check the new documentation at &lt;a href=&quot;https://sling.apache.org/documentation/the-sling-engine/authentication/authentication-framework.html#anonymous-login&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/the-sling-engine/authentication/authentication-framework.html#anonymous-login&lt;/a&gt;. &lt;br/&gt;
I am closing this bug as &quot;Invalid&quot; as a change here would not be backward-compatible and there is a valid workaround for the original issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13004583">SLING-6053</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12731182" name="SlingAuthenticator.patch" size="952" author="chaotic" created="Thu, 7 May 2015 14:16:18 +0000"/>
                            <attachment id="12770316" name="sling-4701-doc.patch" size="2821" author="santiagozky" created="Tue, 3 Nov 2015 12:47:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ef93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4699] Shared packages can be lost due to concurrency in multiple queues</title>
                <link>https://issues.apache.org/jira/browse/SLING-4699</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When adding a package to multiple queues the following can happen:&lt;/p&gt;

&lt;p&gt;1. add package to queue1 and acquire it for queue1&lt;br/&gt;
2. package in queue1 is distributed and released and deleted&lt;br/&gt;
3. add package to queue2 and acquire fails because the package is already deleted.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12827978">SLING-4699</key>
            <summary>Shared packages can be lost due to concurrency in multiple queues</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mpetria">Marius Petria</assignee>
                                    <reporter username="mpetria">Marius Petria</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 May 2015 10:13:52 +0000</created>
                <updated>Mon, 18 May 2015 14:22:14 +0000</updated>
                            <resolved>Thu, 7 May 2015 11:24:55 +0000</resolved>
                                    <version>Content Distribution Core 0.1.1</version>
                                    <fixVersion>Content Distribution Core 0.1.2</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14532471" author="mpetria" created="Thu, 7 May 2015 11:24:55 +0000"  >&lt;p&gt;Committed revision 1678168.&lt;/p&gt;


&lt;p&gt;Resolved by folding a temporary reference to the package until it is added to all queues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 25 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2eezr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4698] Set parent.relativePath to empty for all modules</title>
                <link>https://issues.apache.org/jira/browse/SLING-4698</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As discussed on dev@sling &lt;a href=&quot;http://sling-dev.markmail.org/search/?q=#query:+page:4+mid:d4wt2i6k6m3qqcj3+state:results&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Setting parent.relativePath in pom.xml&lt;/a&gt; we should set the relativePath to empty in all modules to ensure builds are reproducible&lt;/p&gt;</description>
                <environment></environment>
        <key id="12827974">SLING-4698</key>
            <summary>Set parent.relativePath to empty for all modules</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 May 2015 09:43:10 +0000</created>
                <updated>Thu, 7 May 2015 10:40:49 +0000</updated>
                            <resolved>Thu, 7 May 2015 10:15:47 +0000</resolved>
                                                                    <component>Best practices</component>
                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14532393" author="rombert" created="Thu, 7 May 2015 10:15:47 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1678154&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1678154&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14532416" author="rombert" created="Thu, 7 May 2015 10:40:49 +0000"  >&lt;p&gt;Documented at &lt;a href=&quot;http://sling.apache.org/documentation/development/maven-usage.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/development/maven-usage.html&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 25 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2eeyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4695] MockNode.getProperties() does not contain jcr:primaryType</title>
                <link>https://issues.apache.org/jira/browse/SLING-4695</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The MockNode implementation does not reflect it&apos;s primary node type in its property getters, i.e. hasProperty, getProperty, getProperties.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12827649">SLING-4695</key>
            <summary>MockNode.getProperties() does not contain jcr:primaryType</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jsedding">Julian Sedding</assignee>
                                    <reporter username="jsedding">Julian Sedding</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 May 2015 12:32:19 +0000</created>
                <updated>Fri, 22 May 2015 19:51:08 +0000</updated>
                            <resolved>Wed, 6 May 2015 12:57:03 +0000</resolved>
                                    <version>Testing JCR Mock 1.1.4</version>
                                    <fixVersion>Testing JCR Mock 1.1.6</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14530475" author="jsedding" created="Wed, 6 May 2015 12:57:03 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1677969&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1677969&lt;/a&gt; and &lt;a href=&quot;https://svn.apache.org/r1677979&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1677979&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ecz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4688] Exported shared packages from a distribution agent should only be released</title>
                <link>https://issues.apache.org/jira/browse/SLING-4688</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Exported shared packages from a distribution agent should only be released&lt;/p&gt;</description>
                <environment></environment>
        <key id="12826926">SLING-4688</key>
            <summary>Exported shared packages from a distribution agent should only be released</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mpetria">Marius Petria</assignee>
                                    <reporter username="mpetria">Marius Petria</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 May 2015 14:14:34 +0000</created>
                <updated>Mon, 18 May 2015 14:22:18 +0000</updated>
                            <resolved>Mon, 4 May 2015 14:17:45 +0000</resolved>
                                    <version>Content Distribution Core 0.1.1</version>
                                    <fixVersion>Content Distribution Core 0.1.2</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14526661" author="mpetria" created="Mon, 4 May 2015 14:17:45 +0000"  >&lt;p&gt;Committed revision 1677600.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 26 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2e8v3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4682] Add missing jsr305 annotations to DistributionQueue and AbstractDistributionPackageBuilder</title>
                <link>https://issues.apache.org/jira/browse/SLING-4682</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;tt&gt;DistributionQueue&lt;/tt&gt;&#160;and &lt;tt&gt;AbstractDistributionPackageBuilder&lt;/tt&gt; should have &lt;tt&gt;@CheckForNull&lt;/tt&gt;&#160;and &lt;tt&gt;@Nullable&lt;/tt&gt;&#160;annotations.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12826223">SLING-4682</key>
            <summary>Add missing jsr305 annotations to DistributionQueue and AbstractDistributionPackageBuilder</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="teofili">Tommaso Teofili</assignee>
                                    <reporter username="teofili">Tommaso Teofili</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Apr 2015 07:30:40 +0000</created>
                <updated>Mon, 18 May 2015 14:22:16 +0000</updated>
                            <resolved>Thu, 30 Apr 2015 07:35:22 +0000</resolved>
                                    <version>Content Distribution Core 0.1.1</version>
                                    <fixVersion>Content Distribution Core 0.1.2</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14521066" author="teofili" created="Thu, 30 Apr 2015 07:35:22 +0000"  >&lt;p&gt;fixed in r1676913&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 27 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2e4kv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4678] Background tasks not stopping when bundle is stopped</title>
                <link>https://issues.apache.org/jira/browse/SLING-4678</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When the event bundle is stopped, it seems that the maintenance tasks are not necessarily stopped immediately&lt;/p&gt;</description>
                <environment></environment>
        <key id="12825920">SLING-4678</key>
            <summary>Background tasks not stopping when bundle is stopped</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Apr 2015 12:07:26 +0000</created>
                <updated>Mon, 13 Jul 2015 14:25:27 +0000</updated>
                            <resolved>Wed, 29 Apr 2015 14:03:01 +0000</resolved>
                                    <version>Event 3.5.4</version>
                    <version>Event 3.6.0</version>
                                    <fixVersion>Event 3.7.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14519383" author="cziegeler" created="Wed, 29 Apr 2015 14:03:01 +0000"  >&lt;p&gt;Fixed in rev 1676744&lt;br/&gt;
There was a potential race condition on shutdown where the activate flag of the capabilities was never set to false as this object was not reachable anymore.&lt;br/&gt;
I&apos;ve added an additional flag to the service and the caps now checks this as well.&lt;br/&gt;
In addition I cleaned up the queue manager change handling to make the code more understandable&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 27 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2e2qn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4675] Potentially no package refresh after a bundle uninstall</title>
                <link>https://issues.apache.org/jira/browse/SLING-4675</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When a bundle is uninstalled, the package refresh task is started with the id of that bundle. However in that task, the bundle with that id is tried to be get from the framework and only if it&apos;s available a package refresh is done. At this point the bundle is already gone and the framework returns null, resulting in no refresh at all&lt;/p&gt;</description>
                <environment></environment>
        <key id="12825530">SLING-4675</key>
            <summary>Potentially no package refresh after a bundle uninstall</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Apr 2015 13:52:22 +0000</created>
                <updated>Sat, 2 May 2015 12:51:59 +0000</updated>
                            <resolved>Tue, 28 Apr 2015 14:41:43 +0000</resolved>
                                    <version>Installer Core 3.6.2</version>
                                    <fixVersion>Installer Core 3.6.4</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14517121" author="cziegeler" created="Tue, 28 Apr 2015 14:41:43 +0000"  >&lt;p&gt;Added a full refresh if the bundle can&apos;t be found anymore&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 27 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2e0ev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4674] Launchpad Testing: Running mvn launchpad:run leads to errors</title>
                <link>https://issues.apache.org/jira/browse/SLING-4674</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Running &lt;tt&gt;mvn launchpad:run&lt;/tt&gt; as advised in the README.txt leads to the following error:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[INFO] Scanning &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; projects...
[INFO] 
[INFO] Using the builder org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder with a thread count of 1
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Apache Sling Launchpad Testing 7-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-launchpad-plugin:2.3.0:run (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-cli) @ org.apache.sling.launchpad.testing ---
[INFO] Using bundle list file from /Users/kwindszus/.m2/repository/org/apache/sling/org.apache.sling.launchpad/7/org.apache.sling.launchpad-7-bundlelist.xml
[INFO] HTTP server port: 8080
[ERROR] Failed to Start OSGi framework
org.osgi.framework.BundleException: Uncaught Instantiation Issue: java.lang.ArrayIndexOutOfBoundsException: -1
	at org.apache.sling.launchpad.base.impl.Sling.&amp;lt;init&amp;gt;(Sling.java:251)
	at org.apache.sling.maven.projectsupport.RunMojo$2.&amp;lt;init&amp;gt;(RunMojo.java:76)
	at org.apache.sling.maven.projectsupport.RunMojo.startSling(RunMojo.java:76)
	at org.apache.sling.maven.projectsupport.AbstractLaunchpadStartingMojo.executeWithArtifacts(AbstractLaunchpadStartingMojo.java:207)
	at org.apache.sling.maven.projectsupport.AbstractUsingBundleListMojo.execute(AbstractUsingBundleListMojo.java:179)
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:133)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:108)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:76)
	at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:116)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:361)
	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:155)
	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:584)
	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:213)
	at org.apache.maven.cli.MavenCli.main(MavenCli.java:157)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)
	at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)
	at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)
Caused by: java.lang.ArrayIndexOutOfBoundsException: -1
	at java.util.ArrayList.elementData(ArrayList.java:403)
	at java.util.ArrayList.get(ArrayList.java:416)
	at org.apache.felix.framework.BundleImpl.getCurrentModule(BundleImpl.java:1046)
	at org.apache.felix.framework.BundleImpl.getSymbolicName(BundleImpl.java:863)
	at org.apache.sling.launchpad.base.impl.SlingFelix.getSymbolicName(SlingFelix.java:32)
	at org.apache.felix.framework.Felix.toString(Felix.java:1012)
	at org.apache.felix.framework.Logger.doLog(Logger.java:128)
	at org.apache.felix.framework.Logger._log(Logger.java:181)
	at org.apache.felix.framework.Logger.log(Logger.java:114)
	at org.apache.felix.framework.ExtensionManager.&amp;lt;init&amp;gt;(ExtensionManager.java:201)
	at org.apache.felix.framework.Felix.&amp;lt;init&amp;gt;(Felix.java:374)
	at org.apache.sling.launchpad.base.impl.SlingFelix.&amp;lt;init&amp;gt;(SlingFelix.java:39)
	at org.apache.sling.launchpad.base.impl.Sling.createFramework(Sling.java:358)
	at org.apache.sling.launchpad.base.impl.Sling.&amp;lt;init&amp;gt;(Sling.java:227)
	... 25 more
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 4.298 s
[INFO] Finished at: 2015-04-28T11:36:49+01:00
[INFO] Final Memory: 22M/234M
[INFO] ------------------------------------------------------------------------
[INFO] Java VM is shutting down
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It happens with Maven 3.2.1 (Java 1.8.0_05) on Mac OS X.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12825472">SLING-4674</key>
            <summary>Launchpad Testing: Running mvn launchpad:run leads to errors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Apr 2015 09:39:40 +0000</created>
                <updated>Thu, 30 Apr 2015 07:58:17 +0000</updated>
                            <resolved>Thu, 30 Apr 2015 07:58:16 +0000</resolved>
                                    <version>Launchpad Testing 10</version>
                                    <fixVersion>Launchpad Testing 10</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14516897" author="cziegeler" created="Tue, 28 Apr 2015 11:48:14 +0000"  >&lt;p&gt;Thanks for reporting, the readme is outdated. I&apos;ve replaced it with the correct slingstart maven plugin command&lt;/p&gt;</comment>
                            <comment id="14517011" author="kwin" created="Tue, 28 Apr 2015 13:20:21 +0000"  >&lt;p&gt;With the new command from the readme I get&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ mvn slingstart:run -Dlaunchpad.keep.running=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
[INFO] Scanning &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; projects...
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1.781 s
[INFO] Finished at: 2015-04-28T15:18:57+01:00
[INFO] Final Memory: 8M/156M
[INFO] ------------------------------------------------------------------------
[ERROR] Could not find goal &lt;span class=&quot;code-quote&quot;&gt;&apos;run&apos;&lt;/span&gt; in plugin org.apache.sling:slingstart-maven-plugin:1.1.0 among available goals attach-slingfeature, help, &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;, prepare-&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;, start, stop -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt;.
[ERROR] Re-run Maven using the -X &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt; to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http:&lt;span class=&quot;code-comment&quot;&gt;//cwiki.apache.org/confluence/display/MAVEN/MojoNotFoundException&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Did you mean &lt;tt&gt;mvn slingstart:start -Dlaunchpad.keep.running=true&lt;/tt&gt;?&lt;/p&gt;</comment>
                            <comment id="14517013" author="kwin" created="Tue, 28 Apr 2015 13:23:25 +0000"  >&lt;p&gt;Also it would be great if you could add how exactly Sling is started in debug mode.&lt;/p&gt;</comment>
                            <comment id="14517016" author="cziegeler" created="Tue, 28 Apr 2015 13:27:41 +0000"  >&lt;p&gt;Yes, it&apos;s slingstart:start&lt;br/&gt;
Fixed that&lt;/p&gt;

&lt;p&gt;Maven can be started in debug mode with mvndebug.&lt;/p&gt;</comment>
                            <comment id="14517271" author="kwin" created="Tue, 28 Apr 2015 15:57:45 +0000"  >&lt;p&gt;Actually the slingstart-maven-plugin runs Sling in a new JVM therefore just starting the Maven process with debug options doesn&apos;t help. I couldn&apos;t find a parameter which would allow to start Sling itself in debug mode (&lt;a href=&quot;https://github.com/apache/sling/blob/trunk/tooling/maven/slingstart-maven-plugin/src/main/java/org/apache/sling/maven/slingstart/run/LauncherCallable.java#L136&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/tooling/maven/slingstart-maven-plugin/src/main/java/org/apache/sling/maven/slingstart/run/LauncherCallable.java#L136&lt;/a&gt;). Maybe you can give me some hint on how to achieve that (and also add it to the readme.txt).&lt;br/&gt;
I opened an enhancement request in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4677&quot; title=&quot;Allow to start in debug mode through a mojo parameter similar to debugForkedProcess&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4677&quot;&gt;&lt;del&gt;SLING-4677&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;One thing that changed with the slingstart-maven-plugin is the port. It used to be 8080 (which is also the default port used when triggering individual tests). Could you use that port also with slingstart-maven-plugin?&lt;br/&gt;
Currently just triggering mvn test on the integration-test module leads to &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;....
Running org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletImportTest
Checking &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the required Sling services are started (timeout 62 seconds)...
(base URLs=http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8080 and http://localhost:8080; servlet context=)&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Unfortunately the timeout doesn&apos;t seem to work here. &lt;/p&gt;</comment>
                            <comment id="14517312" author="cziegeler" created="Tue, 28 Apr 2015 16:13:38 +0000"  >&lt;p&gt;Hmm, actually it is forking - so the old instructions for debugging don&apos;t hold true anymore. But this can be done through jvm args. I&apos;ll dig it up in the next days.&lt;/p&gt;</comment>
                            <comment id="14521085" author="kwin" created="Thu, 30 Apr 2015 07:58:16 +0000"  >&lt;p&gt;Added the property &lt;tt&gt;debug&lt;/tt&gt; to the pom.xml to be able to start the server in debug mode. Also clarified in the README.txts how to debug client-side and server-side tests.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 27 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2e02f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4673] Launchpad Testing: Running mvn package without clean leads to errors with the animal-sniffer-plugin</title>
                <link>https://issues.apache.org/jira/browse/SLING-4673</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;First executing &lt;tt&gt;mvn clean install&lt;/tt&gt; on launchpad.testing runs fine, but if afterwards only &lt;tt&gt;mvn install&lt;/tt&gt; is executed the build fails with the following error&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[INFO] Scanning &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; projects...
[INFO] 
[INFO] Using the builder org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder with a thread count of 1
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Apache Sling Launchpad Testing 7-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.3.1:enforce (enforce-java) @ org.apache.sling.launchpad.testing ---
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (set-bundle-required-execution-environment) @ org.apache.sling.launchpad.testing ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.5:process (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;) @ org.apache.sling.launchpad.testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-resources) @ org.apache.sling.launchpad.testing ---
[INFO] Using &lt;span class=&quot;code-quote&quot;&gt;&apos;UTF-8&apos;&lt;/span&gt; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /Users/kwindszus/Workspaces/Sling/sling-builder/launchpad/testing/src/main/resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (check-memory-task) @ org.apache.sling.launchpad.testing ---
[INFO] Executing tasks

main:
     [echo] **************** WARNING (SLING-443/SLING-1782) ******************************
     [echo] On most platforms, you&apos;ll get OutOfMemoryErrors when building unless you set
     [echo] on 32bit platforms: MAVEN_OPTS=&lt;span class=&quot;code-quote&quot;&gt;&quot;-Xmx256M -XX:MaxPermSize=256M&quot;&lt;/span&gt;, see SLING-443
     [echo] on 64bit platforms: MAVEN_OPTS=&lt;span class=&quot;code-quote&quot;&gt;&quot;-Xmx512M -XX:MaxPermSize=512M&quot;&lt;/span&gt;, see SLING-1782
     [echo] ******************************************************************************
[INFO] Executed tasks
[INFO] 
[INFO] --- build-helper-maven-plugin:1.8:reserve-network-port (reserve-network-port) @ org.apache.sling.launchpad.testing ---
[INFO] Reserved port 41600 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; http.port
[INFO] Reserved port 41601 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; sling.control.port
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-compile) @ org.apache.sling.launchpad.testing ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-testResources) @ org.apache.sling.launchpad.testing ---
[INFO] Using &lt;span class=&quot;code-quote&quot;&gt;&apos;UTF-8&apos;&lt;/span&gt; encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-testCompile) @ org.apache.sling.launchpad.testing ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-test) @ org.apache.sling.launchpad.testing ---
[INFO] 
[INFO] --- animal-sniffer-maven-plugin:1.11:check (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;) @ org.apache.sling.launchpad.testing ---
[INFO] Checking unresolved references to org.codehaus.mojo.signature:java15:1.0
[ERROR] /Users/kwindszus/Workspaces/Sling/sling-builder/launchpad/testing/target/classes/org/apache/sling/launchpad/app/ControlListener.&lt;span class=&quot;code-keyword&quot;&gt;class:&lt;/span&gt;297: Undefined reference: java.lang.management.ThreadInfo[] java.lang.management.ThreadMXBean.dumpAllThreads(&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;)
[ERROR] /Users/kwindszus/Workspaces/Sling/sling-builder/launchpad/testing/target/classes/org/apache/sling/launchpad/app/ControlListener.&lt;span class=&quot;code-keyword&quot;&gt;class:&lt;/span&gt;303: Undefined reference: java.lang.management.LockInfo[] java.lang.management.ThreadInfo.getLockedSynchronizers()
[ERROR] /Users/kwindszus/Workspaces/Sling/sling-builder/launchpad/testing/target/classes/org/apache/sling/launchpad/app/ControlListener.&lt;span class=&quot;code-keyword&quot;&gt;class:&lt;/span&gt;308: Undefined reference: &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; java.lang.management.LockInfo.getClassName()
[ERROR] /Users/kwindszus/Workspaces/Sling/sling-builder/launchpad/testing/target/classes/org/apache/sling/launchpad/app/ControlListener.&lt;span class=&quot;code-keyword&quot;&gt;class:&lt;/span&gt;308: Undefined reference: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; java.lang.management.LockInfo.getIdentityHashCode()
[ERROR] /Users/kwindszus/Workspaces/Sling/sling-builder/launchpad/testing/target/classes/org/apache/sling/launchpad/app/ControlListener.&lt;span class=&quot;code-keyword&quot;&gt;class:&lt;/span&gt;324: Undefined reference: &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; java.lang.management.ThreadMXBean.isSynchronizerUsageSupported()
[ERROR] /Users/kwindszus/Workspaces/Sling/sling-builder/launchpad/testing/target/classes/org/apache/sling/launchpad/app/ControlListener.&lt;span class=&quot;code-keyword&quot;&gt;class:&lt;/span&gt;325: Undefined reference: &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;[] java.lang.management.ThreadMXBean.findDeadlockedThreads()
[ERROR] /Users/kwindszus/Workspaces/Sling/sling-builder/launchpad/testing/target/classes/org/apache/sling/launchpad/app/ControlListener.&lt;span class=&quot;code-keyword&quot;&gt;class:&lt;/span&gt;330: Undefined reference: java.lang.management.ThreadInfo[] java.lang.management.ThreadMXBean.getThreadInfo(&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;[], &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;)
[ERROR] /Users/kwindszus/Workspaces/Sling/sling-builder/launchpad/testing/target/classes/org/apache/sling/launchpad/app/ControlListener.&lt;span class=&quot;code-keyword&quot;&gt;class:&lt;/span&gt;358: Undefined reference: java.lang.management.LockInfo java.lang.management.ThreadInfo.getLockInfo()
[ERROR] /Users/kwindszus/Workspaces/Sling/sling-builder/launchpad/testing/target/classes/org/apache/sling/launchpad/app/ControlListener.&lt;span class=&quot;code-keyword&quot;&gt;class:&lt;/span&gt;358: Undefined reference: &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; java.lang.management.LockInfo.getClassName()
[ERROR] /Users/kwindszus/Workspaces/Sling/sling-builder/launchpad/testing/target/classes/org/apache/sling/launchpad/app/ControlListener.&lt;span class=&quot;code-keyword&quot;&gt;class:&lt;/span&gt;358: Undefined reference: java.lang.management.LockInfo java.lang.management.ThreadInfo.getLockInfo()
[ERROR] /Users/kwindszus/Workspaces/Sling/sling-builder/launchpad/testing/target/classes/org/apache/sling/launchpad/app/ControlListener.&lt;span class=&quot;code-keyword&quot;&gt;class:&lt;/span&gt;358: Undefined reference: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; java.lang.management.LockInfo.getIdentityHashCode()
[ERROR] /Users/kwindszus/Workspaces/Sling/sling-builder/launchpad/testing/target/classes/org/apache/sling/launchpad/app/ControlListener.&lt;span class=&quot;code-keyword&quot;&gt;class:&lt;/span&gt;410: Undefined reference: java.lang.management.MonitorInfo[] java.lang.management.ThreadInfo.getLockedMonitors()
[ERROR] /Users/kwindszus/Workspaces/Sling/sling-builder/launchpad/testing/target/classes/org/apache/sling/launchpad/app/ControlListener.&lt;span class=&quot;code-keyword&quot;&gt;class:&lt;/span&gt;428: Undefined reference: java.lang.management.LockInfo java.lang.management.ThreadInfo.getLockInfo()
[ERROR] /Users/kwindszus/Workspaces/Sling/sling-builder/launchpad/testing/target/classes/org/apache/sling/launchpad/app/ControlListener.&lt;span class=&quot;code-keyword&quot;&gt;class:&lt;/span&gt;429: Undefined reference: java.lang.management.LockInfo java.lang.management.ThreadInfo.getLockInfo()
[ERROR] /Users/kwindszus/Workspaces/Sling/sling-builder/launchpad/testing/target/classes/org/apache/sling/launchpad/app/ControlListener.&lt;span class=&quot;code-keyword&quot;&gt;class:&lt;/span&gt;429: Undefined reference: &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; java.lang.management.LockInfo.getClassName()
[ERROR] /Users/kwindszus/Workspaces/Sling/sling-builder/launchpad/testing/target/classes/org/apache/sling/launchpad/app/ControlListener.&lt;span class=&quot;code-keyword&quot;&gt;class:&lt;/span&gt;429: Undefined reference: java.lang.management.LockInfo java.lang.management.ThreadInfo.getLockInfo()
[ERROR] /Users/kwindszus/Workspaces/Sling/sling-builder/launchpad/testing/target/classes/org/apache/sling/launchpad/app/ControlListener.&lt;span class=&quot;code-keyword&quot;&gt;class:&lt;/span&gt;429: Undefined reference: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; java.lang.management.LockInfo.getIdentityHashCode()
[ERROR] /Users/kwindszus/Workspaces/Sling/sling-builder/launchpad/testing/target/classes/org/apache/sling/launchpad/app/ControlListener.&lt;span class=&quot;code-keyword&quot;&gt;class:&lt;/span&gt;443: Undefined reference: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; java.lang.management.MonitorInfo.getLockedStackDepth()
[ERROR] /Users/kwindszus/Workspaces/Sling/sling-builder/launchpad/testing/target/classes/org/apache/sling/launchpad/app/ControlListener.&lt;span class=&quot;code-keyword&quot;&gt;class:&lt;/span&gt;444: Undefined reference: &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; java.lang.management.MonitorInfo.getClassName()
[ERROR] /Users/kwindszus/Workspaces/Sling/sling-builder/launchpad/testing/target/classes/org/apache/sling/launchpad/app/ControlListener.&lt;span class=&quot;code-keyword&quot;&gt;class:&lt;/span&gt;444: Undefined reference: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; java.lang.management.MonitorInfo.getIdentityHashCode()
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 26.823 s
[INFO] Finished at: 2015-04-28T11:08:34+01:00
[INFO] Final Memory: 37M/241M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.codehaus.mojo:animal-sniffer-maven-plugin:1.11:check (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;) on project org.apache.sling.launchpad.testing: Signature errors found. Verify them and ignore them with the proper annotation &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; needed. -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt;.
[ERROR] Re-run Maven using the -X &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt; to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http:&lt;span class=&quot;code-comment&quot;&gt;//cwiki.apache.org/confluence/display/MAVEN/MojoFailureException&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I run Maven 3.2.1 with Java 1.8.0_05 jdk. The same error happens under Maven 3.3.1 with Java 1.7.0_60.&lt;/p&gt;

&lt;p&gt;It seems that some code which is incompatible with Java 5 is copied over to target (from launchpad.base). Please either exclude that from being checked with the animal-sniffer-plugin in the launchpad.testing build or check it only for Java 6 compatibility.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12825465">SLING-4673</key>
            <summary>Launchpad Testing: Running mvn package without clean leads to errors with the animal-sniffer-plugin</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Apr 2015 09:16:45 +0000</created>
                <updated>Tue, 28 Apr 2015 13:18:28 +0000</updated>
                            <resolved>Tue, 28 Apr 2015 13:18:28 +0000</resolved>
                                    <version>Launchpad Testing 10</version>
                                    <fixVersion>Launchpad Testing 10</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14516903" author="cziegeler" created="Tue, 28 Apr 2015 11:50:41 +0000"  >&lt;p&gt;Launchpad testing is based on the launchpad which in turn requires Java 7.&lt;br/&gt;
I&apos;ve udpated the property in the testing project, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; Could you please give it a try?&lt;/p&gt;</comment>
                            <comment id="14517009" author="kwin" created="Tue, 28 Apr 2015 13:18:28 +0000"  >&lt;p&gt;Works now, thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 27 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2e00v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4671] Sightly does not render correctly when non-HTML resource cannot be found</title>
                <link>https://issues.apache.org/jira/browse/SLING-4671</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When creating /apps/sling/servlet/errorhander/404.html&lt;/p&gt;

&lt;p&gt;Sightly template is not rendered correctly for all 404s that are of a different resource type.&lt;/p&gt;

&lt;p&gt;The following will result in the sightly template being dumped as plain text: &lt;br/&gt;
&lt;a href=&quot;http://slick.millr.org/test&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://slick.millr.org/test&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If you browse to a page of the same resource type (html), Sightly renders correctly:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://slick.millr.org/test.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://slick.millr.org/test.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Additionally, images attempt to render, even if they do not exist.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://slick.millr.org/test.jpg&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://slick.millr.org/test.jpg&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Using JSP, all URLs work as expected.&lt;/p&gt;</description>
                <environment>Linux / OS X, Sling &amp;amp; Sightly Snapshot.</environment>
        <key id="12824325">SLING-4671</key>
            <summary>Sightly does not render correctly when non-HTML resource cannot be found</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="auniverseaway">Chris Millar</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Apr 2015 16:16:30 +0000</created>
                <updated>Mon, 12 Oct 2015 13:25:24 +0000</updated>
                            <resolved>Wed, 30 Sep 2015 08:37:33 +0000</resolved>
                                    <version>Scripting Sightly Engine 1.0.2</version>
                                    <fixVersion>Scripting Sightly Engine 1.0.6</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14909330" author="radu.cotescu" created="Sat, 26 Sep 2015 16:12:05 +0000"  >&lt;p&gt;Have you followed the instructions from [0]? More specifically, have you made sure to set the correct response code, content-type and encoding?&lt;/p&gt;

&lt;p&gt;[0] - &lt;a href=&quot;https://sling.apache.org/documentation/the-sling-engine/errorhandling.html#resetting-the-response&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/the-sling-engine/errorhandling.html#resetting-the-response&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14936548" author="radu.cotescu" created="Wed, 30 Sep 2015 08:37:33 +0000"  >&lt;p&gt;Looking at your repository it seems you&apos;ve implemented the required response handling mechanism in your second commit that handled the 404 component [1]. I somehow have the impression that you&apos;ve created this issue before finishing the implementation for the error handler, therefore I&apos;d mark this issue as resolved.&lt;/p&gt;

&lt;p&gt;Your proxy configuration doesn&apos;t handle Sling 404 properly, btw: &lt;a href=&quot;http://slick.millr.org/nothinghere&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://slick.millr.org/nothinghere&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;[1] - &lt;a href=&quot;https://github.com/auniverseaway/slick/commits/master/src/main/java/net/zum/slick/libs/NotFound.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/auniverseaway/slick/commits/master/src/main/java/net/zum/slick/libs/NotFound.java&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14937738" author="auniverseaway" created="Wed, 30 Sep 2015 17:16:31 +0000"  >&lt;p&gt;Thanks. A couple notes...&lt;/p&gt;

&lt;p&gt;1. Yes, I did see &quot;Reseting the response&quot; in the Sling docs &lt;b&gt;after&lt;/b&gt; posting this. In fact, I ended up adding it to the AEM Archetype project: &lt;a href=&quot;https://github.com/Adobe-Marketing-Cloud/aem-project-archetype/pull/39&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/Adobe-Marketing-Cloud/aem-project-archetype/pull/39&lt;/a&gt;&lt;br/&gt;
2. I posted this because it seemed like 404.jsp handled different content types without needing to reset the response. My assumption was that Sightly should handle it the same way. Maybe I&apos;m wrong on this... I posted this a while ago.&lt;br/&gt;
3. Slick is on dispatcher, but wasn&apos;t running when you checked, hence &lt;a href=&quot;http://slick.millr.org/nothinghere&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://slick.millr.org/nothinghere&lt;/a&gt; not working. (it now works)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[http://slick.millr.org]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 5 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dtbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4670] SCR metadata can&apos;t be read if components element is missing</title>
                <link>https://issues.apache.org/jira/browse/SLING-4670</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If the root components element is missing in an SCR xml document, the current xpath query fails.&lt;br/&gt;
A document without a components root is valid&lt;/p&gt;</description>
                <environment></environment>
        <key id="12824321">SLING-4670</key>
            <summary>SCR metadata can&apos;t be read if components element is missing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Apr 2015 15:57:58 +0000</created>
                <updated>Fri, 22 May 2015 19:51:08 +0000</updated>
                            <resolved>Mon, 27 Apr 2015 15:58:46 +0000</resolved>
                                    <version>Testing OSGi Mock 1.2.0</version>
                                    <fixVersion>Testing OSGi Mock 1.3.0</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14514350" author="cziegeler" created="Mon, 27 Apr 2015 15:58:46 +0000"  >&lt;p&gt;Fixed in rev 1676317 by using a relaxed xpath&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 27 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dtb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4669] Clarify that a cluster means instances hooked to the same persistence/repository</title>
                <link>https://issues.apache.org/jira/browse/SLING-4669</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently, other than in &lt;a href=&quot;https://sling.apache.org/documentation/bundles/discovery-api-and-impl.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;the introduction comment here&lt;/a&gt; there is no explicit mention of what has been the intention: that when talking about a &apos;cluster&apos; in discovery.api&apos;s terms, it refers to instances that are hooked to the same persistence layer/jcr repository. This should be clarified in the discovery.api&lt;/p&gt;</description>
                <environment></environment>
        <key id="12824267">SLING-4669</key>
            <summary>Clarify that a cluster means instances hooked to the same persistence/repository</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Apr 2015 13:22:11 +0000</created>
                <updated>Mon, 27 Apr 2015 13:24:16 +0000</updated>
                            <resolved>Mon, 27 Apr 2015 13:24:16 +0000</resolved>
                                    <version>Discovery API 1.0.2</version>
                                    <fixVersion>Discovery API 1.0.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14514114" author="egli" created="Mon, 27 Apr 2015 13:24:07 +0000"  >&lt;p&gt;done in &lt;a href=&quot;http://svn.apache.org/r1676256&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1676256&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 27 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dsz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4668] Clarify allowed characters used in ClusterView.getId()</title>
                <link>https://issues.apache.org/jira/browse/SLING-4668</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Discovery.api&apos;s ClusterView.getId() currently doesn&apos;t specify anything on the allowed characters. This should be clarified to make usability of the clusterId as easy as possible.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12824263">SLING-4668</key>
            <summary>Clarify allowed characters used in ClusterView.getId()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Apr 2015 13:08:12 +0000</created>
                <updated>Mon, 27 Apr 2015 13:26:41 +0000</updated>
                            <resolved>Mon, 27 Apr 2015 13:26:41 +0000</resolved>
                                    <version>Discovery API 1.0.2</version>
                                    <fixVersion>Discovery API 1.0.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14514097" author="egli" created="Mon, 27 Apr 2015 13:12:33 +0000"  >&lt;p&gt;Adjusted in &lt;a href=&quot;http://svn.apache.org/r1676252&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1676252&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14514112" author="egli" created="Mon, 27 Apr 2015 13:23:44 +0000"  >&lt;p&gt;plus a &apos;sneak-in/piggyback&apos; change: &lt;a href=&quot;http://svn.apache.org/r1676255&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1676255&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 27 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dsy7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4666] Post servlet integration test failures</title>
                <link>https://issues.apache.org/jira/browse/SLING-4666</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It seems something changed in the post servlet recently, which breaks two integration tests:&lt;br/&gt;
  PostRedirectTest.testForcedRedirect:53 &#187; HttpStatusCode Expected status code 3...&lt;br/&gt;
  PostServletImportTest.testImportReplaceProperties:214 &#187; HttpStatusCode Expecte...&lt;/p&gt;</description>
                <environment></environment>
        <key id="12824244">SLING-4666</key>
            <summary>Post servlet integration test failures</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                            <label>sling-IT</label>
                    </labels>
                <created>Mon, 27 Apr 2015 11:07:42 +0000</created>
                <updated>Tue, 28 Apr 2015 09:37:30 +0000</updated>
                            <resolved>Tue, 28 Apr 2015 09:37:30 +0000</resolved>
                                                    <fixVersion>Launchpad Testing 10</fixVersion>
                                    <component>Launchpad</component>
                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12778980">SLING-4469</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 27 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dstz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4658] ValueMapDecorator should support conversion from array to single value type</title>
                <link>https://issues.apache.org/jira/browse/SLING-4658</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Similar to what is described in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-662&quot; title=&quot;ValueMap#get(java.lang.String name, T defaultValue) should support arrays transparently&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-662&quot;&gt;&lt;del&gt;SLING-662&lt;/del&gt;&lt;/a&gt; &lt;tt&gt;ValueMapDecorator&lt;/tt&gt; should support conversions from multivalue to singlevalue and vice-versa. Currently it does not support retrieving a single value element from an underlying array (neither with nor without type conversion).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12823742">SLING-4658</key>
            <summary>ValueMapDecorator should support conversion from array to single value type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Apr 2015 13:16:41 +0000</created>
                <updated>Mon, 8 Feb 2016 22:11:25 +0000</updated>
                            <resolved>Tue, 22 Dec 2015 12:30:06 +0000</resolved>
                                    <version>API 2.9.0</version>
                                    <fixVersion>API 2.11.0</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14511015" author="kwin" created="Fri, 24 Apr 2015 13:20:20 +0000"  >&lt;p&gt;I committed an ignored test case in rev. 1675834.&lt;/p&gt;</comment>
                            <comment id="15022008" author="githubbot" created="Mon, 23 Nov 2015 12:07:20 +0000"  >&lt;p&gt;GitHub user RasGrass opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/114&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/114&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4658&quot; title=&quot;ValueMapDecorator should support conversion from array to single value type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4658&quot;&gt;&lt;del&gt;SLING-4658&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Now, when we want to get single value from object which is an array, the first element is returned instead of null&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/RasGrass/sling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/RasGrass/sling&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4658&quot; title=&quot;ValueMapDecorator should support conversion from array to single value type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4658&quot;&gt;&lt;del&gt;SLING-4658&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/114.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/114.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #114&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 71ab1df006d9ef4eead90798ef4874bcbfbf41af&lt;br/&gt;
Author: Miko&#322;aj Ma&#324;ski &amp;lt;rasgrass@users.noreply.github.com&amp;gt;&lt;br/&gt;
Date:   2015-11-23T09:51:31Z&lt;/p&gt;

&lt;p&gt;    Merge pull request #1 from apache/trunk&lt;/p&gt;

&lt;p&gt;    trunk update&lt;/p&gt;

&lt;p&gt;commit 18634ad9d18376f66dd826803a46e2ea9bd97fc0&lt;br/&gt;
Author: Mikolaj Manski &amp;lt;mikolaj.manski@cognifide.com&amp;gt;&lt;br/&gt;
Date:   2015-11-23T11:58:30Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4658&quot; title=&quot;ValueMapDecorator should support conversion from array to single value type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4658&quot;&gt;&lt;del&gt;SLING-4658&lt;/del&gt;&lt;/a&gt; added support for conversion from array to single value type&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15068055" author="githubbot" created="Tue, 22 Dec 2015 12:28:22 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/114&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/114&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15068058" author="rombert" created="Tue, 22 Dec 2015 12:29:59 +0000"  >&lt;p&gt;Patch applied in &lt;a href=&quot;https://svn.apache.org/r1721385&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1721385&lt;/a&gt;, thanks for the contribution.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12404533">SLING-662</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12773828" name="SLING-4658.patch" size="4307" author="mikolaj.manski@cognifide.com" created="Mon, 23 Nov 2015 12:08:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dpsf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4657] Sporadic test failure of WriteableResourcesProxyTest on java 8</title>
                <link>https://issues.apache.org/jira/browse/SLING-4657</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;org.apache.sling.launchpad.webapp.integrationtest.WriteableResourcesProxyTest.runWriteableResourcesTest&lt;br/&gt;
Schl&#228;gt fehl seit 1 Build (Seit Instabil#1034 )&lt;br/&gt;
Dauer: 0.5 Sekunden.&lt;/p&gt;


&lt;p&gt;1 tests failed:&lt;span class=&quot;error&quot;&gt;&amp;#91;testSimpleCRUD(org.apache.sling.launchpad.testservices.serversidetests.WriteableResourcesTest): null&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Stacktrace&lt;/p&gt;

&lt;p&gt;java.lang.AssertionError: 1 tests failed:&lt;span class=&quot;error&quot;&gt;&amp;#91;testSimpleCRUD(org.apache.sling.launchpad.testservices.serversidetests.WriteableResourcesTest): null&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.junit.Assert.fail(Assert.java:88)&lt;br/&gt;
	at org.apache.sling.launchpad.webapp.integrationtest.util.ServerSideTestClient.assertTestsPass(ServerSideTestClient.java:109)&lt;br/&gt;
	at org.apache.sling.launchpad.webapp.integrationtest.WriteableResourcesProxyTest.runWriteableResourcesTest(WriteableResourcesProxyTest.java:26)&lt;/p&gt;</description>
                <environment>java 8, jenkins</environment>
        <key id="12823716">SLING-4657</key>
            <summary>Sporadic test failure of WriteableResourcesProxyTest on java 8</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                            <label>sling-IT</label>
                    </labels>
                <created>Fri, 24 Apr 2015 10:47:21 +0000</created>
                <updated>Mon, 19 Dec 2016 11:37:14 +0000</updated>
                            <resolved>Mon, 19 Dec 2016 11:37:13 +0000</resolved>
                                                    <fixVersion>Launchpad Testing 10</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15760934" author="rombert" created="Mon, 19 Dec 2016 11:37:13 +0000"  >&lt;p&gt;Considering fixed, did not fail since we moved to per-module jobs.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 45 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dpmn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4656] ProviderHandler implements compareTo incorreclty</title>
                <link>https://issues.apache.org/jira/browse/SLING-4656</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The implementation of the ResourceResolver&apos;s compareTo method is wrong as it favors services registered later over services registered earlier, while older services should actually be preferred (assuming there sevice.ranking values are equal). In essence it implements natural ServiceReference ordering instead of ranking order which is the inverse.&lt;/p&gt;

&lt;p&gt;Two options to fix:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Fix ProviderHandler.compareTo to implement service ranking and thus revers of natural ordering&lt;/li&gt;
	&lt;li&gt;Fix ResourceProviderEntry.conditionalSort to use a reverse comparator&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;While at it, the extraction of the service.ranking property is overly complex since it first checks for null and then for the correct type. This can be simplified by just checking for the correct type as a null value never matches any type.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12823664">SLING-4656</key>
            <summary>ProviderHandler implements compareTo incorreclty</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Apr 2015 06:06:41 +0000</created>
                <updated>Tue, 21 Jul 2015 10:56:04 +0000</updated>
                            <resolved>Fri, 24 Apr 2015 08:58:44 +0000</resolved>
                                    <version>Resource Resolver 1.2.4</version>
                                    <fixVersion>Resource Resolver 1.2.6</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14510554" author="cziegeler" created="Fri, 24 Apr 2015 06:43:01 +0000"  >&lt;p&gt;I think we should fix compareTo - I think it&apos;s a copy of the ServiceReference.compareTo method&lt;/p&gt;

&lt;p&gt;Adding these tests shows the problem&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; 
    @Test public void testOrderingWithoutRanking() {
        final Map&amp;lt;String, Object&amp;gt; props1 = new HashMap&amp;lt;String, Object&amp;gt;();
        props1.put(Constants.SERVICE_ID, 1L);
        final ProviderHandler ph1 = new MyProviderHandler(props1);

        assertEquals(0, ph1.compareTo(ph1));

        final Map&amp;lt;String, Object&amp;gt; props2 = new HashMap&amp;lt;String, Object&amp;gt;();
        props2.put(Constants.SERVICE_ID, 2L);
        final ProviderHandler ph2 = new MyProviderHandler(props2);

        assertEquals(-1, ph1.compareTo(ph2));
        assertEquals(1, ph2.compareTo(ph1));
    }

    @Test public void testOrderingWithRanking() {
        final Map&amp;lt;String, Object&amp;gt; props1 = new HashMap&amp;lt;String, Object&amp;gt;();
        props1.put(Constants.SERVICE_ID, 1L);
        props1.put(Constants.SERVICE_RANKING, 50);
        final ProviderHandler ph1 = new MyProviderHandler(props1);

        final Map&amp;lt;String, Object&amp;gt; props2 = new HashMap&amp;lt;String, Object&amp;gt;();
        props2.put(Constants.SERVICE_ID, 2L);
        props2.put(Constants.SERVICE_RANKING, 150);
        final ProviderHandler ph2 = new MyProviderHandler(props2);

        assertEquals(1, ph1.compareTo(ph2));
        assertEquals(-1, ph2.compareTo(ph1));
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14510660" author="fmeschbe" created="Fri, 24 Apr 2015 08:46:57 +0000"  >&lt;p&gt;Thanks for the tests. &lt;/p&gt;

&lt;p&gt;Will fix compareTo as proposed (sounds to be the better option to me as well)&lt;/p&gt;</comment>
                            <comment id="14510678" author="fmeschbe" created="Fri, 24 Apr 2015 08:58:44 +0000"  >&lt;p&gt;Fixed in Rev. 1675805:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Document natural order of ProviderHandler to be the same as service.ranking order. which is the revers of the natural ServiceReference order previously implemented&lt;/li&gt;
	&lt;li&gt;Added test case by Carsten Ziegeler (thanks)&quot;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dpb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4655] Servlet Resolver does not use registered servlet&apos;s service.ranking property</title>
                <link>https://issues.apache.org/jira/browse/SLING-4655</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Servlet Resolver registers a ResourceProvider for each Servlet service registered and handled by the ServletResolver, that is, those with a Sling servlet registration property.&lt;/p&gt;

&lt;p&gt;As the ResourceResolver supports ranking of ResourceProviders with the same root path, the ServletResolver should really register ResourceProvider services for servlets including the servlet service&apos;s service ranking property, if available.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12823663">SLING-4655</key>
            <summary>Servlet Resolver does not use registered servlet&apos;s service.ranking property</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Apr 2015 06:04:00 +0000</created>
                <updated>Mon, 5 Oct 2015 10:41:27 +0000</updated>
                            <resolved>Fri, 24 Apr 2015 08:45:57 +0000</resolved>
                                    <version>Servlets Resolver 2.3.6</version>
                                    <fixVersion>Servlets Resolver 2.3.8</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14510524" author="fmeschbe" created="Fri, 24 Apr 2015 06:20:17 +0000"  >&lt;p&gt;Simple patch:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Index: src/main/java/org/apache/sling/servlets/resolver/internal/SlingServletResolver.java
===================================================================
--- src/main/java/org/apache/sling/servlets/resolver/internal/SlingServletResolver.java	(Revision 1675785)
+++ src/main/java/org/apache/sling/servlets/resolver/internal/SlingServletResolver.java	(Arbeitskopie)
@@ -1000,6 +1000,12 @@
         params.put(Constants.SERVICE_DESCRIPTION, &quot;ServletResourceProvider for Servlets at &quot;
                 + Arrays.asList(provider.getServletPaths()));
 
+        // inherit service ranking
+        Object rank = reference.getProperty(Constants.SERVICE_RANKING);
+        if (rank instanceof Integer) {
+            params.put(Constants.SERVICE_RANKING, rank);
+        }
+
         final ServiceRegistration reg = context.getBundleContext()
                 .registerService(ResourceProvider.SERVICE_NAME, provider, params); 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14510531" author="cziegeler" created="Fri, 24 Apr 2015 06:23:15 +0000"  >&lt;p&gt;lgtm&lt;/p&gt;</comment>
                            <comment id="14510658" author="fmeschbe" created="Fri, 24 Apr 2015 08:45:57 +0000"  >&lt;p&gt;Fixed in Rev. 1675803:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Added method to create servie registration properties for ServletResourceProvider registration&lt;/li&gt;
	&lt;li&gt;Added test case for new method&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dpav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4653] [Regression] Merging resource provider is traversing parent hierarchie for finding hide properties</title>
                <link>https://issues.apache.org/jira/browse/SLING-4653</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If the parent of one of the merged resources does not exist, but another resource between the merged resource of the same search path and root has some resource merging properties attached, these properties are ignored in MergingResourceProvider because resource.getParent returns null and then it does not try to traverse to root anymore and therefore does not find these properties.&lt;/p&gt;

&lt;p&gt;Example:&lt;br/&gt;
/apps/a with sling:hideChildren=*&lt;br/&gt;
/libs/a/b/c&lt;/p&gt;

&lt;p&gt;If you try to read /mnt/overlay/a/b, it will return null. On the other hand, /mnt/overlay/a/b/c will return an unmodified merged resource.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Important:&lt;/b&gt; Consider the performance impact when fixing this issue. See referenced issue for more information.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12823436">SLING-4653</key>
            <summary>[Regression] Merging resource provider is traversing parent hierarchie for finding hide properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="joelrich">Joel Richard</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Apr 2015 14:48:55 +0000</created>
                <updated>Tue, 21 Jul 2015 11:57:31 +0000</updated>
                            <resolved>Thu, 23 Apr 2015 15:27:11 +0000</resolved>
                                    <version>Resource Merger 1.2.8</version>
                                    <fixVersion>Resource Merger 1.2.10</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14509173" author="cziegeler" created="Thu, 23 Apr 2015 14:58:17 +0000"  >&lt;p&gt;Traversal of the parent has been introduced with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4311&quot; title=&quot;Overriding Resource Picker doesn&amp;#39;t return resources with a missing intermediate resource&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4311&quot;&gt;&lt;del&gt;SLING-4311&lt;/del&gt;&lt;/a&gt;. I&apos;m wondering if it&apos;s a use case for the  merging resource provider to go up the hierarchie?&lt;/p&gt;</comment>
                            <comment id="14509213" author="cziegeler" created="Thu, 23 Apr 2015 15:27:11 +0000"  >&lt;p&gt;I&apos;ve added a new service property for the picker service, defaulting to false - which was the initial behaviour.&lt;br/&gt;
Only if it is set to true the parent hierarchie is traversed - this is enabled for the overriding picker&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12787674">SLING-4568</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dnxr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4651] Ensure that pulled packages are only deleted when they reach the coordinator queue</title>
                <link>https://issues.apache.org/jira/browse/SLING-4651</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Packages pulled from a remote endpoint are deleted when they reach the coordinating instance, but they should be deleted when they are actually added to the processing queue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12823391">SLING-4651</key>
            <summary>Ensure that pulled packages are only deleted when they reach the coordinator queue</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mpetria">Marius Petria</assignee>
                                    <reporter username="mpetria">Marius Petria</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Apr 2015 12:09:47 +0000</created>
                <updated>Wed, 5 Aug 2015 11:30:54 +0000</updated>
                            <resolved>Tue, 14 Jul 2015 13:16:57 +0000</resolved>
                                    <version>Content Distribution Core 0.1.1</version>
                                    <fixVersion>Content Distribution Core 0.1.6</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14626321" author="mpetria" created="Tue, 14 Jul 2015 13:16:58 +0000"  >&lt;p&gt;Committed revision 1690924. &lt;br/&gt;
Fixed by first fetching the package and the deleting it with a separate request.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 16 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dnof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4650] ImportMode in VaultDistributionPackageBuilderFactory is always null</title>
                <link>https://issues.apache.org/jira/browse/SLING-4650</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;tt&gt;VaultDistributionPackageBuilderFactory&lt;/tt&gt;&#160;parsing of &lt;tt&gt;ImportMode&lt;/tt&gt;&#160;doesn&apos;t correctly check the related property and as a consequence that is always null, resulting in the default to be used always, regardless of configuration.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12823081">SLING-4650</key>
            <summary>ImportMode in VaultDistributionPackageBuilderFactory is always null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="teofili">Tommaso Teofili</assignee>
                                    <reporter username="teofili">Tommaso Teofili</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Apr 2015 16:03:19 +0000</created>
                <updated>Mon, 18 May 2015 14:22:15 +0000</updated>
                            <resolved>Wed, 22 Apr 2015 16:04:12 +0000</resolved>
                                    <version>Content Distribution Core 0.1.1</version>
                                    <fixVersion>Content Distribution Core 0.1.2</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14507317" author="teofili" created="Wed, 22 Apr 2015 16:04:12 +0000"  >&lt;p&gt;fixed in r1675397&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 28 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dlxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4649] FullTextIndexingTest.testUploadedPdfIsIndexed fails on Oak</title>
                <link>https://issues.apache.org/jira/browse/SLING-4649</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Failed tests: &lt;br/&gt;
  FullTextIndexingTest.testUploadedPdfIsIndexed:57 RetryLoop failed, condition is false after 10 seconds: A document containing &apos;Excepteur&apos; is found under /FullTextIndexingTest&lt;/p&gt;

&lt;p&gt;This last worked on Jenkins with &lt;a href=&quot;https://builds.apache.org/view/S-Z/view/Sling/job/sling-oak-it-1.7/42/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;sling-oak-it-1.7 42&lt;/a&gt; - r1673619, Apr 17, 2015 5:20:55 PM&lt;/p&gt;</description>
                <environment></environment>
        <key id="12823051">SLING-4649</key>
            <summary>FullTextIndexingTest.testUploadedPdfIsIndexed fails on Oak</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                            <label>sling-IT</label>
                    </labels>
                <created>Wed, 22 Apr 2015 15:02:45 +0000</created>
                <updated>Fri, 16 Oct 2015 14:06:51 +0000</updated>
                            <resolved>Fri, 10 Jul 2015 11:07:30 +0000</resolved>
                                                    <fixVersion>Launchpad Builder 8</fixVersion>
                                    <component>Launchpad</component>
                    <component>Oak</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14507242" author="rombert" created="Wed, 22 Apr 2015 15:16:32 +0000"  >&lt;p&gt;The root cause if&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;22.04.2015 18:14:46.472 *ERROR* [OsgiInstallerImpl] org.apache.jackrabbit.oak-lucene [org.apache.jackrabbit.oak.plugins.index.lucene.LuceneIndexProviderService(39)] The activate method has thrown an exception (java.lang.NullPointerException: Index directory cannot be det
ermined as neither index directory path [localIndexDir] nor repository home [repository.home] defined)
java.lang.NullPointerException: Index directory cannot be determined as neither index directory path [localIndexDir] nor repository home [repository.home] defined
        at com.google.common.base.Preconditions.checkNotNull(Preconditions.java:236)
        at org.apache.jackrabbit.oak.plugins.index.lucene.LuceneIndexProviderService.createTracker(LuceneIndexProviderService.java:196)
        at org.apache.jackrabbit.oak.plugins.index.lucene.LuceneIndexProviderService.activate(LuceneIndexProviderService.java:124)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:497)
        at org.apache.felix.scr.impl.helper.BaseMethod.invokeMethod(BaseMethod.java:231)
        at org.apache.felix.scr.impl.helper.BaseMethod.access$500(BaseMethod.java:39)
        at org.apache.felix.scr.impl.helper.BaseMethod$Resolved.invoke(BaseMethod.java:624)
        at org.apache.felix.scr.impl.helper.BaseMethod.invoke(BaseMethod.java:508)
        at org.apache.felix.scr.impl.helper.ActivateMethod.invoke(ActivateMethod.java:149)
        at org.apache.felix.scr.impl.manager.SingleComponentManager.createImplementationObject(SingleComponentManager.java:315)
        at org.apache.felix.scr.impl.manager.SingleComponentManager.createComponent(SingleComponentManager.java:127)
        at org.apache.felix.scr.impl.manager.SingleComponentManager.getService(SingleComponentManager.java:871)
        at org.apache.felix.scr.impl.manager.SingleComponentManager.getServiceInternal(SingleComponentManager.java:838)
        at org.apache.felix.scr.impl.manager.AbstractComponentManager.activateInternal(AbstractComponentManager.java:850)
        at org.apache.felix.scr.impl.manager.DependencyManager$SingleStaticCustomizer.addedService(DependencyManager.java:931)
        at org.apache.felix.scr.impl.manager.DependencyManager$SingleStaticCustomizer.addedService(DependencyManager.java:895)
        at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1480)
        at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1401)
        at org.apache.felix.scr.impl.manager.ServiceTracker$AbstractTracked.trackAdding(ServiceTracker.java:1210)
        at org.apache.felix.scr.impl.manager.ServiceTracker$AbstractTracked.track(ServiceTracker.java:1148)
        at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:1432)
        at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:987)
        at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:838)
        at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:545)
        at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4547)
        at org.apache.felix.framework.Felix.registerService(Felix.java:3521)
        at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:348)
        at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:1003)
        at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:992)
        at org.apache.felix.scr.impl.manager.RegistrationManager.changeRegistration(RegistrationManager.java:134)
        at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerService(AbstractComponentManager.java:1044)
        at org.apache.felix.scr.impl.manager.AbstractComponentManager.activateInternal(AbstractComponentManager.java:841)
        at org.apache.felix.scr.impl.manager.AbstractComponentManager.enable(AbstractComponentManager.java:419)
        at org.apache.felix.scr.impl.config.ConfigurableComponentHolder.enableComponents(ConfigurableComponentHolder.java:376)
        at org.apache.felix.scr.impl.BundleComponentActivator.initialize(BundleComponentActivator.java:172)
        at org.apache.felix.scr.impl.BundleComponentActivator.&amp;lt;init&amp;gt;(BundleComponentActivator.java:120)
        at org.apache.felix.scr.impl.Activator.loadComponents(Activator.java:258)
        at org.apache.felix.scr.impl.Activator.access$000(Activator.java:45)
        at org.apache.felix.scr.impl.Activator$ScrExtension.start(Activator.java:185)
        at org.apache.felix.utils.extender.AbstractExtender.createExtension(AbstractExtender.java:259)
        at org.apache.felix.utils.extender.AbstractExtender.modifiedBundle(AbstractExtender.java:232)
        at org.osgi.util.tracker.BundleTracker$Tracked.customizerModified(BundleTracker.java:479)
        at org.osgi.util.tracker.BundleTracker$Tracked.customizerModified(BundleTracker.java:414)
        at org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:232)
        at org.osgi.util.tracker.BundleTracker$Tracked.bundleChanged(BundleTracker.java:443)
        at org.apache.felix.framework.util.EventDispatcher.invokeBundleListenerCallback(EventDispatcher.java:913)
        at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:834)
        at org.apache.felix.framework.util.EventDispatcher.fireBundleEvent(EventDispatcher.java:516)
        at org.apache.felix.framework.Felix.fireBundleEvent(Felix.java:4531)
        at org.apache.felix.framework.Felix.startBundle(Felix.java:2169)
        at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:977)
        at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:964)
        at org.apache.sling.installer.core.impl.tasks.BundleStartTask.execute(BundleStartTask.java:93)
        at org.apache.sling.installer.core.impl.OsgiInstallerImpl.doExecuteTasks(OsgiInstallerImpl.java:847)
        at org.apache.sling.installer.core.impl.OsgiInstallerImpl.executeTasks(OsgiInstallerImpl.java:689)
        at org.apache.sling.installer.core.impl.OsgiInstallerImpl.run(OsgiInstallerImpl.java:265)
        at java.lang.Thread.run(Thread.java:745)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14507262" author="rombert" created="Wed, 22 Apr 2015 15:32:18 +0000"  >&lt;p&gt;Happens since from Oak 1.2.0 copyOnRead for Lucene indexes is enabled by default ( see &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-2708&quot; title=&quot;Enable CopyOnRead feature for Lucene indexes by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-2708&quot;&gt;&lt;del&gt;OAK-2708&lt;/del&gt;&lt;/a&gt; ). We upgraded to Oak 1.2.0 in &lt;a href=&quot;https://svn.apache.org/r1674484&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1674484&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14507280" author="rombert" created="Wed, 22 Apr 2015 15:43:24 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1675387&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1675387&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14507463" author="olli" created="Wed, 22 Apr 2015 17:21:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, shouldn&apos;t that be &lt;tt&gt;repository.home=sling/oak/repository&lt;/tt&gt;? (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4528&quot; title=&quot;Moving to Oak&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4528&quot;&gt;&lt;del&gt;SLING-4528&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;I&apos;m still working on tests for Oak with MongoDB, see &lt;a href=&quot;https://svn.apache.org/viewvc/sling/trunk/contrib/launchpad/karaf/org.apache.sling.launchpad.karaf-integration-tests/src/test/java/org/apache/sling/launchpad/karaf/tests/bootstrap/SlingLaunchpadOakMongoIT.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;SlingLaunchpadOakMongoIT&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14508698" author="rombert" created="Thu, 23 Apr 2015 09:07:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; - I think we should rather be consistent and use the same main repo location, something like&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;diff --git a/launchpad/builder/src/main/provisioning/oak.txt b/launchpad/builder/src/main/provisioning/oak.txt
index 757c3d3..c9c9edb 100644
--- a/launchpad/builder/src/main/provisioning/oak.txt
+++ b/launchpad/builder/src/main/provisioning/oak.txt
@@ -74,9 +74,9 @@
 [configurations runModes=oak_tar]
   org.apache.jackrabbit.oak.plugins.segment.SegmentNodeStoreService
     name=&quot;Default\ NodeStore&quot;
-    repository.home=&quot;sling/oak/repository&quot;
 
 [configurations runModes=oak_mongo]
   org.apache.jackrabbit.oak.plugins.document.DocumentNodeStoreService&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;WDYT?&lt;/p&gt;</comment>
                            <comment id="14508725" author="rombert" created="Thu, 23 Apr 2015 09:19:06 +0000"  >&lt;p&gt;I see that this value for the &lt;tt&gt;repository.home&lt;/tt&gt; is already &apos;advertised&apos; at &lt;a href=&quot;http://jackrabbit.apache.org/oak/docs/osgi_config.html#Framework_Properties_vs_OSGi_Configuration&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jackrabbit.apache.org/oak/docs/osgi_config.html#Framework_Properties_vs_OSGi_Configuration&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14508857" author="olli" created="Thu, 23 Apr 2015 11:29:42 +0000"  >&lt;p&gt;We cannot be consistent across deployments (at least not in a comfortable manner) with &lt;tt&gt;repository.home&lt;/tt&gt; under &lt;tt&gt;[settings]&lt;/tt&gt;/&lt;tt&gt;sling.properties&lt;/tt&gt; as it is a framework property which cannot be set in a Karaf Feature. So I&apos;m in favor for configuration per service as done in &lt;a href=&quot;https://svn.apache.org/r1675575&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1675575&lt;/a&gt; or Karaf.&lt;/p&gt;</comment>
                            <comment id="14509000" author="rombert" created="Thu, 23 Apr 2015 12:59:35 +0000"  >&lt;p&gt;I hadn&apos;t considered that when I made the change. Looking at the code in LuceneIndexProviderService I can see that the &lt;tt&gt;repository.home&lt;/tt&gt; property is a fallback in case &lt;tt&gt;localIndexDir&lt;/tt&gt; is not configured&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;            &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; indexDirPath = PropertiesUtil.toString(config.get(PROP_LOCAL_INDEX_DIR), &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (Strings.isNullOrEmpty(indexDirPath)) {
                &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; repoHome = bundleContext.getProperty(REPOSITORY_HOME);
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (repoHome != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;){
                    indexDirPath = FilenameUtils.concat(repoHome, &lt;span class=&quot;code-quote&quot;&gt;&quot;index&quot;&lt;/span&gt;);
                }
            }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;What I don&apos;t understand is how the Karaf launchpad interacts with setting framework properties in the main launchpad. Does anything break in Karaf if we use framework properties? Can we simplify the Karaf launchpad/features if we set component properties in the main launchpad?&lt;/p&gt;</comment>
                            <comment id="14509364" author="olli" created="Thu, 23 Apr 2015 17:02:37 +0000"  >&lt;p&gt;I do not fully understand your last paragraph, but I hope to make things more clear with some points:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;framework properties do not break anything in Karaf (Karaf in this case is just a wrapper/starter for Felix/Equinox like Sling&apos;s Launchpad)&lt;/li&gt;
	&lt;li&gt;Sling works without setting any special framework properties&lt;/li&gt;
	&lt;li&gt;framework properties cannot be added/removed/modified at runtime (AFAIK - &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; knows probably better)&lt;/li&gt;
	&lt;li&gt;when installing Sling by features in Karaf the framework (Felix) is already running&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So not using framework properties and component configuration instead is about user experience. You don&apos;t have to shutdown the framework, add/change a property (e.g. in &lt;tt&gt;karaf/etc/custom.properties&lt;/tt&gt;) and restart. You can simply install the required configuration when installing the Sling features in your running framework. It&apos;s a couplet:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;karaf@root()&amp;gt; feature:repo-add mvn:org.apache.sling/org.apache.sling.launchpad.karaf-features/0.1.1-SNAPSHOT/xml/features
karaf@root()&amp;gt; feature:install sling-launchpad-oak-tar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And just &lt;tt&gt;sling&lt;/tt&gt; for &lt;tt&gt;feature:repo-add&lt;/tt&gt; when &lt;tt&gt;org.apache.sling.launchpad.karaf-features&lt;/tt&gt; is released.&lt;/p&gt;

&lt;p&gt;Shared configuration for &lt;tt&gt;sling-launchpad-oak-tar&lt;/tt&gt; and &lt;tt&gt;sling-launchpad-oak-mongo&lt;/tt&gt; is already in &lt;tt&gt;sling-launchpad-oak&lt;/tt&gt; (main launchpad?) where both depend on. I don&apos;t see how to simplify further.&lt;/p&gt;

&lt;p&gt;You can put configuration into files also, but that doesn&apos;t help here?&lt;/p&gt;</comment>
                            <comment id="14534406" author="rombert" created="Fri, 8 May 2015 12:10:52 +0000"  >&lt;p&gt;Thanks for the detailed explanation. Just to make sure I understand how the situation stands after my last changes:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the main Sling launchpad is configured with a framework property &lt;tt&gt;sling.home&lt;/tt&gt;, which is used by various Oak components as a fallback in case specific properties are not defined , at the moment &lt;tt&gt;org.apache.jackrabbit.oak.plugins.segment.SegmentNodeStoreService&lt;/tt&gt; and &lt;tt&gt;org.apache.jackrabbit.oak.plugins.index.lucene.LuceneIndexProviderService&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;the Karaf features use component properties to explicitly configure the above mentioned services . This is done to simplify the installation setup, as it allows Karaf users to only use &lt;tt&gt;feature:install&lt;/tt&gt; rather than use system properties&lt;/li&gt;
	&lt;li&gt;there is no interaction between the configuration defined in the Sling launchpad and the Karaf features&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So the issue that we&apos;re discussing here is how to be consistent between the way we configure components in both the Sling launchpad and the Karaf launchpad. Is that correct?&lt;/p&gt;</comment>
                            <comment id="14538516" author="olli" created="Mon, 11 May 2015 19:41:32 +0000"  >&lt;p&gt;Exactly. We (&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bosschaert&quot; class=&quot;user-hover&quot; rel=&quot;bosschaert&quot;&gt;bosschaert&lt;/a&gt; and myself) discussed at adaptTo() 2014, if/how it is possible to use the new provisioning model to generate Slingfeatures, Karaf Features and OSGi Subsystems. This is a long way to go, but a common configuration would help for sure.&lt;/p&gt;</comment>
                            <comment id="14538525" author="cziegeler" created="Mon, 11 May 2015 19:47:03 +0000"  >&lt;p&gt;The framework properties are part of the model, so this could somehow be used to create a Karaf feature&lt;/p&gt;</comment>
                            <comment id="14540212" author="olli" created="Tue, 12 May 2015 17:00:24 +0000"  >&lt;p&gt;Sure, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; - they are part of Sling&apos;s provisioning model, but &lt;em&gt;framework properties cannot be added/removed/modified at runtime&lt;/em&gt;, right? (&lt;tt&gt;BundleContext#getProperty(String):String&lt;/tt&gt;)&lt;/p&gt;</comment>
                            <comment id="14545424" author="cziegeler" created="Fri, 15 May 2015 12:35:11 +0000"  >&lt;p&gt;Yes, that&apos;s right of course &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Which in turn means, there should always be a sensible defaulting for a framework property and even better a config admin approach&lt;/p&gt;</comment>
                            <comment id="14618151" author="olli" created="Wed, 8 Jul 2015 07:41:37 +0000"  >&lt;p&gt;configure components explicitly (Config Admin), drop framework properties&lt;/p&gt;</comment>
                            <comment id="14618185" author="rombert" created="Wed, 8 Jul 2015 08:07:43 +0000"  >&lt;p&gt;Are you sure this is the task you wanted to reopen?&lt;/p&gt;</comment>
                            <comment id="14618206" author="olli" created="Wed, 8 Jul 2015 08:25:04 +0000"  >&lt;p&gt;Yes, see &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;&apos;s latest comment. I would like to add under &lt;tt&gt;[configurations runModes=oak]&lt;/tt&gt; in &lt;tt&gt;oak.txt&lt;/tt&gt; the following config:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  org.apache.jackrabbit.oak.plugins.index.lucene.LuceneIndexProviderService
    localIndexDir=sling/oak/repository/index
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And remove &lt;tt&gt;repository.home=${sling.home}/repository&lt;/tt&gt; from &lt;tt&gt;boot.txt&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="14618252" author="rombert" created="Wed, 8 Jul 2015 09:02:01 +0000"  >&lt;p&gt;I think at least there should be a different task, the IT is not failing anymore &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;

&lt;p&gt;And (again), I don&apos;t see why we should do this change, as &lt;tt&gt;repository.home&lt;/tt&gt; is used in multiple places in Oak to build configuration values. Why specify multiple configuration values when we can specify just one?&lt;/p&gt;

&lt;p&gt;For the record:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/osgi/FileBlobStoreService.java:    private static final String PROP_HOME = &quot;repository.home&quot;;
oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/AbstractDataStoreService.java:    private static final String PROP_HOME = &quot;repository.home&quot;;
oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/segment/SegmentNodeStoreService.java:    public static final String DIRECTORY = &quot;repository.home&quot;;
oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexProviderService.java:    public static final String REPOSITORY_HOME = &quot;repository.home&quot;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14622150" author="olli" created="Fri, 10 Jul 2015 11:07:30 +0000"  >&lt;p&gt;Yes, it fixed the IT but in a rather unelegant way IMO. Follow-up issue (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4871&quot; title=&quot;use component configurations (Config Admin) instead of framework properties&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4871&quot;&gt;&lt;del&gt;SLING-4871&lt;/del&gt;&lt;/a&gt;) created.&lt;/p&gt;

&lt;p&gt;btw &lt;tt&gt;repository.home&lt;/tt&gt; is a poorly chosen name and had better be equipped with a prefix like &lt;tt&gt;jcr.&lt;/tt&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12844125">SLING-4871</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 16 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dlrj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4647] Max pull items for http transport handler should only be applied to PULL requests</title>
                <link>https://issues.apache.org/jira/browse/SLING-4647</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Only pull requests can produce different results and hence the other types (TEST, ADD, DELETE) should only be iterated once.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12822923">SLING-4647</key>
            <summary>Max pull items for http transport handler should only be applied to PULL requests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="mpetria">Marius Petria</assignee>
                                    <reporter username="mpetria">Marius Petria</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Apr 2015 07:21:27 +0000</created>
                <updated>Mon, 18 May 2015 14:29:17 +0000</updated>
                                            <version>Content Distribution Core 0.1.1</version>
                                    <fixVersion>Content Distribution Core 0.1.2</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14508939" author="mpetria" created="Thu, 23 Apr 2015 12:06:45 +0000"  >&lt;p&gt;Committed revision 1675577.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dkzr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4646] Missing null checks in DefaultDistributionEventFactory</title>
                <link>https://issues.apache.org/jira/browse/SLING-4646</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;tt&gt;DefaultDistributionEventFactory&lt;/tt&gt; should checks for null values of &lt;tt&gt;DistributionPackageInfo#getRequestType&lt;/tt&gt;&#160;and &lt;tt&gt;DistributionPackageInfo#getPaths&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12822717">SLING-4646</key>
            <summary>Missing null checks in DefaultDistributionEventFactory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="teofili">Tommaso Teofili</assignee>
                                    <reporter username="teofili">Tommaso Teofili</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Apr 2015 16:38:11 +0000</created>
                <updated>Mon, 18 May 2015 14:22:22 +0000</updated>
                            <resolved>Tue, 21 Apr 2015 16:39:48 +0000</resolved>
                                    <version>Content Distribution Core 0.1.1</version>
                                    <fixVersion>Content Distribution Core 0.1.2</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14505231" author="teofili" created="Tue, 21 Apr 2015 16:39:48 +0000"  >&lt;p&gt;fixed in r1675154&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 28 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2djrz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4644] SlingException is not properly propagated by ResourceProviderEntry.getInternalResource(...)</title>
                <link>https://issues.apache.org/jira/browse/SLING-4644</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently any exception thrown from the &lt;tt&gt;ResourceResolverEntry.getResourceFromProviders&lt;/tt&gt; (&lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/resourceresolver/src/main/java/org/apache/sling/resourceresolver/impl/tree/ResourceProviderEntry.java#L389&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/bundles/resourceresolver/src/main/java/org/apache/sling/resourceresolver/impl/tree/ResourceProviderEntry.java#L389&lt;/a&gt;), is caught by &lt;tt&gt;ResourceProviderEntry.getInternalResource&lt;/tt&gt; (&lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/resourceresolver/src/main/java/org/apache/sling/resourceresolver/impl/tree/ResourceProviderEntry.java#L383&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/bundles/resourceresolver/src/main/java/org/apache/sling/resourceresolver/impl/tree/ResourceProviderEntry.java#L383&lt;/a&gt;) and only logged on debug level. This leads to the case that if the underlying resource provider throws a &lt;tt&gt;SlingException&lt;/tt&gt; during its &lt;tt&gt;getResource&lt;/tt&gt; that exception is gonna be swallowed (and not rethrown properly). Only a log statement with level debug would give some explanation on why the getResource would fail. But according to the javadoc the &lt;tt&gt;ResourceResolver.getResource&lt;/tt&gt; should rather throw a &lt;tt&gt;SlingException&lt;/tt&gt; in that case. &lt;br/&gt;
I would suggest to rewrite that exception handling in &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/resourceresolver/src/main/java/org/apache/sling/resourceresolver/impl/tree/ResourceProviderEntry.java#L383&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/bundles/resourceresolver/src/main/java/org/apache/sling/resourceresolver/impl/tree/ResourceProviderEntry.java#L383&lt;/a&gt; to properly propagate all {{SlingException}}s.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12822664">SLING-4644</key>
            <summary>SlingException is not properly propagated by ResourceProviderEntry.getInternalResource(...)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Apr 2015 13:18:42 +0000</created>
                <updated>Tue, 21 Jul 2015 10:56:04 +0000</updated>
                            <resolved>Wed, 22 Apr 2015 07:52:45 +0000</resolved>
                                    <version>Resource Resolver 1.2.4</version>
                                    <fixVersion>Resource Resolver 1.2.6</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14505216" author="kwin" created="Tue, 21 Apr 2015 16:26:11 +0000"  >&lt;p&gt;Removing the whole &lt;tt&gt;try ... catch&lt;/tt&gt; block in the  &lt;tt&gt;ResourceProviderEntry.getInternalResource&lt;/tt&gt; seems like the correct approach to me.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; What was the reason why this was introduced? Can we expect any other exception we should deliberately not propagate?&lt;/p&gt;</comment>
                            <comment id="14505642" author="cziegeler" created="Tue, 21 Apr 2015 20:06:20 +0000"  >&lt;p&gt;I assume the reason was to follow the contract and let not any other exception be thrown from getResource or resolve, like to catch an NPE etc. So we have two options, either we explicitely catch SlingException and rethrow it and leave the handling for everything else in place - or we remove the try/catch completely.&lt;br/&gt;
The first solution is closer to what we have right now, but surely might hide problems.&lt;/p&gt;</comment>
                            <comment id="14506538" author="cziegeler" created="Wed, 22 Apr 2015 06:49:16 +0000"  >&lt;p&gt;I&apos;ve changed the implementation to rethrow the SlingException and ignore all other runtime exception and log those with log level warn; as this is closer to the original behaviour I think it&apos;s slightly better than simply not catching the exception.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; If you agree with the change, we can resolve this&lt;/p&gt;</comment>
                            <comment id="14506592" author="kwin" created="Wed, 22 Apr 2015 07:43:55 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;. The change looks good to me. Increasing the log level to warn for all other exceptions is certainly good. If now exceptions are logged there we can fix that through individual JIRA issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 28 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2djg7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4643] TopologyConnectorServlet has unnecessary @Reference to HeartbeatHandler</title>
                <link>https://issues.apache.org/jira/browse/SLING-4643</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;TopologyConnectorServlet has unnecessary @Reference to HeartbeatHandler. Should be removed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12822425">SLING-4643</key>
            <summary>TopologyConnectorServlet has unnecessary @Reference to HeartbeatHandler</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Apr 2015 19:24:24 +0000</created>
                <updated>Tue, 28 Apr 2015 11:57:05 +0000</updated>
                            <resolved>Mon, 20 Apr 2015 19:25:28 +0000</resolved>
                                    <version>Discovery Impl 1.1.0</version>
                                    <fixVersion>Discovery Impl 1.1.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14503468" author="egli" created="Mon, 20 Apr 2015 19:25:28 +0000"  >&lt;p&gt;removed in &lt;a href=&quot;http://svn.apache.org/r1674966&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1674966&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 28 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dhvb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4641] Content navigator does not decorate resources with warning/error markers</title>
                <link>https://issues.apache.org/jira/browse/SLING-4641</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;See attached screenshot ; the top area is the content navigator, the bottom one is the regular eclipse folder/file view.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12822330">SLING-4641</key>
            <summary>Content navigator does not decorate resources with warning/error markers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Apr 2015 14:29:24 +0000</created>
                <updated>Sun, 21 Jan 2018 20:23:36 +0000</updated>
                            <resolved>Mon, 24 Oct 2016 15:29:44 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.0.6</version>
                                    <fixVersion>Sling Eclipse IDE 1.2.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15601828" author="kwin" created="Mon, 24 Oct 2016 12:26:09 +0000"  >&lt;p&gt;This can be achieved with a &lt;tt&gt;org.eclipse.jdt.ui.ProblemsLabelDecorator&lt;/tt&gt; (&lt;a href=&quot;https://github.com/eclipse/webtools.javaee/blob/7c9fc5163a8c85bcefa8fff320f75ceddde9dc14/plugins/org.eclipse.jst.servlet.ui/servlet_ui/org/eclipse/jst/servlet/ui/internal/navigator/WebJavaLabelProvider.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eclipse/webtools.javaee/blob/7c9fc5163a8c85bcefa8fff320f75ceddde9dc14/plugins/org.eclipse.jst.servlet.ui/servlet_ui/org/eclipse/jst/servlet/ui/internal/navigator/WebJavaLabelProvider.java&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="15602321" author="kwin" created="Mon, 24 Oct 2016 15:29:46 +0000"  >&lt;p&gt;Fixed with &lt;a href=&quot;https://svn.apache.org/r1766420&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1766420&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12726572" name="content-navigator-missing-errors.png" size="88183" author="rombert" created="Mon, 20 Apr 2015 14:30:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 week, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dhav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4640] Possibility of duplicate leaders w/discovery.impl on eventually consistent repo</title>
                <link>https://issues.apache.org/jira/browse/SLING-4640</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Note: This is a fork of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3432&quot; title=&quot;pseudo network partition causes job deserialization issue in a cluster (when reading while job is being reassigned)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3432&quot;&gt;&lt;del&gt;SLING-3432&lt;/del&gt;&lt;/a&gt; based on a &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3432?focusedCommentId=14495936&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14495936&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;comment&lt;/a&gt;. So here is that comment again:&lt;/p&gt;

&lt;p&gt;Note that &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3432?focusedCommentId=14492494&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14492494&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;the above&lt;/a&gt; does not solve the problem where the underlying repository is eventually consistent and the heartbeat configured is too low to catch all possible delays (that such an eventually consistent repository might produce under load). Consider the following:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;a cluster consisting of 3 nodes: A, B and C, A is the leader&lt;/li&gt;
	&lt;li&gt;writes from B and C are fast - and can be read by all 3 nodes fast&lt;/li&gt;
	&lt;li&gt;writes from A though are slow (ie A behaves asymmetric: slow writes but fast reads)&lt;/li&gt;
	&lt;li&gt;at some point writes from A are slower than the configured heartbeat timeout: at this point B and C find out about this and vote on a new clusterView consisting only of B and C and (let&apos;s say) B becomes leader.
	&lt;ul&gt;
		&lt;li&gt;meanwhile at A however: A is still happy: it sees the heartbeats of B and C in time and would not start a new voting.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;at some later point (with a &lt;b&gt;certain read delay&lt;/b&gt;) A sees that B and C have declared a new &lt;tt&gt;/establishedViews&lt;/tt&gt; - at this point it would (according to the new rule above) immediately send a TOPOLOGY_CHANGING and things would be &apos;ok&apos; again.
	&lt;ul&gt;
		&lt;li&gt;&lt;b&gt;but&lt;/b&gt; until it does send this event - &lt;b&gt;between 4. and 5. - we have two leaders: A and B&lt;/b&gt;! -&amp;gt; thus could see issues reported here in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3432&quot; title=&quot;pseudo network partition causes job deserialization issue in a cluster (when reading while job is being reassigned)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3432&quot;&gt;&lt;del&gt;SLING-3432&lt;/del&gt;&lt;/a&gt; still during that small timeframe (which is basically the amount of time it takes for the new established view declared by B and C to be read by A).&lt;/li&gt;
		&lt;li&gt;at a later time, when eg the delays in the repository have come down, A would rejoin the cluster - but would have to &lt;b&gt;not become leader&lt;/b&gt; again, as the leader is B and must stay stable.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;This IMHO highlights the problem that using an eventually consistent repository (that has no max guaranteed delay) is &lt;b&gt;not&lt;/b&gt; pseudo-network-partition/duplicate-leader free under load.&lt;/p&gt;

&lt;p&gt;Note that what is described here is not fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4627&quot; title=&quot;TOPOLOGY_CHANGED in an eventually consistent repository&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4627&quot;&gt;&lt;del&gt;SLING-4627&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12822308">SLING-4640</key>
            <summary>Possibility of duplicate leaders w/discovery.impl on eventually consistent repo</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Apr 2015 13:01:40 +0000</created>
                <updated>Thu, 12 Nov 2015 11:54:27 +0000</updated>
                            <resolved>Tue, 3 Nov 2015 14:55:37 +0000</resolved>
                                    <version>Discovery Impl 1.1.0</version>
                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14974545" author="egli" created="Mon, 26 Oct 2015 17:02:18 +0000"  >&lt;p&gt;This would require help from the underlying repository. Without knowing how large the read/write-delay of the local instance is, there&apos;s no way of dealing with this.&lt;/p&gt;

&lt;p&gt;However, if such a read/write-delay would be known and periodically checked for, then the instance could put itself into a &lt;tt&gt;TOPOLOGY_CHANGING&lt;/tt&gt; state as soon as the read-delay is larger than the configured heartbeat timeout (or actually a little bit before that to account for glitches).&lt;/p&gt;

&lt;p&gt;Removing the fix-version here for now as this requires non-standard repository support&lt;/p&gt;</comment>
                            <comment id="14987404" author="egli" created="Tue, 3 Nov 2015 14:55:37 +0000"  >&lt;p&gt;Marked this as Won&apos;t Fix with the following reasons:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;there&apos;s rather no standard way of knowing how large the read delay is in any underlying repository that can be used. That&apos;s simply not anything standard.&lt;/li&gt;
	&lt;li&gt;if we&apos;re talking Oak, then we could come up with a way for Oak to expose such a delay
	&lt;ul&gt;
		&lt;li&gt;however, exactly for Oak we have discovery.oak which works around repository-delays in general by using a lower-level collection for storing group-detection-info (leases). So for discovery.oak &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4640&quot; title=&quot;Possibility of duplicate leaders w/discovery.impl on eventually consistent repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4640&quot;&gt;&lt;del&gt;SLING-4640&lt;/del&gt;&lt;/a&gt; is not relevant. I don&apos;t think it makes sense to come up with yet another non-standard extension for Oak for something where we have a different solution already..&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12907902">SLING-5195</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12821182">SLING-4627</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12698636">SLING-3432</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                                                <inwardlinks description="is superceded by">
                                        <issuelink>
            <issuekey id="12819712">SLING-4603</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dh5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4638] isCurrent() not always correctly set</title>
                <link>https://issues.apache.org/jira/browse/SLING-4638</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With extending the TOPOLOGY_CHANGING phase in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3432&quot; title=&quot;pseudo network partition causes job deserialization issue in a cluster (when reading while job is being reassigned)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3432&quot;&gt;&lt;del&gt;SLING-3432&lt;/del&gt;&lt;/a&gt; and follow-up tickets such as &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4634&quot; title=&quot;Directly check if view is still current&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4634&quot;&gt;&lt;del&gt;SLING-4634&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4635&quot; title=&quot;Topology related jobs shouldn&amp;#39;t be scheduled if topology is unclear/not available&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4635&quot;&gt;&lt;del&gt;SLING-4635&lt;/del&gt;&lt;/a&gt;, the correctness of TopologyView.isCurrent() is very important: currently it is not always correctly set. This must be fixed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12822258">SLING-4638</key>
            <summary>isCurrent() not always correctly set</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Apr 2015 09:16:18 +0000</created>
                <updated>Mon, 27 Jul 2015 14:50:36 +0000</updated>
                            <resolved>Mon, 20 Apr 2015 12:53:33 +0000</resolved>
                                    <version>Discovery Impl 1.1.0</version>
                                    <fixVersion>Discovery Impl 1.1.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14502568" author="cziegeler" created="Mon, 20 Apr 2015 09:32:16 +0000"  >&lt;p&gt;I assume this also includes that the view object passed to the topology event listeners is updated correctly and can be used within implementations to find out whether the view is still current or not&lt;/p&gt;</comment>
                            <comment id="14502571" author="egli" created="Mon, 20 Apr 2015 09:34:34 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/r1674772&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1674772&lt;/a&gt; : mark &lt;tt&gt;current&lt;/tt&gt; as &lt;tt&gt;volatile&lt;/tt&gt; so as to speed up its delivery between discovery.impl and customer code&lt;/p&gt;</comment>
                            <comment id="14502577" author="egli" created="Mon, 20 Apr 2015 09:37:28 +0000"  >&lt;p&gt;Yes, that it in fact already the case. Triple checking the code now for missing other stuff however. One detail is now fixed with &lt;a href=&quot;http://svn.apache.org/r1674772&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1674772&lt;/a&gt; as noted below&lt;/p&gt;</comment>
                            <comment id="14502689" author="egli" created="Mon, 20 Apr 2015 11:52:18 +0000"  >&lt;p&gt;More fixes in &lt;a href=&quot;http://svn.apache.org/r1674809&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1674809&lt;/a&gt; and &lt;a href=&quot;http://svn.apache.org/r1674829&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1674829&lt;/a&gt; (plus tests adjusted in &lt;a href=&quot;http://svn.apache.org/r1674834):&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1674834):&lt;/a&gt; &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;in activate() when delayInitEventUntilVoted is not configured and we&apos;re in isolated mode: set current==false&lt;/li&gt;
	&lt;li&gt;in bindTopologyEventListener: when a listener is registered late (==after activate) then you can already be CHANGING again - which would require current==false too&lt;/li&gt;
	&lt;li&gt;in getTopology(): check if returned topology is isolated OR we&apos;re between CHANGING and CHANGED (for this, mark delayedEventPending as volatile)&lt;/li&gt;
	&lt;li&gt;in forcedShutdown(): mark view as old too&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14502738" author="egli" created="Mon, 20 Apr 2015 12:53:33 +0000"  >&lt;p&gt;fixed&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12698636">SLING-3432</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12821885">SLING-4635</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12821883">SLING-4634</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12833512">SLING-4761</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 28 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dgv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4635] Topology related jobs shouldn&apos;t be scheduled if topology is unclear/not available</title>
                <link>https://issues.apache.org/jira/browse/SLING-4635</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a job is scheduled to be run only on the leader or only on a single instance, it is currently scheduled even if the topology is not available or changing.&lt;br/&gt;
This is wrong as this can lead to the job being scheduled more than once in a cluster in such situations.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12821885">SLING-4635</key>
            <summary>Topology related jobs shouldn&apos;t be scheduled if topology is unclear/not available</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Apr 2015 13:48:48 +0000</created>
                <updated>Sat, 13 Jun 2015 16:12:08 +0000</updated>
                            <resolved>Mon, 20 Apr 2015 12:36:38 +0000</resolved>
                                    <version>Commons Scheduler 2.4.6</version>
                                    <fixVersion>Commons Scheduler 2.4.8</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14502552" author="cziegeler" created="Mon, 20 Apr 2015 09:16:44 +0000"  >&lt;p&gt;The problem is, that right now the discovery (api) is treated as optional. The scheduler works without it. However scheduling of the above menitoned features makes only sense if discovery is available.&lt;br/&gt;
Therefore we should:&lt;br/&gt;
a) if no discovery is available, log an error - and no scheduling&lt;br/&gt;
b) if discovery is available, but no stable view is available, log in debug - and no scheduling&lt;br/&gt;
c) if discovery is available, and view is stable, schedule accordingly&lt;/p&gt;</comment>
                            <comment id="14502564" author="egli" created="Mon, 20 Apr 2015 09:27:56 +0000"  >&lt;blockquote&gt;&lt;p&gt;a) if no discovery is available, log an error - and no scheduling&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1&lt;br/&gt;
there is always discovery.standalone should the scheduler want to run &quot;without&quot; an actual discovery mechanism.&lt;/p&gt;</comment>
                            <comment id="14502718" author="cziegeler" created="Mon, 20 Apr 2015 12:36:38 +0000"  >&lt;p&gt;Resolved as explained above. I&apos;ve also changed the implementation to use the settings service to get the Sling ID - this allows to schedule based on Sling IDs even if topology is not available.&lt;br/&gt;
The web console plugin is updated to display if a job is not scheduled and why. In addition the service id is now displayed for whiteboard registrations&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12822258">SLING-4638</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 28 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2delb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4633] Launchpad archetypes do not run on Java 7 or newer</title>
                <link>https://issues.apache.org/jira/browse/SLING-4633</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Maven archetype &apos;sling-launchpad-standalone-archetype&apos; needs to be updated to a newer version of Sling. The current version contains a known bug which causes an immediate crash on startup:&lt;/p&gt;

&lt;p&gt;16.04.2015 12:51:57.845 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; Failed to Start OSGi framework org.osgi.framework.BundleException: Uncaught Instantiation Issue: java.lang.ArrayIndexOutOfBoundsException: -1&lt;br/&gt;
        at org.apache.sling.launchpad.base.impl.Sling.&amp;lt;init&amp;gt;(Sling.java:245)&lt;br/&gt;
Caused by: java.lang.ArrayIndexOutOfBoundsException: -1&lt;br/&gt;
        at java.util.ArrayList.elementData(ArrayList.java:371)&lt;br/&gt;
        at java.util.ArrayList.get(ArrayList.java:384)&lt;br/&gt;
        at org.apache.felix.framework.BundleImpl.getCurrentModule(BundleImpl.java:1046)&lt;/p&gt;

&lt;p&gt;The code generated by the archetype is unusable due to this problem.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12821863">SLING-4633</key>
            <summary>Launchpad archetypes do not run on Java 7 or newer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="kevinroll">Kevin A. Roll</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Apr 2015 12:45:26 +0000</created>
                <updated>Mon, 20 Apr 2015 22:33:15 +0000</updated>
                            <resolved>Mon, 20 Apr 2015 22:33:15 +0000</resolved>
                                    <version>Launchpad Webapp Archetype 1.0.0</version>
                    <version>Launchpad Standalone Archetype 1.0.0</version>
                                    <fixVersion>Launchpad Webapp Archetype 1.0.2</fixVersion>
                    <fixVersion>Launchpad Standalone Archetype 1.0.2</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14500507" author="kevinroll" created="Fri, 17 Apr 2015 19:33:11 +0000"  >&lt;p&gt;I tried changing the version of org.apache.sling.launchpad.base in the POM file, but this did not work for me. It appears there is a tight coupling between that version and the default bundle list, and I was not able to produce a working build after a lot of experimentation.&lt;/p&gt;</comment>
                            <comment id="14502993" author="rombert" created="Mon, 20 Apr 2015 15:09:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kevinroll&quot; class=&quot;user-hover&quot; rel=&quot;kevinroll&quot;&gt;kevinroll&lt;/a&gt; - do the following changes fix the build for you?&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;index 3a65738..d4b6b6b 100644
--- a/tooling/maven/archetypes/launchpad-standalone/src/main/resources/archetype-resources/pom.xml
+++ b/tooling/maven/archetypes/launchpad-standalone/src/main/resources/archetype-resources/pom.xml
@@ -36,12 +36,12 @@
                 &amp;lt;/executions&amp;gt;
                 &amp;lt;configuration&amp;gt;
                     &amp;lt;defaultBundleList&amp;gt;
-                        &amp;lt;version&amp;gt;6&amp;lt;/version&amp;gt;
+                        &amp;lt;version&amp;gt;7&amp;lt;/version&amp;gt;
                     &amp;lt;/defaultBundleList&amp;gt;
                     &amp;lt;jarWebSupport&amp;gt;
                         &amp;lt;groupId&amp;gt;org.apache.felix&amp;lt;/groupId&amp;gt;
                         &amp;lt;artifactId&amp;gt;org.apache.felix.http.jetty&amp;lt;/artifactId&amp;gt;
-                        &amp;lt;version&amp;gt;2.2.0&amp;lt;/version&amp;gt;
+                        &amp;lt;version&amp;gt;2.2.2&amp;lt;/version&amp;gt;
                     &amp;lt;/jarWebSupport&amp;gt;
                 &amp;lt;/configuration&amp;gt;
             &amp;lt;/plugin&amp;gt;
@@ -64,7 +64,7 @@
         &amp;lt;dependency&amp;gt;
             &amp;lt;groupId&amp;gt;org.apache.sling&amp;lt;/groupId&amp;gt;
             &amp;lt;artifactId&amp;gt;org.apache.sling.launchpad.base&amp;lt;/artifactId&amp;gt;
-            &amp;lt;version&amp;gt;2.4.0&amp;lt;/version&amp;gt;
+            &amp;lt;version&amp;gt;4.6.1-2.5.8&amp;lt;/version&amp;gt;
             &amp;lt;classifier&amp;gt;app&amp;lt;/classifier&amp;gt;
             &amp;lt;scope&amp;gt;runtime&amp;lt;/scope&amp;gt;
         &amp;lt;/dependency&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14503029" author="kevinroll" created="Mon, 20 Apr 2015 15:27:54 +0000"  >&lt;p&gt;When I ran the build I got&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal org.apache.sling:maven-launchpad-plugin:2.0.10:prepare-package (prepare-package-jar) on project standalone: Unable to load dependency information from properties file. Unable to parse element &apos;level&apos;, must be&lt;br/&gt;
an integer (position: START_TAG seen ...&amp;lt;bundles&amp;gt;\n  &amp;lt;startLevel level=&quot;boot&quot;&amp;gt;... @3:28) -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;I updated the version of the maven-launchpad-plugin to 2.3.2 and it works. It appears that I have a functioning Sling up and running.&lt;/p&gt;

&lt;p&gt;The original project that was generated for me did not have the &amp;lt;jarWebSupport&amp;gt; section, and I think that was a big part of the problem.&lt;/p&gt;

</comment>
                            <comment id="14503753" author="rombert" created="Mon, 20 Apr 2015 21:52:44 +0000"  >&lt;blockquote&gt;&lt;p&gt;Failed to execute goal org.apache.sling:maven-launchpad-plugin:2.0.10:prepare-package&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That&apos;s strange, I just double-checked and we&apos;re using 2.3.0 in the archetype. Maybe those were part of your local changes?&lt;/p&gt;</comment>
                            <comment id="14503837" author="rombert" created="Mon, 20 Apr 2015 22:33:15 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1674996&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1674996&lt;/a&gt; . Please reopen if the fix does not work for you &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 28 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2deh3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4632] File installer does not support moving Sling directory</title>
                <link>https://issues.apache.org/jira/browse/SLING-4632</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The file installer uses the full path to the install folder as a hash as the schema to be passed to the installer. The schame is used on a restart to detect that this is the same installation location.&lt;br/&gt;
If now the whole Sling home is moved to a different location, this results in a different absolute path for the install directory. On a restart, the install directory is detected as a new location. As the OSGi installer by design does not touch unknown/stale locations, this results in the old resources being available, together with the new ones. Which results in hard to trace/find problems once something is changed in the install folder.&lt;/p&gt;

&lt;p&gt;We have to use new full path and not just the directory, otherwise if the installer is configured with two directories having the same name, this would result in a clash.&lt;br/&gt;
If an absolute path is configured for the installer, it&apos;s totally fine to use the full path. The only problem are relative paths to sling.home&lt;/p&gt;

&lt;p&gt;A solution is to check whether the path starts with sling.home and then replace it with ${sling.home} instead.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12821818">SLING-4632</key>
            <summary>File installer does not support moving Sling directory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Apr 2015 09:24:49 +0000</created>
                <updated>Mon, 20 Apr 2015 06:33:04 +0000</updated>
                            <resolved>Fri, 17 Apr 2015 09:47:07 +0000</resolved>
                                    <version>File Installer 1.0.4</version>
                                    <fixVersion>File Installer 1.1.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14499558" author="cziegeler" created="Fri, 17 Apr 2015 09:47:07 +0000"  >&lt;p&gt;Solved by checking for the sling home prefix&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 28 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2de7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4626] NullPointerExceptions in MockResourceResolver</title>
                <link>https://issues.apache.org/jira/browse/SLING-4626</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The MockResourceResolver throws an exception when trying to access a resource outside of the root. The normal ResourceResolver implementation returns just null instead.&lt;/p&gt;

&lt;p&gt;Moreover, I get another NullPointerException in MockValueMap#convertForWrite if I try to create a MockResource with null properties (which is for example done in MergedResourceTest).&lt;/p&gt;

&lt;p&gt;Patch is attached.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12821148">SLING-4626</key>
            <summary>NullPointerExceptions in MockResourceResolver</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="joelrich">Joel Richard</reporter>
                        <labels>
                            <label>mocks</label>
                    </labels>
                <created>Wed, 15 Apr 2015 13:05:51 +0000</created>
                <updated>Fri, 22 May 2015 19:51:07 +0000</updated>
                            <resolved>Thu, 21 May 2015 07:23:49 +0000</resolved>
                                    <version>Testing ResourceResolver Mock 1.1.4</version>
                                    <fixVersion>Testing ResourceResolver Mock 1.1.6</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14553778" author="sseifert@pro-vision.de" created="Thu, 21 May 2015 07:23:49 +0000"  >&lt;p&gt;Completed: At revision: 1680749  &lt;/p&gt;

&lt;p&gt;patch applied - thanks!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12820527">SLING-4611</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12725566" name="SLING-4626.patch" size="4321" author="joelrich" created="Wed, 15 Apr 2015 13:07:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 24 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2da5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4625] No resource inventory if mbean attribute value is a double</title>
                <link>https://issues.apache.org/jira/browse/SLING-4625</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;A double value is currently tried to be directly used as the json value - but as json does not support infinite numbers, this results in a json exception&lt;/p&gt;</description>
                <environment></environment>
        <key id="12821107">SLING-4625</key>
            <summary>No resource inventory if mbean attribute value is a double</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Apr 2015 09:59:16 +0000</created>
                <updated>Mon, 20 Apr 2015 06:30:15 +0000</updated>
                            <resolved>Wed, 15 Apr 2015 10:17:32 +0000</resolved>
                                    <version>Resource Inventory 1.0.2</version>
                                    <fixVersion>Resource Inventory 1.0.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14495987" author="cziegeler" created="Wed, 15 Apr 2015 10:17:32 +0000"  >&lt;p&gt;Fixed in rev 1673706 by outputting a double as string and ignoring JSONExceptions for properties to not stop the output completely if a single property can&apos;t be rendered to json&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 29 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2d9wf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4623] javax.servlet.Filter - sling.filter.pattern does not work</title>
                <link>https://issues.apache.org/jira/browse/SLING-4623</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Whenever filter.select at &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; returns false, AbstractSlingFilterChain.render() is never called.&lt;/p&gt;

&lt;p&gt;If the regex does not match the path, filter should either be excluded from chain or code should skip that filter and call next&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/engine/src/main/java/org/apache/sling/engine/impl/filter/AbstractSlingFilterChain.java#L66&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/bundles/engine/src/main/java/org/apache/sling/engine/impl/filter/AbstractSlingFilterChain.java#L66&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12821073">SLING-4623</key>
            <summary>javax.servlet.Filter - sling.filter.pattern does not work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="asanso">Antonio Sanso</assignee>
                                    <reporter username="khemkasudeep">sudeep khemka</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Apr 2015 06:57:26 +0000</created>
                <updated>Mon, 20 Apr 2015 15:18:42 +0000</updated>
                            <resolved>Wed, 15 Apr 2015 08:11:31 +0000</resolved>
                                                    <fixVersion>Engine 2.4.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14495778" author="asanso" created="Wed, 15 Apr 2015 07:04:16 +0000"  >&lt;p&gt;looking  at the code in &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; it looks like the logic is correct&#8230;.&lt;/p&gt;

&lt;p&gt;May you provide an example on how to reproduce the issue?&lt;/p&gt;</comment>
                            <comment id="14495837" author="asanso" created="Wed, 15 Apr 2015 08:05:21 +0000"  >&lt;p&gt;can reproduce....  thanks for reporting&lt;/p&gt;</comment>
                            <comment id="14495840" author="asanso" created="Wed, 15 Apr 2015 08:10:48 +0000"  >&lt;p&gt;fixed in rev. r1673675&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 29 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2d9ov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4622] Sporadic discovery test failures</title>
                <link>https://issues.apache.org/jira/browse/SLING-4622</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It seems we have sporadic test failures with the discovery impl, see e.g. &lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/sling-trunk-1.8/982/org.apache.sling$org.apache.sling.discovery.impl/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/sling-trunk-1.8/982/org.apache.sling$org.apache.sling.discovery.impl/&lt;/a&gt;&lt;br/&gt;
with three test failures:&lt;br/&gt;
    org.apache.sling.discovery.impl.cluster.ClusterTest.testLeaderDesc&lt;br/&gt;
 org.apache.sling.discovery.impl.cluster.ClusterTest.testDuplicateInstance3726  org.apache.sling.discovery.impl.cluster.TopologyEventTest.testDelayedInitEvent&lt;/p&gt;

&lt;p&gt;In detail:&lt;/p&gt;

&lt;p&gt;java.lang.AssertionError: null&lt;br/&gt;
	at org.junit.Assert.fail(Assert.java:86)&lt;br/&gt;
	at org.junit.Assert.assertTrue(Assert.java:41)&lt;br/&gt;
	at org.junit.Assert.assertFalse(Assert.java:64)&lt;br/&gt;
	at org.junit.Assert.assertFalse(Assert.java:74)&lt;br/&gt;
	at org.apache.sling.discovery.impl.cluster.ClusterTest.doTestLeader(ClusterTest.java:189)&lt;br/&gt;
	at org.apache.sling.discovery.impl.cluster.ClusterTest.testLeaderDesc(ClusterTest.java:147)&lt;/p&gt;


&lt;p&gt;java.lang.AssertionError: could not find a match in the topology with instance=c4ede060-31fd-4f3e-8e0b-a22086db22a1 and clusterViews=3&lt;br/&gt;
	at org.junit.Assert.fail(Assert.java:88)&lt;br/&gt;
	at org.apache.sling.discovery.impl.cluster.ClusterTest.assertTopology(ClusterTest.java:767)&lt;br/&gt;
	at org.apache.sling.discovery.impl.cluster.ClusterTest.assertSameTopology(ClusterTest.java:542)&lt;br/&gt;
	at org.apache.sling.discovery.impl.cluster.ClusterTest.testDuplicateInstance3726(ClusterTest.java:526)&lt;/p&gt;


&lt;p&gt;java.lang.AssertionError: expected:&amp;lt;0&amp;gt; but was:&amp;lt;1&amp;gt;&lt;br/&gt;
	at org.junit.Assert.fail(Assert.java:88)&lt;br/&gt;
	at org.junit.Assert.failNotEquals(Assert.java:743)&lt;br/&gt;
	at org.junit.Assert.assertEquals(Assert.java:118)&lt;br/&gt;
	at org.junit.Assert.assertEquals(Assert.java:555)&lt;br/&gt;
	at org.junit.Assert.assertEquals(Assert.java:542)&lt;br/&gt;
	at org.apache.sling.discovery.impl.cluster.TopologyEventTest.testDelayedInitEvent(TopologyEventTest.java:158)&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12821034">SLING-4622</key>
            <summary>Sporadic discovery test failures</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                            <label>sling-IT</label>
                    </labels>
                <created>Wed, 15 Apr 2015 01:24:01 +0000</created>
                <updated>Wed, 30 Sep 2015 05:44:20 +0000</updated>
                            <resolved>Tue, 23 Jun 2015 09:42:25 +0000</resolved>
                                                    <fixVersion>Discovery Impl 1.1.8</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14597317" author="egli" created="Tue, 23 Jun 2015 08:08:00 +0000"  >&lt;p&gt;TopologyEventTest.testNonDelayedInitEvent/testDelayedInitEvent test failure covered and fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4385&quot; title=&quot;TopologyEventTest.testNonDelayedInitEvent/testDelayedInitEvent test failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4385&quot;&gt;&lt;del&gt;SLING-4385&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14597410" author="egli" created="Tue, 23 Jun 2015 09:40:01 +0000"  >&lt;p&gt;Adding a related frequent failure of ClusterLoadTest which was due to the test-heartbeat-thread getting a test exception (from a mock class) which it didn&apos;t catch, thus the thread was dying. See &lt;a href=&quot;http://svn.apache.org/r1687006&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1687006&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14597411" author="egli" created="Tue, 23 Jun 2015 09:40:56 +0000"  >&lt;p&gt;ClusterTest.testDuplicateInstance3726  was fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4587&quot; title=&quot;Increase ClusterTest stability&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4587&quot;&gt;&lt;del&gt;SLING-4587&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14597414" author="egli" created="Tue, 23 Jun 2015 09:42:25 +0000"  >&lt;p&gt;Two of the three have been fixed. The ClusterTest.testLeaderDesc has recently not failed, thus might or might not have been fixed as a side-effect of an earlier fix.&lt;/p&gt;

&lt;p&gt;Still closing this issue for now. If ClusterTest.testLeaderDesc appear again, so shall a ticket be created again.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12772002">SLING-4385</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12818977">SLING-4587</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 19 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2d9gf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4621] Manually forced leader change (in otherwise unchanged clusterView) is not reported</title>
                <link>https://issues.apache.org/jira/browse/SLING-4621</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This is not a normal operation hence minor. But if the leader in an otherwise unchanged clusterView changes from one to the other, this is not reported as a TOPOLOGY_CHANGED. This can normally not happen, as the leader never changes within an unchanged clusterView (leader is stable by contract). But introducing the possibility of changing the leader (via &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4516&quot; title=&quot;Allow to configure the leader to follow the crx master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4516&quot;&gt;&lt;del&gt;SLING-4516&lt;/del&gt;&lt;/a&gt;) unveils this defect.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12820846">SLING-4621</key>
            <summary>Manually forced leader change (in otherwise unchanged clusterView) is not reported</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Apr 2015 15:44:56 +0000</created>
                <updated>Tue, 28 Apr 2015 11:57:06 +0000</updated>
                            <resolved>Thu, 16 Apr 2015 10:41:31 +0000</resolved>
                                    <version>Discovery Impl 1.1.0</version>
                                    <fixVersion>Discovery Impl 1.1.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14497886" author="egli" created="Thu, 16 Apr 2015 10:41:31 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/r1674038&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1674038&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12782957">SLING-4516</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 28 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2d8ef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4620] Slingstart plugin start goal exits even if launchpad.keep.running is set to true</title>
                <link>https://issues.apache.org/jira/browse/SLING-4620</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;After adapting the Sightly Testing launchpad from &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4599&quot; title=&quot;Migrate Contrib scripting sightly testing to provisioning model&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4599&quot;&gt;&lt;del&gt;SLING-4599&lt;/del&gt;&lt;/a&gt; I noticed that the Maven execution of the Slingstart plugin exits even if the &lt;tt&gt;launchpad.keep.running&lt;/tt&gt; property is set to &lt;tt&gt;true&lt;/tt&gt;:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ mvn slingstart:start -Dlaunchpad.keep.running=true
[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building Apache Sling Scripting Sightly Integration Tests 1.0.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] --- slingstart-maven-plugin:1.0.5-SNAPSHOT:start (default-cli) @ org.apache.sling.scripting.sightly.testing ---
[INFO] Starting Launchpad jackrabbit-8080...
[INFO] Started Launchpad jackrabbit-8080 [jackrabbit, 8080]
[INFO] Press CTRL-C to stop launchpad instance(s)...
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 39.028 s
[INFO] Finished at: 2015-04-14T18:07:42+03:00
[INFO] Final Memory: 11M/160M
[INFO] ------------------------------------------------------------------------
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I noticed that the &lt;tt&gt;controlport&lt;/tt&gt; file does not get created under &lt;tt&gt;target/jackrabbit-8080/sling/conf&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;The same issue can be reproduced at &lt;tt&gt;launchpad/builder&lt;/tt&gt;:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ mvn slingstart:start -Dlaunchpad.keep.running=true
[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building Apache Sling Launchpad Application Builder 8-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] --- slingstart-maven-plugin:1.0.5-SNAPSHOT:start (default-cli) @ org.apache.sling.launchpad ---
[INFO] Starting Launchpad _-54984...
[INFO] Started Launchpad _-54984 [null, 54984]
[INFO] Press CTRL-C to stop launchpad instance(s)...
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 7.933 s
[INFO] Finished at: 2015-04-14T18:23:27+03:00
[INFO] Final Memory: 11M/160M
[INFO] ------------------------------------------------------------------------
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12820843">SLING-4620</key>
            <summary>Slingstart plugin start goal exits even if launchpad.keep.running is set to true</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Apr 2015 15:22:39 +0000</created>
                <updated>Thu, 23 Apr 2015 06:52:54 +0000</updated>
                            <resolved>Wed, 15 Apr 2015 01:20:31 +0000</resolved>
                                                    <fixVersion>Slingstart Maven Plugin 1.1.0</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14494786" author="cziegeler" created="Tue, 14 Apr 2015 20:14:57 +0000"  >&lt;p&gt;Actually the issue is slightly different. The launchpad is started, if you try to access the port it works.&lt;br/&gt;
The stop goal is not working and obviously the control-c message is wrong&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu.cotescu&quot; class=&quot;user-hover&quot; rel=&quot;radu.cotescu&quot;&gt;radu.cotescu&lt;/a&gt; Can you confirm this?&lt;/p&gt;</comment>
                            <comment id="14495518" author="cziegeler" created="Wed, 15 Apr 2015 01:20:31 +0000"  >&lt;p&gt;It turned out that the &quot;start&quot; command was missing in the command line arguments.&lt;br/&gt;
The plugin is now requiring Java 7 but therefore redirects the output to the console. IN addition it&apos;S always using a control port now&lt;/p&gt;</comment>
                            <comment id="14502549" author="radu.cotescu" created="Mon, 20 Apr 2015 09:11:16 +0000"  >&lt;p&gt;Sorry for the late notice - the fix works for me. Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 28 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2d8dr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4619] Make Sightly performance tests generate the same output</title>
                <link>https://issues.apache.org/jira/browse/SLING-4619</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Sightly performance tests need to generate the same output in order for the test comparisons to be reliable (where the reference is the JSP scripting engine performance).&lt;/p&gt;

&lt;p&gt;The Sightly scripts output the license header, whereas the JSP ones don&apos;t. To unify this behaviour the Sightly scripts should also comment out the license header, therefore removing it from the output.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12820829">SLING-4619</key>
            <summary>Make Sightly performance tests generate the same output</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Apr 2015 14:34:31 +0000</created>
                <updated>Tue, 14 Jul 2015 15:27:00 +0000</updated>
                            <resolved>Tue, 14 Apr 2015 15:13:11 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14494228" author="radu.cotescu" created="Tue, 14 Apr 2015 15:13:11 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1673438&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1673438&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 29 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2d8an:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4618] Remove dependency to unexported class</title>
                <link>https://issues.apache.org/jira/browse/SLING-4618</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &lt;tt&gt;org.apache.sling.models.impl.sightly.ModelFactoryUseProvider&lt;/tt&gt; uses an implementation class from the &lt;tt&gt;org.apache.sling.scripting.sightly&lt;/tt&gt; bundle which is not exported, leading to &lt;tt&gt;NoClassDefFoundError&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12820817">SLING-4618</key>
            <summary>Remove dependency to unexported class</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Apr 2015 13:38:36 +0000</created>
                <updated>Sat, 27 Jun 2015 09:37:02 +0000</updated>
                            <resolved>Tue, 14 Apr 2015 13:46:10 +0000</resolved>
                                                    <fixVersion>Sling Models Impl 1.2.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14494129" author="radu.cotescu" created="Tue, 14 Apr 2015 13:46:10 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1673425&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1673425&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 29 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2d87z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4617] Cluster voting picking up non exiting path and complains about missing sling id</title>
                <link>https://issues.apache.org/jira/browse/SLING-4617</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The behaviour is observed in a setup which is not part of cluster with other instances. The voting looks for nodes under  &quot;/var/discovery/impl/ongoingVotings/&quot; which does not exist at all and complains about missing member. Also noticed that the node it looks for under &quot;/var/discovery/impl/ongoingVotings/&quot; changes randomly and does not match with what I noticed as &quot;/var/discovery/impl/ongoingVotings/b22b7211-24eb-4980-8948-de657c06c5c4&quot;.&lt;/p&gt;

&lt;p&gt;I was not expecting to witness any node under &quot;/var/discovery/impl/ongoingVotings&quot; here. But not sure why there is one.&lt;/p&gt;


&lt;p&gt;Log entry:&lt;/p&gt;

&lt;p&gt;13.04.2015 06:30:03.446 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-5-thread-4&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingView vote: no memberResource found for slingId=d53d275c-67c9-4d45-ad7f-5a4a3017adeb, resource=JcrNodeResource, type=sling:Folder, superType=null, path=/var/discovery/impl/ongoingVotings/314f4acb-709d-47fd-af95-6316ad786d0d&lt;br/&gt;
13.04.2015 06:30:03.446 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-5-thread-4&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingView vote: no memberResource found for slingId=d53d275c-67c9-4d45-ad7f-5a4a3017adeb, resource=JcrNodeResource, type=sling:Folder, superType=null, path=/var/discovery/impl/ongoingVotings/314f4acb-709d-47fd-af95-6316ad786d0d&lt;br/&gt;
13.04.2015 06:30:03.447 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-5-thread-4&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingView vote: no memberResource found for slingId=d53d275c-67c9-4d45-ad7f-5a4a3017adeb, resource=JcrNodeResource, type=sling:Folder, superType=null, path=/var/discovery/impl/ongoingVotings/314f4acb-709d-47fd-af95-6316ad786d0d&lt;br/&gt;
13.04.2015 06:30:03.447 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-5-thread-4&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingView vote: no memberResource found for slingId=d53d275c-67c9-4d45-ad7f-5a4a3017adeb, resource=JcrNodeResource, type=sling:Folder, superType=null, path=/var/discovery/impl/ongoingVotings/314f4acb-709d-47fd-af95-6316ad786d0d&lt;br/&gt;
13.04.2015 06:39:26.272 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-5-thread-1&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingView vote: no memberResource found for slingId=d53d275c-67c9-4d45-ad7f-5a4a3017adeb, resource=JcrNodeResource, type=sling:Folder, superType=null, path=/var/discovery/impl/ongoingVotings/ba264b32-38e0-4a47-8b8b-d3070f91b650&lt;br/&gt;
13.04.2015 06:39:26.272 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-5-thread-1&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingView vote: no memberResource found for slingId=d53d275c-67c9-4d45-ad7f-5a4a3017adeb, resource=JcrNodeResource, type=sling:Folder, superType=null, path=/var/discovery/impl/ongoingVotings/ba264b32-38e0-4a47-8b8b-d3070f91b650&lt;br/&gt;
13.04.2015 06:39:26.273 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-5-thread-1&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingView vote: no memberResource found for slingId=d53d275c-67c9-4d45-ad7f-5a4a3017adeb, resource=JcrNodeResource, type=sling:Folder, superType=null, path=/var/discovery/impl/ongoingVotings/ba264b32-38e0-4a47-8b8b-d3070f91b650&lt;br/&gt;
13.04.2015 06:39:26.273 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-5-thread-1&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingView vote: no memberResource found for slingId=d53d275c-67c9-4d45-ad7f-5a4a3017adeb, resource=JcrNodeResource, type=sling:Folder, superType=null, path=/var/discovery/impl/ongoingVotings/ba264b32-38e0-4a47-8b8b-d3070f91b650&lt;br/&gt;
13.04.2015 06:57:52.010 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-5-thread-4&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingView vote: no memberResource found for slingId=d53d275c-67c9-4d45-ad7f-5a4a3017adeb, resource=JcrNodeResource, type=sling:Folder, superType=null, path=/var/discovery/impl/ongoingVotings/8c5b9530-af6b-45ae-a79e-fab65a36975b&lt;br/&gt;
13.04.2015 06:57:52.010 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-5-thread-4&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingView vote: no memberResource found for slingId=d53d275c-67c9-4d45-ad7f-5a4a3017adeb, resource=JcrNodeResource, type=sling:Folder, superType=null, path=/var/discovery/impl/ongoingVotings/8c5b9530-af6b-45ae-a79e-fab65a36975b&lt;br/&gt;
13.04.2015 06:57:52.011 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-5-thread-4&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingView vote: no memberResource found for slingId=d53d275c-67c9-4d45-ad7f-5a4a3017adeb, resource=JcrNodeResource, type=sling:Folder, superType=null, path=/var/discovery/impl/ongoingVotings/8c5b9530-af6b-45ae-a79e-fab65a36975b&lt;br/&gt;
13.04.2015 06:57:52.012 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-5-thread-4&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingView vote: no memberResource found for slingId=d53d275c-67c9-4d45-ad7f-5a4a3017adeb, resource=JcrNodeResource, type=sling:Folder, superType=null, path=/var/discovery/impl/ongoingVotings/8c5b9530-af6b-45ae-a79e-fab65a36975b&lt;br/&gt;
13.04.2015 07:17:31.769 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-5-thread-1&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingView vote: no memberResource found for slingId=d53d275c-67c9-4d45-ad7f-5a4a3017adeb, resource=JcrNodeResource, type=sling:Folder, superType=null, path=/var/discovery/impl/ongoingVotings/6df0dfc2-ed32-43d9-89f1-c8b627563ee3&lt;br/&gt;
13.04.2015 07:17:31.770 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-5-thread-1&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingView vote: no memberResource found for slingId=d53d275c-67c9-4d45-ad7f-5a4a3017adeb, resource=JcrNodeResource, type=sling:Folder, superType=null, path=/var/discovery/impl/ongoingVotings/6df0dfc2-ed32-43d9-89f1-c8b627563ee3&lt;br/&gt;
13.04.2015 07:17:31.771 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-5-thread-1&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingView vote: no memberResource found for slingId=d53d275c-67c9-4d45-ad7f-5a4a3017adeb, resource=JcrNodeResource, type=sling:Folder, superType=null, path=/var/discovery/impl/ongoingVotings/6df0dfc2-ed32-43d9-89f1-c8b627563ee3&lt;br/&gt;
13.04.2015 07:17:31.771 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-5-thread-1&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingView vote: no memberResource found for slingId=d53d275c-67c9-4d45-ad7f-5a4a3017adeb, resource=JcrNodeResource, type=sling:Folder, superType=null, path=/var/discovery/impl/ongoingVotings/6df0dfc2-ed32-43d9-89f1-c8b627563ee3&lt;br/&gt;
13.04.2015 07:19:32.292 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-9-thread-4&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingHandler.d53d275c-67c9-4d45-ad7f-5a4a3017adeb cleanupTimedoutVotings: removing a timed out voting: a VotingView&lt;span class=&quot;error&quot;&gt;&amp;#91;viewId=7388e662-dd0f-46e5-b213-2eb696be4e80, initiator=null, members=&amp;#93;&lt;/span&gt;&lt;br/&gt;
13.04.2015 07:28:22.781 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-5-thread-1&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingView vote: no memberResource found for slingId=d53d275c-67c9-4d45-ad7f-5a4a3017adeb, resource=JcrNodeResource, type=sling:Folder, superType=null, path=/var/discovery/impl/ongoingVotings/cca63c44-77f6-4080-bf3a-454f3383f346&lt;br/&gt;
13.04.2015 07:28:22.782 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-5-thread-1&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingView vote: no memberResource found for slingId=d53d275c-67c9-4d45-ad7f-5a4a3017adeb, resource=JcrNodeResource, type=sling:Folder, superType=null, path=/var/discovery/impl/ongoingVotings/cca63c44-77f6-4080-bf3a-454f3383f346&lt;br/&gt;
13.04.2015 07:28:22.783 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-5-thread-1&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingView vote: no memberResource found for slingId=d53d275c-67c9-4d45-ad7f-5a4a3017adeb, resource=JcrNodeResource, type=sling:Folder, superType=null, path=/var/discovery/impl/ongoingVotings/cca63c44-77f6-4080-bf3a-454f3383f346&lt;br/&gt;
13.04.2015 07:28:22.783 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-5-thread-1&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingView vote: no memberResource found for slingId=d53d275c-67c9-4d45-ad7f-5a4a3017adeb, resource=JcrNodeResource, type=sling:Folder, superType=null, path=/var/discovery/impl/ongoingVotings/cca63c44-77f6-4080-bf3a-454f3383f346&lt;br/&gt;
13.04.2015 07:30:32.292 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-9-thread-3&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingHandler.d53d275c-67c9-4d45-ad7f-5a4a3017adeb cleanupTimedoutVotings: removing a timed out voting: a VotingView&lt;span class=&quot;error&quot;&gt;&amp;#91;viewId=7388e662-dd0f-46e5-b213-2eb696be4e80, initiator=null, members=&amp;#93;&lt;/span&gt;&lt;br/&gt;
13.04.2015 07:49:48.304 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-5-thread-3&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingView vote: no memberResource found for slingId=d53d275c-67c9-4d45-ad7f-5a4a3017adeb, resource=JcrNodeResource, type=sling:Folder, superType=null, path=/var/discovery/impl/ongoingVotings/625d6886-71c4-4d09-b27d-32dcffff4bce&lt;br/&gt;
13.04.2015 07:49:48.305 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-5-thread-3&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingView vote: no memberResource found for slingId=d53d275c-67c9-4d45-ad7f-5a4a3017adeb, resource=JcrNodeResource, type=sling:Folder, superType=null, path=/var/discovery/impl/ongoingVotings/625d6886-71c4-4d09-b27d-32dcffff4bce&lt;br/&gt;
13.04.2015 07:49:48.305 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-5-thread-3&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingView vote: no memberResource found for slingId=d53d275c-67c9-4d45-ad7f-5a4a3017adeb, resource=JcrNodeResource, type=sling:Folder, superType=null, path=/var/discovery/impl/ongoingVotings/625d6886-71c4-4d09-b27d-32dcffff4bce&lt;br/&gt;
13.04.2015 07:49:48.306 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-5-thread-3&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingView vote: no memberResource found for slingId=d53d275c-67c9-4d45-ad7f-5a4a3017adeb, resource=JcrNodeResource, type=sling:Folder, superType=null, path=/var/discovery/impl/ongoingVotings/625d6886-71c4-4d09-b27d-32dcffff4bce&lt;br/&gt;
13.04.2015 07:52:02.294 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-9-thread-3&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.cluster.voting.VotingHandler.d53d275c-67c9-4d45-ad7f-5a4a3017adeb cleanupTimedoutVotings: removing a timed out voting: a VotingView&lt;span class=&quot;error&quot;&gt;&amp;#91;viewId=7388e662-dd0f-46e5-b213-2eb696be4e80, initiator=null, members=&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Node details under /var/discovery&lt;/p&gt;

&lt;p&gt;{&lt;br/&gt;
jcr:created: &quot;Mon Mar 02 2015 12:08:16 GMT-0500&quot;,&lt;br/&gt;
jcr:createdBy: &quot;admin&quot;,&lt;br/&gt;
jcr:primaryType: &quot;sling:Folder&quot;,&lt;br/&gt;
impl: {&lt;br/&gt;
jcr:created: &quot;Mon Mar 02 2015 12:08:16 GMT-0500&quot;,&lt;br/&gt;
jcr:createdBy: &quot;admin&quot;,&lt;br/&gt;
jcr:primaryType: &quot;sling:Folder&quot;,&lt;br/&gt;
clusterInstances: {&lt;br/&gt;
jcr:created: &quot;Mon Mar 02 2015 12:08:16 GMT-0500&quot;,&lt;br/&gt;
jcr:createdBy: &quot;admin&quot;,&lt;br/&gt;
jcr:primaryType: &quot;sling:Folder&quot;,&lt;br/&gt;
d53d275c-67c9-4d45-ad7f-5a4a3017adeb: {&lt;br/&gt;
lastHeartbeat: &quot;Tue Apr 14 2015 09:10:30 GMT-0400&quot;,&lt;br/&gt;
leaderElectionId: &quot;0_0000001428948000712_d53d275c-67c9-4d45-ad7f-5a4a3017adeb&quot;,&lt;br/&gt;
jcr:created: &quot;Mon Mar 02 2015 12:08:16 GMT-0500&quot;,&lt;br/&gt;
jcr:createdBy: &quot;admin&quot;,&lt;br/&gt;
runtimeId: &quot;5709bdf1-b56c-40c6-a066-fc63e1a9e9e4&quot;,&lt;br/&gt;
jcr:primaryType: &quot;sling:Folder&quot;,&lt;br/&gt;
properties: {&lt;br/&gt;
com.adobe.granite.offloading.infrastructure.osgiconsole.path: &quot;/system/console&quot;,&lt;br/&gt;
job.consumermanager.whitelist: &quot;*&quot;,&lt;br/&gt;
org.apache.sling.instance.name: &quot;Instance d53d275c-67c9-4d45-ad7f-5a4a3017adeb&quot;,&lt;br/&gt;
org.apache.sling.instance.endpoints: &quot;http://127.0.0.1:4502/&quot;,&lt;br/&gt;
jcr:created: &quot;Mon Mar 02 2015 12:08:16 GMT-0500&quot;,&lt;br/&gt;
com.adobe.granite.offloading.job.registeredtopics: &quot;/,com/adobe/aem/formsndocuments/scheduler/formreplication,com/adobe/granite/maintenance/job/DataStoreGarbageCollectionTask,com/adobe/granite/maintenance/job/RevisionCleanupTask,com/adobe/granite/maintenance/job/VersionPurgeTask,com/adobe/granite/maintenance/job/WorkflowPurgeTask,com/adobe/granite/ocs/deploy/bootstrap/cloud-provisioning,com/adobe/granite/ocs/deploy/bootstrap/cloud-status,com/adobe/granite/ocs/deploy/configure/puppet,com/adobe/granite/ocs/deploy/install/puppet-apply,com/adobe/granite/ocs/deploy/prepare/manage-keys,com/adobe/granite/ocs/deploytest/validate/default-validate,com/adobe/granite/ocs/undeploy/cloud/cloud-delete,com/adobe/granite/ocs/undeploy/cloud/cloud-unregisterKey,com/adobe/granite/ocs/undeploy/repo/repo-delete,com/adobe/granite/workflow/offloading,com/day/cq/replication/job/*,dam/proxy/ids/job,org/apache/sling/event/impl/jobs/tasks/HistoryCleanUpTask,sling/webconsole/test&quot;,&lt;br/&gt;
org.apache.sling.event.jobs.consumer.topics: &quot;/,com/adobe/aem/formsndocuments/scheduler/formreplication,com/adobe/granite/maintenance/job/DataStoreGarbageCollectionTask,com/adobe/granite/maintenance/job/RevisionCleanupTask,com/adobe/granite/maintenance/job/VersionPurgeTask,com/adobe/granite/maintenance/job/WorkflowPurgeTask,com/adobe/granite/ocs/deploy/bootstrap/cloud-provisioning,com/adobe/granite/ocs/deploy/bootstrap/cloud-status,com/adobe/granite/ocs/deploy/configure/puppet,com/adobe/granite/ocs/deploy/install/puppet-apply,com/adobe/granite/ocs/deploy/prepare/manage-keys,com/adobe/granite/ocs/deploytest/validate/default-validate,com/adobe/granite/ocs/undeploy/cloud/cloud-delete,com/adobe/granite/ocs/undeploy/cloud/cloud-unregisterKey,com/adobe/granite/ocs/undeploy/repo/repo-delete,com/adobe/granite/workflow/offloading,com/day/cq/replication/job/*,dam/proxy/ids/job,org/apache/sling/event/impl/jobs/tasks/HistoryCleanUpTask,sling/webconsole/test&quot;,&lt;br/&gt;
jcr:createdBy: &quot;admin&quot;,&lt;br/&gt;
org.apache.sling.instance.description: &quot;Instance with id d53d275c-67c9-4d45-ad7f-5a4a3017adeb and run modes &lt;span class=&quot;error&quot;&gt;&amp;#91;author, crx3, damimport, nosamplecontent, crx3mongo&amp;#93;&lt;/span&gt;&quot;,&lt;br/&gt;
jcr:primaryType: &quot;sling:Folder&quot;&lt;br/&gt;
}&lt;br/&gt;
}&lt;br/&gt;
},&lt;br/&gt;
establishedView: {&lt;br/&gt;
jcr:created: &quot;Mon Mar 02 2015 12:08:39 GMT-0500&quot;,&lt;br/&gt;
jcr:createdBy: &quot;admin&quot;,&lt;br/&gt;
jcr:primaryType: &quot;sling:Folder&quot;,&lt;br/&gt;
7388e662-dd0f-46e5-b213-2eb696be4e80: {&lt;br/&gt;
leaderElectionId: &quot;0_0000001425316096852_d53d275c-67c9-4d45-ad7f-5a4a3017adeb&quot;,&lt;br/&gt;
jcr:created: &quot;Mon Mar 02 2015 12:08:39 GMT-0500&quot;,&lt;br/&gt;
promotedBy: &quot;d53d275c-67c9-4d45-ad7f-5a4a3017adeb&quot;,&lt;br/&gt;
clusterIdDefinedBy: &quot;d53d275c-67c9-4d45-ad7f-5a4a3017adeb&quot;,&lt;br/&gt;
clusterIdDefinedAt: &quot;Mon Mar 02 2015 12:08:39 GMT-0500&quot;,&lt;br/&gt;
jcr:createdBy: &quot;admin&quot;,&lt;br/&gt;
leaderId: &quot;d53d275c-67c9-4d45-ad7f-5a4a3017adeb&quot;,&lt;br/&gt;
clusterId: &quot;7388e662-dd0f-46e5-b213-2eb696be4e80&quot;,&lt;br/&gt;
jcr:primaryType: &quot;sling:Folder&quot;,&lt;br/&gt;
votingStart: &quot;Mon Mar 02 2015 12:08:39 GMT-0500&quot;,&lt;br/&gt;
promotedAt: &quot;Mon Mar 02 2015 12:08:39 GMT-0500&quot;,&lt;br/&gt;
members: {&lt;br/&gt;
jcr:created: &quot;Mon Mar 02 2015 12:08:39 GMT-0500&quot;,&lt;br/&gt;
jcr:createdBy: &quot;admin&quot;,&lt;br/&gt;
jcr:primaryType: &quot;sling:Folder&quot;,&lt;br/&gt;
d53d275c-67c9-4d45-ad7f-5a4a3017adeb: {&lt;br/&gt;
leaderElectionId: &quot;0_0000001425316096852_d53d275c-67c9-4d45-ad7f-5a4a3017adeb&quot;,&lt;br/&gt;
jcr:created: &quot;Mon Mar 02 2015 12:08:39 GMT-0500&quot;,&lt;br/&gt;
initiator: true,&lt;br/&gt;
jcr:createdBy: &quot;admin&quot;,&lt;br/&gt;
jcr:primaryType: &quot;sling:Folder&quot;&lt;br/&gt;
}&lt;br/&gt;
}&lt;br/&gt;
}&lt;br/&gt;
},&lt;br/&gt;
ongoingVotings: {&lt;br/&gt;
jcr:created: &quot;Mon Mar 02 2015 12:08:39 GMT-0500&quot;,&lt;br/&gt;
jcr:createdBy: &quot;admin&quot;,&lt;br/&gt;
jcr:primaryType: &quot;sling:Folder&quot;,&lt;br/&gt;
b22b7211-24eb-4980-8948-de657c06c5c4: {&lt;br/&gt;
jcr:created: &quot;Tue Apr 07 2015 10:26:07 GMT-0400&quot;,&lt;br/&gt;
jcr:createdBy: &quot;admin&quot;,&lt;br/&gt;
jcr:primaryType: &quot;sling:Folder&quot;&lt;br/&gt;
}&lt;br/&gt;
},&lt;br/&gt;
previousView: {&lt;br/&gt;
jcr:created: &quot;Mon Mar 02 2015 12:08:39 GMT-0500&quot;,&lt;br/&gt;
jcr:createdBy: &quot;admin&quot;,&lt;br/&gt;
jcr:primaryType: &quot;sling:Folder&quot;&lt;br/&gt;
}&lt;br/&gt;
}&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment></environment>
        <key id="12820809">SLING-4617</key>
            <summary>Cluster voting picking up non exiting path and complains about missing sling id</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="ranair">Rajeev Nair</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Apr 2015 13:14:11 +0000</created>
                <updated>Thu, 12 Nov 2015 11:20:37 +0000</updated>
                            <resolved>Mon, 26 Oct 2015 14:51:53 +0000</resolved>
                                    <version>Discovery Impl 1.0.8</version>
                                    <fixVersion>Discovery Impl 1.2.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14497800" author="egli" created="Thu, 16 Apr 2015 09:11:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ranair&quot; class=&quot;user-hover&quot; rel=&quot;ranair&quot;&gt;ranair&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;is this reproducible? if yes, could you rerun and set log level of org.apache.sling.discovery to DEBUG pls?&lt;/li&gt;
	&lt;li&gt;it looks like votings are being created (by this instance or another one hooked to the same repository). You&apos;re saying that this is a single-instance case however. Can you double-check pls if that&apos;s the case (just to rule out there is a &apos;ghost&apos; second instance).&lt;/li&gt;
	&lt;li&gt;other than that, looking further at what&apos;s going on on a repository level might be the next step (which would be kind of outside of the SLING area..)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14497822" author="ranair" created="Thu, 16 Apr 2015 09:25:15 +0000"  >&lt;p&gt;We have observed this only within one environment (and it is not reproducible). I have clarified with the team and there is only one instance setup. &lt;/p&gt;
</comment>
                            <comment id="14498047" author="egli" created="Thu, 16 Apr 2015 13:32:39 +0000"  >&lt;p&gt;Marked as incomplete. More details are needed to analyze the root cause of this. If more details become available, this or another ticket can be reopened/created.&lt;/p&gt;</comment>
                            <comment id="14736631" author="egli" created="Wed, 9 Sep 2015 10:31:41 +0000"  >&lt;p&gt;Reopening as one potential root cause of this is high cpu load compared to a low heartbeatTimeout.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ranair&quot; class=&quot;user-hover&quot; rel=&quot;ranair&quot;&gt;ranair&lt;/a&gt;, should this still be relevant: increasing the heartbeatTimeout to eg 180sec would likely resolve a situation like this.&lt;/p&gt;

&lt;p&gt;Will follow up on making heartbeatHandler more resilient to also catch such a situation and react appropriately&lt;/p&gt;</comment>
                            <comment id="14974326" author="egli" created="Mon, 26 Oct 2015 14:51:53 +0000"  >&lt;p&gt;Added a check and a warn if a vote is created on the local instance which does not include the local instance (rev 1710610)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 1 week, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2d867:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4608] Can not extract validator type from arrays of classes in Java6</title>
                <link>https://issues.apache.org/jira/browse/SLING-4608</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Due to &lt;a href=&quot;http://bugs.java.com/view_bug.do?bug_id=5041784&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bugs.java.com/view_bug.do?bug_id=5041784&lt;/a&gt;, the type extraction from a validator for any array classes does not work in Java &amp;lt; 7.&lt;br/&gt;
This leads to the following failure in the test:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ValidatorTypeUtilTest
org.apache.sling.validation.impl.util.ValidatorTypeUtilTest
testGetValidatorTypeWithArrayType(org.apache.sling.validation.impl.util.ValidatorTypeUtilTest)
java.lang.IllegalArgumentException: Validators may not use parameterized types as type parameter. Only simple &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;types and arrays of &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;types are allowed.
	at org.apache.sling.validation.impl.util.ValidatorTypeUtil.getValidatorType(ValidatorTypeUtil.java:50)
	at org.apache.sling.validation.impl.util.ValidatorTypeUtilTest.testGetValidatorTypeWithArrayType(ValidatorTypeUtilTest.java:91)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12820288">SLING-4608</key>
            <summary>Can not extract validator type from arrays of classes in Java6</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Sat, 11 Apr 2015 10:10:25 +0000</created>
                <updated>Wed, 20 Sep 2017 13:17:47 +0000</updated>
                            <resolved>Sat, 11 Apr 2015 10:19:24 +0000</resolved>
                                                    <fixVersion>Validation 1.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14490901" author="kwin" created="Sat, 11 Apr 2015 10:19:24 +0000"  >&lt;p&gt;Fixed with rev 1672855.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 29 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2d4zr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4604] Multiple Content-Disposition headers added</title>
                <link>https://issues.apache.org/jira/browse/SLING-4604</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Multiple content-disposition headers can be added under some conditions.&lt;/p&gt;

&lt;p&gt;This seems to happen because setContentType is actually called more than once for the same response when multiple sling scripts are involved in rendering, e.g. via org.apache.sling.scripting.core.impl.DefaultSlingScript.service(javax.servlet.ServletRequest, javax.servlet.ServletResponse) line: 448	&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12819786">SLING-4604</key>
            <summary>Multiple Content-Disposition headers added</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="asanso">Antonio Sanso</assignee>
                                    <reporter username="rryan@adobe.com">Rob Ryan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Apr 2015 18:55:56 +0000</created>
                <updated>Tue, 8 Nov 2016 18:18:38 +0000</updated>
                            <resolved>Tue, 14 Jul 2015 12:18:13 +0000</resolved>
                                    <version>Security 1.0.10</version>
                                    <fixVersion>Security 1.0.12</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14488256" author="rryan@adobe.com" created="Thu, 9 Apr 2015 20:54:55 +0000"  >&lt;p&gt;the attached patch fixes the extra disposition headers and avoids running the bulk of the work if the content type is not changing from a previously seen value.&lt;/p&gt;</comment>
                            <comment id="14626277" author="asanso" created="Tue, 14 Jul 2015 12:18:13 +0000"  >&lt;p&gt;thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rryan%40adobe.com&quot; class=&quot;user-hover&quot; rel=&quot;rryan@adobe.com&quot;&gt;rryan@adobe.com&lt;/a&gt; i did apply your patch in rev. r1690911&lt;/p&gt;</comment>
                            <comment id="15648053" author="bonfatti.a" created="Tue, 8 Nov 2016 16:41:10 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asanso&quot; class=&quot;user-hover&quot; rel=&quot;asanso&quot;&gt;asanso&lt;/a&gt;, I think this patch would prevent the setting of the ContentType header too. Is there a reason the final super.setContentType(type) instruction is not executed?&lt;/p&gt;</comment>
                            <comment id="15648079" author="rryan@adobe.com" created="Tue, 8 Nov 2016 16:51:29 +0000"  >&lt;p&gt;&lt;b&gt;If&lt;/b&gt; content-type is being reset to the same value it has already been set to you are correct the downstream setContentType will not be called. Do you have a use case where that is problematic? Off hand I don&apos;t see how suppressing a set to the same value should have any logical impact. &lt;/p&gt;</comment>
                            <comment id="15648300" author="bonfatti.a" created="Tue, 8 Nov 2016 18:07:49 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rryan%40adobe.com&quot; class=&quot;user-hover&quot; rel=&quot;rryan@adobe.com&quot;&gt;rryan@adobe.com&lt;/a&gt; we actually have a ticket submitted to Adobe for an issue serving an index.html file from the AEM DAM after we installed the AEM 6.1 SP2 package. The issue happens on the publish instance, when the the request is for a mapped path and relies on the default index.html file resolution (EG: www.domain.com/mapped_folder/). Do you see any problem if we add super.setContentType(type) before the return line?&lt;/p&gt;</comment>
                            <comment id="15648309" author="rryan@adobe.com" created="Tue, 8 Nov 2016 18:11:35 +0000"  >&lt;p&gt;Without more detail I can&apos;t really recommend adding the super.setContentType as I don&apos;t see any way that could actually help. Please feel free to contact me through Adobe channels so we can look at and discuss the details of the particular case.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="15648330" author="bonfatti.a" created="Tue, 8 Nov 2016 18:18:38 +0000"  >&lt;p&gt;Thanks, I will contact you with more details.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12724328" name="4604patch.txt" size="15842" author="rryan@adobe.com" created="Thu, 9 Apr 2015 20:54:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 51 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2d1vr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4590] topology console reporting a inconsistent state of topology for isolated cluster node</title>
                <link>https://issues.apache.org/jira/browse/SLING-4590</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;After a split because of a heart beat timeout, the topology console is reporting an inconsistence state of the topology. The screenshot below shows 4 instances while the local cluster node is isolated from the rest of the cluster.&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Sling id &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; ClusterView id &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Local instance &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Leader instance &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; In local cluster&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Announced by instance &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 0d08c47d-6a1b-48d2-87b2-f88813da03f5 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; f07aec64-4289-4b07-becc-dfdd76178f04 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; false &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; false &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; remote &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; (changing) &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 9d2bad89-bba7-47d8-bcf7-090d7989a747 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; f07aec64-4289-4b07-becc-dfdd76178f04 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; false &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; false &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; remote &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; (changing) &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; c1d45df4-8703-4ada-85db-ae597cda8032 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; f07aec64-4289-4b07-becc-dfdd76178f04 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; true &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; true &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; local &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; n/a &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; c26b9027-c367-425e-8fa4-8b595f476473 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; f07aec64-4289-4b07-becc-dfdd76178f04 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; false &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; false &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; remote &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; (changing) &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;The issue might be located between &apos;topology.getLocalInstance().getClusterView()&apos; and &apos;clusterViewService.contains&apos; which seem to differ with the isolated cluster mode.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12819370">SLING-4590</key>
            <summary>topology console reporting a inconsistent state of topology for isolated cluster node</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="mtarantino">Michael Tarantino</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Apr 2015 16:13:21 +0000</created>
                <updated>Wed, 30 Sep 2015 05:44:20 +0000</updated>
                            <resolved>Tue, 22 Sep 2015 14:35:31 +0000</resolved>
                                    <version>Discovery Impl 1.1.0</version>
                                    <fixVersion>Discovery Impl 1.1.8</fixVersion>
                                    <component>Console</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14902727" author="egli" created="Tue, 22 Sep 2015 14:35:31 +0000"  >&lt;p&gt;this has now been resolved differently: when the local instance is isolated from the topology, it does not report any cluster at all - the topology will then just show a warning saying that it is isolated&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 6 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2czcv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4588] JcrNodeResourceIterator : wrong paths generated when the parent resource is the root node.</title>
                <link>https://issues.apache.org/jira/browse/SLING-4588</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It seems the new versioning feature introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-848&quot; title=&quot;Support getting versioned resources by using uri path parameters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-848&quot;&gt;&lt;del&gt;SLING-848&lt;/del&gt;&lt;/a&gt; breaks the JcrNodeResourceIterator when the parent resource is the repository root &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;

&lt;p&gt;This is due to this line in &lt;tt&gt;JcrNodeResourceIterator.getPath(Node node)&lt;/tt&gt; :&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; path = &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(&lt;span class=&quot;code-quote&quot;&gt;&quot;%s/%s&quot;&lt;/span&gt;, parentPath, node.getName());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When parentPath is  &lt;tt&gt;/&lt;/tt&gt; and the node name  &lt;tt&gt;apps&lt;/tt&gt;, then the generated path is  &lt;tt&gt;//apps&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;This test case illustrates the wrong behavior :&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;JcrNodeResourceIteratorTest.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testRoot() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; RepositoryException {
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; path = &lt;span class=&quot;code-quote&quot;&gt;&quot;/child&quot;&lt;/span&gt;;
        Node node = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MockNode(path);
        NodeIterator ni = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MockNodeIterator(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Node[] { node });
        JcrNodeResourceIterator ri = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JcrNodeResourceIterator(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, ni, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PathMapperImpl());

        assertTrue(ri.hasNext());
        Resource res = ri.next();
        assertEquals(path, res.getPath());
        assertEquals(node.getPrimaryNodeType().getName(), res.getResourceType());

        assertFalse(ri.hasNext());

        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            ri.next();
            fail(&lt;span class=&quot;code-quote&quot;&gt;&quot;Expected no element in the iterator&quot;&lt;/span&gt;);
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (NoSuchElementException nsee) {
            &lt;span class=&quot;code-comment&quot;&gt;// expected
&lt;/span&gt;        }
    }

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This test currently fails with &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;expected:&amp;lt;/[]child&amp;gt; but was:&amp;lt;/[/]child&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12819312">SLING-4588</key>
            <summary>JcrNodeResourceIterator : wrong paths generated when the parent resource is the root node.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="gdouillet">Guillaume Douillet</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Apr 2015 13:21:56 +0000</created>
                <updated>Tue, 8 Sep 2015 11:18:50 +0000</updated>
                            <resolved>Wed, 8 Apr 2015 14:55:46 +0000</resolved>
                                    <version>JCR Resource 2.5.0</version>
                                    <fixVersion>JCR Resource 2.5.2</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14485341" author="cziegeler" created="Wed, 8 Apr 2015 14:55:46 +0000"  >&lt;p&gt;Thanks Guillaume for reporting and providing a test case.&lt;/p&gt;

&lt;p&gt;I fixed the problem by checking for &quot;/&quot;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12862322">SLING-5005</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 30 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cz0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4582] Maintenance tasks should guard against NPE</title>
                <link>https://issues.apache.org/jira/browse/SLING-4582</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As the maintenance tasks run asynchronously, the used services might get deactivated while the maintenance task is running. Although the task itself checks the configuration object for being valid, it does not check any service it accesses. This might run in an NPE.&lt;br/&gt;
While the NPE itself should not pose a problem, it&apos;s not the best way to stop a maintenance task&lt;/p&gt;</description>
                <environment></environment>
        <key id="12818870">SLING-4582</key>
            <summary>Maintenance tasks should guard against NPE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Apr 2015 09:30:47 +0000</created>
                <updated>Mon, 13 Jul 2015 14:24:38 +0000</updated>
                            <resolved>Tue, 7 Apr 2015 10:25:55 +0000</resolved>
                                    <version>Event 3.5.4</version>
                    <version>Event 3.6.0</version>
                                    <fixVersion>Event 3.7.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14482956" author="cziegeler" created="Tue, 7 Apr 2015 10:25:55 +0000"  >&lt;p&gt;Added extra null checks&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cwdj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4580] Remove extra null check for metadata</title>
                <link>https://issues.apache.org/jira/browse/SLING-4580</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This check in JcrResourceBundle&lt;br/&gt;
            if (metadata != null) { // test does not implement metadata&lt;/p&gt;

&lt;p&gt;should be removed and the test be fixed as metadata at runtime is always not null&lt;/p&gt;</description>
                <environment></environment>
        <key id="12818811">SLING-4580</key>
            <summary>Remove extra null check for metadata</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Apr 2015 06:11:03 +0000</created>
                <updated>Thu, 23 Apr 2015 06:51:50 +0000</updated>
                            <resolved>Tue, 7 Apr 2015 06:45:53 +0000</resolved>
                                                    <fixVersion>i18n 2.4.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14482693" author="cziegeler" created="Tue, 7 Apr 2015 06:45:53 +0000"  >&lt;p&gt;Fixed the test and removed the extra null check in rev 1671746&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 30 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cw0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4579] Regression introduced by SLING-4512 : JCR API used in i18n implementation</title>
                <link>https://issues.apache.org/jira/browse/SLING-4579</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The i18n module should be free from JCR API usage to allow it to run on any resources providing i18n messages. &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4512&quot; title=&quot;Traversal Warnings in OAK while creating i18n JcrResourceBundle&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4512&quot;&gt;&lt;del&gt;SLING-4512&lt;/del&gt;&lt;/a&gt; unfortunately removed this functionality by directly using JCR API&lt;/p&gt;</description>
                <environment></environment>
        <key id="12818809">SLING-4579</key>
            <summary>Regression introduced by SLING-4512 : JCR API used in i18n implementation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Apr 2015 06:08:16 +0000</created>
                <updated>Thu, 23 Apr 2015 06:51:10 +0000</updated>
                            <resolved>Tue, 7 Apr 2015 09:59:42 +0000</resolved>
                                                    <fixVersion>i18n 2.4.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14482814" author="kwin" created="Tue, 7 Apr 2015 08:52:36 +0000"  >&lt;p&gt;Currently there is no resource visitor class available in Sling, but there were some discussions around that in the past:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;&lt;a href=&quot;http://t75916.apache-sling-development.apacheforum.info/resource-visitor-t75916.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://t75916.apache-sling-development.apacheforum.info/resource-visitor-t75916.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://apache-sling.73963.n3.nabble.com/Sling-Resource-Visitor-td3072026.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://apache-sling.73963.n3.nabble.com/Sling-Resource-Visitor-td3072026.html&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Maybe now would be the right time to come up with something like that in the Sling Resource API similar to the &lt;tt&gt;TraversingItemVisitor&lt;/tt&gt;  in the JCR (&lt;a href=&quot;http://www.day.com/maven/jsr170/javadocs/jcr-2.0/javax/jcr/util/TraversingItemVisitor.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.day.com/maven/jsr170/javadocs/jcr-2.0/javax/jcr/util/TraversingItemVisitor.html&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="14482830" author="rombert" created="Tue, 7 Apr 2015 09:04:33 +0000"  >&lt;p&gt;If we decide to add a resource visitor, I suggest doing what Eclipse does, and allow to short-circuit the descent by checking the return value ; see &lt;a href=&quot;http://help.eclipse.org/luna/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fcore%2Fresources%2FIResourceVisitor.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://help.eclipse.org/luna/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fcore%2Fresources%2FIResourceVisitor.html&lt;/a&gt; for details.&lt;/p&gt;</comment>
                            <comment id="14482832" author="cziegeler" created="Tue, 7 Apr 2015 09:05:44 +0000"  >&lt;p&gt;I&apos;m not against adding the visitor, however for the i18n module I think we should implement this without depending on the latest Sling API&lt;/p&gt;</comment>
                            <comment id="14482937" author="cziegeler" created="Tue, 7 Apr 2015 09:59:42 +0000"  >&lt;p&gt;I&apos;ve removed the node visitor and replaced it with a simple recursive resource traversing method&lt;/p&gt;</comment>
                            <comment id="14482947" author="kwin" created="Tue, 7 Apr 2015 10:13:51 +0000"  >&lt;p&gt;There is still a dependency to the JCR API in the pom.xml: &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/contrib/extensions/i18n/pom.xml#L148&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/contrib/extensions/i18n/pom.xml#L148&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14483032" author="cziegeler" created="Tue, 7 Apr 2015 11:21:38 +0000"  >&lt;p&gt;The dependency is required for the tests, therefore I changed the scope to test&lt;/p&gt;</comment>
                            <comment id="14483052" author="jsedding" created="Tue, 7 Apr 2015 11:38:56 +0000"  >&lt;p&gt;There is AbstractResourceVisitor&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://sling.apache.org/apidocs/sling7/org/apache/sling/api/resource/AbstractResourceVisitor.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/apidocs/sling7/org/apache/sling/api/resource/AbstractResourceVisitor.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14484158" author="alexander.klimetschek" created="Tue, 7 Apr 2015 21:54:22 +0000"  >&lt;p&gt;Why does it need to be independent from JCR? If there is need, let&apos;s decouple the generic part from the JCR resource provider, but all this reinventing the wheel...&lt;/p&gt;

&lt;p&gt;The current change misses the check for a &lt;tt&gt;sling:Message&lt;/tt&gt; node type (which must respect inheritance since often the &lt;tt&gt;sling:MessageEntry&lt;/tt&gt; &quot;main&quot; node type).&lt;/p&gt;</comment>
                            <comment id="14484711" author="cziegeler" created="Wed, 8 Apr 2015 04:49:13 +0000"  >&lt;p&gt;We have the use case to run the i18n module on non JCR based resources; and there is zero need to use the JCR api; the Sling API already provides everything we need&lt;/p&gt;</comment>
                            <comment id="14485201" author="cziegeler" created="Wed, 8 Apr 2015 12:48:01 +0000"  >&lt;p&gt;I&apos;ve added the node type (= resource trype) check. Please note that sling:Message is a mixin node type which makes the check a little bit ugly. But that&apos;s the price we have to pay if we can&apos;t use nice things like a search.&lt;/p&gt;</comment>
                            <comment id="14485363" author="alexander.klimetschek" created="Wed, 8 Apr 2015 15:08:36 +0000"  >&lt;p&gt;No, it&apos;s the price to pay if we don&apos;t use the JCR API. As mentioned before, if use of the general i18n bundle is needed without a JCR dependency (who needs it?), the we should separate out the JcrResourceBundle, since it depends on JCR whether you use jcr api or not.&lt;/p&gt;</comment>
                            <comment id="14486401" author="alexander.klimetschek" created="Thu, 9 Apr 2015 00:19:18 +0000"  >&lt;p&gt;Just looked at the change: The node type check is wrong as it does not support node type inheritance. Of course, it&apos;s rather unlikely that someone would have say a node type my:CustomMessage which inherits from sling:Message, but then it would be better if we don&apos;t check the type and just take the presence of the sling:message property indicator.&lt;/p&gt;

&lt;p&gt;And I don&apos;t see the regression - we had the JCR dependency in the pom (non-test) in there before without problems.&lt;/p&gt;</comment>
                            <comment id="14486723" author="cziegeler" created="Thu, 9 Apr 2015 05:18:00 +0000"  >&lt;p&gt;A dependency in the pom does not mean anything; the question is whether it&apos;s used or not in code and whether it is a runtime dependency; and with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4186&quot; title=&quot;Make org.apache.sling.i18n independent from JCR APIs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4186&quot;&gt;&lt;del&gt;SLING-4186&lt;/del&gt;&lt;/a&gt; for version 2.3.2 we removed all usage of JCR - so this IS a regression. And we did successful tests with non JCR resource providers&lt;/p&gt;

&lt;p&gt;If you think the node type check should be changed, please re open this issue or open a new one. Thanks&lt;/p&gt;</comment>
                            <comment id="14488310" author="alexander.klimetschek" created="Thu, 9 Apr 2015 21:24:37 +0000"  >&lt;p&gt;I can&apos;t reopen, hence just the comment. To keep it simple, I would then just remove the node type check again.&lt;/p&gt;</comment>
                            <comment id="14489002" author="cziegeler" created="Fri, 10 Apr 2015 06:09:13 +0000"  >&lt;p&gt;Thanks, I&apos;ve removed the check again&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 29 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cvzz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4578] Incorrect Sightly JS Use-API script dependency resolution</title>
                <link>https://issues.apache.org/jira/browse/SLING-4578</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;A flaw in the Sightly JS Use-API script resolution can lead to errors in initialising the JavaScript Use-API when the current executed component provides a script with the same name as a dependency of the JavaScript Use-API factories.&lt;/p&gt;

&lt;p&gt;The same error can happen to any other script from the execution flow that has a sibling dependency with a name identical to a script provided by the currently executed component.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12818614">SLING-4578</key>
            <summary>Incorrect Sightly JS Use-API script dependency resolution</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Apr 2015 14:51:38 +0000</created>
                <updated>Thu, 16 Apr 2015 12:13:38 +0000</updated>
                            <resolved>Thu, 9 Apr 2015 15:07:53 +0000</resolved>
                                    <version>Scripting Sightly JS Use Provider 1.0.0</version>
                                    <fixVersion>Scripting Sightly JS Use Provider 1.0.4</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14481868" author="radu.cotescu" created="Mon, 6 Apr 2015 20:22:56 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1671688&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1671688&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14487356" author="radu.cotescu" created="Thu, 9 Apr 2015 13:43:50 +0000"  >&lt;p&gt;The fix and the pre-existing tests did not take into account relative paths for &lt;tt&gt;sling:resourceSuperType&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="14487480" author="radu.cotescu" created="Thu, 9 Apr 2015 15:07:53 +0000"  >&lt;p&gt;Finally fixed in &lt;a href=&quot;https://svn.apache.org/r1672383&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1672383&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 29 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cutb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4577] Content sync does not support escaping comma values in multi-valued properties</title>
                <link>https://issues.apache.org/jira/browse/SLING-4577</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Consider a property serialized as&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;someProp=&quot;[first\,first,second]&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This property is expected to have two values, namely &quot;first,first&quot; and &quot;second&quot;. We don&apos;t support this format though and incorrectly send the properties&lt;/p&gt;

&lt;p&gt;&lt;em&gt;edit&lt;/em&gt;: formatting&lt;/p&gt;</description>
                <environment></environment>
        <key id="12788270">SLING-4577</key>
            <summary>Content sync does not support escaping comma values in multi-valued properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Sat, 4 Apr 2015 09:12:01 +0000</created>
                <updated>Thu, 8 Oct 2015 13:10:38 +0000</updated>
                            <resolved>Tue, 29 Sep 2015 13:03:34 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.0.6</version>
                                    <fixVersion>Sling Eclipse IDE 1.0.8</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14605410" author="ipv6guru" created="Mon, 29 Jun 2015 10:40:58 +0000"  >&lt;p&gt;test link&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 18 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27scn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4575] Failure registering MBean</title>
                <link>https://issues.apache.org/jira/browse/SLING-4575</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2015-04-03 10:04:36,282 | INFO  | FelixStartLevel  | DistributionQueueHealthCheck     | 169 - org.apache.sling.distribution.core - 0.1.0 | Activated, numberOfRetriesAllowed=3
2015-04-03 10:04:36,285 | ERROR | FelixStartLevel  | MBeanHolder                      | 85 - org.apache.aries.jmx.whiteboard - 1.0.0 | register: Failure registering MBean HealthCheckMBean [healthCheck=org.apache.sling.distribution.monitor.DistributionQueueHealthCheck@36a6f19c]
javax.management.InstanceAlreadyExistsException: org.apache.sling.healthcheck:type=HealthCheck,name=slingDistributionQueue
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)[:1.8.0_40]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)[:1.8.0_40]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)[:1.8.0_40]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)[:1.8.0_40]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)[:1.8.0_40]
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)[:1.8.0_40]
	at Proxya4a7f910_bd0e_4598_92cf_9a73d8dff844.registerMBean(Unknown Source)
	at org.apache.aries.jmx.whiteboard.MBeanHolder.register(MBeanHolder.java:114)
	at org.apache.aries.jmx.whiteboard.JmxWhiteboardSupport.registerMBean(JmxWhiteboardSupport.java:86)
	at org.apache.aries.jmx.whiteboard.Activator$MBeanTracker.addingService(Activator.java:102)
	at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:932)[karaf-org.osgi.core.jar:]
	at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:864)[karaf-org.osgi.core.jar:]
	at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:256)[karaf-org.osgi.core.jar:]
	at org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:229)[karaf-org.osgi.core.jar:]
	at org.osgi.util.tracker.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:894)[karaf-org.osgi.core.jar:]
	at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:932)[org.apache.felix.framework-4.2.1.jar:]
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:793)[org.apache.felix.framework-4.2.1.jar:]
	at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:543)[org.apache.felix.framework-4.2.1.jar:]
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4419)[org.apache.felix.framework-4.2.1.jar:]
	at org.apache.felix.framework.Felix.registerService(Felix.java:3423)[org.apache.felix.framework-4.2.1.jar:]
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:346)
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:320)
	at org.apache.sling.hc.jmx.impl.HealthCheckMBeanCreator$Registration.register(HealthCheckMBeanCreator.java:177)
	at org.apache.sling.hc.jmx.impl.HealthCheckMBeanCreator.registerHCMBean(HealthCheckMBeanCreator.java:121)
	at org.apache.sling.hc.jmx.impl.HealthCheckMBeanCreator.access$000(HealthCheckMBeanCreator.java:46)
	at org.apache.sling.hc.jmx.impl.HealthCheckMBeanCreator$1.addingService(HealthCheckMBeanCreator.java:62)
	at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:932)[karaf-org.osgi.core.jar:]
	at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:864)[karaf-org.osgi.core.jar:]
	at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:256)[karaf-org.osgi.core.jar:]
	at org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:229)[karaf-org.osgi.core.jar:]
	at org.osgi.util.tracker.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:894)[karaf-org.osgi.core.jar:]
	at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:932)[org.apache.felix.framework-4.2.1.jar:]
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:793)[org.apache.felix.framework-4.2.1.jar:]
	at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:543)[org.apache.felix.framework-4.2.1.jar:]
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4419)[org.apache.felix.framework-4.2.1.jar:]
	at org.apache.felix.framework.Felix.registerService(Felix.java:3423)[org.apache.felix.framework-4.2.1.jar:]
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:346)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:1003)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:992)
	at org.apache.felix.scr.impl.manager.RegistrationManager.changeRegistration(RegistrationManager.java:134)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerService(AbstractComponentManager.java:1044)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.activateInternal(AbstractComponentManager.java:841)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.enable(AbstractComponentManager.java:419)
	at org.apache.felix.scr.impl.config.ConfigurableComponentHolder.enableComponents(ConfigurableComponentHolder.java:376)
	at org.apache.felix.scr.impl.BundleComponentActivator.initialize(BundleComponentActivator.java:172)
	at org.apache.felix.scr.impl.BundleComponentActivator.&amp;lt;init&amp;gt;(BundleComponentActivator.java:120)
	at org.apache.felix.scr.impl.Activator.loadComponents(Activator.java:258)
	at org.apache.felix.scr.impl.Activator.access$000(Activator.java:45)
	at org.apache.felix.scr.impl.Activator$ScrExtension.start(Activator.java:185)
	at org.apache.felix.utils.extender.AbstractExtender.createExtension(AbstractExtender.java:259)
	at org.apache.felix.utils.extender.AbstractExtender.modifiedBundle(AbstractExtender.java:232)
	at org.osgi.util.tracker.BundleTracker$Tracked.customizerModified(BundleTracker.java:479)[karaf-org.osgi.core.jar:]
	at org.osgi.util.tracker.BundleTracker$Tracked.customizerModified(BundleTracker.java:414)[karaf-org.osgi.core.jar:]
	at org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:232)[karaf-org.osgi.core.jar:]
	at org.osgi.util.tracker.BundleTracker$Tracked.bundleChanged(BundleTracker.java:443)[karaf-org.osgi.core.jar:]
	at org.apache.felix.framework.util.EventDispatcher.invokeBundleListenerCallback(EventDispatcher.java:868)[org.apache.felix.framework-4.2.1.jar:]
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:789)[org.apache.felix.framework-4.2.1.jar:]
	at org.apache.felix.framework.util.EventDispatcher.fireBundleEvent(EventDispatcher.java:514)[org.apache.felix.framework-4.2.1.jar:]
	at org.apache.felix.framework.Felix.fireBundleEvent(Felix.java:4403)[org.apache.felix.framework-4.2.1.jar:]
	at org.apache.felix.framework.Felix.startBundle(Felix.java:2092)[org.apache.felix.framework-4.2.1.jar:]
	at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:955)
	at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:942)
	at org.apache.karaf.features.internal.FeaturesServiceImpl.startBundle(FeaturesServiceImpl.java:501)
	at org.apache.karaf.features.internal.FeaturesServiceImpl.installFeatures(FeaturesServiceImpl.java:459)
	at org.apache.karaf.features.internal.BootFeaturesInstaller.installBootFeatures(BootFeaturesInstaller.java:92)
	at org.apache.karaf.features.internal.BootFeaturesInstaller.start(BootFeaturesInstaller.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)[:1.8.0_40]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)[:1.8.0_40]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)[:1.8.0_40]
	at java.lang.reflect.Method.invoke(Method.java:497)[:1.8.0_40]
	at org.apache.aries.blueprint.utils.ReflectionUtils.invoke(ReflectionUtils.java:297)[15:org.apache.aries.blueprint.core:1.4.2]
	at org.apache.aries.blueprint.container.BeanRecipe.invoke(BeanRecipe.java:958)[15:org.apache.aries.blueprint.core:1.4.2]
	at org.apache.aries.blueprint.container.BeanRecipe.runBeanProcInit(BeanRecipe.java:712)[15:org.apache.aries.blueprint.core:1.4.2]
	at org.apache.aries.blueprint.container.BeanRecipe.internalCreate2(BeanRecipe.java:824)[15:org.apache.aries.blueprint.core:1.4.2]
	at org.apache.aries.blueprint.container.BeanRecipe.internalCreate(BeanRecipe.java:787)[15:org.apache.aries.blueprint.core:1.4.2]
	at org.apache.aries.blueprint.di.AbstractRecipe$1.call(AbstractRecipe.java:79)[15:org.apache.aries.blueprint.core:1.4.2]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)[:1.8.0_40]
	at org.apache.aries.blueprint.di.AbstractRecipe.create(AbstractRecipe.java:88)[15:org.apache.aries.blueprint.core:1.4.2]
	at org.apache.aries.blueprint.container.BlueprintRepository.createInstances(BlueprintRepository.java:245)[15:org.apache.aries.blueprint.core:1.4.2]
	at org.apache.aries.blueprint.container.BlueprintRepository.createAll(BlueprintRepository.java:183)[15:org.apache.aries.blueprint.core:1.4.2]
	at org.apache.aries.blueprint.container.BlueprintContainerImpl.instantiateEagerComponents(BlueprintContainerImpl.java:682)[15:org.apache.aries.blueprint.core:1.4.2]
	at org.apache.aries.blueprint.container.BlueprintContainerImpl.doRun(BlueprintContainerImpl.java:377)[15:org.apache.aries.blueprint.core:1.4.2]
	at org.apache.aries.blueprint.container.BlueprintContainerImpl.run(BlueprintContainerImpl.java:269)[15:org.apache.aries.blueprint.core:1.4.2]
	at org.apache.aries.blueprint.container.BlueprintExtender.createContainer(BlueprintExtender.java:294)[15:org.apache.aries.blueprint.core:1.4.2]
	at org.apache.aries.blueprint.container.BlueprintExtender.createContainer(BlueprintExtender.java:263)[15:org.apache.aries.blueprint.core:1.4.2]
	at org.apache.aries.blueprint.container.BlueprintExtender.modifiedBundle(BlueprintExtender.java:253)[15:org.apache.aries.blueprint.core:1.4.2]
	at org.apache.aries.util.tracker.hook.BundleHookBundleTracker$Tracked.customizerModified(BundleHookBundleTracker.java:500)[9:org.apache.aries.util:1.1.0]
	at org.apache.aries.util.tracker.hook.BundleHookBundleTracker$Tracked.customizerModified(BundleHookBundleTracker.java:433)[9:org.apache.aries.util:1.1.0]
	at org.apache.aries.util.tracker.hook.BundleHookBundleTracker$AbstractTracked.track(BundleHookBundleTracker.java:725)[9:org.apache.aries.util:1.1.0]
	at org.apache.aries.util.tracker.hook.BundleHookBundleTracker$Tracked.bundleChanged(BundleHookBundleTracker.java:463)[9:org.apache.aries.util:1.1.0]
	at org.apache.aries.util.tracker.hook.BundleHookBundleTracker$BundleEventHook.event(BundleHookBundleTracker.java:422)[9:org.apache.aries.util:1.1.0]
	at org.apache.felix.framework.util.SecureAction.invokeBundleEventHook(SecureAction.java:1103)[org.apache.felix.framework-4.2.1.jar:]
	at org.apache.felix.framework.util.EventDispatcher.createWhitelistFromHooks(EventDispatcher.java:695)[org.apache.felix.framework-4.2.1.jar:]
	at org.apache.felix.framework.util.EventDispatcher.fireBundleEvent(EventDispatcher.java:483)[org.apache.felix.framework-4.2.1.jar:]
	at org.apache.felix.framework.Felix.fireBundleEvent(Felix.java:4403)[org.apache.felix.framework-4.2.1.jar:]
	at org.apache.felix.framework.Felix.startBundle(Felix.java:2092)[org.apache.felix.framework-4.2.1.jar:]
	at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1291)[org.apache.felix.framework-4.2.1.jar:]
	at org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:304)[org.apache.felix.framework-4.2.1.jar:]
	at java.lang.Thread.run(Thread.java:745)[:1.8.0_40]

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>Apache Karaf 3.0.3/4.1.0-SNAPSHOT</environment>
        <key id="12787944">SLING-4575</key>
            <summary>Failure registering MBean</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olli">Oliver Lietz</assignee>
                                    <reporter username="olli">Oliver Lietz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Apr 2015 08:19:34 +0000</created>
                <updated>Mon, 23 Jan 2017 14:01:18 +0000</updated>
                            <resolved>Mon, 23 Jan 2017 14:01:18 +0000</resolved>
                                                    <fixVersion>Karaf Integration Tests 1.0.0</fixVersion>
                    <fixVersion>Karaf Features 1.0.0</fixVersion>
                                    <component>Karaf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15830035" author="teofili" created="Thu, 19 Jan 2017 14:31:37 +0000"  >&lt;p&gt;I think this has been resolved already, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; WDYT? &lt;/p&gt;</comment>
                            <comment id="15832933" author="olli" created="Sat, 21 Jan 2017 11:07:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=teofili&quot; class=&quot;user-hover&quot; rel=&quot;teofili&quot;&gt;teofili&lt;/a&gt;, no, this issue is still present (see attached log &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12848705/12848705_karaf.log&quot; title=&quot;karaf.log attached to SLING-4575&quot;&gt;karaf.log&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;). But the cause seems to be in &lt;tt&gt;HealthCheckMBeanCreator&lt;/tt&gt; and not in Distribution.&lt;/p&gt;</comment>
                            <comment id="15834540" author="olli" created="Mon, 23 Jan 2017 14:01:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://svn.apache.org/r1779925&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1779925&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://svn.apache.org/r1779926&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1779926&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12963636">SLING-5698</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12963636">SLING-5698</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12848705" name="karaf.log" size="23672" author="olli" created="Sat, 21 Jan 2017 11:07:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 40 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27qx3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4568] Performance: MergingResourceProvider.ParentHidingHandler adds about 30pp rendering overhead</title>
                <link>https://issues.apache.org/jira/browse/SLING-4568</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When I was analysing all read properties, I noticed a recurring pattern with sling:hideChildren and jcr:primaryType and that more than 40% of the read properties are sling:hideChildren. I figured out that sling:hideChildren is read for all parents in MergingResourceProvider.ParentHidingHandler and that the requests are processed 30-35pp faster just by commenting out the constructor code.&lt;/p&gt;

&lt;p&gt;Apache Benchmark results with normal ParentHidingHandler:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;  50%    272&lt;br/&gt;
  66%    276&lt;br/&gt;
  75%    278&lt;br/&gt;
  80%    281&lt;br/&gt;
  90%    289&lt;br/&gt;
  95%    301&lt;br/&gt;
  98%    493&lt;br/&gt;
  99%    497&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Results with commented out ParentHidingHandler constructor: &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;  50%    185&lt;br/&gt;
  66%    188&lt;br/&gt;
  75%    191&lt;br/&gt;
  80%    194&lt;br/&gt;
  90%    202&lt;br/&gt;
  95%    210&lt;br/&gt;
  98%    333&lt;br/&gt;
  99%    338&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="12787674">SLING-4568</key>
            <summary>Performance: MergingResourceProvider.ParentHidingHandler adds about 30pp rendering overhead</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="joelrich">Joel Richard</reporter>
                        <labels>
                            <label>performance</label>
                    </labels>
                <created>Thu, 2 Apr 2015 13:21:52 +0000</created>
                <updated>Tue, 21 Jul 2015 11:57:31 +0000</updated>
                            <resolved>Mon, 27 Apr 2015 11:45:20 +0000</resolved>
                                    <version>Resource Merger 1.2.8</version>
                                    <fixVersion>Resource Merger 1.2.10</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14392765" author="joelrich" created="Thu, 2 Apr 2015 14:33:57 +0000"  >&lt;p&gt;By using a simple cache (see attached patch), the overhead can be reduced drastically:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;  50%    198&lt;br/&gt;
  66%    202&lt;br/&gt;
  75%    205&lt;br/&gt;
  80%    206&lt;br/&gt;
  90%    230&lt;br/&gt;
  95%    270&lt;br/&gt;
  98%    337&lt;br/&gt;
  99%    352&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;In addition to the changes in the patch, it could make sense to cache ancestorChildrenToHideArray separately.&lt;/p&gt;</comment>
                            <comment id="14482675" author="cziegeler" created="Tue, 7 Apr 2015 06:29:52 +0000"  >&lt;p&gt;How does the cache get invalidated? What stops it from growing indefinitely?&lt;/p&gt;</comment>
                            <comment id="14482696" author="joelrich" created="Tue, 7 Apr 2015 06:49:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, the cache is bound to a resource resolver and will therefore not last longer than the resource resolver itself.&lt;/p&gt;</comment>
                            <comment id="14482722" author="cziegeler" created="Tue, 7 Apr 2015 07:10:06 +0000"  >&lt;p&gt;Right, exactly - we have long running resource resolver&apos;s running &quot;forever&quot;&lt;/p&gt;</comment>
                            <comment id="14482731" author="joelrich" created="Tue, 7 Apr 2015 07:19:47 +0000"  >&lt;p&gt;Instead of a simple HashMap we could use a data structure dedicated for caches (which is limited or where the items expire). It would probably also make sense to clear the cache in commit(). Another approach would be to enable this cache only for requests or even only for GET requests.&lt;/p&gt;</comment>
                            <comment id="14483466" author="joelrich" created="Tue, 7 Apr 2015 16:41:49 +0000"  >&lt;p&gt;For some pages the overhead is even bigger. Here we have an example where it is 46pp (87%):&lt;/p&gt;

&lt;p&gt;With ParentHidingHandler:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;  50%    524&lt;br/&gt;
  66%    529&lt;br/&gt;
  75%    536&lt;br/&gt;
  80%    541&lt;br/&gt;
  90%    554&lt;br/&gt;
  95%    617&lt;br/&gt;
  98%    798&lt;br/&gt;
  99%    942&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Without ParentHidingHandler:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;  50%    280&lt;br/&gt;
  66%    283&lt;br/&gt;
  75%    286&lt;br/&gt;
  80%    288&lt;br/&gt;
  90%    295&lt;br/&gt;
  95%    425&lt;br/&gt;
  98%    454&lt;br/&gt;
  99%    459&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="14499596" author="joelrich" created="Fri, 17 Apr 2015 10:28:49 +0000"  >&lt;p&gt;I have renamed to previous patch to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4568&quot; title=&quot;Performance: MergingResourceProvider.ParentHidingHandler adds about 30pp rendering overhead&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4568&quot;&gt;&lt;del&gt;SLING-4568&lt;/del&gt;&lt;/a&gt;_experimental_cache.patch and attached a new patch which is simpler and even more efficient. It includes two changes:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;It let&apos;s you exclude search paths which should not be merged. In our case, we have 4 different search paths, but only two are relevant for the merging. By adding them to the excluded list, a lot of unnecessary getResource calls are avoided. Moreover, it makes it possible for us to benefit from the more important second change.&lt;/li&gt;
	&lt;li&gt;The ParentHidingHandler is not not executed anymore for the last not excluded search path and is therefore only executed for the real overlays. This makes the MergingResourceProvider overhead negligible in most cases and makes the cache from the first patch irrelevant.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14508713" author="cziegeler" created="Thu, 23 Apr 2015 09:12:09 +0000"  >&lt;p&gt;Thanks for your work and patch, Joel. I&apos;ve applied the parent hiding handler part of your patch.&lt;br/&gt;
A configuration that defers from the search path is causing for trouble. It will get out of sync. And we also might want to have a more dynamic search path in the future (e.g. for per tenant).&lt;/p&gt;</comment>
                            <comment id="14509048" author="joelrich" created="Thu, 23 Apr 2015 13:33:22 +0000"  >&lt;p&gt;Reopening because the applied patch was incomplete.&lt;/p&gt;</comment>
                            <comment id="14510573" author="joelrich" created="Fri, 24 Apr 2015 06:57:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, I have created a new patch (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4568&quot; title=&quot;Performance: MergingResourceProvider.ParentHidingHandler adds about 30pp rendering overhead&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4568&quot;&gt;&lt;del&gt;SLING-4568&lt;/del&gt;&lt;/a&gt;_skip-underlying.patch) which does not contain the exclude search path configuration and does skip the ParentHidingHandler also for listChildren and CRUDMergingResourceProvider. Sorry for the detour, I should have seen before that there are other ParentHidingHandler usages which should be adjusted as well.&lt;/p&gt;

&lt;p&gt;I had to adjust the code in CRUDMergingResourceProvider#getAllResources a little bit further to prevent that the parent is not read unnecessarily. I even wanted to create a comment addResourceToHolder method, but this isn&apos;t possible right now because they use different unrelated resource holder classes.&lt;/p&gt;</comment>
                            <comment id="14510745" author="cziegeler" created="Fri, 24 Apr 2015 09:55:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joelrich&quot; class=&quot;user-hover&quot; rel=&quot;joelrich&quot;&gt;joelrich&lt;/a&gt; It seems your patch is not against current trunk, so I can&apos;t apply it. Could you please recreate a patch based on current trunk? Thanks&lt;/p&gt;</comment>
                            <comment id="14511457" author="joelrich" created="Fri, 24 Apr 2015 18:11:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, I have attached the same patch again, but this time created with git instead of my IDE.&lt;/p&gt;</comment>
                            <comment id="14512950" author="cziegeler" created="Sun, 26 Apr 2015 08:47:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joelrich&quot; class=&quot;user-hover&quot; rel=&quot;joelrich&quot;&gt;joelrich&lt;/a&gt; It seems I can&apos;t apply the updated patch either; are you sure that you updated to latest svn trunk (or git master) before creating the patch?&lt;/p&gt;</comment>
                            <comment id="14513826" author="joelrich" created="Mon, 27 Apr 2015 09:50:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, I wasn&apos;t aware of your changes, but I have merged them and it should hopefully work now.&lt;/p&gt;</comment>
                            <comment id="14513934" author="cziegeler" created="Mon, 27 Apr 2015 11:24:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joelrich&quot; class=&quot;user-hover&quot; rel=&quot;joelrich&quot;&gt;joelrich&lt;/a&gt; Thanks for your updated patch, I&apos;ve applied a slightly modified version in the CRUD resource provider: it checks the resource type first before trying to get a parent handler. A RT check is cheap, and it might often be the case that the overlayed resources do not exist. WDYT?&lt;/p&gt;</comment>
                            <comment id="14513950" author="cziegeler" created="Mon, 27 Apr 2015 11:41:30 +0000"  >&lt;p&gt;Just realized that my optimisation was wrong; therefore I reverted to the version of the patch which is correct&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12823436">SLING-4653</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12819675">SLING-4596</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12820527">SLING-4611</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12726124" name="SLING-4568_exclude_search_paths.patch" size="5948" author="joelrich" created="Fri, 17 Apr 2015 10:28:49 +0000"/>
                            <attachment id="12726123" name="SLING-4568_experimental_cache.patch" size="7640" author="joelrich" created="Fri, 17 Apr 2015 10:28:49 +0000"/>
                            <attachment id="12728363" name="SLING-4568_skip-underlying_3.patch" size="5703" author="joelrich" created="Mon, 27 Apr 2015 09:50:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 27 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27pa7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4561] Resource Editor: avoid the submission of a node name in edit mode when the mouse hovers an other node</title>
                <link>https://issues.apache.org/jira/browse/SLING-4561</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="12787391">SLING-4561</key>
            <summary>Resource Editor: avoid the submission of a node name in edit mode when the mouse hovers an other node</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sandro">Sandro Boehme</assignee>
                                    <reporter username="sandro">Sandro Boehme</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Apr 2015 16:23:01 +0000</created>
                <updated>Wed, 1 Apr 2015 16:25:04 +0000</updated>
                            <resolved>Wed, 1 Apr 2015 16:25:04 +0000</resolved>
                                    <version>Resource Editor 1.0.2</version>
                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 31 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27nhz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4560] Extend support in XSSAPI#getValidHref for Internationalized Resource Identifiers</title>
                <link>https://issues.apache.org/jira/browse/SLING-4560</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I added (locally) 2 test cases to org.apache.sling.xss.impl.XSSAPIImplTest#testGetValidHref:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;{&lt;span class=&quot;code-quote&quot;&gt;&quot;/etc/commerce/collections/&#20013;&#25991;&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;/etc/commerce/collections/&#20013;&#25991;&quot;&lt;/span&gt;},
{&lt;span class=&quot;code-quote&quot;&gt;&quot;/etc/commerce/collections/&#11905;&#12321;&#12322;&#9737;&#8853;&#12306;&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;/etc/commerce/collections/&#11905;&#12321;&#12322;&#9737;&#8853;&#12306;&quot;&lt;/span&gt;},
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the first test passes (chinese characters), the 2nd fails (bengali/hindi characters) although it should pass as they are valid characters.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12787359">SLING-4560</key>
            <summary>Extend support in XSSAPI#getValidHref for Internationalized Resource Identifiers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="jck">Jean-Christophe Kautzmann</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Apr 2015 15:00:18 +0000</created>
                <updated>Mon, 29 Aug 2016 16:41:54 +0000</updated>
                            <resolved>Mon, 22 Aug 2016 13:00:12 +0000</resolved>
                                    <version>XSS Protection API 1.0.0</version>
                                    <fixVersion>XSS Protection API 1.0.14</fixVersion>
                                    <component>XSS Protection API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14390755" author="bdelacretaz" created="Wed, 1 Apr 2015 15:05:53 +0000"  >&lt;p&gt;Can you confirm that the below escaped strings are what you are testing with, or supply the correct ones?&lt;/p&gt;

&lt;p&gt;We should not have unicode strings in our source code.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;{\&lt;span class=&quot;code-quote&quot;&gt;&quot;/etc/commerce/collections/\u4e2d\u6587\&quot;&lt;/span&gt;, \&lt;span class=&quot;code-quote&quot;&gt;&quot;/etc/commerce/collections/\u4e2d\u6587\&quot;&lt;/span&gt;}
{\&lt;span class=&quot;code-quote&quot;&gt;&quot;/etc/commerce/collections/\u2e81\u3021\u3022\u2609\u2295\u3012\&quot;&lt;/span&gt;, \&lt;span class=&quot;code-quote&quot;&gt;&quot;/etc/commerce/collections/\u2e81\u3021\u3022\u2609\u2295\u3012\&quot;&lt;/span&gt;},
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14390927" author="jck" created="Wed, 1 Apr 2015 16:25:08 +0000"  >&lt;p&gt;yes, that&apos;s the correct encoding in unicode:&lt;br/&gt;
&#20013;&#25991; -&amp;gt; \u4E2D\u6587&lt;br/&gt;
&#11905;&#12321;&#12322;&#9737;&#8853;&#12306; -&amp;gt;  \u2E81\u3021\u3022\u2609\u2295\u3012&lt;/p&gt;</comment>
                            <comment id="15426584" author="radu.cotescu" created="Thu, 18 Aug 2016 15:00:14 +0000"  >&lt;p&gt;Pushed a potential fix in &lt;a href=&quot;https://svn.apache.org/r1756802&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1756802&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15427306" author="chaotic" created="Thu, 18 Aug 2016 22:42:57 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu.cotescu&quot; class=&quot;user-hover&quot; rel=&quot;radu.cotescu&quot;&gt;radu.cotescu&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;With this change &lt;tt&gt;onSiteURL&lt;/tt&gt; will accept spaces and colons and thus does no longer filter external  (and/or &quot; javascript:&quot;) URLs.&lt;/p&gt;

&lt;p&gt;This could be caught by the following additional tests:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;XSSAPIImplTest.testfilterHtml()&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; {&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;a href=\&quot;&lt;/span&gt; javascript:alert(23)\&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;gt;space&amp;lt;/a&amp;gt;&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;a&amp;gt;space&amp;lt;/a&amp;gt;&quot;&lt;/span&gt;},
 {&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;table background=\&quot;&lt;/span&gt;http:&lt;span class=&quot;code-comment&quot;&gt;//www.google.com\&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;gt;&amp;lt;/table&amp;gt;&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;table&amp;gt;&amp;lt;/table&amp;gt;&quot;&lt;/span&gt;},&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Please note however, that the test mentioned above does not contain bengali / hindi characters. FWIW, I tried to come up with a hindi test using google translate:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;XSSAPIImplTest.testGetValidHref()&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;   {&lt;span class=&quot;code-quote&quot;&gt;&quot;/etc/commerce/collections/&#20013;&#25991;&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;/etc/commerce/collections/&#20013;&#25991;&quot;&lt;/span&gt;},
  {&lt;span class=&quot;code-quote&quot;&gt;&quot;/etc/commerce/collections/\u09aa\u09b0\u09c0\u0995\u09cd\u09b7\u09be\u09ae\u09c2\u09b2\u0995&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;/etc/commerce/collections/\u09aa\u09b0\u09c0\u0995\u09cd\u09b7\u09be\u09ae\u09c2\u09b2\u0995&quot;&lt;/span&gt;},
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Nonetheless, the summary is correct, this test too fails with the old regexps. &lt;br/&gt;
The reason for this is that the unicode &quot;letter&quot; character class &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;\p{L}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; is matching single unicode &lt;b&gt;code points&lt;/b&gt; only. To match any letter including diacritics, one might use &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;\p{L}\p{M}*+&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;. See also &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; (&quot;Unicode Categories&quot;).&lt;/p&gt;

&lt;p&gt;I&apos;ve added a corresponding patch to the regexp (changing only the character class) and added a couple of tests. &lt;/p&gt;

&lt;p&gt;Note, The test provided by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jck&quot; class=&quot;user-hover&quot; rel=&quot;jck&quot;&gt;jck&lt;/a&gt; &lt;b&gt;would still fail&lt;/b&gt; even with this change, but AFAICT that&apos;s correct, since these characters are symbols and not letters. &lt;/p&gt;</comment>
                            <comment id="15427307" author="chaotic" created="Thu, 18 Aug 2016 22:43:22 +0000"  >&lt;p&gt;Adding potential patch.&lt;/p&gt;</comment>
                            <comment id="15430713" author="radu.cotescu" created="Mon, 22 Aug 2016 13:00:14 +0000"  >&lt;p&gt;Thanks for your patch, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chaotic&quot; class=&quot;user-hover&quot; rel=&quot;chaotic&quot;&gt;chaotic&lt;/a&gt;. It&apos;s safer than my version so I&apos;ve applied it in &lt;a href=&quot;https://svn.apache.org/r1757160&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1757160&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15436574" author="radu.cotescu" created="Thu, 25 Aug 2016 09:37:25 +0000"  >&lt;p&gt;Both this issue&apos;s summary and description are rather wrong. First, the characters that are tested are Chinese, not Bengali or Hindi. Second, they are symbols. According to &lt;a href=&quot;https://tools.ietf.org/html/rfc3987#section-2.2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://tools.ietf.org/html/rfc3987#section-2.2&lt;/a&gt;, URI paths should contain only letters, numbers, &quot;-&quot; / &quot;.&quot; / &quot;_&quot; / &quot;~&quot; and some UCS.&lt;/p&gt;

&lt;p&gt;I&apos;ll therefore change the summary to &quot;Extend support in XSSAPI#getValidHref for Internationalized Resource Identifiers&quot;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12824461" name="xssapi.patch" size="4019" author="chaotic" created="Thu, 18 Aug 2016 22:43:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 10 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27nbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4559] Resource Editor :: add node dialog :: use the entered but not yet selected values of the dropdowns</title>
                <link>https://issues.apache.org/jira/browse/SLING-4559</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="12787315">SLING-4559</key>
            <summary>Resource Editor :: add node dialog :: use the entered but not yet selected values of the dropdowns</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sandro">Sandro Boehme</assignee>
                                    <reporter username="sandro">Sandro Boehme</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Apr 2015 11:11:30 +0000</created>
                <updated>Wed, 1 Apr 2015 16:23:58 +0000</updated>
                            <resolved>Wed, 1 Apr 2015 12:28:56 +0000</resolved>
                                    <version>Resource Editor 1.0.2</version>
                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 31 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27n1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4556] NPE in DiscoveryServiceImpl#activate due to OakSlingRepositoryManager restart during startup</title>
                <link>https://issues.apache.org/jira/browse/SLING-4556</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;31.03.2015 05:33:44.001 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-77&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.discovery.impl.DiscoveryServiceImpl(85)&amp;#93;&lt;/span&gt; The activate method has thrown an exception (java.lang.NullPointerException)&lt;br/&gt;
java.lang.NullPointerException: null&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.create(ResourceResolverImpl.java:1123)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResourceInternal(ResourceUtil.java:611)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:554)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:528)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResourceInternal(ResourceUtil.java:599)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:554)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:528)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResourceInternal(ResourceUtil.java:599)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:554)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:528)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResourceInternal(ResourceUtil.java:599)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:554)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:528)&lt;br/&gt;
	at org.apache.sling.discovery.impl.common.resource.ResourceHelper.getOrCreateResource(ResourceHelper.java:45)&lt;br/&gt;
	at org.apache.sling.discovery.impl.topology.announcement.AnnouncementRegistryImpl.listAnnouncementsInSameCluster(AnnouncementRegistryImpl.java:150)&lt;br/&gt;
	at org.apache.sling.discovery.impl.topology.announcement.AnnouncementRegistryImpl.listInstances(AnnouncementRegistryImpl.java:542)&lt;br/&gt;
	at org.apache.sling.discovery.impl.DiscoveryServiceImpl.getTopology(DiscoveryServiceImpl.java:443)&lt;br/&gt;
	at org.apache.sling.discovery.impl.DiscoveryServiceImpl.activate(DiscoveryServiceImpl.java:149)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12787024">SLING-4556</key>
            <summary>NPE in DiscoveryServiceImpl#activate due to OakSlingRepositoryManager restart during startup</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 31 Mar 2015 13:36:02 +0000</created>
                <updated>Fri, 16 Oct 2015 14:06:50 +0000</updated>
                            <resolved>Wed, 5 Aug 2015 14:32:16 +0000</resolved>
                                                    <fixVersion>Launchpad Builder 8</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14388578" author="rombert" created="Tue, 31 Mar 2015 14:22:13 +0000"  >&lt;p&gt;I&apos;ve also seen this at startup ( with sling.run.modes=oak mostly I think )&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;31.03.2015 17:06:06.216 *ERROR* [Thread-45] ERROR: Error calling StartupListener org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler@6eed788d (java.lang.NullPointerException)
java.lang.NullPointerException
        at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.create(ResourceResolverImpl.java:1123)
        at org.apache.sling.api.resource.ResourceUtil.getOrCreateResourceInternal(ResourceUtil.java:611)
        at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:554)
        at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:528)
        at org.apache.sling.api.resource.ResourceUtil.getOrCreateResourceInternal(ResourceUtil.java:599)
        at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:554)
        at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:528)
        at org.apache.sling.api.resource.ResourceUtil.getOrCreateResourceInternal(ResourceUtil.java:599)
        at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:554)
        at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:528)
        at org.apache.sling.api.resource.ResourceUtil.getOrCreateResourceInternal(ResourceUtil.java:599)
        at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:554)
        at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:528)
        at org.apache.sling.api.resource.ResourceUtil.getOrCreateResourceInternal(ResourceUtil.java:599)
        at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:554)
        at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:528)
        at org.apache.sling.discovery.impl.common.resource.ResourceHelper.getOrCreateResource(ResourceHelper.java:45)
        at org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler.issueClusterLocalHeartbeat(HeartbeatHandler.java:285)
        at org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler.issueHeartbeat(HeartbeatHandler.java:255)
        at org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler.startupFinished(HeartbeatHandler.java:139)
        at org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler.inform(HeartbeatHandler.java:132)
        at org.apache.sling.launchpad.base.impl.DefaultStartupHandler$1.addingService(DefaultStartupHandler.java:135)
        at org.apache.sling.launchpad.base.impl.DefaultStartupHandler$1.addingService(DefaultStartupHandler.java:118)
        at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:941)
        at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:870)
        at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:256)
        at org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:229)
        at org.osgi.util.tracker.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:901)
        at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:987)
        at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:838)
        at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:545)
        at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4547)
        at org.apache.felix.framework.Felix.registerService(Felix.java:3521)
        at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:348)
        at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:1003)
        at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:992)
        at org.apache.felix.scr.impl.manager.RegistrationManager.changeRegistration(RegistrationManager.java:134)
        at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerService(AbstractComponentManager.java:1044)
        at org.apache.felix.scr.impl.manager.AbstractComponentManager.activateInternal(AbstractComponentManager.java:841)
        at org.apache.felix.scr.impl.manager.DependencyManager$SingleStaticCustomizer.addedService(DependencyManager.java:931)
        at org.apache.felix.scr.impl.manager.DependencyManager$SingleStaticCustomizer.addedService(DependencyManager.java:895)
        at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1480)
        at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1401)
        at org.apache.felix.scr.impl.manager.ServiceTracker$AbstractTracked.trackAdding(ServiceTracker.java:1210)
        at org.apache.felix.scr.impl.manager.ServiceTracker$AbstractTracked.track(ServiceTracker.java:1148)
        at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:1432)
        at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:987)
        at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:838)
        at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:545)
        at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4547)
        at org.apache.felix.framework.Felix.registerService(Felix.java:3521)
        at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:348)
        at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:1003)
        at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:992)
        at org.apache.felix.scr.impl.manager.RegistrationManager.changeRegistration(RegistrationManager.java:134)
        at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerService(AbstractComponentManager.java:1044)
        at org.apache.felix.scr.impl.manager.AbstractComponentManager.activateInternal(AbstractComponentManager.java:841)
        at org.apache.felix.scr.impl.manager.DependencyManager$SingleStaticCustomizer.addedService(DependencyManager.java:931)
        at org.apache.felix.scr.impl.manager.DependencyManager$SingleStaticCustomizer.addedService(DependencyManager.java:895)
        at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1480)
        at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1401)
        at org.apache.felix.scr.impl.manager.ServiceTracker$AbstractTracked.trackAdding(ServiceTracker.java:1210)
        at org.apache.felix.scr.impl.manager.ServiceTracker$AbstractTracked.track(ServiceTracker.java:1148)
        at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:1432)
        at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:987)
        at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:838)
        at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:545)
        at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4547)
        at org.apache.felix.framework.Felix.registerService(Felix.java:3521)
        at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:348)
        at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:322)
        at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.registerFactory(ResourceResolverFactoryActivator.java:584)
        at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.checkFactoryPreconditions(ResourceResolverFactoryActivator.java:611)
        at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.run(ResourceResolverFactoryActivator.java:706)
        at java.lang.Thread.run(Thread.java:745)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14498013" author="egli" created="Thu, 16 Apr 2015 12:55:31 +0000"  >&lt;p&gt;This I believe happens when&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;                parentResource = resolver.getResource(&lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(in &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/api/src/main/java/org/apache/sling/api/resource/ResourceUtil.java#L596&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ResourceUtil.java:596&lt;/a&gt;) results in &lt;tt&gt;null&lt;/tt&gt;. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, wonder if that is a (known) startup-glitch?&lt;/p&gt;</comment>
                            <comment id="14499775" author="cziegeler" created="Fri, 17 Apr 2015 13:01:13 +0000"  >&lt;p&gt;I don&apos;t know of such a glitch, the resource resolver is only available if the repository is available, so / should always exist. If that&apos;s really the problem, then this looks like a repository bug to me&lt;/p&gt;</comment>
                            <comment id="14502550" author="egli" created="Mon, 20 Apr 2015 09:12:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, if you can reproduce this, can you pls provide more log context - I indeed suspect this to be a glitch - maybe more log of dependent bundles (eg repository)&apos;s state would proof this..&lt;/p&gt;</comment>
                            <comment id="14502691" author="cziegeler" created="Mon, 20 Apr 2015 11:54:42 +0000"  >&lt;p&gt;I see this on a shutdown of Sling&apos;s launchpad sometimes:&lt;/p&gt;

&lt;p&gt;ERROR: Error calling StartupListener org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler@37958652 (java.lang.NullPointerException)&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.create(ResourceResolverImpl.java:1123)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResourceInternal(ResourceUtil.java:611)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:554)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:528)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResourceInternal(ResourceUtil.java:599)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:554)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:528)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResourceInternal(ResourceUtil.java:599)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:554)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:528)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResourceInternal(ResourceUtil.java:599)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:554)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:528)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResourceInternal(ResourceUtil.java:599)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:554)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:528)&lt;br/&gt;
	at org.apache.sling.discovery.impl.common.resource.ResourceHelper.getOrCreateResource(ResourceHelper.java:45)&lt;br/&gt;
	at org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler.issueClusterLocalHeartbeat(HeartbeatHandler.java:298)&lt;br/&gt;
	at org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler.issueHeartbeat(HeartbeatHandler.java:262)&lt;br/&gt;
	at org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler.startupFinished(HeartbeatHandler.java:140)&lt;br/&gt;
	at org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler.inform(HeartbeatHandler.java:133)&lt;br/&gt;
	at org.apache.sling.launchpad.base.impl.DefaultStartupHandler$1.addingService(DefaultStartupHandler.java:146)&lt;br/&gt;
	at org.apache.sling.launchpad.base.impl.DefaultStartupHandler$1.addingService(DefaultStartupHandler.java:129)&lt;br/&gt;
	at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:941)&lt;br/&gt;
	at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:870)&lt;br/&gt;
	at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:256)&lt;br/&gt;
	at org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:229)&lt;br/&gt;
	at org.osgi.util.tracker.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:901)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:987)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:838)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:545)&lt;br/&gt;
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4547)&lt;br/&gt;
	at org.apache.felix.framework.Felix.registerService(Felix.java:3521)&lt;br/&gt;
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:348)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:1003)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:992)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.RegistrationManager.changeRegistration(RegistrationManager.java:134)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerService(AbstractComponentManager.java:1044)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.activateInternal(AbstractComponentManager.java:841)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager$SingleStaticCustomizer.addedService(DependencyManager.java:931)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager$SingleStaticCustomizer.addedService(DependencyManager.java:895)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1480)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1401)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.ServiceTracker$AbstractTracked.trackAdding(ServiceTracker.java:1210)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.ServiceTracker$AbstractTracked.track(ServiceTracker.java:1148)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:1432)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:987)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:838)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:545)&lt;br/&gt;
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4547)&lt;br/&gt;
	at org.apache.felix.framework.Felix.registerService(Felix.java:3521)&lt;br/&gt;
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:348)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:1003)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:992)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.RegistrationManager.changeRegistration(RegistrationManager.java:134)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerService(AbstractComponentManager.java:1044)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.activateInternal(AbstractComponentManager.java:841)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager$SingleStaticCustomizer.addedService(DependencyManager.java:931)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager$SingleStaticCustomizer.addedService(DependencyManager.java:895)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1480)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.customizerAdded(ServiceTracker.java:1401)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.ServiceTracker$AbstractTracked.trackAdding(ServiceTracker.java:1210)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.ServiceTracker$AbstractTracked.track(ServiceTracker.java:1148)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:1432)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:987)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:838)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:545)&lt;br/&gt;
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4547)&lt;br/&gt;
	at org.apache.felix.framework.Felix.registerService(Felix.java:3521)&lt;br/&gt;
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:348)&lt;br/&gt;
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:322)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.registerFactory(ResourceResolverFactoryActivator.java:584)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.checkFactoryPreconditions(ResourceResolverFactoryActivator.java:611)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.run(ResourceResolverFactoryActivator.java:706)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;/p&gt;

&lt;p&gt;Maybe this is a race condition, where the new resource resolver factory is registered - at this moment the jcr provider is active. However when the call is made to the resource resolver from the discovery code, the jcr provider is already gone and the unregistration of the resource resolver factory is in process. This could also happen on startup, if e.g. the jcr provider bundle restarts.&lt;br/&gt;
If this assumption is true, then it&apos;s more a problem of the resource resolver factory and its reregistration&lt;/p&gt;</comment>
                            <comment id="14502699" author="egli" created="Mon, 20 Apr 2015 11:58:31 +0000"  >&lt;blockquote&gt;&lt;p&gt;If this assumption is true, then it&apos;s more a problem of the resource resolver factory and its reregistration&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;sounds more plausible than at least an issue in discovery.impl itself - the problem seems as noted &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4556?focusedCommentId=14498013&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14498013&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;above&lt;/a&gt; that getResource(&quot;/&quot;) returns null..&lt;/p&gt;</comment>
                            <comment id="14502732" author="egli" created="Mon, 20 Apr 2015 12:48:04 +0000"  >&lt;p&gt;moving this at least off discovery.impl 1.1.2 (so as to not block this release)&lt;/p&gt;</comment>
                            <comment id="14507244" author="kwin" created="Wed, 22 Apr 2015 15:17:45 +0000"  >&lt;p&gt;Probably the fix from &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4644&quot; title=&quot;SlingException is not properly propagated by ResourceProviderEntry.getInternalResource(...)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4644&quot;&gt;&lt;del&gt;SLING-4644&lt;/del&gt;&lt;/a&gt; will help with finding the real issue here.&lt;/p&gt;</comment>
                            <comment id="14509261" author="rombert" created="Thu, 23 Apr 2015 15:59:26 +0000"  >&lt;p&gt;While debugging an unrelated issue I noticed that the OakSlingRepositoryManager is stopped and started three times when starting up Sling, so this can explain this NPE. &lt;/p&gt;</comment>
                            <comment id="14514076" author="egli" created="Mon, 27 Apr 2015 12:54:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, any idea how we can find out why OakSlingRepositoryManager would be restarted during startup? Lower the log level for osgi perhaps?&lt;/p&gt;</comment>
                            <comment id="14530650" author="rombert" created="Wed, 6 May 2015 14:48:56 +0000"  >&lt;p&gt;What I see happening is that the OakSlingRepositoryManager is being shutdown due to the AuthenticationConfigurationImpl being reconfigured.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;06.05.2015 17:26:03.298 *INFO* [CM Event Dispatcher (Fire ConfigurationEvent: pid=org.apache.jackrabbit.oak.security.authentication.AuthenticationConfigurationImpl)] org.apache.sling.oak.server.OakSlingRepositoryManager stop: Repository still running, forcing shutdown&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As a quick fix I tried to move the org.apache.sling.jcr.oak.server bundle to start level 16, up from 15, but that did not help.&lt;/p&gt;</comment>
                            <comment id="14574314" author="rombert" created="Fri, 5 Jun 2015 11:03:32 +0000"  >&lt;p&gt;Targeted for JCR Oak Server 1.0.0 as I don&apos;t think there&apos;s anything that should be fixed in discovery here&lt;/p&gt;</comment>
                            <comment id="14644475" author="rombert" created="Tue, 28 Jul 2015 14:50:04 +0000"  >&lt;p&gt;I&apos;ve attached &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12747567/12747567_SLING-4556-1.patch&quot; title=&quot;SLING-4556-1.patch attached to SLING-4556&quot;&gt;SLING-4556-1.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; which contains the following fix:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Move org.apache.sling.installer.factory.configuration to the :boot&lt;br/&gt;
feature so that components are configured as soon as they become&lt;br/&gt;
availalble, otherwise that would&apos;ve happened at start level 20&lt;/li&gt;
	&lt;li&gt;Move the org.apache.sling.jcr.oak.server bundle to start level 16, so&lt;br/&gt;
that all the bundles which provide its dependendencies, mostly oak-core,&lt;br/&gt;
are properly configured when the OakSlingRepositoryManager is activated&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;With this the problem is gone for me, I&apos;ve also &lt;a href=&quot;http://sling-dev.markmail.org/thread/6ipqbzgvooivppuc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;asked on dev@sling: SLING-4556 - Moving org.apache.sling.installer.factory.configuration to the :boot feature&lt;/a&gt; since I am not 100% confident that there are no side effects&lt;/p&gt;</comment>
                            <comment id="14647307" author="rombert" created="Thu, 30 Jul 2015 07:50:32 +0000"  >&lt;p&gt;Fixed with &lt;a href=&quot;https://svn.apache.org/r1693392&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1693392&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14653349" author="rombert" created="Tue, 4 Aug 2015 09:24:55 +0000"  >&lt;p&gt;This causes the jackrabbit run mode to break so I&apos;ve reverted the change for now&lt;/p&gt;</comment>
                            <comment id="14658294" author="rombert" created="Wed, 5 Aug 2015 14:32:16 +0000"  >&lt;p&gt;Re-applied fix in &lt;a href=&quot;https://svn.apache.org/r1694232&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1694232&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12852252">SLING-4928</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12747567" name="SLING-4556-1.patch" size="3412" author="rombert" created="Tue, 28 Jul 2015 14:48:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 13 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27lbb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4553] Avoid unneeded unboxing in PropertiesUtil</title>
                <link>https://issues.apache.org/jira/browse/SLING-4553</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;PropertiesUtil use the &lt;tt&gt;valueOf&lt;/tt&gt; method to convert from String to int/long/boolean. Using the &lt;tt&gt;parseXXX&lt;/tt&gt; variant means that no object creation + unboxing happens. ( Boolean is a special case, but that should be avoided anyway )&lt;/p&gt;</description>
                <environment></environment>
        <key id="12786641">SLING-4553</key>
            <summary>Avoid unneeded unboxing in PropertiesUtil</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Mar 2015 09:08:18 +0000</created>
                <updated>Fri, 22 May 2015 20:10:35 +0000</updated>
                            <resolved>Mon, 30 Mar 2015 09:12:47 +0000</resolved>
                                    <version>Commons OSGi 2.2.2</version>
                                    <fixVersion>Commons OSGi 2.3.0</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14386426" author="rombert" created="Mon, 30 Mar 2015 09:12:47 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1670019&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1670019&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 31 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27iz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4550] Last distribution package in a pull series is dropped</title>
                <link>https://issues.apache.org/jira/browse/SLING-4550</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Configure a reverse agent pulling items from a remote queue agent. &lt;br/&gt;
Have the reverse agent pull max item, and add 2 items in the queue agent. The second item will be dropped.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12786427">SLING-4550</key>
            <summary>Last distribution package in a pull series is dropped</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mpetria">Marius Petria</reporter>
                        <labels>
                    </labels>
                <created>Sat, 28 Mar 2015 06:31:11 +0000</created>
                <updated>Tue, 31 Mar 2015 10:34:32 +0000</updated>
                            <resolved>Sat, 28 Mar 2015 12:29:52 +0000</resolved>
                                    <version>Content Distribution 0.1.0</version>
                                    <fixVersion>Content Distribution Core 0.1.1</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14385269" author="mpetria" created="Sat, 28 Mar 2015 12:29:52 +0000"  >&lt;p&gt;Committed revision 1669754.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 31 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27hnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4549] i18n documentation typo in sling:Message &amp; sling:MessageEntry node type</title>
                <link>https://issues.apache.org/jira/browse/SLING-4549</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://sling.apache.org/documentation/bundles/internationalization-support-i18n.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/bundles/internationalization-support-i18n.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;at the bottom has incorrect casing for the description of the mixin &lt;tt&gt;sling:Message&lt;/tt&gt; and node type &lt;tt&gt;sling:MessageEntry&lt;/tt&gt; (the docs have lower case &quot;m&quot;, but it&apos;s upper case).&lt;/p&gt;

&lt;p&gt;(Not to be confused with the jcr property &lt;tt&gt;sling:message&lt;/tt&gt;, which is indeed lower case.)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12786346">SLING-4549</key>
            <summary>i18n documentation typo in sling:Message &amp; sling:MessageEntry node type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="alexander.klimetschek">Alexander Klimetschek</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Mar 2015 21:38:45 +0000</created>
                <updated>Tue, 7 Apr 2015 21:54:30 +0000</updated>
                            <resolved>Mon, 30 Mar 2015 09:30:58 +0000</resolved>
                                                                    <component>Documentation</component>
                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14386450" author="rombert" created="Mon, 30 Mar 2015 09:30:58 +0000"  >&lt;p&gt;Fixed, thanks for reporting this&lt;/p&gt;</comment>
                            <comment id="14387296" author="alexander.klimetschek" created="Mon, 30 Mar 2015 19:54:14 +0000"  >&lt;p&gt;thx for picking it up!&lt;/p&gt;</comment>
                            <comment id="14484159" author="alexander.klimetschek" created="Tue, 7 Apr 2015 21:54:30 +0000"  >&lt;p&gt;BTW, when searching on Google for &quot;sling i18n&quot; I still get the old sling site as search result:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://sling.apache.org/site/internationalization-support.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/site/internationalization-support.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;with the &lt;a href=&quot;https://sling.apache.org/documentation/bundles/internationalization-support-i18n.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;new page&lt;/a&gt; not even on the first result page.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27h5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4548] Loading files with the JCR_MOCK resource resolver type logs leads to exceptions being logged</title>
                <link>https://issues.apache.org/jira/browse/SLING-4548</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When importing nt:file nodes with the JCR_MOCK resource resolver type exceptions are logged at INFO level. I&apos;ve pushed a minimal project at &lt;a href=&quot;https://github.com/rombert/jcr-mock-sample&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/rombert/jcr-mock-sample&lt;/a&gt; , just run &lt;tt&gt;mvn test&lt;/tt&gt; to see the exceptions.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;499 [main] INFO org.apache.sling.jcr.resource.internal.helper.jcr.JcrNodeResource - setMetaData: Problem extracting metadata information for /sling-test/sling/assert.js
javax.jcr.PathNotFoundException: No item found at: /sling-test/sling/assert.js/jcr:created.
	at org.apache.sling.testing.mock.jcr.MockSession.getItem(MockSession.java:83)
	at org.apache.sling.testing.mock.jcr.MockSession.getProperty(MockSession.java:109)
	at org.apache.sling.testing.mock.jcr.MockNode.getProperty(MockNode.java:125)
	at org.apache.sling.jcr.resource.internal.helper.jcr.JcrNodeResource.setMetaData(JcrNodeResource.java:274)
	at org.apache.sling.jcr.resource.internal.helper.jcr.JcrNodeResource.&amp;lt;init&amp;gt;(JcrNodeResource.java:97)
	at org.apache.sling.jcr.resource.internal.helper.jcr.JcrResourceProvider.create(JcrResourceProvider.java:464)
	at org.apache.sling.resourceresolver.impl.tree.ResourceProviderEntry.create(ResourceProviderEntry.java:479)
	at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.create(ResourceResolverImpl.java:1053)
	at org.apache.sling.testing.mock.sling.loader.ContentLoader.createResource(ContentLoader.java:233)
	at org.apache.sling.testing.mock.sling.loader.ContentLoader.createResource(ContentLoader.java:247)
	at org.apache.sling.testing.mock.sling.loader.ContentLoader.createResource(ContentLoader.java:247)
	at org.apache.sling.testing.mock.sling.loader.ContentLoader.json(ContentLoader.java:175)
	at org.apache.sling.testing.mock.sling.loader.ContentLoader.json(ContentLoader.java:132)
	at org.apache.sling.sample.jcrmock.ImportTest.importSlingTest(ImportTest.java:18)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12786218">SLING-4548</key>
            <summary>Loading files with the JCR_MOCK resource resolver type logs leads to exceptions being logged</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Mar 2015 14:54:29 +0000</created>
                <updated>Fri, 22 May 2015 19:51:07 +0000</updated>
                            <resolved>Tue, 7 Apr 2015 20:37:00 +0000</resolved>
                                    <version>Testing JCR Mock 1.1.4</version>
                                    <fixVersion>Testing JCR Mock 1.1.6</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14383956" author="rombert" created="Fri, 27 Mar 2015 14:57:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert%40pro-vision.de&quot; class=&quot;user-hover&quot; rel=&quot;sseifert@pro-vision.de&quot;&gt;sseifert@pro-vision.de&lt;/a&gt; - thoughts? I&apos;d pick this up myself but am not sure where the problem lies. FTR, RESOURCE_MOCK does not have this problem .&lt;/p&gt;</comment>
                            <comment id="14483961" author="sseifert@pro-vision.de" created="Tue, 7 Apr 2015 20:14:29 +0000"  >&lt;p&gt;hmm - difficult to solve nicely.&lt;/p&gt;

&lt;p&gt;the problem arises because the JcrNodeResource implementation of sling.jcr.resource hardcoded tries to access a &quot;jcr:created&quot; property when encountering a primary node type &quot;nt:file&quot;. i first tried to implemented a workaround in the contentloader when such nodes get imported - but this does not work because the sling.jcr.resource implementation at the same times ignored properties passed on resource creation with name &quot;jcr:created&quot;.&lt;/p&gt;

&lt;p&gt;with resourceresolver-mock it works because JcrNodeResources it not used at all there. with jackrabbit it should work because the real JCR repository respects the node type definition of nt:file which demands automatically setting a jcr:created property on creation.&lt;/p&gt;

&lt;p&gt;so the only possibility seems to implement a hack in jcr-mock at least for the nt:file node type so JcrNodeResource can set its metadata for nt:file node properties.&lt;/p&gt;</comment>
                            <comment id="14484002" author="sseifert@pro-vision.de" created="Tue, 7 Apr 2015 20:37:00 +0000"  >&lt;p&gt;Completed: At revision: 1671940  &lt;/p&gt;

&lt;p&gt;i implemented such a workaround in JCR Mock 1.1.6&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27gdj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4547] JcrResourceBundle does not support multiple base names</title>
                <link>https://issues.apache.org/jira/browse/SLING-4547</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The sling:basename property may be multi-valued, that is the messages of a mix:language nodes may belong to multiple base names and thus ResourceBundle instances, as stated at &lt;a href=&quot;https://sling.apache.org/documentation/bundles/internationalization-support-i18n.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/bundles/internationalization-support-i18n.html&lt;/a&gt;. &lt;br/&gt;
The latest codebase does not work in that way.&lt;/p&gt;

&lt;p&gt;JcrResourceBundle#loadPotentialLanguageRoots():&lt;br/&gt;
if (baseName == null || baseName.equals(properties.get(PROP_BASENAME, &quot;&quot;))) {&lt;br/&gt;
         paths.add(bundle.getPath());&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;In case if property sling:basename have multiple values, only the first base name is considered, others are skipped.&lt;/p&gt;

&lt;p&gt;The correct implementation would be to use properties.get(PROP_BASENAME) - method version without default value parameter, which would return array. You would need to iterate over its items and check equality.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12786190">SLING-4547</key>
            <summary>JcrResourceBundle does not support multiple base names</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="apilets">Andrei Pilets</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Mar 2015 12:58:11 +0000</created>
                <updated>Mon, 22 Jan 2018 11:49:58 +0000</updated>
                            <resolved>Wed, 29 Mar 2017 13:42:36 +0000</resolved>
                                    <version>i18n 2.5.8</version>
                                    <fixVersion>i18n 2.5.10</fixVersion>
                                    <component>i18n</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15943567" author="alexll" created="Mon, 27 Mar 2017 16:30:23 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;We have the same issue any news about the problem ?&lt;/p&gt;

&lt;p&gt;Kinds Regards&lt;/p&gt;</comment>
                            <comment id="15947134" author="kwin" created="Wed, 29 Mar 2017 13:33:46 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1789363&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1789363&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13132662">SLING-7421</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 31 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27g7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4546] Sightly: Improper handling of extension and selectors by data-sly-resource</title>
                <link>https://issues.apache.org/jira/browse/SLING-4546</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Sightly is not handling extensions and selectors properly in &lt;tt&gt;data-sly-resource&lt;/tt&gt;:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Selectors included in path or parent resource are ignored if no selector-related option is specified&lt;/li&gt;
	&lt;li&gt;Extensions are ignored completely, Sightly assumes anything preceded by a dot is a selector&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;This leads to:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;tt&gt;&apos;resource.selector.html&apos;&lt;/tt&gt; being equivalent to &lt;tt&gt;&apos;resource&apos;&lt;/tt&gt; instead of &lt;tt&gt;&apos;resource.html&apos; @ selectors=[&apos;selector&apos;]&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;&apos;resource.selector.html&apos; @ addSelectors=[&apos;other&apos;]&lt;/tt&gt; being equivalent to &lt;tt&gt;&apos;resource&apos; @ selectors=[&apos;selector&apos;, &apos;html&apos;, &apos;other&apos;]&lt;/tt&gt; instead of &lt;tt&gt;&apos;resource.html&apos; @ selectors=[&apos;selector&apos;, &apos;other&apos;]&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;

</description>
                <environment></environment>
        <key id="12785533">SLING-4546</key>
            <summary>Sightly: Improper handling of extension and selectors by data-sly-resource</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="vladb">Vlad Bailescu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Mar 2015 14:45:20 +0000</created>
                <updated>Tue, 7 Apr 2015 14:33:46 +0000</updated>
                            <resolved>Thu, 2 Apr 2015 09:00:33 +0000</resolved>
                                                    <fixVersion>Scripting Sightly Engine 1.0.2</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14379999" author="githubbot" created="Wed, 25 Mar 2015 14:56:41 +0000"  >&lt;p&gt;GitHub user vladbailescu opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/77&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/77&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4546&quot; title=&quot;Sightly: Improper handling of extension and selectors by data-sly-resource&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4546&quot;&gt;&lt;del&gt;SLING-4546&lt;/del&gt;&lt;/a&gt; - Sightly: Improper handling of extension and selectors by data-sly-resource&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Improved selector extraction for resource path (taking extensions into consideration)&lt;/li&gt;
	&lt;li&gt;Added selectors from path or parent to dispatcher options so they will no longer be ignored&lt;/li&gt;
	&lt;li&gt;Updated testing content and integration tests&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/vladbailescu/sling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/vladbailescu/sling&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4546&quot; title=&quot;Sightly: Improper handling of extension and selectors by data-sly-resource&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4546&quot;&gt;&lt;del&gt;SLING-4546&lt;/del&gt;&lt;/a&gt;_improper_extension_selectors_in_data-sly-resource&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/77.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/77.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #77&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 6b4e0ec1ab1a38c771e0da3e8e86e3e4bcdca1f5&lt;br/&gt;
Author: vladbailescu &amp;lt;bailescu@adobe.com&amp;gt;&lt;br/&gt;
Date:   2015-03-25T14:55:19Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4546&quot; title=&quot;Sightly: Improper handling of extension and selectors by data-sly-resource&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4546&quot;&gt;&lt;del&gt;SLING-4546&lt;/del&gt;&lt;/a&gt; - Sightly: Improper handling of extension and selectors by data-sly-resource&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Improved selector extraction for resource path (taking extensions into consideration)&lt;/li&gt;
	&lt;li&gt;Added selectors from path or parent to dispatcher options so they will no longer be ignored&lt;/li&gt;
	&lt;li&gt;Updated testing content and integration tests&lt;/li&gt;
&lt;/ul&gt;


&lt;hr /&gt;</comment>
                            <comment id="14392407" author="githubbot" created="Thu, 2 Apr 2015 08:59:53 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/77&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/77&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14392408" author="radu.cotescu" created="Thu, 2 Apr 2015 09:00:33 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1670852&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1670852&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 31 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27c7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4543] i18n: support for json dictionaries</title>
                <link>https://issues.apache.org/jira/browse/SLING-4543</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Support json dictionaries as alternative to individual sling:Message nodes.&lt;/p&gt;

&lt;p&gt;The fine grained JCR sling:Message node approach does not scale very well when dictionaries contain thousands of entries, at least installation of such a dictionary is slow, but also reading can be affected (even if this is cached), especially viewing in a tree browser becomes impossible.&lt;/p&gt;

&lt;p&gt;The individual string overlay mechanism (/apps string overlays same /libs string) must still work.&lt;/p&gt;

&lt;p&gt;In our case (AEM) this can save more than a minute during installation time.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12785359">SLING-4543</key>
            <summary>i18n: support for json dictionaries</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="alexander.klimetschek">Alexander Klimetschek</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Mar 2015 23:47:59 +0000</created>
                <updated>Wed, 17 Jun 2015 12:19:15 +0000</updated>
                            <resolved>Fri, 27 Mar 2015 14:30:47 +0000</resolved>
                                    <version>i18n 2.3.2</version>
                                    <fixVersion>i18n 2.4.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14379197" author="alexander.klimetschek" created="Wed, 25 Mar 2015 02:55:43 +0000"  >&lt;p&gt;Attached patch which adds json dictionary support: &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12707322/12707322_SLING-4543.patch&quot; title=&quot;SLING-4543.patch attached to SLING-4543&quot;&gt;SLING-4543.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;If the mix:language dictionary node has a name like &lt;tt&gt;*.json&lt;/tt&gt; and is an nt:file, it will try to load this json, if not it will use the existing sling:Message node.&lt;/p&gt;

&lt;p&gt;The json format is straightforward: the parser will take &lt;em&gt;any&lt;/em&gt; &quot;key&quot;:&quot;value&quot; pair in the dictionary, including in nested objects or arrays. Normally, a dictionary will be just a single json object = hash map though.&lt;/p&gt;

&lt;p&gt;For parsing, I used a streaming json parser from jackrabbit commons (already a dependency) which is very fast. Loads 17000 strings across 3 json dictionaries in 44ms on my machine.&lt;/p&gt;

&lt;p&gt;I took the liberty to clean up the complex logic (rest, res0, etc. maps) - which was obsolete with the previous changes that already load the dictionary one by one (instead of a query across the repo, where each entry could come from a different search path, each dictionary is loaded one by one and is already beneath a certain search path or outside).&lt;/p&gt;

&lt;p&gt;I also adapted the tests (some parts taken from Amit&apos;s patch over in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4512&quot; title=&quot;Traversal Warnings in OAK while creating i18n JcrResourceBundle&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4512&quot;&gt;&lt;del&gt;SLING-4512&lt;/del&gt;&lt;/a&gt;) and added one test case for json dictionaries and one that tests that dictionaries outside the search path are overlayed by dictionaries within a search path.&lt;/p&gt;</comment>
                            <comment id="14380756" author="alexander.klimetschek" created="Wed, 25 Mar 2015 20:59:50 +0000"  >&lt;p&gt;Updated patch with better logging - now info instead of debug logging for the dictionary loading parts and measurements, useful to monitor what dictionaries are which format and how long it takes to load them.&lt;/p&gt;</comment>
                            <comment id="14383911" author="fmeschbe" created="Fri, 27 Mar 2015 14:27:46 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alexander.klimetschek&quot; class=&quot;user-hover&quot; rel=&quot;alexander.klimetschek&quot;&gt;alexander.klimetschek&lt;/a&gt; for the patch. I am going to apply this. Since this looks like new feature I also increased the intended next version to be 2.4.0&lt;/p&gt;</comment>
                            <comment id="14383918" author="fmeschbe" created="Fri, 27 Mar 2015 14:30:47 +0000"  >&lt;p&gt;I have applied the patch in Rev. 1669598.&lt;/p&gt;</comment>
                            <comment id="14547930" author="kwin" created="Mon, 18 May 2015 12:23:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alexander.klimetschek&quot; class=&quot;user-hover&quot; rel=&quot;alexander.klimetschek&quot;&gt;alexander.klimetschek&lt;/a&gt; Could you also come up with a patch for the documentation at &lt;a href=&quot;http://sling.apache.org/documentation/bundles/internationalization-support-i18n.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/bundles/internationalization-support-i18n.html&lt;/a&gt; to include there some information about the JSON format?&lt;/p&gt;</comment>
                            <comment id="14589696" author="kwin" created="Wed, 17 Jun 2015 12:19:15 +0000"  >&lt;p&gt;I extended the documentation in &lt;a href=&quot;http://sling.apache.org/documentation/bundles/internationalization-support-i18n.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/bundles/internationalization-support-i18n.html&lt;/a&gt; in rev.1685996 to also cover the JSON dictionary format.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12782517">SLING-4512</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12707322" name="SLING-4543.patch" size="26234" author="alexander.klimetschek" created="Wed, 25 Mar 2015 20:59:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 20 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27b5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4542] The XSSFilterImpl cannot always be successfully activated</title>
                <link>https://issues.apache.org/jira/browse/SLING-4542</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &lt;tt&gt;XSSFilterImpl&lt;/tt&gt; depends on initial content from the same bundle for a successful activation.&lt;/p&gt;

&lt;p&gt;Due to the race conditions described in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4539&quot; title=&quot;Provide a deterministic way of installing initial content&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4539&quot;&gt;&lt;del&gt;SLING-4539&lt;/del&gt;&lt;/a&gt;, and as well due to the fact that bundles can be installed before the &lt;tt&gt;org.apache.sling.jcr.contentloader&lt;/tt&gt; bundle has managed to install initial content, the &lt;tt&gt;XSSFilterImpl&lt;/tt&gt; should try to load the default policies from the embedded bundle resource if the content resource has not yet been installed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12785187">SLING-4542</key>
            <summary>The XSSFilterImpl cannot always be successfully activated</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Mar 2015 15:02:34 +0000</created>
                <updated>Mon, 30 Mar 2015 11:40:11 +0000</updated>
                            <resolved>Tue, 24 Mar 2015 15:20:49 +0000</resolved>
                                    <version>XSS Protection API 1.0.0</version>
                                    <fixVersion>XSS Protection API 1.0.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14378018" author="radu.cotescu" created="Tue, 24 Mar 2015 15:20:49 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1668917&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1668917&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 32 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27a5r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4541] Provide an extensive test suite for the JCR content loader</title>
                <link>https://issues.apache.org/jira/browse/SLING-4541</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The JCR content loader is a sensible bundle. An extensive IT suite should be written to make sure that code changes don&apos;t affect core functionality.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12785166">SLING-4541</key>
            <summary>Provide an extensive test suite for the JCR content loader</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="petr.shypila">Petr Shypila</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Mar 2015 13:03:53 +0000</created>
                <updated>Tue, 3 Jan 2017 13:40:19 +0000</updated>
                            <resolved>Tue, 3 Jan 2017 13:40:18 +0000</resolved>
                                    <version>JCR ContentLoader 2.1.10</version>
                                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14377815" author="tomek.rekawek" created="Tue, 24 Mar 2015 13:09:58 +0000"  >&lt;p&gt;There are already two tests covering some parts of the content loader:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/sling/blob/trunk/launchpad/integration-tests/src/main/java/org/apache/sling/launchpad/webapp/integrationtest/InitialContentTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;InitialContentTest&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/sling/blob/trunk/launchpad/integration-tests/src/main/java/org/apache/sling/launchpad/webapp/integrationtest/servlets/post/PostServletImportTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PostServletImportTest&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The first one checks if the Sling initial content is loaded correctly. The second imports different kind of content. Probably we&apos;d need some low-level tests, testing the ContentImporter, ContentReader and maybe ContentCreator services.&lt;/p&gt;</comment>
                            <comment id="14377837" author="bdelacretaz" created="Tue, 24 Mar 2015 13:30:59 +0000"  >&lt;p&gt;This could be done as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1437&quot; title=&quot;GSoC project: create more unit and integration tests for Sling and expand test coverage information&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1437&quot;&gt;&lt;del&gt;SLING-1437&lt;/del&gt;&lt;/a&gt; if that GSoC project happens.&lt;/p&gt;</comment>
                            <comment id="14572301" author="rombert" created="Thu, 4 Jun 2015 07:14:47 +0000"  >&lt;p&gt;FYI I&apos;m trying to set up tests for the content loader using Sling Mocks ; I think that there&apos;s a regression due to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4223&quot; title=&quot;Make Content Loader extensible to support new import formats&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4223&quot;&gt;&lt;del&gt;SLING-4223&lt;/del&gt;&lt;/a&gt;, but need a simple test to prove it. Might take a while to write the test and the Sling Mocks need some tweaking to support this test.&lt;/p&gt;</comment>
                            <comment id="14573354" author="petr.shypila" created="Thu, 4 Jun 2015 18:39:28 +0000"  >&lt;p&gt;Hello Robert and Bertrand,&lt;/p&gt;

&lt;p&gt;Currently I&apos;m trying to set up some new tests for ContentCreator. There are already few implemented test cases. And the problem is that they are using JMock framework. But as I know we prefer to use Mockito to mock objects.&lt;br/&gt;
So in which way should I go:&lt;br/&gt;
1. Set up new tests with JMock?&lt;br/&gt;
2. I could replace JMock with Mockito as well.&lt;br/&gt;
3. Or I could start use Sling Mocks as well, but it adds new dependencies to our pom file(BTW &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; I don&apos;t see these dependencies in pom.xml).&lt;br/&gt;
4. ?&lt;/p&gt;

&lt;p&gt;-Petr&lt;/p&gt;

&lt;p&gt;UPD: Could you probably also give me any advice in which way is better to design tests for this module. As I see all these modules are very dependent on JCR API. Nodes, Bundles, BundleHelpers etc. classes usage is almost everywhere.&lt;/p&gt;</comment>
                            <comment id="14574276" author="rombert" created="Fri, 5 Jun 2015 10:29:04 +0000"  >&lt;p&gt;Hi Petr. I&apos;ll try and commit my Sling Mocks based tests today so you can get a feeling on how to work with that.&lt;/p&gt;</comment>
                            <comment id="14574313" author="bdelacretaz" created="Fri, 5 Jun 2015 11:02:44 +0000"  >&lt;p&gt;IMO it&apos;s fine to leave the JMock tests in place if that makes sense for a first stage, and maybe look at that once the test coverage is good.&lt;/p&gt;

&lt;p&gt;Note &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4760&quot; title=&quot;jacoco-report Maven profile should aggregate unit and integration tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4760&quot;&gt;&lt;del&gt;SLING-4760&lt;/del&gt;&lt;/a&gt; which allows for creating a merged coverage report from both unit and (module-local) integration tests.&lt;/p&gt;</comment>
                            <comment id="14574610" author="bdelacretaz" created="Fri, 5 Jun 2015 14:52:06 +0000"  >&lt;p&gt;It would also be nice to bring the relevant integration tests currently found under &lt;tt&gt;launchpad/integration-tests&lt;/tt&gt; closer to this module, ideally under src/test with the IT.java suffix.&lt;/p&gt;

&lt;p&gt;AFAICS those are:&lt;/p&gt;

&lt;p&gt;ContentLoaderMiscPropertyTest which uses initial content set by &lt;tt&gt;src/main/resources/SLING-INF/content/property-types-test.json&lt;/tt&gt; from the sibling &lt;tt&gt;test-services&lt;/tt&gt; module. If needed, test bundles can be created on the fly using &lt;a href=&quot;https://ops4j1.jira.com/wiki/display/ops4j/Tinybundles&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ops4j1.jira.com/wiki/display/ops4j/Tinybundles&lt;/a&gt;, there&apos;s some of examples of that in our codebase and many more in the Felix codebase.&lt;/p&gt;

&lt;p&gt;Also PostServletImportTest as mentioned earlier in this ticket.&lt;/p&gt;

&lt;p&gt;And maybe InitialContentTest but that looks more like an actual integration test that makes sense against the full Sling launchpad.&lt;/p&gt;

&lt;p&gt;Moving these tests is second priority, but would be nice if that&apos;s not too much work, and maybe leave just a basic &quot;content loader is present&quot; test in the launchpad. And maybe the other tests that Petr or Robert will create will cover that already.&lt;/p&gt;</comment>
                            <comment id="14576428" author="petr.shypila" created="Sun, 7 Jun 2015 20:21:09 +0000"  >&lt;p&gt;I created new unit tests.&lt;/p&gt;

&lt;p&gt;week2-part1-pathentry.patch - contains test for internal.PathEntry class.&lt;/p&gt;

&lt;p&gt;week2-part2-defaultcontentcreator.patch - contains tests for internal.DefaultContentCreator using JMock and updated reference to parent POM file.&lt;/p&gt;

&lt;p&gt;week2-part3-single-jcrmock-test.patch - contains a single test for DefaultContentCreator#createNode method using JCR Mocks. I&apos;m not sure that this test make much sense. It requires new dependency and poorly tests only one method. To cover createNode method better it looks like we still need to use some mock framework.&lt;/p&gt;

&lt;p&gt;Best regards,&lt;br/&gt;
Petr&lt;/p&gt;</comment>
                            <comment id="14577086" author="bdelacretaz" created="Mon, 8 Jun 2015 12:03:17 +0000"  >&lt;p&gt;I have committed Petr&apos;s PathEntryTest in revision 1684130 and the DefaultContentCreatorTest extensions in revision 1684135, thanks!&lt;/p&gt;

&lt;p&gt;For the createNode() test I agree that we&apos;re reaching the limits of where mocking makes sense - I have added a new CreateNodeTest in revision 1684164, using the RepositoryProvider to run tests on an actual JCR repository (which is the next level of testing as per &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;). This makes the tests much more natural IMO, at the expense of a longer test execution time but that&apos;s not too bad if several tests use this, the repository will be initialized just once. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=petr.shypila&quot; class=&quot;user-hover&quot; rel=&quot;petr.shypila&quot;&gt;petr.shypila&lt;/a&gt; please check if this would help in your case and feel free to reorganize all the tests once you dig deeper in this (or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; did you say you have something nicer using Sling Mocks?).&lt;/p&gt;

&lt;p&gt;The createNode() coverage is far from complete with that new test, I just wanted to show how to use a real repository in tests.&lt;/p&gt;

&lt;p&gt;I had to change the jackrabbit-api dependency version from 2.0.0 to 2.2.0, which changes the below imports. I don&apos;t think that&apos;s a problem as 2.0.0 is a very old version, this bundle will be incompatible with old systems that still use that but I don&apos;t think that&apos;s a problem.&lt;/p&gt;

&lt;p&gt;import-package changes:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;from
org.apache.jackrabbit.api.security.principal;version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[2.0,3)&quot;&lt;/span&gt;,
org.apache.jackrabbit.api.security.user;version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[2.0,3)&quot;&lt;/span&gt;

to
org.apache.jackrabbit.api.security.principal;version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[2.2,3)&quot;&lt;/span&gt;,
org.apache.jackrabbit.api.security.user ;version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[2.2,3)&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://sling.apache.org/documentation/tutorials-how-tos/testing-sling-based-applications.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/tutorials-how-tos/testing-sling-based-applications.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14579101" author="rombert" created="Tue, 9 Jun 2015 15:39:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; - I&apos;ve committed my changes in &lt;a href=&quot;http://svn.apache.org/r1684450&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1684450&lt;/a&gt; , I needed a basic implementation of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4781&quot; title=&quot;Implement MockBundle.getEntryPaths&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4781&quot;&gt;&lt;del&gt;SLING-4781&lt;/del&gt;&lt;/a&gt; for that. Some notes:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;I too had to bump the jackrabbit-api version, but dramatically this time, up to 2.10.1 . This is a requirement of the Sling Mocks as they embed recent version of Oak ( and Jackrabbit ) . This needs to be clarified before considering the change &apos;done&apos;&lt;/li&gt;
	&lt;li&gt;The test is pretty much an integration test, verifying that the entry point ( &lt;tt&gt;BundleContentLoader&lt;/tt&gt; ) works as expected when configured correctly. As such, it covers quite a bit more than the &lt;tt&gt;DefaultContentCreator&lt;/tt&gt; class&lt;/li&gt;
	&lt;li&gt;One test is ignored &lt;tt&gt;loadXmlAsIs&lt;/tt&gt; as I need to find a proper way to unregister the &lt;tt&gt;XmlReader&lt;/tt&gt; just for that test, but it shows the kind of extra testing that can be performed&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14585134" author="petr.shypila" created="Sun, 14 Jun 2015 17:28:36 +0000"  >&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;Thank you for the information about RepositoryProvider. Yes, now it&apos;s much more easier.&lt;/p&gt;

&lt;p&gt;I have covered with tests these methods of DefaultContentCreator:&lt;br/&gt;
DefaultContentCreator#createNode(String name, String primaryNodeType, String[] mixinNodeTypes)&lt;br/&gt;
DefaultContentCreator#createProperty(String name, int propertyType, String[] values)&lt;br/&gt;
DefaultContentCreator#finishNode() which actually just runs private resolveReferences(Node node)&lt;/p&gt;

&lt;p&gt;I have also deleted RunWith(JMock.class) annotation because it&apos;s breaks work of ExpectedException rule and I also added junit-addons dependency to use PrivateAccessor.&lt;/p&gt;

&lt;p&gt;-Petr&lt;/p&gt;</comment>
                            <comment id="14585673" author="bdelacretaz" created="Mon, 15 Jun 2015 09:07:16 +0000"  >&lt;p&gt;Thanks! I have committed your additional tests in revision 1685518, please cross-check.&lt;/p&gt;</comment>
                            <comment id="14593458" author="rombert" created="Fri, 19 Jun 2015 14:23:23 +0000"  >&lt;p&gt;Now that &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4824&quot; title=&quot;Embed all needed classes in the sling-mock-oak jar&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4824&quot;&gt;&lt;del&gt;SLING-4824&lt;/del&gt;&lt;/a&gt; is done I have relaxed the dependencies to jackrabbit-api in &lt;a href=&quot;https://svn.apache.org/r1686423&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1686423&lt;/a&gt; .&lt;/p&gt;</comment>
                            <comment id="14594475" author="petr.shypila" created="Sat, 20 Jun 2015 08:46:49 +0000"  >&lt;p&gt;Just have added new unit tests for methods(week-4_first_part.patch). I have a question.&lt;br/&gt;
In almost all test cases I initialise &lt;tt&gt;contentCreator&lt;/tt&gt; with a same set of arguments:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;contentCreator.init(U.createImportOptions(&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;),
    &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashMap&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, ContentReader&amp;gt;(), &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
contentCreator.prepareParsing(parentNode, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, there are some cases where I should initialise &lt;tt&gt;contentCreator&lt;/tt&gt; with another parameters. Is it ok, to move this &lt;tt&gt;contentCreator&lt;/tt&gt; initialisation to test&apos;s setup method? And if we need to initialise &lt;tt&gt;contentCreator&lt;/tt&gt; with another  parameters, then we could just call these methods in a test&apos;s method again, but with correct parameters.&lt;/p&gt;</comment>
                            <comment id="14595094" author="petr.shypila" created="Sun, 21 Jun 2015 15:59:34 +0000"  >&lt;p&gt;Added updated patch week-4-completed.patch which contains changes from previous one as well.&lt;/p&gt;</comment>
                            <comment id="14595525" author="bdelacretaz" created="Mon, 22 Jun 2015 08:54:32 +0000"  >&lt;p&gt;Thanks, I have committed your new test in &lt;a href=&quot;http://svn.apache.org/r1686816&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1686816&lt;/a&gt; , please cross-check.&lt;/p&gt;

&lt;p&gt;I think the testBundleResolvedBundleChanged shows that we are hitting the limits of what can be tested with mocks, the tests start becoming hard to understand and it&apos;s hard to figure out if they actually test what they should or if they just improve the code coverage without testing the semantically important parts.&lt;/p&gt;

&lt;p&gt;For such tests it might be worth moving up one layer using pax exam to test the actual functionality that matters: when a new bundle appears with content to load, is that correctly loaded, optionally overwriting previous content, what happens when the bundle is updated, etc. Such tests can then be used in large part as reference documentation for what the module does, which mocked tests are much less likely to provide IMO.&lt;/p&gt;

&lt;p&gt;We might need to discuss this on list - if you agree with these feelings maybe describe what you&apos;d like to test on the sling dev list and we can discuss that with others who might be interested.&lt;/p&gt;</comment>
                            <comment id="14595541" author="petr.shypila" created="Mon, 22 Jun 2015 09:04:44 +0000"  >&lt;p&gt;Bertrand, I have cross-checked committed tests. It looks like I missed some of them(Actually the biggest part). Please apply week4-first-part.patch as well.&lt;/p&gt;</comment>
                            <comment id="14595859" author="bdelacretaz" created="Mon, 22 Jun 2015 12:39:08 +0000"  >&lt;p&gt;Ok - the week-4_first_part.patch does not apply cleanly anymore as I have already applied the next one. Could you prepare a new patch that includes all what&apos;s missing in the Sling trunk? &lt;br/&gt;
You can also do it later if you&apos;re still working on that module and if it&apos;s more convenient, and supply all your new tests in one go.&lt;/p&gt;</comment>
                            <comment id="14604921" author="petr.shypila" created="Sun, 28 Jun 2015 21:14:39 +0000"  >&lt;p&gt;Just have added week4-5.patch, which contains all changes from last two weeks. Before make a patch I merged all changes from origin/trunk, so it should contain just difference between them.&lt;/p&gt;</comment>
                            <comment id="14605698" author="bdelacretaz" created="Mon, 29 Jun 2015 14:33:43 +0000"  >&lt;p&gt;Your patch didn&apos;t apply cleanly but I have looked at contentloader/src/test code from your &lt;a href=&quot;https://github.com/PetrShypila/sling-builder&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/PetrShypila/sling-builder&lt;/a&gt; repository. &lt;/p&gt;

&lt;p&gt;They look good in general but there&apos;s one code pattern that you used several times and might not be reliable, like this example:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        uninstallBundle(FIRST_SYMBOLIC);
        uninstallBundle(SECOND_SYMBOLIC);

        &lt;span class=&quot;code-comment&quot;&gt;//Since uninstall and overwrite parameters are not set, content should not be deleted
&lt;/span&gt;        assertTrue(&lt;span class=&quot;code-quote&quot;&gt;&quot;Property foo should not be deleted&quot;&lt;/span&gt;,
                session.getNode(testNodeName).getProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;).getString().equals(&lt;span class=&quot;code-quote&quot;&gt;&quot;bar&quot;&lt;/span&gt;));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Isn&apos;t the bundle uninstall processed asynchronously by the content loader code?&lt;/p&gt;

&lt;p&gt;If yes there&apos;s no guarantee that that processing is finished before the above assertTrue - you would either need a way to find out when the contentloader operation is done (which might need slight changes to its code, like sending an OSGi event that identifies the operation + bundle symbolic name), or retry until you see changes in the content that confirm the contentloader processing is done.&lt;/p&gt;

&lt;p&gt;If you have reasons to think that assertTrue in the above code happens at the right time I&apos;m happy to hear them, I don&apos;t know this module in all details. But otherwise this pattern needs to be changed, we can discuss on list how to best solve that.&lt;/p&gt;

&lt;p&gt;Thanks for your work so far, this is somewhat tricky to test!&lt;/p&gt;</comment>
                            <comment id="15766801" author="cziegeler" created="Wed, 21 Dec 2016 11:21:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=petr.shypila&quot; class=&quot;user-hover&quot; rel=&quot;petr.shypila&quot;&gt;petr.shypila&lt;/a&gt; What is the status here? &lt;/p&gt;</comment>
                            <comment id="15766824" author="petr.shypila" created="Wed, 21 Dec 2016 11:34:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, as far as I remember it was not completed. I worked on this project in scope of Google Summer of Code 2015. Unfortunately I do not remember all the details. &lt;/p&gt;</comment>
                            <comment id="15767231" author="bdelacretaz" created="Wed, 21 Dec 2016 14:50:21 +0000"  >&lt;p&gt;Yes I think we might close this as won&apos;t fix for now, in the meantime IIRC the content loader tests have been improved but maybe not up to the level that was envisioned here.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12458911">SLING-1437</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12740919" name="week-4-completed.patch" size="12691" author="petr.shypila" created="Sun, 21 Jun 2015 15:57:59 +0000"/>
                            <attachment id="12740820" name="week-4_first_part.patch" size="18226" author="petr.shypila" created="Sat, 20 Jun 2015 08:46:49 +0000"/>
                            <attachment id="12738272" name="week2-part1-pathentry.patch" size="6857" author="petr.shypila" created="Sun, 7 Jun 2015 20:21:09 +0000"/>
                            <attachment id="12738273" name="week2-part2-defaultcontentcreator.patch" size="15710" author="petr.shypila" created="Sun, 7 Jun 2015 20:21:09 +0000"/>
                            <attachment id="12738274" name="week2-part3-single-jcrmock-test.patch" size="2759" author="petr.shypila" created="Sun, 7 Jun 2015 20:21:09 +0000"/>
                            <attachment id="12739507" name="week3.patch" size="21434" author="petr.shypila" created="Sun, 14 Jun 2015 17:28:36 +0000"/>
                            <attachment id="12742424" name="week4-5.patch" size="749828" author="petr.shypila" created="Sun, 28 Jun 2015 21:14:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27a13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4540] Update sling distribution documentation to reflect latest changes</title>
                <link>https://issues.apache.org/jira/browse/SLING-4540</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="12785160">SLING-4540</key>
            <summary>Update sling distribution documentation to reflect latest changes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mpetria">Marius Petria</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Mar 2015 12:42:12 +0000</created>
                <updated>Tue, 7 Mar 2017 13:55:54 +0000</updated>
                            <resolved>Tue, 7 Mar 2017 13:55:54 +0000</resolved>
                                                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14377888" author="rombert" created="Tue, 24 Mar 2015 13:52:36 +0000"  >&lt;p&gt;Looks like most (all?) of the documentation is in the README.md file . We typically place it on the sling website, e.g. under &lt;a href=&quot;http://sling.apache.org/documentation/bundles.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/bundles.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14377906" author="mpetria" created="Tue, 24 Mar 2015 14:07:34 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, I will add a page there as well after our first release. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 32 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i279zr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4539] Provide a deterministic way of installing initial content</title>
                <link>https://issues.apache.org/jira/browse/SLING-4539</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Components depending on initial content from the same bundle cannot always be activated due to a race condition. Currently there isn&apos;t a determined order in which content and components from the same bundle get installed / activated.&lt;/p&gt;

&lt;p&gt;Content should be installed right after a bundle is marked as RESOLVED, given that node types, for example, are installed right after a bundle transitions to the INSTALLED state.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12785109">SLING-4539</key>
            <summary>Provide a deterministic way of installing initial content</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Mar 2015 09:02:14 +0000</created>
                <updated>Mon, 8 May 2017 07:56:19 +0000</updated>
                            <resolved>Tue, 24 Mar 2015 13:20:52 +0000</resolved>
                                    <version>JCR ContentLoader 2.1.10</version>
                                    <fixVersion>JCR ContentLoader 2.2.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14377826" author="radu.cotescu" created="Tue, 24 Mar 2015 13:20:52 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1668885&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1668885&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 32 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i279of:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4538] Content loaders cannot be ignored any more</title>
                <link>https://issues.apache.org/jira/browse/SLING-4538</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Changes proposed in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4223&quot; title=&quot;Make Content Loader extensible to support new import formats&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4223&quot;&gt;&lt;del&gt;SLING-4223&lt;/del&gt;&lt;/a&gt; don&apos;t allow content loaders to be ignored any more, which was a major feature of the &lt;tt&gt;org.apache.sling.jcr.contentloader&lt;/tt&gt; bundle. As an example, XML files cannot be currently imported as binary files using the Sling Initial Content mechanism, as they&apos;re treated as content descriptors.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12785105">SLING-4538</key>
            <summary>Content loaders cannot be ignored any more</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Mar 2015 08:56:18 +0000</created>
                <updated>Mon, 8 May 2017 07:56:18 +0000</updated>
                            <resolved>Tue, 24 Mar 2015 13:00:41 +0000</resolved>
                                                    <fixVersion>JCR ContentLoader 2.2.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14377550" author="olli" created="Tue, 24 Mar 2015 09:17:29 +0000"  >&lt;p&gt;This feature should still work. Did you try with Content Loader from trunk or my whiteboard?&lt;/p&gt;</comment>
                            <comment id="14377559" author="radu.cotescu" created="Tue, 24 Mar 2015 09:22:45 +0000"  >&lt;p&gt;I tried the trunk version. The culprit is here: &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/jcr/contentloader/src/main/java/org/apache/sling/jcr/contentloader/internal/BundleContentLoader.java#L409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/bundles/jcr/contentloader/src/main/java/org/apache/sling/jcr/contentloader/internal/BundleContentLoader.java#L409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The content reader is obtained based solely on path (now named entry), without taking into account the configuration, which might specify that some import providers should be ignored.&lt;/p&gt;</comment>
                            <comment id="14377748" author="tomek.rekawek" created="Tue, 24 Mar 2015 11:54:13 +0000"  >&lt;p&gt;I committed a patch in r1668853. Radu - could you confirm that it fixes the issue?&lt;/p&gt;</comment>
                            <comment id="14377771" author="radu.cotescu" created="Tue, 24 Mar 2015 12:20:52 +0000"  >&lt;p&gt;The patch you applied ignores files altogether now.&lt;/p&gt;

&lt;p&gt;Instead the &lt;tt&gt;org.apache.sling.jcr.contentloader.internal.BaseImportLoader#getContentReader&lt;/tt&gt; method should also check the &lt;tt&gt;PathEntry&lt;/tt&gt; configuration, where applicable.&lt;/p&gt;

&lt;p&gt;I&apos;ll propose a working patch in a few minutes. Also, it really would be useful if we&apos;d write some tests for this very sensible area...&lt;/p&gt;</comment>
                            <comment id="14377804" author="radu.cotescu" created="Tue, 24 Mar 2015 13:00:41 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1668869&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1668869&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 32 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i279nj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4537] Provide a backwards compatible API in o.a.s.jcr.contentloader</title>
                <link>https://issues.apache.org/jira/browse/SLING-4537</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Changes proposed in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3534&quot; title=&quot;separate node name and content type in content loader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3534&quot;&gt;&lt;del&gt;SLING-3534&lt;/del&gt;&lt;/a&gt; introduced a major API change which is not really needed. Instead we should increase the API version from 0.1 to 0.2 (instead of 1.0.0) in order to allow upgrades of the &lt;tt&gt;org.apache.sling.jcr.contentloader&lt;/tt&gt; bundle independent of upgrades of the &lt;tt&gt;org.apache.sling.servlets.post&lt;/tt&gt;:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.osgi.framework.BundleException: Unresolved constraint in bundle org.apache.sling.jcr.jackrabbit.usermanager [55]: Unable to resolve 55.0: missing requirement [55.0] osgi.wiring.package; (&amp;amp;(osgi.wiring.package=org.apache.sling.servlets.post)(version&amp;gt;=2.1.0)(!(version&amp;gt;=3.0.0))) [caused by: Unable to resolve 112.0: missing requirement [112.0] osgi.wiring.package; (&amp;amp;(osgi.wiring.package=org.apache.sling.jcr.contentloader)(version&amp;gt;=0.1.0)(!(version&amp;gt;=1.0.0)))]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12785104">SLING-4537</key>
            <summary>Provide a backwards compatible API in o.a.s.jcr.contentloader</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Mar 2015 08:54:23 +0000</created>
                <updated>Mon, 8 May 2017 07:56:18 +0000</updated>
                            <resolved>Tue, 24 Mar 2015 12:06:46 +0000</resolved>
                                                    <fixVersion>JCR ContentLoader 2.2.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14377555" author="olli" created="Tue, 24 Mar 2015 09:20:34 +0000"  >&lt;p&gt;increased API version due to changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4223&quot; title=&quot;Make Content Loader extensible to support new import formats&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4223&quot;&gt;&lt;del&gt;SLING-4223&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14377561" author="radu.cotescu" created="Tue, 24 Mar 2015 09:26:44 +0000"  >&lt;p&gt;Sure, but the API version increase was done in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3534&quot; title=&quot;separate node name and content type in content loader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3534&quot;&gt;&lt;del&gt;SLING-3534&lt;/del&gt;&lt;/a&gt;. Anyway, what I&apos;m proposing is that instead of jumping to 1.0.0 we just increase the API version to 0.2 - as long as the API is still backwards compatible I don&apos;t think that there&apos;s a need to increase the major version. WDYT?&lt;/p&gt;</comment>
                            <comment id="14377583" author="olli" created="Tue, 24 Mar 2015 09:47:47 +0000"  >&lt;p&gt;I&apos;m not happy with the current implementation in trunk and there are also still parts which should be cleaned up (in trunk and also in whiteboard). With the refactoring of Content Loader an increased API version is required (see baseline output).&lt;/p&gt;

&lt;p&gt;Servlets Post require only a minor internal change regarding import providers (&lt;tt&gt;public boolean isIgnoredImportProvider(String extension)&lt;/tt&gt; -&amp;gt; &lt;tt&gt;public Set&amp;lt;String&amp;gt; getIgnoreImportProviders()&lt;/tt&gt; in &lt;tt&gt;ImportOperation&lt;/tt&gt; line 190).&lt;/p&gt;

&lt;p&gt;I suggest rolling back to a version being more 2.1 than 2.2 in trunk and finishing refactoring of Content Loader in whiteboard before messing up further.&lt;/p&gt;

&lt;p&gt;I think we do have APIs which are not backwards compatible elsewhere and force depending bundles to update, but I would like to hear other opinions.&lt;/p&gt;</comment>
                            <comment id="14377590" author="radu.cotescu" created="Tue, 24 Mar 2015 09:55:22 +0000"  >&lt;p&gt;A revert of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4223&quot; title=&quot;Make Content Loader extensible to support new import formats&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4223&quot;&gt;&lt;del&gt;SLING-4223&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3534&quot; title=&quot;separate node name and content type in content loader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3534&quot;&gt;&lt;del&gt;SLING-3534&lt;/del&gt;&lt;/a&gt; would definitely ease my work for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4539&quot; title=&quot;Provide a deterministic way of installing initial content&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4539&quot;&gt;&lt;del&gt;SLING-4539&lt;/del&gt;&lt;/a&gt; (I need this fix ASAP and it would definitely help if I could work based on the 2.1 version). When the whiteboard changes are ready we could then merge them into trunk. Would this sound feasible to you?&lt;/p&gt;</comment>
                            <comment id="14377752" author="tomek.rekawek" created="Tue, 24 Mar 2015 11:59:49 +0000"  >&lt;p&gt;Indeed, the API increase to 1.0.0 seems a bit excessive. I downgraded the trunk package export to 0.2.0 in r1668854 and it&apos;s now compatible with the POST servlet bundle.&lt;/p&gt;</comment>
                            <comment id="14377765" author="tomek.rekawek" created="Tue, 24 Mar 2015 12:14:36 +0000"  >&lt;p&gt;Is there any other issue in the contentloader 2.1.11-SNAPSHOT that bothers you? I&apos;d like to avoid reverting the &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4223&quot; title=&quot;Make Content Loader extensible to support new import formats&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4223&quot;&gt;&lt;del&gt;SLING-4223&lt;/del&gt;&lt;/a&gt; as I already use the extensible content readers, but I can help fixing all found issues ASAP.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 32 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i279nb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4533] OakResourceListener does not allow to configure the OAK observation queue length</title>
                <link>https://issues.apache.org/jira/browse/SLING-4533</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently the OakResourceListener does not allow to configure the OAK observation queue length when instantiating the OAK BackgroundObserver.  Thus the default queue size of 1000 is used.&lt;/p&gt;

&lt;p&gt;If the max queue size is reached, OAK seem&apos;s to turn the observation in a &apos;graceful degratation&apos; mode, which leads to a compacted view of observations. Means, not every single observation makes it to the observer no more.  From the point of view of the Sling resource changed events, this looks like some events are missing.&lt;/p&gt;

&lt;p&gt;I would propose to make the OAK observation queue size configurable in order to have the possibility to avoid &apos;graceful degratation&apos;. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12784938">SLING-4533</key>
            <summary>OakResourceListener does not allow to configure the OAK observation queue length</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="pfaffm@adobe.com">Marc Pfaff</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Mar 2015 18:37:59 +0000</created>
                <updated>Wed, 8 Jul 2015 16:40:09 +0000</updated>
                            <resolved>Mon, 30 Mar 2015 14:37:03 +0000</resolved>
                                    <version>JCR Resource 2.5.0</version>
                                    <fixVersion>JCR Resource 2.5.2</fixVersion>
                                    <component>JCR</component>
                    <component>Oak</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14377563" author="bdelacretaz" created="Tue, 24 Mar 2015 09:27:40 +0000"  >&lt;p&gt;Am I correct that increasing the queue size will only move the threshold at which the problem occurs?&lt;/p&gt;

&lt;p&gt;Is there a loud warning from Oak when that threshold is hit? &lt;/p&gt;

&lt;p&gt;Configuration is good but IMO the most important is to expose the issue clearly, I don&apos;t know if that&apos;s currently the case.&lt;/p&gt;</comment>
                            <comment id="14379612" author="pfaffm@adobe.com" created="Wed, 25 Mar 2015 09:55:19 +0000"  >&lt;blockquote&gt;&lt;p&gt;Am I correct that increasing the queue size will only move the threshold at which the problem occurs?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I would say so, yes. I don&apos;t necessarily see increasing the queue size as the solution to the problem. But it&apos;s IMHO still useful to have this possibility for troubleshooting and as an additional option for tuning. Especially as the Oak default size is only 1000.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Is there a loud warning from Oak when that threshold is hit?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes and no. There is the following warning in the log:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;24.03.2015 12:22:03.977 *WARN* [qtp699308246-690] org.apache.jackrabbit.oak.jcr.observation.ChangeProcessor Revision queue is full. Further revisions will be compacted.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But that is coming from the Oak ChangeProcessor and AFAIK this one can have a different, as well configurable, queue size as per org.apache.jackrabbit.oak.jcr.repository.RepositoryImpl.  So I would say yes there is a warning, but IMO that only makes sense if both, the Oak ChangeProcessor and the Sling OakResourceListener use the same queue length value. &lt;/p&gt;



</comment>
                            <comment id="14379756" author="bdelacretaz" created="Wed, 25 Mar 2015 11:56:06 +0000"  >&lt;p&gt;Ok thanks for the info - having a reliable warning if events might be lost is essential IMO as those are very tricky things to troubleshoot. If you have ideas about how that can be implemented it would be good to create an Oak ticket.&lt;/p&gt;</comment>
                            <comment id="14379778" author="pfaffm@adobe.com" created="Wed, 25 Mar 2015 12:15:46 +0000"  >&lt;p&gt;Please find attached a patch proposal for adding a configurable queue length.&lt;/p&gt;</comment>
                            <comment id="14379979" author="pfaffm@adobe.com" created="Wed, 25 Mar 2015 14:40:23 +0000"  >&lt;blockquote&gt;&lt;p&gt;If you have ideas about how that can be implemented it would be good to create an Oak ticket.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I created &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-2680&quot; title=&quot;Report a full observation queue situation to the logfile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-2680&quot;&gt;&lt;del&gt;OAK-2680&lt;/del&gt;&lt;/a&gt; accordingly. &lt;/p&gt;</comment>
                            <comment id="14381694" author="pfaffm@adobe.com" created="Thu, 26 Mar 2015 10:50:35 +0000"  >&lt;p&gt;Adding an improved patch that includes improved logging in the OakResourceListener itself. &lt;/p&gt;</comment>
                            <comment id="14386769" author="cziegeler" created="Mon, 30 Mar 2015 14:37:03 +0000"  >&lt;p&gt;Thanks for your patch, Marc - it&apos;s applied&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12707483" name="SLING-4533-improved.patch" size="5456" author="pfaffm@adobe.com" created="Thu, 26 Mar 2015 10:50:35 +0000"/>
                            <attachment id="12707194" name="SLING-4533.patch" size="5074" author="pfaffm@adobe.com" created="Wed, 25 Mar 2015 12:15:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i278nj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4530] Add .mvn/jvm.config to reactor</title>
                <link>https://issues.apache.org/jira/browse/SLING-4530</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Maven 3.3.1 has added the possibility of storing the JVM configuration in a .mvn/jvm.config file ( see      &lt;a href=&quot;http://jira.codehaus.org/browse/MNG-5767&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;MNG-5767 - project-specific default jvm options and command line parameters&lt;/a&gt; ). Those flags will apply to all builds by default.&lt;/p&gt;

&lt;p&gt;We should add the flags specified in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-443&quot; title=&quot;OutOfMemory Error while building the jcr/jackrabbit-server bundle&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-443&quot;&gt;&lt;del&gt;SLING-443&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1782&quot; title=&quot;Build error: tests take a loooooooooong time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1782&quot;&gt;&lt;del&gt;SLING-1782&lt;/del&gt;&lt;/a&gt; to make sure that we have everyone building Sling with the required flags OOTB.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12784808">SLING-4530</key>
            <summary>Add .mvn/jvm.config to reactor</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Mar 2015 12:44:30 +0000</created>
                <updated>Thu, 30 Mar 2017 13:04:12 +0000</updated>
                            <resolved>Tue, 24 Mar 2015 08:21:41 +0000</resolved>
                                                                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14375886" author="rombert" created="Mon, 23 Mar 2015 13:25:49 +0000"  >&lt;p&gt;Created config in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1668633&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1668633&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14376668" author="olli" created="Mon, 23 Mar 2015 21:21:05 +0000"  >&lt;p&gt;Do we really want/need this? I now get &lt;tt&gt;Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=256m; support was removed in 8.0&lt;/tt&gt; and run Maven by default with &lt;tt&gt;MAVEN_OPTS=-Xms1G\ -Xmx4G&lt;/tt&gt; instead of &lt;tt&gt;-Xmx512m -XX:MaxPermSize=256m&lt;/tt&gt; from &lt;tt&gt;.mvn/jvm.config&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="14376691" author="rombert" created="Mon, 23 Mar 2015 21:33:07 +0000"  >&lt;p&gt;The point is to get consistency when building Sling. Does &lt;tt&gt;.mvn/jvm.config&lt;/tt&gt; override your MAVEN_OPTS?&lt;/p&gt;</comment>
                            <comment id="14377484" author="olli" created="Tue, 24 Mar 2015 08:19:58 +0000"  >&lt;p&gt;That makes sense. I couldn&apos;t find documentation for the behavior when &lt;tt&gt;.mvn/jvm.config&lt;/tt&gt; is used and running with &lt;tt&gt;-X&lt;/tt&gt; doesn&apos;t give any useful information either (&lt;a href=&quot;http://jira.codehaus.org/browse/MNG-5785&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.codehaus.org/browse/MNG-5785&lt;/a&gt;). But after running some builds it looks like these settings are &lt;em&gt;added&lt;/em&gt; and do not override the ones from &lt;tt&gt;MAVEN_OPTS&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="14377485" author="olli" created="Tue, 24 Mar 2015 08:21:41 +0000"  >&lt;p&gt;Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; for clarifying.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13060354">SLING-6756</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 32 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2782n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4525] XSS protection path mangling issue</title>
                <link>https://issues.apache.org/jira/browse/SLING-4525</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Last part in path gets prepended with an underscore if there is a colon in the query string. Test appended, to be applied on  &lt;a href=&quot;https://github.com/apache/sling/tree/196dea678c6010&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/tree/196dea678c6010&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test output:&lt;br/&gt;
Failed tests:&lt;br/&gt;
  XSSAPIImplTest.testGetValidHref:267 Requested &apos;/content/items/searchpages.html?0_tag:id=geo&apos; expected:&amp;lt;/content/items/&lt;span class=&quot;error&quot;&gt;&amp;#91;searchpages.html?0_tag%3a&amp;#93;&lt;/span&gt;id=geo&amp;gt; but was:&amp;lt;/content/items/&lt;span class=&quot;error&quot;&gt;&amp;#91;_searchpages.html?0_tag_&amp;#93;&lt;/span&gt;id=geo&amp;gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12783261">SLING-4525</key>
            <summary>XSS protection path mangling issue</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="georg.koester@gmail.com">Georg Koester</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Mar 2015 15:21:27 +0000</created>
                <updated>Fri, 12 Aug 2016 08:37:57 +0000</updated>
                            <resolved>Wed, 13 May 2015 13:19:10 +0000</resolved>
                                    <version>XSS Protection API 1.0.0</version>
                                    <fixVersion>XSS Protection API 1.0.4</fixVersion>
                                    <component>XSS Protection API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14386429" author="githubbot" created="Mon, 30 Mar 2015 09:14:28 +0000"  >&lt;p&gt;GitHub user vladbailescu opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/80&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/80&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4525&quot; title=&quot;XSS protection path mangling issue&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4525&quot;&gt;&lt;del&gt;SLING-4525&lt;/del&gt;&lt;/a&gt; - XSS protection path mangling issue&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Added proper encoding for colons in query string&lt;/li&gt;
	&lt;li&gt;Added testcases based on Georg Koester&apos;s patch&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/vladbailescu/sling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/vladbailescu/sling&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4525&quot; title=&quot;XSS protection path mangling issue&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4525&quot;&gt;&lt;del&gt;SLING-4525&lt;/del&gt;&lt;/a&gt;_xss_protection_colon&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/80.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/80.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #80&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 75a326cae99a54de76652e97076bdeba465e65df&lt;br/&gt;
Author: vladbailescu &amp;lt;bailescu@adobe.com&amp;gt;&lt;br/&gt;
Date:   2015-03-30T09:13:51Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4525&quot; title=&quot;XSS protection path mangling issue&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4525&quot;&gt;&lt;del&gt;SLING-4525&lt;/del&gt;&lt;/a&gt; - XSS protection path mangling issue&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Added proper encoding for colons in query string&lt;/li&gt;
	&lt;li&gt;Added testcases based on Georg Koester&apos;s patch&lt;/li&gt;
&lt;/ul&gt;


&lt;hr /&gt;</comment>
                            <comment id="14386431" author="vladb" created="Mon, 30 Mar 2015 09:15:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu.cotescu&quot; class=&quot;user-hover&quot; rel=&quot;radu.cotescu&quot;&gt;radu.cotescu&lt;/a&gt; Can you please check the fix in the PR? Thank you!&lt;/p&gt;</comment>
                            <comment id="14541897" author="githubbot" created="Wed, 13 May 2015 13:18:54 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/80&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/80&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14541898" author="radu.cotescu" created="Wed, 13 May 2015 13:19:10 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1679204&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1679204&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12705610" name="0001-Add-testcases-for-getValidHref-showing-problem-in-co.patch" size="2377" author="georg.koester@gmail.com" created="Thu, 19 Mar 2015 15:23:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 25 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26zf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4522] Sling Mocks: Contentloader fails for UTF8 encoded json files on Windows Systems</title>
                <link>https://issues.apache.org/jira/browse/SLING-4522</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Sling Mock package allows developers to load content from a json file using the ContentLoader. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ContentLoader.json(JSON_PATH, TARGET)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The actual loading is performed in ContentLoader.java:327 using &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;IOUtils.toString(inputStream);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As soon as you try to load a UTF-8 encoded JSON (as per default) on a windows platform, this fails due to encoding issues:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:title&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;English &#214;&quot;&lt;/span&gt;,
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;is loaded as&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;English [&#195;&#8211;]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As json is per definition UTF-8 encoded, I would suggest to set the encoding explicit by changing the line above to&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; IOUtils.toString(inputStream, &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12783204">SLING-4522</key>
            <summary>Sling Mocks: Contentloader fails for UTF8 encoded json files on Windows Systems</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="amuthmann">Alexander Muthmann</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Mar 2015 12:01:40 +0000</created>
                <updated>Fri, 22 May 2015 19:51:06 +0000</updated>
                            <resolved>Thu, 19 Mar 2015 12:15:25 +0000</resolved>
                                    <version>Testing Sling Mock 1.2.0</version>
                                    <fixVersion>Testing Sling Mock 1.3.0</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14368975" author="amuthmann" created="Thu, 19 Mar 2015 12:14:41 +0000"  >&lt;p&gt;This is a patch including a new test-case and the fixed toString call&lt;/p&gt;</comment>
                            <comment id="14368977" author="sseifert@pro-vision.de" created="Thu, 19 Mar 2015 12:15:25 +0000"  >&lt;p&gt;Completed: At revision: 1667720  &lt;/p&gt;

&lt;p&gt;added unit test and fixed in snapshot 1.2.1-SNAPSHOT, please validate&lt;/p&gt;</comment>
                            <comment id="14368981" author="amuthmann" created="Thu, 19 Mar 2015 12:18:55 +0000"  >&lt;p&gt;Sorry for the wrong test &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;

&lt;p&gt;Looks great, thank you!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12705578" name="SLING-4522.diff" size="1917" author="amuthmann" created="Thu, 19 Mar 2015 12:14:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26z2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4518] Exception when deleting a resource not managed by the root resource provider</title>
                <link>https://issues.apache.org/jira/browse/SLING-4518</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently, if we register a non-jcr resource provider, and then we try to delete content under that resource provider, we get an exception:&lt;/p&gt;


&lt;p&gt;org.apache.sling.api.resource.PersistenceException: Unable to delete resource at /foo/bar    Resource does not exist.&lt;br/&gt;
at org.apache.sling.jcr.resource.internal.helper.jcr.JcrResourceProvider.delete(JcrResourceProvider.java:613)&lt;br/&gt;
at org.apache.sling.resourceresolver.impl.tree.ResourceProviderEntry.delete(ResourceProviderEntry.java:471)&lt;br/&gt;
at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.delete(ResourceResolverImpl.java:1106)&lt;/p&gt;


&lt;p&gt;This is due to the changes of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3973&quot; title=&quot;ResourceProviderEntry Should Poll All Viable ModifyingResourceProviders During creation and deletion&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3973&quot;&gt;&lt;del&gt;SLING-3973&lt;/del&gt;&lt;/a&gt; - while the changes are necessary as otherwise the delete operation was not always working properly, we have to check whether a resource provider is actually providing such a resource before deleting it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12783151">SLING-4518</key>
            <summary>Exception when deleting a resource not managed by the root resource provider</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Mar 2015 07:41:06 +0000</created>
                <updated>Thu, 19 Mar 2015 07:42:42 +0000</updated>
                            <resolved>Thu, 19 Mar 2015 07:42:42 +0000</resolved>
                                    <version>Resource Resolver 1.2.2</version>
                                    <fixVersion>Resource Resolver 1.2.4</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14368661" author="cziegeler" created="Thu, 19 Mar 2015 07:42:42 +0000"  >&lt;p&gt;Fixed by adding a getResource before deleting&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26yqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4517] Update debian packaging to use crankstart.</title>
                <link>https://issues.apache.org/jira/browse/SLING-4517</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The current debian packaging is launchpad based. This is OK for simple getting started configurations, but falls short of an end-user customizable solution that allows full configurability within the bounds of a pre-packaged env.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12783079">SLING-4517</key>
            <summary>Update debian packaging to use crankstart.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bruceedge">Bruce Edge</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Mar 2015 00:14:51 +0000</created>
                <updated>Fri, 27 Mar 2015 13:18:02 +0000</updated>
                            <resolved>Thu, 26 Mar 2015 07:21:55 +0000</resolved>
                                    <version>Launchpad Builder 8</version>
                                                    <component>Crankstart</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14368200" author="bruceedge" created="Thu, 19 Mar 2015 00:15:56 +0000"  >&lt;p&gt;Currently working on this. Will have patch soon.&lt;/p&gt;</comment>
                            <comment id="14378905" author="bruceedge" created="Tue, 24 Mar 2015 23:19:44 +0000"  >&lt;p&gt;Patch switches debian packaging over to using crankstart and sling-s3 contrib projects.&lt;br/&gt;
Allows user to install a generic sling server, then edit one config file to select one of:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;tar files for nodes and data&lt;/li&gt;
	&lt;li&gt;tar files for nodes, s3 for data&lt;/li&gt;
	&lt;li&gt;mongo for nodes and data&lt;/li&gt;
	&lt;li&gt;mongo for nodes, s3 for data&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14378932" author="bruceedge" created="Tue, 24 Mar 2015 23:38:50 +0000"  >&lt;p&gt;Changed the artifact package name from sling-launchpad to sling-server to avoid colliding with other existing maven project names.&lt;/p&gt;

&lt;p&gt;Installation:&lt;br/&gt;
%&amp;gt; sudo dpkg -i sling-server_8~SNAPSHOT_all.deb&lt;br/&gt;
Selecting previously unselected package sling-server.&lt;br/&gt;
(Reading database ... 280095 files and directories currently installed.)&lt;br/&gt;
Preparing to unpack .../sling-server_8~SNAPSHOT_all.deb ...&lt;br/&gt;
Unpacking sling-server (8~SNAPSHOT) ...&lt;br/&gt;
Setting up sling-server (8~SNAPSHOT) ...&lt;br/&gt;
/var/lib/dpkg/info/sling-server.postinst configure&lt;br/&gt;
Fix type of /var/lib/sling&lt;br/&gt;
Update ownership of /opt/sling&lt;br/&gt;
Update ownership of /etc/sling&lt;br/&gt;
Fix type of /var/log/sling&lt;br/&gt;
 Adding system startup for /etc/init.d/sling ...&lt;br/&gt;
   /etc/rc0.d/K20sling -&amp;gt; ../init.d/sling&lt;br/&gt;
   /etc/rc1.d/K20sling -&amp;gt; ../init.d/sling&lt;br/&gt;
   /etc/rc6.d/K20sling -&amp;gt; ../init.d/sling&lt;br/&gt;
   /etc/rc2.d/S20sling -&amp;gt; ../init.d/sling&lt;br/&gt;
   /etc/rc3.d/S20sling -&amp;gt; ../init.d/sling&lt;br/&gt;
   /etc/rc4.d/S20sling -&amp;gt; ../init.d/sling&lt;br/&gt;
   /etc/rc5.d/S20sling -&amp;gt; ../init.d/sling&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;is not running&lt;br/&gt;
Processing triggers for ureadahead (0.100.0-16) ...&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Start in local config:&lt;br/&gt;
%&amp;gt;sudo service sling start&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Starting sling serices&lt;br/&gt;
/opt/sling/scripts/generate_crankfile.sh &amp;gt; target/crank.txt&lt;/li&gt;
	&lt;li&gt;is running&lt;br/&gt;
   ...done.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Start in s3 mode:&lt;br/&gt;
%&amp;gt;sudo service sling start&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Starting sling serices&lt;br/&gt;
/opt/sling/scripts/generate_crankfile.sh s3 &amp;gt; target/crank-s3.txt&lt;/li&gt;
	&lt;li&gt;is running&lt;br/&gt;
   ...done.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thanks Tomasz for all the help. &lt;/p&gt;</comment>
                            <comment id="14379274" author="bruceedge" created="Wed, 25 Mar 2015 04:34:58 +0000"  >&lt;p&gt;Can resolve when merged.&lt;/p&gt;</comment>
                            <comment id="14379542" author="rombert" created="Wed, 25 Mar 2015 09:21:47 +0000"  >&lt;p&gt;Reopening, we only resolve when the code is actually comitted&lt;/p&gt;</comment>
                            <comment id="14380317" author="bruceedge" created="Wed, 25 Mar 2015 17:35:18 +0000"  >&lt;p&gt;OK, thanks.&lt;/p&gt;

&lt;p&gt;Ignore the patch, will resubmit as a pull request.&lt;/p&gt;</comment>
                            <comment id="14380337" author="githubbot" created="Wed, 25 Mar 2015 17:45:57 +0000"  >&lt;p&gt;GitHub user bedge opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/78&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/78&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4517&quot; title=&quot;Update debian packaging to use crankstart.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4517&quot;&gt;&lt;del&gt;SLING-4517&lt;/del&gt;&lt;/a&gt; Update debian packaging to use crankstart.&lt;/p&gt;

&lt;p&gt;    Patch switches debian packaging over to using crankstart and sling-s3 contrib projects.&lt;br/&gt;
    Allows user to install a generic sling server, then edit one config file to select one of:&lt;br/&gt;
    	tar files for nodes and data&lt;br/&gt;
    	tar files for nodes, s3 for data&lt;br/&gt;
    	mongo for nodes and data&lt;br/&gt;
    	mongo for nodes, s3 for data&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/bedge/sling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/bedge/sling&lt;/a&gt; trunk&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/78.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/78.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #78&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 61d7108326705c70b9838f27fc30490091bf6ae7&lt;br/&gt;
Author: Bruce Edge &amp;lt;bruce.edge@nextissuemedia.com&amp;gt;&lt;br/&gt;
Date:   2015-03-25T17:43:40Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4517&quot; title=&quot;Update debian packaging to use crankstart.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4517&quot;&gt;&lt;del&gt;SLING-4517&lt;/del&gt;&lt;/a&gt; Update debian packaging to use crankstart.&lt;/p&gt;

&lt;p&gt;    Patch switches debian packaging over to using crankstart and sling-s3 contrib projects.&lt;br/&gt;
    Allows user to install a generic sling server, then edit one config file to select one of:&lt;br/&gt;
    	tar files for nodes and data&lt;br/&gt;
    	tar files for nodes, s3 for data&lt;br/&gt;
    	mongo for nodes and data&lt;br/&gt;
    	mongo for nodes, s3 for data&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14381496" author="tomek.rekawek" created="Thu, 26 Mar 2015 07:21:48 +0000"  >&lt;p&gt;Merged in r1669279. Thanks for your contribution!&lt;/p&gt;</comment>
                            <comment id="14381601" author="rombert" created="Thu, 26 Mar 2015 09:10:30 +0000"  >&lt;p&gt;The jenkins builds have started failing after this change:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;rm -f crank.d/*-sling-startlevel-*.txt
./scripts/bundles.rb
/usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require&apos;: cannot load such file -- nokogiri (LoadError)
        from /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require&apos;
        from ./scripts/bundles.rb:4:in `&amp;lt;main&amp;gt;&apos;
make: *** [update-bundles] Error 1
[JENKINS] Archiving disabled&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;What is the list of gems needed for the packaging? I will file an INFRA ticket and ask for them to be installed&lt;/p&gt;</comment>
                            <comment id="14381613" author="tomek.rekawek" created="Thu, 26 Mar 2015 09:22:59 +0000"  >&lt;p&gt;Ouch. I think &lt;tt&gt;nokogiri&lt;/tt&gt; is the only gem not available in the standard library. Thanks.&lt;/p&gt;

&lt;p&gt;I temporarily disable the debian module in the parent contrib/pom.xml until the jenkins machine gets necessary update.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12707056" name="sling-patch.diff" size="30774" author="bruceedge" created="Tue, 24 Mar 2015 23:19:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26yb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4515] Insufficient cleanup of the JavaScript execution engine leads to runtime errors</title>
                <link>https://issues.apache.org/jira/browse/SLING-4515</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Insufficient cleanup of the JavaScript execution engine leads to runtime errors if the &lt;tt&gt;org.apache.sling.scripting.sightly.js.provider&lt;/tt&gt; bundle is restarted a couple of times. This is caused by not calling the &lt;tt&gt;org.apache.sling.scripting.sightly.js.impl.JsEnvironment#cleanup&lt;/tt&gt; method before finishing the execution of &lt;tt&gt;org.apache.sling.scripting.sightly.js.impl.JsUseProvider#provide&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12782924">SLING-4515</key>
            <summary>Insufficient cleanup of the JavaScript execution engine leads to runtime errors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Mar 2015 16:32:41 +0000</created>
                <updated>Mon, 30 Mar 2015 12:20:57 +0000</updated>
                            <resolved>Fri, 20 Mar 2015 09:56:01 +0000</resolved>
                                                    <fixVersion>Scripting Sightly JS Use Provider 1.0.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14367431" author="radu.cotescu" created="Wed, 18 Mar 2015 16:42:34 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1667586&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1667586&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26xdr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4511] Enable the rat profile by default</title>
                <link>https://issues.apache.org/jira/browse/SLING-4511</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;To make sure the all modules are OK from a legal POV we should enable the rat profile by default.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12782499">SLING-4511</key>
            <summary>Enable the rat profile by default</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Mar 2015 08:46:50 +0000</created>
                <updated>Thu, 25 Jun 2015 12:22:54 +0000</updated>
                            <resolved>Thu, 19 Mar 2015 12:43:58 +0000</resolved>
                                    <version>Parent 22</version>
                                    <fixVersion>Parent 23</fixVersion>
                                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14369273" author="rombert" created="Thu, 19 Mar 2015 12:43:58 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1667729&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1667729&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12784974">SLING-4534</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12784987">SLING-4536</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26utj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4510] Sling LogService could provide more usable output</title>
                <link>https://issues.apache.org/jira/browse/SLING-4510</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Sling Log Service generates log messages when services change. However the information in those log messages could be improved. For example the following is a typical log message:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;some.bsn Service [4242] ServiceEvent REGISTERED&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It would be good to expand the log message to include the service&apos;s ObjectClass so that you know which service is actually being registered.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12782301">SLING-4510</key>
            <summary>Sling LogService could provide more usable output</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="bosschaert">David Bosschaert</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Mar 2015 17:56:51 +0000</created>
                <updated>Tue, 7 Apr 2015 06:17:25 +0000</updated>
                            <resolved>Mon, 30 Mar 2015 11:12:05 +0000</resolved>
                                    <version>Commons Log Service 1.0.2</version>
                                    <fixVersion>Commons Log Service 1.0.4</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14363601" author="bosschaert" created="Mon, 16 Mar 2015 17:57:20 +0000"  >&lt;p&gt;I&apos;ll work on a little patch to provide the functionality desired.&lt;/p&gt;</comment>
                            <comment id="14363998" author="bosschaert" created="Mon, 16 Mar 2015 21:34:01 +0000"  >&lt;p&gt;The attached patch changes the output for service log messages to include the ObjectClass property value (which is of type &lt;tt&gt;String[]&lt;/tt&gt; and always set). For example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;some.bsn Service [4242, [com.acme.ServiceInterfaceName]] ServiceEvent REGISTERED
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I also noticed that there was some string manipulation code in the &lt;tt&gt;serviceChanged()&lt;/tt&gt; and &lt;tt&gt;frameworkEvent()&lt;/tt&gt; that initialized a &lt;tt&gt;String s&lt;/tt&gt; variable with a message which was then never used. I removed this code which was adding unnecessary processing to these log methods.&lt;/p&gt;

&lt;p&gt;Finally I added an &apos;early exit&apos; mechanism to the &lt;tt&gt;logOut()&lt;/tt&gt; method to avoid constructing a log message if it wasn&apos;t going to be logged in the first place. &lt;/p&gt;

&lt;p&gt;I also added unit tests for the new code that I added here.&lt;/p&gt;</comment>
                            <comment id="14386563" author="cziegeler" created="Mon, 30 Mar 2015 11:12:05 +0000"  >&lt;p&gt;Thanks for your patch, David. It&apos;s applied&lt;br/&gt;
In addition I changed from StringBuffer to StringBuilder&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12704883" name="SLING-4510.diff" size="10748" author="bosschaert" created="Mon, 16 Mar 2015 21:34:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26tmn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4509] Job creation fails if combination of topic and name is too long on OAK</title>
                <link>https://issues.apache.org/jira/browse/SLING-4509</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;OAK presents limits to the length of node names, intermediate path names, and total path length (at least on MongoMK).  &lt;/p&gt;

&lt;p&gt;Job creation can fail if the combination of the topic length and job name are too long.  The node name used for Jobs should probably be reduced in size by some means so this no longer can occur, or likely wouldn&apos;t occur.&lt;/p&gt;

&lt;p&gt;see also &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-2636&quot; title=&quot;Issues with Maximum node name size and path size&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-2636&quot;&gt;&lt;del&gt;OAK-2636&lt;/del&gt;&lt;/a&gt; &lt;/p&gt;</description>
                <environment></environment>
        <key id="12782257">SLING-4509</key>
            <summary>Job creation fails if combination of topic and name is too long on OAK</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="wmcgaule">Will McGauley</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Mar 2015 16:28:28 +0000</created>
                <updated>Tue, 7 Apr 2015 06:23:10 +0000</updated>
                            <resolved>Mon, 16 Mar 2015 18:01:13 +0000</resolved>
                                    <version>Event 3.5.4</version>
                                    <fixVersion>Event 3.6.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14363610" author="cziegeler" created="Mon, 16 Mar 2015 18:01:13 +0000"  >&lt;p&gt;Fixed in rev 1667091 by not adding the topic to the node name&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12782256">OAK-2636</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 33 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26tcv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4506] Java APIs not consistently available in JavaScript</title>
                <link>https://issues.apache.org/jira/browse/SLING-4506</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Some Use API methods are not consistent between the Java and the JavaScript implementations.&lt;/p&gt;

&lt;p&gt;The &lt;tt&gt;${resource.getName&lt;/tt&gt;} expression works in Sightly but &lt;tt&gt;resource.getName()&lt;/tt&gt; throws an error in JavaScript Use objects:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.mozilla.javascript.EcmaError: TypeError: Cannot find function getName
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12782189">SLING-4506</key>
            <summary>Java APIs not consistently available in JavaScript</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Mar 2015 12:44:20 +0000</created>
                <updated>Mon, 30 Mar 2015 12:20:57 +0000</updated>
                            <resolved>Mon, 16 Mar 2015 13:10:17 +0000</resolved>
                                                    <fixVersion>Scripting Sightly JS Use Provider 1.0.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14363170" author="radu.cotescu" created="Mon, 16 Mar 2015 13:10:17 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1666983&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1666983&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 33 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26szb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4504] SlingPostServlet documentation spelling errors and misaligned list</title>
                <link>https://issues.apache.org/jira/browse/SLING-4504</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;http://sling.apache.org/documentation/bundles/manipulating-content-the-slingpostservlet-servlets-post.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/bundles/manipulating-content-the-slingpostservlet-servlets-post.html&lt;/a&gt; contains multiple spelling errors and response format example list is not formatted as a list.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12782008">SLING-4504</key>
            <summary>SlingPostServlet documentation spelling errors and misaligned list</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="nateyolles">Nate Yolles</reporter>
                        <labels>
                    </labels>
                <created>Sat, 14 Mar 2015 15:19:01 +0000</created>
                <updated>Sun, 15 Mar 2015 20:49:38 +0000</updated>
                            <resolved>Sun, 15 Mar 2015 20:49:19 +0000</resolved>
                                                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14361838" author="nateyolles" created="Sat, 14 Mar 2015 15:20:09 +0000"  >&lt;p&gt;SVN patch correcting errors&lt;/p&gt;</comment>
                            <comment id="14362549" author="rombert" created="Sun, 15 Mar 2015 20:49:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nateyolles&quot; class=&quot;user-hover&quot; rel=&quot;nateyolles&quot;&gt;nateyolles&lt;/a&gt; - thanks for your patch! I have applied it in r1666841 .&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12704596" name="manipulating-content-the-slingpostservlet-servlets-post.patch" size="16686" author="nateyolles" created="Sat, 14 Mar 2015 15:20:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 33 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26rv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4500] using Sling mocks throws NullPointerException when checking the resourceType of the root node</title>
                <link>https://issues.apache.org/jira/browse/SLING-4500</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;  when using the Mocked ResourceResolver  (org.apache.sling.testing.resourceresolver.MockResourceResolver), the root node does not have a primary type, this causes that something like &lt;br/&gt;
 Resource root= resourceResolver.getResource(&quot;/&quot;);&lt;br/&gt;
      root.isResourceType(&quot;app/resourceType&quot;);&lt;/p&gt;

&lt;p&gt;will throw a NPE, since the node does not have either resourceType or primary type.&lt;/p&gt;

&lt;p&gt;Instead, the root node should have a primary type.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12781833">SLING-4500</key>
            <summary>using Sling mocks throws NullPointerException when checking the resourceType of the root node</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="santiagozky">Santiago Garc&#237;a Pimentel</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Mar 2015 15:29:40 +0000</created>
                <updated>Fri, 22 May 2015 19:51:06 +0000</updated>
                            <resolved>Mon, 30 Mar 2015 09:23:16 +0000</resolved>
                                    <version>Testing ResourceResolver Mock 1.1.4</version>
                                    <fixVersion>Testing ResourceResolver Mock 1.1.6</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14360510" author="githubbot" created="Fri, 13 Mar 2015 15:29:58 +0000"  >&lt;p&gt;GitHub user santiagozky opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/72&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/72&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4500&quot; title=&quot;using Sling mocks throws NullPointerException when checking the resourceType of the root node&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4500&quot;&gt;&lt;del&gt;SLING-4500&lt;/del&gt;&lt;/a&gt;: make sure that root has a primary type&lt;/p&gt;

&lt;p&gt;    when using the mock resource resolver, the root node does not have a primary type. this causes issues on some cases, for example:&lt;br/&gt;
     Resource root= resourceResolver.getResource(&quot;/&quot;);&lt;br/&gt;
            assertFalse(root.isResourceType(&quot;app/resourceType&quot;));&lt;/p&gt;

&lt;p&gt;    will throw a null pointer exception.&lt;br/&gt;
    I&apos;ve added jcr:root as the primary type of the root node and a test case for this.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/santiagozky/sling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/santiagozky/sling&lt;/a&gt; bug/root-primary-type&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/72.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/72.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #72&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 5eb786449c4389c8ad3d96ea0566443e7acc926c&lt;br/&gt;
Author: santiago garcia pimentel &amp;lt;santiago.pimentel@netcentric.biz&amp;gt;&lt;br/&gt;
Date:   2015-03-13T15:21:59Z&lt;/p&gt;

&lt;p&gt;    make sure that root has a primary type&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14386442" author="githubbot" created="Mon, 30 Mar 2015 09:22:28 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/72&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/72&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14386443" author="rombert" created="Mon, 30 Mar 2015 09:23:16 +0000"  >&lt;p&gt;Patch applied in &lt;a href=&quot;https://svn.apache.org/r1670023&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1670023&lt;/a&gt; , thank you for the contribution!&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Edit&lt;/em&gt;: typo&lt;/p&gt;</comment>
                            <comment id="14386535" author="santiagozky" created="Mon, 30 Mar 2015 10:53:18 +0000"  >&lt;p&gt;thank you!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26qt3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4499] Sightly: Parsing errors should not show up in console/stdout</title>
                <link>https://issues.apache.org/jira/browse/SLING-4499</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;At the moment if Sightly encounters a parsing error (for input like &lt;tt&gt;${a-b&lt;/tt&gt;}) it will output a line in the console/&lt;tt&gt;stdout&lt;/tt&gt;: &lt;tt&gt;line 1:4 token recognition error at: &apos;-&apos;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;This should not happen&lt;/p&gt;</description>
                <environment></environment>
        <key id="12781817">SLING-4499</key>
            <summary>Sightly: Parsing errors should not show up in console/stdout</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="vladb">Vlad Bailescu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Mar 2015 14:14:55 +0000</created>
                <updated>Mon, 30 Mar 2015 12:19:26 +0000</updated>
                            <resolved>Mon, 16 Mar 2015 10:12:42 +0000</resolved>
                                    <version>Scripting Sightly Engine 1.0.0</version>
                                    <fixVersion>Scripting Sightly Engine 1.0.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14360419" author="githubbot" created="Fri, 13 Mar 2015 14:35:35 +0000"  >&lt;p&gt;GitHub user vladbailescu opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/71&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/71&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4499&quot; title=&quot;Sightly: Parsing errors should not show up in console/stdout&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4499&quot;&gt;&lt;del&gt;SLING-4499&lt;/del&gt;&lt;/a&gt; - Sightly: Parsing errors should not show up in console/stdout&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Added custom error listener to the Lexer as well, as per Sam Harwell&apos;s suggestion: &lt;a href=&quot;http://stackoverflow.com/a/18137301/831507&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/a/18137301/831507&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Updated the error listener to also accept Lexer recognizers.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/vladbailescu/sling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/vladbailescu/sling&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4499&quot; title=&quot;Sightly: Parsing errors should not show up in console/stdout&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4499&quot;&gt;&lt;del&gt;SLING-4499&lt;/del&gt;&lt;/a&gt;_sightly_parsing_errors&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/71.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/71.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #71&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 93636dbd58935c903920e5e18876bf61184ce8a6&lt;br/&gt;
Author: vladbailescu &amp;lt;bailescu@adobe.com&amp;gt;&lt;br/&gt;
Date:   2015-03-13T14:34:16Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4499&quot; title=&quot;Sightly: Parsing errors should not show up in console/stdout&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4499&quot;&gt;&lt;del&gt;SLING-4499&lt;/del&gt;&lt;/a&gt; - Sightly: Parsing errors should not show up in console/stdout&lt;/p&gt;

&lt;p&gt;    Added custom error listener to the Lexer as well, as per Sam Harwell&apos;s suggestion: &lt;a href=&quot;http://stackoverflow.com/a/18137301/831507&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/a/18137301/831507&lt;/a&gt;&lt;br/&gt;
    Updated the error listener to also accept Lexer recognizers.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14360421" author="vladb" created="Fri, 13 Mar 2015 14:38:22 +0000"  >&lt;p&gt;Submitted patch, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu.cotescu&quot; class=&quot;user-hover&quot; rel=&quot;radu.cotescu&quot;&gt;radu.cotescu&lt;/a&gt; can you please help integrate it? Thank you!&lt;/p&gt;</comment>
                            <comment id="14363012" author="githubbot" created="Mon, 16 Mar 2015 10:08:07 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/71&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/71&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14363016" author="radu.cotescu" created="Mon, 16 Mar 2015 10:12:42 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1666945&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1666945&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 33 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26qpj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4498] Prevent resourceresolver finalizer to close when there are unexpected exceptions</title>
                <link>https://issues.apache.org/jira/browse/SLING-4498</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4372&quot; title=&quot;The use of finalize in ResourceResolver leads to performance issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4372&quot;&gt;&lt;del&gt;SLING-4372&lt;/del&gt;&lt;/a&gt; introduced a custom finalizer for ResourceResolvers. However in case of an exception like the  following, the finalizer thread will exit. The finalizer thread should probably catch all Throwables.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;12.03.2015 13:48:58.904 *ERROR* [Apache Sling Resource Resolver Finalizer &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;] org.apache.sling.extensions.threaddump.internal.Activator Uncaught exception in &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;[Apache Sling Resource Resolver Finalizer &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;,5,main]
java.lang.IllegalStateException: Invalid BundleContext.
	at org.apache.felix.framework.BundleContextImpl.checkValidity(BundleContextImpl.java:511)
	at org.apache.felix.framework.BundleContextImpl.ungetService(BundleContextImpl.java:475)
	at org.apache.sling.jcr.resource.internal.helper.jcr.RepositoryHolder.release(RepositoryHolder.java:53)
	at org.apache.sling.jcr.resource.internal.helper.jcr.JcrResourceProvider.close(JcrResourceProvider.java:246)
	at org.apache.sling.resourceresolver.impl.helper.ResourceResolverContext.close(ResourceResolverContext.java:145)
	at org.apache.sling.resourceresolver.impl.CommonResourceResolverFactoryImpl$ResolverWeakReference.close(CommonResourceResolverFactoryImpl.java:403)
	at org.apache.sling.resourceresolver.impl.CommonResourceResolverFactoryImpl$1.run(CommonResourceResolverFactoryImpl.java:94)


&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12781503">SLING-4498</key>
            <summary>Prevent resourceresolver finalizer to close when there are unexpected exceptions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mpetria">Marius Petria</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Mar 2015 13:39:44 +0000</created>
                <updated>Thu, 12 Mar 2015 13:42:13 +0000</updated>
                            <resolved>Thu, 12 Mar 2015 13:42:13 +0000</resolved>
                                    <version>Resource Resolver 1.1.14</version>
                                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12781500">SLING-4497</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26otj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4497] Memory thread might be terminated by already unregistered bundles/services</title>
                <link>https://issues.apache.org/jira/browse/SLING-4497</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The memory thread in the common resource resolver factory calls close on the resource context which in turn tries to close all providers and the used type resource resolver. &lt;br/&gt;
If an exception occurs during this, like it might happen on bundle stop (see below), the memory thread dies which in turn might lead to a memory issue.&lt;br/&gt;
java.lang.IllegalStateException: Invalid BundleContext.&lt;/p&gt;

&lt;p&gt;	at org.apache.felix.framework.BundleContextImpl.checkValidity(BundleContextImpl.java:511)&lt;/p&gt;

&lt;p&gt;	at org.apache.felix.framework.BundleContextImpl.ungetService(BundleContextImpl.java:475)&lt;/p&gt;

&lt;p&gt;	at org.apache.sling.jcr.resource.internal.helper.jcr.RepositoryHolder.release(RepositoryHolder.java:53)&lt;/p&gt;

&lt;p&gt;	at org.apache.sling.jcr.resource.internal.helper.jcr.JcrResourceProvider.close(JcrResourceProvider.java:246)&lt;/p&gt;

&lt;p&gt;	at org.apache.sling.resourceresolver.impl.helper.ResourceResolverContext.close(ResourceResolverContext.java:145)&lt;/p&gt;

&lt;p&gt;	at org.apache.sling.resourceresolver.impl.CommonResourceResolverFactoryImpl$ResolverWeakReference.close(CommonResourceResolverFactoryImpl.java:403)&lt;/p&gt;

&lt;p&gt;	at org.apache.sling.resourceresolver.impl.CommonResourceResolverFactoryImpl$1.run(CommonResourceResolverFactoryImpl.java:94)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12781500">SLING-4497</key>
            <summary>Memory thread might be terminated by already unregistered bundles/services</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Mar 2015 13:34:37 +0000</created>
                <updated>Mon, 16 Mar 2015 15:50:13 +0000</updated>
                            <resolved>Thu, 12 Mar 2015 13:35:37 +0000</resolved>
                                    <version>Resource Resolver 1.2.0</version>
                                    <fixVersion>Resource Resolver 1.2.2</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14358664" author="cziegeler" created="Thu, 12 Mar 2015 13:35:37 +0000"  >&lt;p&gt;Solved by adding extra try/catch blocks ignoring exceptions from those places&lt;/p&gt;</comment>
                            <comment id="14358683" author="mpetria" created="Thu, 12 Mar 2015 13:48:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, wouldn&apos;t it be better to actually put a catch Throwable in the finalizer thread. That makes it clear the thread should not die, and it is better suited for future modifications.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling/blob/e57ebcd430675d39fead9ee39b1fc2ab3378ebc3/bundles/resourceresolver/src/main/java/org/apache/sling/resourceresolver/impl/CommonResourceResolverFactoryImpl.java#L96&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/e57ebcd430675d39fead9ee39b1fc2ab3378ebc3/bundles/resourceresolver/src/main/java/org/apache/sling/resourceresolver/impl/CommonResourceResolverFactoryImpl.java#L96&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14358689" author="cziegeler" created="Thu, 12 Mar 2015 13:53:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mpetria&quot; class=&quot;user-hover&quot; rel=&quot;mpetria&quot;&gt;mpetria&lt;/a&gt; Yes and no &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; The close() method should try to close everything that is possible, therefore catching there already makes sense.&lt;br/&gt;
But I&apos;ll add a catch to the thread as well&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12781503">SLING-4498</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26osv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4492] Prevent configuring the ESAPI policies through random content files</title>
                <link>https://issues.apache.org/jira/browse/SLING-4492</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently the default ESAPI policies are configured through a file from the repository - &lt;tt&gt;/libs/sling/xss/config.xml&lt;/tt&gt;. However, the proposed &lt;tt&gt;XSSFilter&lt;/tt&gt; API allows filtering using random policy files. The configuration should be performed only through the &lt;tt&gt;/libs/sling/xss/config.xml&lt;/tt&gt; file, or through an &lt;tt&gt;/apps&lt;/tt&gt; overlay.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12780900">SLING-4492</key>
            <summary>Prevent configuring the ESAPI policies through random content files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Mar 2015 16:00:26 +0000</created>
                <updated>Fri, 12 Aug 2016 08:37:56 +0000</updated>
                            <resolved>Thu, 12 Mar 2015 14:10:32 +0000</resolved>
                                                    <fixVersion>XSS Protection API 1.0.0</fixVersion>
                                    <component>XSS Protection API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14357175" author="radu.cotescu" created="Wed, 11 Mar 2015 16:53:12 +0000"  >&lt;p&gt;I pushed a potential fix in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1665939&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1665939&lt;/a&gt;. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fmeschbe&quot; class=&quot;user-hover&quot; rel=&quot;fmeschbe&quot;&gt;fmeschbe&lt;/a&gt;, could you please review the commit? If the solution looks good to you I think we can mark this issue as fixed.&lt;/p&gt;</comment>
                            <comment id="14358642" author="fmeschbe" created="Thu, 12 Mar 2015 13:21:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu.cotescu&quot; class=&quot;user-hover&quot; rel=&quot;radu.cotescu&quot;&gt;radu.cotescu&lt;/a&gt; Looks good to me (LongValidationRule makes sense but looks having sneaked in &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; )&lt;/p&gt;</comment>
                            <comment id="14358663" author="radu.cotescu" created="Thu, 12 Mar 2015 13:35:33 +0000"  >&lt;p&gt;Yeah, I decided to add that minor change here as well... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14371071" author="radu.cotescu" created="Fri, 20 Mar 2015 09:59:47 +0000"  >&lt;p&gt;Closing issues fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4492?jql=fixVersion%20%3D%20%22XSS%20Protection%20API%201.0.0%22%20AND%20project%20%3D%20SLING&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;XSS Protection API 1.0.0&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 32 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26l67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4489] Sightly: Hyphenated identifiers cause a compilation exception in Sightly generated Java classes</title>
                <link>https://issues.apache.org/jira/browse/SLING-4489</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Using hyphenated identifiers leads to a compilation exception at runtime:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-html&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;template data-sly-template.bad-template=&lt;span class=&quot;code-quote&quot;&gt;&quot;${ @ }&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Test&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/template&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The Sightly grammar does not allow hyphenated identifier so a proper parsing exception should be thrown instead.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12780863">SLING-4489</key>
            <summary>Sightly: Hyphenated identifiers cause a compilation exception in Sightly generated Java classes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="vladb">Vlad Bailescu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Mar 2015 14:20:48 +0000</created>
                <updated>Mon, 30 Mar 2015 12:19:35 +0000</updated>
                            <resolved>Thu, 12 Mar 2015 14:10:01 +0000</resolved>
                                    <version>Scripting Sightly Engine 1.0.0</version>
                                    <fixVersion>Scripting Sightly Engine 1.0.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14354958" author="githubbot" created="Tue, 10 Mar 2015 14:26:27 +0000"  >&lt;p&gt;GitHub user vladbailescu opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/68&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/68&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4489&quot; title=&quot;Sightly: Hyphenated identifiers cause a compilation exception in Sightly generated Java classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4489&quot;&gt;&lt;del&gt;SLING-4489&lt;/del&gt;&lt;/a&gt; - Sightly: Hyphenated identifiers cause a compilation exception in Sightly generated Java classes&lt;/p&gt;

&lt;p&gt;    Added hyphen checks and parsing exception throwing.&lt;br/&gt;
    Added integration tests.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/vladbailescu/sling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/vladbailescu/sling&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4489&quot; title=&quot;Sightly: Hyphenated identifiers cause a compilation exception in Sightly generated Java classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4489&quot;&gt;&lt;del&gt;SLING-4489&lt;/del&gt;&lt;/a&gt;-Sightly-Hyphenated-identifiers&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/68.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/68.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #68&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 2786d22c3263c58990dc71aa486e90457eb8065e&lt;br/&gt;
Author: vladbailescu &amp;lt;bailescu@adobe.com&amp;gt;&lt;br/&gt;
Date:   2015-03-10T14:24:33Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4489&quot; title=&quot;Sightly: Hyphenated identifiers cause a compilation exception in Sightly generated Java classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4489&quot;&gt;&lt;del&gt;SLING-4489&lt;/del&gt;&lt;/a&gt; - Sightly: Hyphenated identifiers cause a compilation exception in Sightly generated Java classes&lt;/p&gt;

&lt;p&gt;    Added hyphen checks and parsing exception throwing.&lt;br/&gt;
    Added integration tests.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14358702" author="githubbot" created="Thu, 12 Mar 2015 14:04:48 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/68&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/68&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14358706" author="radu.cotescu" created="Thu, 12 Mar 2015 14:10:01 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1666197&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1666197&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26kxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4487] Potential NPE in TimedEventSender</title>
                <link>https://issues.apache.org/jira/browse/SLING-4487</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When the background thread processes a resource added event, the resource might already be gone again, which results in an NPE and the background thread dies.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12780784">SLING-4487</key>
            <summary>Potential NPE in TimedEventSender</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Mar 2015 10:30:47 +0000</created>
                <updated>Tue, 7 Apr 2015 06:22:58 +0000</updated>
                            <resolved>Tue, 10 Mar 2015 10:32:37 +0000</resolved>
                                    <version>Event 3.5.0</version>
                    <version>Event 3.5.2</version>
                    <version>Event 3.5.4</version>
                                    <fixVersion>Event 3.6.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14354643" author="cziegeler" created="Tue, 10 Mar 2015 10:32:37 +0000"  >&lt;p&gt;Added extra null check&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 34 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26kgn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4486] Potential NPE when service is deactivate immediately</title>
                <link>https://issues.apache.org/jira/browse/SLING-4486</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Due to the new timing of handling activate/deactivate, an NPE might occur in the background thread as used objects like the session etc are already set to null&lt;/p&gt;</description>
                <environment></environment>
        <key id="12780778">SLING-4486</key>
            <summary>Potential NPE when service is deactivate immediately</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Mar 2015 10:13:24 +0000</created>
                <updated>Mon, 16 Mar 2015 15:49:01 +0000</updated>
                            <resolved>Tue, 10 Mar 2015 10:29:33 +0000</resolved>
                                                    <fixVersion>JCR Installer 3.1.14</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 34 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26kfb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4484] XSS POM references wrong scm URLs</title>
                <link>https://issues.apache.org/jira/browse/SLING-4484</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The XSS API &lt;tt&gt;pom.xml&lt;/tt&gt; references wrong locations of the project:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;scm&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;connection&amp;gt;&lt;/span&gt;scm:svn:http://svn.apache.org/repos/asf/sling/trunk/bundles/xss&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/connection&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;developerConnection&amp;gt;&lt;/span&gt;scm:svn:https://svn.apache.org/repos/asf/sling/trunk/bundles/xss&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/developerConnection&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;url&amp;gt;&lt;/span&gt;http://svn.apache.org/viewvc/sling/trunk/bundles/xss&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/scm&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12780483">SLING-4484</key>
            <summary>XSS POM references wrong scm URLs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="vladb">Vlad Bailescu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Mar 2015 11:59:35 +0000</created>
                <updated>Fri, 12 Aug 2016 08:37:56 +0000</updated>
                            <resolved>Mon, 9 Mar 2015 13:15:46 +0000</resolved>
                                    <version>XSS Protection API 1.0.0</version>
                                    <fixVersion>XSS Protection API 1.0.0</fixVersion>
                                    <component>XSS Protection API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14352870" author="githubbot" created="Mon, 9 Mar 2015 12:11:32 +0000"  >&lt;p&gt;GitHub user vladbailescu opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/67&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/67&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4484&quot; title=&quot;XSS POM references wrong scm URLs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4484&quot;&gt;&lt;del&gt;SLING-4484&lt;/del&gt;&lt;/a&gt; - XSS POM references wrong scm URLs&lt;/p&gt;

&lt;p&gt;    Updated URLs to point to correct location.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/vladbailescu/sling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/vladbailescu/sling&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4484&quot; title=&quot;XSS POM references wrong scm URLs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4484&quot;&gt;&lt;del&gt;SLING-4484&lt;/del&gt;&lt;/a&gt;-XSS-POM-references-wrong-scm-URLs&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/67.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/67.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #67&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 3af7540b410f8aa26abe6ad0a10142e90059bd0b&lt;br/&gt;
Author: vladbailescu &amp;lt;bailescu@adobe.com&amp;gt;&lt;br/&gt;
Date:   2015-03-09T12:11:18Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4484&quot; title=&quot;XSS POM references wrong scm URLs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4484&quot;&gt;&lt;del&gt;SLING-4484&lt;/del&gt;&lt;/a&gt; - XSS POM references wrong scm URLs&lt;/p&gt;

&lt;p&gt;    Updated URLs to point to correct location.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14352957" author="radu.cotescu" created="Mon, 9 Mar 2015 13:15:46 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1665226&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1665226&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14352960" author="githubbot" created="Mon, 9 Mar 2015 13:17:35 +0000"  >&lt;p&gt;Github user vladbailescu closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/67&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/67&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 34 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26imn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4483] Sightly: data-sly-resource does not properly resolve relative paths</title>
                <link>https://issues.apache.org/jira/browse/SLING-4483</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The following resource inclusion is not working:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-html&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;div data-sly-resource=&lt;span class=&quot;code-quote&quot;&gt;&quot;${@ path=&lt;span class=&quot;code-quote&quot;&gt;&apos;.&apos;&lt;/span&gt;, resourceType=&lt;span class=&quot;code-quote&quot;&gt;&apos;foo/bar&apos;&lt;/span&gt;}&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The returned error is: &lt;/p&gt;

&lt;p&gt;&lt;tt&gt;org.apache.sling.scripting.sightly.impl.engine.extension.ResourceRuntimeExtension Script path cannot be empty&lt;/tt&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12780436">SLING-4483</key>
            <summary>Sightly: data-sly-resource does not properly resolve relative paths</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="vladb">Vlad Bailescu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Mar 2015 09:06:24 +0000</created>
                <updated>Wed, 11 Mar 2015 13:59:17 +0000</updated>
                            <resolved>Mon, 9 Mar 2015 12:56:54 +0000</resolved>
                                    <version>Scripting Sightly Engine 1.0.0</version>
                                    <fixVersion>Scripting Sightly Engine 1.0.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14352842" author="githubbot" created="Mon, 9 Mar 2015 11:40:24 +0000"  >&lt;p&gt;GitHub user vladbailescu opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/66&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/66&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4483&quot; title=&quot;Sightly: data-sly-resource does not properly resolve relative paths&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4483&quot;&gt;&lt;del&gt;SLING-4483&lt;/del&gt;&lt;/a&gt; - Sightly: data-sly-resource does not properly resolve relative paths&lt;/p&gt;

&lt;p&gt;    Prepended current resource path to relative paths to make sure normalization doesn&apos;t break the paths. The same approach is used by &amp;lt;sling:include ../&amp;gt;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/vladbailescu/sling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/vladbailescu/sling&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4483&quot; title=&quot;Sightly: data-sly-resource does not properly resolve relative paths&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4483&quot;&gt;&lt;del&gt;SLING-4483&lt;/del&gt;&lt;/a&gt;-sightly-resource-relative-paths&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/66.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/66.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #66&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 9728f8ae36001c174fa9ae74a9a6ac17e0979df9&lt;br/&gt;
Author: vladbailescu &amp;lt;bailescu@adobe.com&amp;gt;&lt;br/&gt;
Date:   2015-03-09T11:39:34Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4483&quot; title=&quot;Sightly: data-sly-resource does not properly resolve relative paths&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4483&quot;&gt;&lt;del&gt;SLING-4483&lt;/del&gt;&lt;/a&gt; - Sightly: data-sly-resource does not properly resolve relative paths&lt;/p&gt;

&lt;p&gt;    Prepended current resource path to relative paths to make sure normalization doesn&apos;t break the paths. The same approach is used by &amp;lt;sling:include ../&amp;gt;&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14352942" author="radu.cotescu" created="Mon, 9 Mar 2015 12:56:54 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1665219&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1665219&lt;/a&gt;:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;applied patch provided by Vlad B&#259;ilescu for ResourceRuntimeExtension (&lt;a href=&quot;https://github.com/apache/sling/pull/66&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/66&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;added test to check the behaviour of resource inclusion&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14352947" author="githubbot" created="Mon, 9 Mar 2015 13:04:35 +0000"  >&lt;p&gt;Github user vladbailescu closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/66&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/66&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 34 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26icn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4480] All queues are started on a restart</title>
                <link>https://issues.apache.org/jira/browse/SLING-4480</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When the eventing restarts, it scans the repository for topic nodes and starts all queues for these topic nodes, regardless whether that topic actually has a job or not. With a lot of topics this causes unnecessary start of queues and consumes a lot of threads - which are not taken from the thread pool&lt;/p&gt;</description>
                <environment></environment>
        <key id="12780255">SLING-4480</key>
            <summary>All queues are started on a restart</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Sat, 7 Mar 2015 10:55:08 +0000</created>
                <updated>Thu, 12 Mar 2015 10:54:26 +0000</updated>
                            <resolved>Sat, 7 Mar 2015 15:31:23 +0000</resolved>
                                    <version>Event 3.5.0</version>
                    <version>Event 3.5.2</version>
                                    <fixVersion>Event 3.5.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14351635" author="cziegeler" created="Sat, 7 Mar 2015 15:31:23 +0000"  >&lt;p&gt;Fixed in rev 1664873 by prefilling the cache (which will be filled as soon as the queue starts anyway) and checking if the cache is still empty. If it&apos;s empty the queue is discarded&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 34 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26han:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4479] Inherited models are processed in the wrong order</title>
                <link>https://issues.apache.org/jira/browse/SLING-4479</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a slingstart project inherits from another one, first the model files from the current project are read, then the inherited ones and merged.&lt;br/&gt;
With the remove feature in the provisioning model, this is the wrong order.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12780100">SLING-4479</key>
            <summary>Inherited models are processed in the wrong order</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Mar 2015 15:42:09 +0000</created>
                <updated>Thu, 12 Mar 2015 07:43:45 +0000</updated>
                            <resolved>Fri, 6 Mar 2015 15:50:26 +0000</resolved>
                                    <version>Slingstart Maven Plugin 1.0.2</version>
                                    <fixVersion>Slingstart Maven Plugin 1.0.4</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14350496" author="cziegeler" created="Fri, 6 Mar 2015 15:50:26 +0000"  >&lt;p&gt;Fixed by reading the dependent models first and then applying the new ones&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 34 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26gd3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4476] Some java files show Non-Apache copyright headers</title>
                <link>https://issues.apache.org/jira/browse/SLING-4476</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;A number of files show Adobe Copyright header.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;jhoh-osx:sling jhoh$ find . -type f  -exec grep &lt;span class=&quot;code-quote&quot;&gt;&quot;Adobe&quot;&lt;/span&gt; /dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; {} \; | grep Copyright | grep -v &lt;span class=&quot;code-quote&quot;&gt;&quot;.svn-base&quot;&lt;/span&gt;
./contrib/extensions/datasource/pom.xml: *  Copyright 2012 Adobe Systems Incorporated
./contrib/extensions/ftpserver/src/main/java/org/apache/sling/ftpserver/impl/SlingConfiguration.java: *  Copyright 2013 Adobe Systems Incorporated
./launchpad/test-services/src/main/java/org/apache/sling/launchpad/testservices/servlets/DomServlet.java: *  Copyright 2013 Adobe Systems Incorporated
./site/archives-before-2011/src/logo/usling-bw.svg:&amp;lt;!-- Copyright 1989, 1995 , 2002Adobe Systems Incorporated. All Rights Reserved.  --&amp;gt;
./site/archives-before-2011/src/logo/usling.svg:&amp;lt;!-- Copyright 1989, 1995 , 2002Adobe Systems Incorporated. All Rights Reserved.  --&amp;gt;
./testing/junit/scriptable/src/test/java/org/apache/sling/junit/tests/TestAllPathsTest.java: *  Copyright 2012 Adobe Systems Incorporated
jhoh-osx:sling jhoh$
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;While for the .svg files it might be ok, the java files and the pom should be checked.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12779882">SLING-4476</key>
            <summary>Some java files show Non-Apache copyright headers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="joerghoh">Joerg Hoh</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Mar 2015 20:27:31 +0000</created>
                <updated>Tue, 8 Feb 2022 09:26:54 +0000</updated>
                            <resolved>Mon, 22 Jun 2015 11:40:44 +0000</resolved>
                                                                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14350345" author="fmeschbe" created="Fri, 6 Mar 2015 13:50:43 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jhoh&quot; class=&quot;user-hover&quot; rel=&quot;jhoh&quot;&gt;jhoh&lt;/a&gt; for reporting.&lt;/p&gt;

&lt;p&gt;Now looking at the parent POM I see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-917&quot; title=&quot;Use repository.apache.org for deployments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-917&quot;&gt;&lt;del&gt;SLING-917&lt;/del&gt;&lt;/a&gt; introduced the rat profile but mentions this to have to be run manually. I wonder, why we don&apos;t enable this profile by default, though ?&lt;/p&gt;</comment>
                            <comment id="14350349" author="fmeschbe" created="Fri, 6 Mar 2015 13:54:47 +0000"  >&lt;p&gt;Fixed FTP Server&apos;s SlingConfiguration.java in Rev. 1664624&lt;/p&gt;</comment>
                            <comment id="14595809" author="rombert" created="Mon, 22 Jun 2015 11:40:44 +0000"  >&lt;p&gt;The rat profile is enabled by default and all the code headers are fixed. IMO the svg files note are not relevant. Those are archives of stuff we never shipped anyway - just used to produce the logos on our site.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13427141">SLING-11129</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 19 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26f1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4471] Update to framework 4.6.1</title>
                <link>https://issues.apache.org/jira/browse/SLING-4471</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Once the framework 4.6.1 release is available, we should update in order to get the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-4806&quot; title=&quot;Ungetting service through ServiceObjects might throw IllegalArgumentException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-4806&quot;&gt;&lt;del&gt;FELIX-4806&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12779325">SLING-4471</key>
            <summary>Update to framework 4.6.1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Mar 2015 08:03:28 +0000</created>
                <updated>Thu, 12 Mar 2015 11:07:01 +0000</updated>
                            <resolved>Mon, 9 Mar 2015 07:52:09 +0000</resolved>
                                                    <fixVersion>Launchpad Base 2.5.8</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26c3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4470] OSGi mock has compile time dependency on slf4j-simple</title>
                <link>https://issues.apache.org/jira/browse/SLING-4470</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;org.apache.sling.testing.osgi-mock has a compile time dependency on slf4j-simple which triggers warning by slf4j&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/user/.m2/repository/ch/qos/logback/logback-classic/1.1.0/logback-classic-1.1.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/user/.m2/repository/org/slf4j/slf4j-simple/1.7.6/slf4j-simple-1.7.6.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Scope for slf4j-simple should be test or provided&lt;/p&gt;</description>
                <environment></environment>
        <key id="12779304">SLING-4470</key>
            <summary>OSGi mock has compile time dependency on slf4j-simple</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="chetanm">Chetan Mehrotra</reporter>
                        <labels>
                            <label>mocks</label>
                    </labels>
                <created>Wed, 4 Mar 2015 05:44:55 +0000</created>
                <updated>Fri, 22 May 2015 19:51:06 +0000</updated>
                            <resolved>Thu, 21 May 2015 07:49:30 +0000</resolved>
                                    <version>Testing OSGi Mock 1.2.0</version>
                                    <fixVersion>Testing Sling Mock Jackrabbit 1.0.0</fixVersion>
                    <fixVersion>Testing OSGi Mock 1.3.0</fixVersion>
                    <fixVersion>Testing Sling Mock 1.3.0</fixVersion>
                    <fixVersion>Testing Logging Mock 1.0.0</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14346432" author="chetanm" created="Wed, 4 Mar 2015 05:48:30 +0000"  >&lt;p&gt;It also seems to package simplelog.properties &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; which should also avoided&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/testing/mocks/osgi-mock/src/main/resources/simplelogger.properties&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/testing/mocks/osgi-mock/src/main/resources/simplelogger.properties&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14346781" author="sseifert@pro-vision.de" created="Wed, 4 Mar 2015 11:29:06 +0000"  >&lt;p&gt;my assumption was that all projects that use the mocks only have reference to slf4-api, not any implementation of it. thus it should create no conflict when using the mocks which includes slf4j-simple as well with a sensible default loglevel setup for the unit tests.&lt;/p&gt;

&lt;p&gt;if we remove this dependency or change it to &quot;test&quot; it is not active in the project that has the test code and on every project you would have to include slf4j-simple and a matching logging configuration yourself to ensure a proper logging setup. an option to make this easier would be to create something like a &quot;logging-mock&quot; project including this dependency and logger configuration, although it seems a bit overhead for just one properties file.&lt;/p&gt;

&lt;p&gt;with which other slf4j implementation does it conflict in your project, and is it correct that this dependency there?&lt;/p&gt;</comment>
                            <comment id="14346805" author="chetanm" created="Wed, 4 Mar 2015 11:48:37 +0000"  >&lt;p&gt;In Jackrabbit Oak we use Logback for testcase and have a custom logback-test.xml. So having multiple provider would cause issue as only one would be picked and in our case we want the Logback one to be used.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;if we remove this dependency or change it to &quot;test&quot; it is not active in the project that has the test code and on every project you would have to include slf4j-simple and a matching logging configuration yourself to ensure a proper logging setup&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think that should be the way. OSGi Mock is a library which the project use and it should not effect the way logging happens in the project. That should be left to project to decide&lt;/p&gt;</comment>
                            <comment id="14553801" author="sseifert@pro-vision.de" created="Thu, 21 May 2015 07:49:31 +0000"  >&lt;p&gt;Completed: At revision: 1680753  &lt;/p&gt;

&lt;p&gt;introduced a new project &quot;logging-mock&quot; which contains only the slf4j-simple dependency and default configuration file for it.&lt;br/&gt;
the other mock projects dependy only with &quot;test&quot; dependency on it, so this dependency is not inherited to projects using the mocks, they can decide to us it or not by declaring a dependency on:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.sling&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;org.apache.sling.testing.logging-mock&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.0.0-SNAPSHOT&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;scope&amp;gt;&lt;/span&gt;test&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/scope&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12779683">OAK-2578</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 24 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26byn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4468] Overriding Resource Merger doesn&apos;t handle case where there is a missing parent but available grandparent</title>
                <link>https://issues.apache.org/jira/browse/SLING-4468</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Consider the scenario:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;/apps/a/1&lt;/li&gt;
	&lt;li&gt;/apps/a/2 (super type is /apps/a/1)&lt;/li&gt;
	&lt;li&gt;/apps/a/3 (super type is /apps/a/2)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;and&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;/apps/a/1/a&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;getResource(/mnt/override/apps/a/3/a) should return a merged resource of just /apps/a/1/a. Currently this does not work because the merger stops when /apps/a/2/a does not exist.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12778778">SLING-4468</key>
            <summary>Overriding Resource Merger doesn&apos;t handle case where there is a missing parent but available grandparent</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Mar 2015 15:33:27 +0000</created>
                <updated>Thu, 12 Mar 2015 10:54:05 +0000</updated>
                            <resolved>Mon, 2 Mar 2015 15:36:00 +0000</resolved>
                                    <version>Resource Merger 1.2.6</version>
                                    <fixVersion>Resource Merger 1.2.8</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14343273" author="justinedelson" created="Mon, 2 Mar 2015 15:36:01 +0000"  >&lt;p&gt;Fixed in r1663332&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i268uf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4467] Create a script for verifying staged IDE tooling releases</title>
                <link>https://issues.apache.org/jira/browse/SLING-4467</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;To make the voting process simpler, and therefore faster, we should provide a script similar to check_staged_release.sh which will&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;download the staged release&lt;/li&gt;
	&lt;li&gt;verify checksums and gpg signatures&lt;/li&gt;
	&lt;li&gt;(maybe) check that the source release is buildable using mvn package&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12778745">SLING-4467</key>
            <summary>Create a script for verifying staged IDE tooling releases</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Mar 2015 12:04:02 +0000</created>
                <updated>Thu, 8 Oct 2015 13:10:39 +0000</updated>
                            <resolved>Mon, 5 Oct 2015 12:15:32 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.8</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14348411" author="rombert" created="Thu, 5 Mar 2015 08:45:04 +0000"  >&lt;p&gt;A similar script isused by the Felix DM :&lt;a href=&quot;http://svn.apache.org/repos/asf/felix/trunk/dependencymanager/release/check_staged_release.sh&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/felix/trunk/dependencymanager/release/check_staged_release.sh&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14943289" author="rombert" created="Mon, 5 Oct 2015 12:15:32 +0000"  >&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://svn.apache.org/r1706819&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1706819&lt;/a&gt; - added sign.sh script&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://svn.apache.org/r1706820&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1706820&lt;/a&gt; - added check_staged_release.sh script&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i268nj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4460] QuartzScheduler component is registered resulting in sling jobs not being sent to job consumer</title>
                <link>https://issues.apache.org/jira/browse/SLING-4460</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Sling jobs were not being processed on an instance due to the QuartzScheduler component being in a registered state (see attached image for the component&#8217;s state). The Sling job processor was not sending the job to our job consumer. From our error logs we could see that the job was created but the job consumer never received it. Looking at the crx we could see the job under /var/eventing. Our bundles &amp;amp; components were all active (we explicitly checked the component that consumes the job).&lt;/p&gt;

&lt;p&gt;Occasionally we see this problem on a restart of a production instance. This is an instance on our QA environment (we are hoping they are the same but will continue to monitor on subsequent production deployments).&lt;/p&gt;

&lt;p&gt;We noticed in the log file lots of exceptions related to QuartzScheduler indicating that the &#8220;Scheduler is not available anymore.&#8221; Truncated exception:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;26.02.2015 22:05:16.904 *WARN* [&amp;lt;redacted&amp;gt; [1424988304541] POST /system/console/bundles/342 HTTP/1.1] org.apache.sling.discovery.impl.DiscoveryServiceImpl sendTopologyEvent: handler threw exception. handler: org.apache.sling.event.impl.jobs.config.JobManagerConfiguration@651e2ff3, exception: java.lang.IllegalStateException: Scheduler is not available anymore. java.lang.IllegalStateException: Scheduler is not available anymore.
        at org.apache.sling.commons.scheduler.impl.QuartzScheduler.scheduleJob(QuartzScheduler.java:634)
        at org.apache.sling.commons.scheduler.impl.QuartzScheduler.schedule(QuartzScheduler.java:578)
        at org.apache.sling.commons.scheduler.impl.SchedulerServiceFactory.schedule(SchedulerServiceFactory.java:56)
        at org.apache.sling.event.impl.jobs.config.JobManagerConfiguration.startProcessing(JobManagerConfiguration.java:500)
        at org.apache.sling.event.impl.jobs.config.JobManagerConfiguration.handleTopologyEvent(JobManagerConfiguration.java:551)
        at org.apache.sling.discovery.impl.DiscoveryServiceImpl.sendTopologyEvent(DiscoveryServiceImpl.java:192)
        at org.apache.sling.discovery.impl.DiscoveryServiceImpl.handlePotentialTopologyChange(DiscoveryServiceImpl.java:484)
        at org.apache.sling.discovery.impl.DiscoveryServiceImpl.bindPropertyProviderInteral(DiscoveryServiceImpl.java:272)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From grepping the error log we saw that the QuartzScheduler has been shutdown previously:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;gt; cat error.log.2015-02-25 error.log | grep QuartzScheduler
25.02.2015 19:16:31.246 *INFO* [OsgiInstallerImpl] org.quartz.core.QuartzScheduler Scheduler ApacheSling_$_Tue_Feb_24_10:52:11_UTC_2015 shutting down.
25.02.2015 19:16:31.246 *INFO* [OsgiInstallerImpl] org.quartz.core.QuartzScheduler Scheduler ApacheSling_$_Tue_Feb_24_10:52:11_UTC_2015 paused.
25.02.2015 19:16:31.251 *INFO* [OsgiInstallerImpl] org.quartz.core.QuartzScheduler Scheduler ApacheSling_$_Tue_Feb_24_10:52:11_UTC_2015 shutdown complete.
	at org.apache.sling.commons.scheduler.impl.QuartzScheduler.scheduleJob(QuartzScheduler.java:634)
	at org.apache.sling.commons.scheduler.impl.QuartzScheduler.schedule(QuartzScheduler.java:578)
	at org.apache.sling.commons.scheduler.impl.QuartzScheduler.scheduleJob(QuartzScheduler.java:634)
	at org.apache.sling.commons.scheduler.impl.QuartzScheduler.schedule(QuartzScheduler.java:578)
	at org.apache.sling.commons.scheduler.impl.QuartzScheduler.scheduleJob(QuartzScheduler.java:634)
	at org.apache.sling.commons.scheduler.impl.QuartzScheduler.schedule(QuartzScheduler.java:578)
	at org.apache.sling.commons.scheduler.impl.QuartzScheduler.scheduleJob(QuartzScheduler.java:634)
	at org.apache.sling.commons.scheduler.impl.QuartzScheduler.schedule(QuartzScheduler.java:578)
	at org.apache.sling.commons.scheduler.impl.QuartzScheduler.scheduleJob(QuartzScheduler.java:634)
	at org.apache.sling.commons.scheduler.impl.QuartzScheduler.schedule(QuartzScheduler.java:578)
	at org.apache.sling.commons.scheduler.impl.QuartzScheduler.scheduleJob(QuartzScheduler.java:634)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Stop-Starting the QuartzScheduler resulted in all the jobs being processed.&lt;/p&gt;</description>
                <environment>3.3.4-11.omtr.el6.x86_64 GNU/Linux, java version &amp;quot;1.7.0_60&amp;quot;</environment>
        <key id="12778132">SLING-4460</key>
            <summary>QuartzScheduler component is registered resulting in sling jobs not being sent to job consumer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="kenrussell">Ken Russell</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Feb 2015 05:36:18 +0000</created>
                <updated>Wed, 4 Mar 2015 14:24:15 +0000</updated>
                            <resolved>Fri, 27 Feb 2015 17:58:29 +0000</resolved>
                                    <version>Commons Scheduler 2.4.4</version>
                                    <fixVersion>Commons Scheduler 2.4.6</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14340452" author="cziegeler" created="Fri, 27 Feb 2015 17:55:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kenrussell&quot; class=&quot;user-hover&quot; rel=&quot;kenrussell&quot;&gt;kenrussell&lt;/a&gt; There is indeed a problem with the scheduler service - it only gets active if another service depends on it; which is not what we want&lt;/p&gt;</comment>
                            <comment id="14340458" author="cziegeler" created="Fri, 27 Feb 2015 17:58:29 +0000"  >&lt;p&gt;Fixed by making the service immediate&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12701275" name="QuartzSchedulerComponent.pdf" size="246523" author="kenrussell" created="Fri, 27 Feb 2015 05:37:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i264vr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4459] Remove empty entries from allowed.roots array</title>
                <link>https://issues.apache.org/jira/browse/SLING-4459</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When saving a configuration from configMgr because it creates an empty entry for multivalued properties (allowed.roots=&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;&amp;quot;&amp;#93;&lt;/span&gt;). We should clear these empty entries as they lead to issues.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12777823">SLING-4459</key>
            <summary>Remove empty entries from allowed.roots array</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mpetria">Marius Petria</assignee>
                                    <reporter username="mpetria">Marius Petria</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Feb 2015 08:52:42 +0000</created>
                <updated>Thu, 26 Feb 2015 11:21:01 +0000</updated>
                            <resolved>Thu, 26 Feb 2015 11:21:01 +0000</resolved>
                                                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14338248" author="mpetria" created="Thu, 26 Feb 2015 11:21:01 +0000"  >&lt;p&gt;Committed revision 1662421.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 35 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2631z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4458] Resources not matching the filter can be deleted when updating a node</title>
                <link>https://issues.apache.org/jira/browse/SLING-4458</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The AddOrUpdateNodeCommand has a provision for removing children which are no longer present in the local workspace. Unfortunately, it does not obey the workspace filter, which means that &lt;em&gt;any&lt;/em&gt; node not present in the local checkout is deleted from the server under the right circumstances.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12777194">SLING-4458</key>
            <summary>Resources not matching the filter can be deleted when updating a node</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Feb 2015 15:05:33 +0000</created>
                <updated>Thu, 8 Oct 2015 13:10:38 +0000</updated>
                            <resolved>Tue, 29 Sep 2015 22:01:22 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.0.4</version>
                                    <fixVersion>Sling Eclipse IDE 1.0.8</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14935988" author="rombert" created="Tue, 29 Sep 2015 22:01:33 +0000"  >&lt;ul&gt;
	&lt;li&gt;Filter API cleanup in &lt;a href=&quot;https://svn.apache.org/r1705935&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1705935&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Add CommandContext to the AddOrUpdateNodeCommand in &lt;a href=&quot;https://svn.apache.org/r1705936&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1705936&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;AddOrUpdateNodeCommand now obeys the Filter in &lt;a href=&quot;https://svn.apache.org/r1705937&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1705937&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 5 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25z6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4454] Contradicting information about service.ranking in UseProvider and JavaUseProvider</title>
                <link>https://issues.apache.org/jira/browse/SLING-4454</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &lt;tt&gt;org.apache.sling.scripting.sightly.use.UseProvider&lt;/tt&gt; states in the javadoc:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;{@code UseProvider} services are ranked according to the OSGi service
 * registration propertiy {@code service.ranking} which is an integer value.
 * {@code UseProvider} servies with lower ranking values are tried before
 * services with higher ranking values. The &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; value &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the ranking &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the
 * property is missing is zero.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;All implementations like &lt;tt&gt;org.apache.sling.scripting.sightly.impl.engine.extension.use.JavaUseProvider&lt;/tt&gt; and sibling classes state&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Properties({
        @Property(
                name = Constants.SERVICE_RANKING,
                label = &lt;span class=&quot;code-quote&quot;&gt;&quot;Service Ranking&quot;&lt;/span&gt;,
                description = &lt;span class=&quot;code-quote&quot;&gt;&quot;The Service Ranking value acts as the priority with which &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; Use Provider is queried to &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; an &quot;&lt;/span&gt; +
                        &lt;span class=&quot;code-quote&quot;&gt;&quot;Use-object. A higher value represents a higher priority.&quot;&lt;/span&gt;,
                intValue = 90,
                propertyPrivate = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
        )
})
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So what is true here? Are UseProvider with lower rankings queried first? What happens if they return a result.&lt;br/&gt;
Please clarify the javadoc here.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12776852">SLING-4454</key>
            <summary>Contradicting information about service.ranking in UseProvider and JavaUseProvider</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Feb 2015 15:08:55 +0000</created>
                <updated>Mon, 30 Mar 2015 12:19:32 +0000</updated>
                            <resolved>Wed, 25 Feb 2015 18:45:04 +0000</resolved>
                                    <version>Scripting Sightly Engine 1.0.0</version>
                                    <fixVersion>Scripting Sightly Engine 1.0.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14336551" author="kwin" created="Wed, 25 Feb 2015 14:38:00 +0000"  >&lt;p&gt;Since a &lt;tt&gt;ConcurrentSkipListMap&lt;/tt&gt; is used in the &lt;tt&gt;UseRuntimeExtension&lt;/tt&gt; with a &lt;tt&gt;ServiceReference&lt;/tt&gt; as key, the natural ordering of a &lt;tt&gt;ServiceReference&lt;/tt&gt; is followed: &lt;a href=&quot;https://osgi.org/javadoc/r4v43/core/org/osgi/framework/ServiceReference.html#compareTo%28java.lang.Object%29&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://osgi.org/javadoc/r4v43/core/org/osgi/framework/ServiceReference.html#compareTo%28java.lang.Object%29&lt;/a&gt;.&lt;br/&gt;
That means lower service rankings are checked first -&amp;gt; the javadoc in the UseProvider is correct, for all implementations the documentation is wrong.&lt;/p&gt;</comment>
                            <comment id="14336562" author="kwin" created="Wed, 25 Feb 2015 14:44:31 +0000"  >&lt;p&gt;Fixed javadoc and description of service properties in r1662230.&lt;/p&gt;</comment>
                            <comment id="14336767" author="radu.cotescu" created="Wed, 25 Feb 2015 17:11:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, the JavaDoc from the providers was correct - the higher the service ranking the sooner a provider will be called in the chain. So while the providers are indeed ordered in their ascending natural order in the collection that we use for storing them, they are actually queried from highest to lowest. See [0] for more details.&lt;/p&gt;

&lt;p&gt;I will revert  r1662230 and correct the documentation where needed.&lt;/p&gt;

&lt;p&gt;[0] - &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/contrib/scripting/sightly/engine/src/main/java/org/apache/sling/scripting/sightly/impl/engine/extension/use/UseRuntimeExtension.java#L85&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/contrib/scripting/sightly/engine/src/main/java/org/apache/sling/scripting/sightly/impl/engine/extension/use/UseRuntimeExtension.java#L85&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14336809" author="kwin" created="Wed, 25 Feb 2015 17:33:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu.cotescu&quot; class=&quot;user-hover&quot; rel=&quot;radu.cotescu&quot;&gt;radu.cotescu&lt;/a&gt; Sorry and thanks for spotting this. I should have looked more carefully. Can you fix the javadoc then in org.apache.sling.scripting.sightly.use.UseProvider?&lt;/p&gt;</comment>
                            <comment id="14336813" author="radu.cotescu" created="Wed, 25 Feb 2015 17:35:07 +0000"  >&lt;p&gt;No problem, I&apos;m on it. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14336898" author="radu.cotescu" created="Wed, 25 Feb 2015 18:13:45 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1662289&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1662289&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25xdb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4453] Markup visible on &quot;Discover Sling in 15 minutes&quot; page</title>
                <link>https://issues.apache.org/jira/browse/SLING-4453</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Several sections contain markup similar to: &lt;/p&gt;
{tip:title=Monitoring requests}
&lt;p&gt; that is visible to the user.  I believe this is an error.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12776679">SLING-4453</key>
            <summary>Markup visible on &quot;Discover Sling in 15 minutes&quot; page</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olli">Oliver Lietz</assignee>
                                    <reporter username="seantbrady">Sean T. Brady</reporter>
                        <labels>
                    </labels>
                <created>Sun, 22 Feb 2015 01:12:18 +0000</created>
                <updated>Mon, 23 Feb 2015 12:44:07 +0000</updated>
                            <resolved>Mon, 23 Feb 2015 12:43:03 +0000</resolved>
                                                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14333284" author="olli" created="Mon, 23 Feb 2015 12:43:03 +0000"  >&lt;p&gt;r1661655&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 36 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25wb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4452] Discover Sling in 15 minutes page contains a link to dead downloads</title>
                <link>https://issues.apache.org/jira/browse/SLING-4452</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The page is: &lt;a href=&quot;http://sling.apache.org/documentation/getting-started/discover-sling-in-15-minutes.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/getting-started/discover-sling-in-15-minutes.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The link is: &lt;br/&gt;
&amp;lt;a href=&quot;http://www.apache.org/dyn/closer.cgi/sling/org.apache.sling.launchpad-6-standalone.jar&quot;&amp;gt;org.apache.sling.launchpad-6-standalone.jar&amp;lt;/a&amp;gt;&lt;/p&gt;

&lt;p&gt;I believe it should be corrected to:&lt;br/&gt;
&amp;lt;a href=&quot;http://www.apache.org/dyn/closer.cgi/sling/org.apache.sling.launchpad-7-standalone.jar&quot;&amp;gt;org.apache.sling.launchpad-7-standalone.jar&amp;lt;/a&amp;gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12776678">SLING-4452</key>
            <summary>Discover Sling in 15 minutes page contains a link to dead downloads</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olli">Oliver Lietz</assignee>
                                    <reporter username="seantbrady">Sean T. Brady</reporter>
                        <labels>
                    </labels>
                <created>Sun, 22 Feb 2015 00:57:13 +0000</created>
                <updated>Mon, 23 Feb 2015 12:44:44 +0000</updated>
                            <resolved>Mon, 23 Feb 2015 12:42:44 +0000</resolved>
                                                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14333282" author="olli" created="Mon, 23 Feb 2015 12:42:44 +0000"  >&lt;p&gt;r1661655&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 36 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25wav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4451] Opening a resource in the browser does not obey the user&apos;s preferences</title>
                <link>https://issues.apache.org/jira/browse/SLING-4451</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Opening an issue in the browser always opens it in an internal browser, but it should rather obey the user&apos;s preference of opening in internal/external browser.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12776592">SLING-4451</key>
            <summary>Opening a resource in the browser does not obey the user&apos;s preferences</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Sat, 21 Feb 2015 00:16:49 +0000</created>
                <updated>Mon, 2 Mar 2015 09:03:22 +0000</updated>
                            <resolved>Sat, 21 Feb 2015 20:58:37 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.0.4</version>
                                    <fixVersion>Sling Eclipse IDE 1.0.6</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14330428" author="rombert" created="Sat, 21 Feb 2015 20:58:40 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1661440&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1661440&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 36 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25vrr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4449] Allow iterating once over String / Number objects</title>
                <link>https://issues.apache.org/jira/browse/SLING-4449</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There are use cases where an iteration can be performed on a property that&apos;s not necessary storing a multiple value. For these use cases &lt;tt&gt;data-sly-list&lt;/tt&gt; and &lt;tt&gt;data-sly-repeat&lt;/tt&gt; should be able to iterate once on this value, essentially transforming the iterated object into a &lt;tt&gt;Collection&lt;/tt&gt; with one element.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12776538">SLING-4449</key>
            <summary>Allow iterating once over String / Number objects</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Feb 2015 20:52:23 +0000</created>
                <updated>Mon, 30 Mar 2015 12:19:08 +0000</updated>
                            <resolved>Fri, 20 Feb 2015 23:31:32 +0000</resolved>
                                    <version>Scripting Sightly Engine 1.0.0</version>
                                    <fixVersion>Scripting Sightly Engine 1.0.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14329755" author="radu.cotescu" created="Fri, 20 Feb 2015 23:31:32 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1661220&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1661220&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25vfr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4448] Make the RenderUnitProvider fail loudly if the provided identifier does not resolve to a script</title>
                <link>https://issues.apache.org/jira/browse/SLING-4448</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently the &lt;tt&gt;RenderUnitProvider&lt;/tt&gt; fails &quot;silently&quot; if the identifier does not resolve to an existing script. Instead the &lt;tt&gt;RenderUnitProvider&lt;/tt&gt; should return a &lt;tt&gt;ProviderOutcome&lt;/tt&gt; with an explicit failure cause such that the Use-API fails loudly without having to query the other &lt;tt&gt;UseProvider&lt;/tt&gt; services.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12776517">SLING-4448</key>
            <summary>Make the RenderUnitProvider fail loudly if the provided identifier does not resolve to a script</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Feb 2015 19:23:41 +0000</created>
                <updated>Mon, 30 Mar 2015 12:19:37 +0000</updated>
                            <resolved>Fri, 20 Feb 2015 19:34:12 +0000</resolved>
                                    <version>Scripting Sightly Engine 1.0.0</version>
                                    <fixVersion>Scripting Sightly Engine 1.0.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14329412" author="radu.cotescu" created="Fri, 20 Feb 2015 19:34:12 +0000"  >&lt;p&gt;Fixed in revision &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1661199&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1661199&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25vb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4446] AbstractNewSlingApplicationWizard publishes modules which are not deployed</title>
                <link>https://issues.apache.org/jira/browse/SLING-4446</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In AbstractNewSlingApplicationWizard provides a way to skip modules from being deployed on a server with the shouldDeploy method.&lt;/p&gt;

&lt;p&gt;However, that check is missing when modules are later published so such modules are incorrectly published later on in the wizard.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12776432">SLING-4446</key>
            <summary>AbstractNewSlingApplicationWizard publishes modules which are not deployed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Feb 2015 12:47:08 +0000</created>
                <updated>Mon, 2 Mar 2015 09:03:21 +0000</updated>
                            <resolved>Fri, 20 Feb 2015 12:49:54 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.0.4</version>
                                    <fixVersion>Sling Eclipse IDE 1.0.6</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14328879" author="rombert" created="Fri, 20 Feb 2015 12:50:00 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1661113&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1661113&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25usf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4445] Don&apos;t consider files outside the content sync root when exporting a project to the server</title>
                <link>https://issues.apache.org/jira/browse/SLING-4445</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The export wizard is available on project nodes. However, the export project should start at the content sync root, not at the project since we don&apos;t care about those files and they will make the export process fail, e.g. &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Resource at path /target/classes/etc/designs/ewcmbiz/jquery/js.txt is not a direct child of /../../../../target/classes/etc/designs/ewcmbiz/jquery&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12776427">SLING-4445</key>
            <summary>Don&apos;t consider files outside the content sync root when exporting a project to the server</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Feb 2015 12:34:20 +0000</created>
                <updated>Mon, 2 Mar 2015 09:03:23 +0000</updated>
                            <resolved>Fri, 20 Feb 2015 12:37:03 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.0.4</version>
                                    <fixVersion>Sling Eclipse IDE 1.0.6</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14328871" author="rombert" created="Fri, 20 Feb 2015 12:37:09 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1661107&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1661107&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25urb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4441] The JavaUseProvider should return a failure for any exception encountered during Use object retrieval</title>
                <link>https://issues.apache.org/jira/browse/SLING-4441</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &lt;tt&gt;JavaUseProvider&lt;/tt&gt; should return a failure for any exception encountered during Use object retrieval, not only for &lt;tt&gt;CompilerException&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12776268">SLING-4441</key>
            <summary>The JavaUseProvider should return a failure for any exception encountered during Use object retrieval</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Feb 2015 20:22:19 +0000</created>
                <updated>Mon, 30 Mar 2015 12:19:17 +0000</updated>
                            <resolved>Thu, 19 Feb 2015 21:58:31 +0000</resolved>
                                                    <fixVersion>Scripting Sightly Engine 1.0.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14328175" author="radu.cotescu" created="Thu, 19 Feb 2015 21:58:31 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1661012&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1661012&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 36 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25tsv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4440] Don&apos;t remove autoCreated properties</title>
                <link>https://issues.apache.org/jira/browse/SLING-4440</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The content sync tries to remove auto-created properties when they no longer exist:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[Worker-1] Thu Feb 19 17:49:35 EET 2015 org.apache.sling.ide.impl-vlt : Removed property jcr:created from node at /content/test-root/mapping/jcr:content/par/folder
[Worker-1] Thu Feb 19 17:49:35 EET 2015 org.apache.sling.ide.impl-vlt : Removed property jcr:createdBy from node at /content/test-root/mapping/jcr:content/par/folder
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12776193">SLING-4440</key>
            <summary>Don&apos;t remove autoCreated properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Feb 2015 15:52:53 +0000</created>
                <updated>Mon, 2 Mar 2015 09:03:21 +0000</updated>
                            <resolved>Fri, 20 Feb 2015 11:13:31 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.0.4</version>
                                    <fixVersion>Sling Eclipse IDE 1.0.6</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14328817" author="rombert" created="Fri, 20 Feb 2015 11:13:38 +0000"  >&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1661089&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1661089&lt;/a&gt; -implemented fix&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1661092&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1661092&lt;/a&gt; - simplified test setup&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25tcn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4438] Don&apos;t execute duplicate or out-of-order commands</title>
                <link>https://issues.apache.org/jira/browse/SLING-4438</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Content sync operations work through commands created on demand by SlingLaunchpadBehaviour.&lt;/p&gt;

&lt;p&gt;Right now the order is ad-hoc and there is no guarantee that duplicate or redundant commands are not executed. Some examples:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Trying to add an sling:Folder resource twice since it seems both the directory and the .content.xml file as changed&lt;/li&gt;
	&lt;li&gt;Deleting a path attempts to delete the parent &lt;em&gt;and&lt;/em&gt; all children nodes&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;We also have some akwardness to make sure that &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3741&quot; title=&quot;When processing deleted folders, check for a covering aggregate higher in the filesytem hierarchy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3741&quot;&gt;&lt;del&gt;SLING-3741&lt;/del&gt;&lt;/a&gt; works as expected, see &lt;a href=&quot;https://svn.apache.org/r1660881&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1660881&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;The fix would be to have generate the commands, pass them to a provider-specific command queue, which insures that the above cases are handled as expected and then execute the commands in the order returned by the queue.&lt;/p&gt;

&lt;p&gt;A nice side-effect is that we can rely on the number of events generated, and can use that for wait for events to settle in tests, instead of hard-coding wait times.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12776158">SLING-4438</key>
            <summary>Don&apos;t execute duplicate or out-of-order commands</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Feb 2015 14:12:58 +0000</created>
                <updated>Thu, 8 Oct 2015 13:10:38 +0000</updated>
                            <resolved>Wed, 30 Sep 2015 18:01:28 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.0.4</version>
                                    <fixVersion>Sling Eclipse IDE 1.0.8</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14938180" author="rombert" created="Wed, 30 Sep 2015 18:01:09 +0000"  >&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://svn.apache.org/r1706096&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1706096&lt;/a&gt; - add a Batcher to compact deletions&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://svn.apache.org/r1706097&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1706097&lt;/a&gt; - wire the Batcher in the SlingLaunchpadBehaviour&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://svn.apache.org/r1706098&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1706098&lt;/a&gt; - compact add_or_update commands&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://svn.apache.org/r1706099&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1706099&lt;/a&gt; - move Batcher to the api bundle as it does not depend on vlt&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://svn.apache.org/r1706100&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1706100&lt;/a&gt; - add batching for reordering commands&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://svn.apache.org/r1706101&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1706101&lt;/a&gt; - test no batching is done for unknown commands&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://svn.apache.org/r1706102&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1706102&lt;/a&gt; - rename VltBatcherTest to DefaultBatcherTest&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12747446">SLING-4032</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12716652">SLING-3607</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 5 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25t4v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4436] org.apache.sling.scripting.sightly does not compile</title>
                <link>https://issues.apache.org/jira/browse/SLING-4436</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The current 1.0.0-SNAPSHOT version of the &lt;tt&gt;org.apache.sling.scripting.sightly&lt;/tt&gt; Maven module doesn&apos;t compile, as it can&apos;t find the &lt;tt&gt;org.eclipse.core:resources:jar:3.4.0&lt;/tt&gt; transitive dependency included in &lt;tt&gt;org.apache.sling.commons.compiler:2.0.0&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;In order to reproduce, clean your local Maven repository and try to compile the aforementioned module.&lt;/p&gt;

&lt;p&gt;The fix would be to increase that dependency to &lt;tt&gt;org.apache.sling.commons.compiler:2.2.0&lt;/tt&gt;. Compare with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4379&quot; title=&quot;org.apache.sling.scripting.jsp module doesn&amp;#39;t compile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4379&quot;&gt;&lt;del&gt;SLING-4379&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12776134">SLING-4436</key>
            <summary>org.apache.sling.scripting.sightly does not compile</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Feb 2015 11:54:14 +0000</created>
                <updated>Thu, 26 Feb 2015 11:03:14 +0000</updated>
                            <resolved>Thu, 26 Feb 2015 11:03:14 +0000</resolved>
                                    <version>Scripting Sightly Engine 1.0.0</version>
                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14328419" author="radu.cotescu" created="Fri, 20 Feb 2015 01:21:51 +0000"  >&lt;p&gt;I&apos;ve removed both the &lt;tt&gt;org.eclipse.core:resources&lt;/tt&gt; and &lt;tt&gt;org.apache.sling.commons.compiler&lt;/tt&gt; artefacts from my local Maven repository and I was still able to build Sightly without any problems.&lt;/p&gt;</comment>
                            <comment id="14328655" author="kwin" created="Fri, 20 Feb 2015 07:38:18 +0000"  >&lt;p&gt;&lt;tt&gt;org.eclipse.core:resource:3.4.0&lt;/tt&gt; is not available from Maven Central: &lt;a href=&quot;http://search.maven.org/#search&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://search.maven.org/#search&lt;/a&gt;|gav|1|g%3A%22org.eclipse.core%22%20AND%20a%3A%22resources%22. &lt;/p&gt;

&lt;p&gt;Probably you are using another maven repository which has that artifact. Just remove your settings.xml to reproduce the issue.&lt;/p&gt;</comment>
                            <comment id="14329901" author="radu.cotescu" created="Sat, 21 Feb 2015 01:26:08 +0000"  >&lt;p&gt;I&apos;ve renamed my &lt;tt&gt;settings.xml&lt;/tt&gt; file and the build still works for me:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;~/workspace/adobe/code/sling-git-svn/contrib/scripting/sightly/engine (master) &#127866;  rm -rf ~/.m2/repository/org/apache/sling/org.apache.sling.commons.compiler/
~/workspace/adobe/code/sling-git-svn/contrib/scripting/sightly/engine (master) &#127866;  rm -rf ~/.m2/repository/org/eclipse/core/resources/
~/workspace/adobe/code/sling-git-svn/contrib/scripting/sightly/engine (master) &#127866;  subl ~/.m2/settings.xml
~/workspace/adobe/code/sling-git-svn/contrib/scripting/sightly/engine (master) &#127866;  mv ~/.m2/settings.xml ~/.m2/settings-exp.xml
~/workspace/adobe/code/sling-git-svn/contrib/scripting/sightly/engine (master) &#127866;  mvn clean package
[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building Apache Sling Scripting Sightly Engine 1.0.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
Downloading: https://repo.maven.apache.org/maven2/org/apache/sling/org.apache.sling.commons.compiler/2.0.0/org.apache.sling.commons.compiler-2.0.0.pom
Downloaded: https://repo.maven.apache.org/maven2/org/apache/sling/org.apache.sling.commons.compiler/2.0.0/org.apache.sling.commons.compiler-2.0.0.pom (6 KB at 11.7 KB/sec)
Downloading: https://repo.maven.apache.org/maven2/org/eclipse/core/resources/maven-metadata.xml
Downloading: http://repository.apache.org/snapshots/org/eclipse/core/resources/maven-metadata.xml
Downloaded: https://repo.maven.apache.org/maven2/org/eclipse/core/resources/maven-metadata.xml (367 B at 13.8 KB/sec)
Downloading: https://repo.maven.apache.org/maven2/org/eclipse/core/resources/3.2.1-R32x_v20060914/resources-3.2.1-R32x_v20060914.pom
Downloaded: https://repo.maven.apache.org/maven2/org/eclipse/core/resources/3.2.1-R32x_v20060914/resources-3.2.1-R32x_v20060914.pom (2 KB at 29.0 KB/sec)
Downloading: https://repo.maven.apache.org/maven2/org/eclipse/core/resources/3.3.0-v20070604/resources-3.3.0-v20070604.pom
Downloaded: https://repo.maven.apache.org/maven2/org/eclipse/core/resources/3.3.0-v20070604/resources-3.3.0-v20070604.pom (2 KB at 37.4 KB/sec)
Downloading: https://repo.maven.apache.org/maven2/org/apache/sling/org.apache.sling.commons.compiler/2.0.0/org.apache.sling.commons.compiler-2.0.0.jar
Downloading: https://repo.maven.apache.org/maven2/org/eclipse/core/resources/3.3.0-v20070604/resources-3.3.0-v20070604.jar
Downloaded: https://repo.maven.apache.org/maven2/org/eclipse/core/resources/3.3.0-v20070604/resources-3.3.0-v20070604.jar (663 KB at 2619.6 KB/sec)
Downloaded: https://repo.maven.apache.org/maven2/org/apache/sling/org.apache.sling.commons.compiler/2.0.0/org.apache.sling.commons.compiler-2.0.0.jar (3833 KB at 3678.4 KB/sec)
[INFO]
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ org.apache.sling.scripting.sightly ---
[INFO] Deleting /Users/radu/workspace/adobe/code/sling-git-svn/contrib/scripting/sightly/engine/target
...
-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running org.apache.sling.scripting.sightly.impl.compiler.SightlyJavaCompilerServiceTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.383 sec - in org.apache.sling.scripting.sightly.impl.compiler.SightlyJavaCompilerServiceTest
Running org.apache.sling.scripting.sightly.impl.engine.runtime.RenderContextImplTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.025 sec - in org.apache.sling.scripting.sightly.impl.engine.runtime.RenderContextImplTest
Running org.apache.sling.scripting.sightly.impl.html.dom.HtmlParserTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec - in org.apache.sling.scripting.sightly.impl.html.dom.HtmlParserTest
Running org.apache.sling.scripting.sightly.impl.utils.PathInfoTest
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.013 sec - in org.apache.sling.scripting.sightly.impl.utils.PathInfoTest

Results :

Tests run: 16, Failures: 0, Errors: 0, Skipped: 0

[INFO]
[INFO] --- animal-sniffer-maven-plugin:1.11:check (default) @ org.apache.sling.scripting.sightly ---
[INFO] Checking unresolved references to org.codehaus.mojo.signature:java16:1.0
[INFO]
[INFO] --- maven-bundle-plugin:2.4.0:bundle (default-bundle) @ org.apache.sling.scripting.sightly ---
[INFO]
[INFO] &amp;gt;&amp;gt;&amp;gt; maven-source-plugin:2.2.1:jar (attach-sources) &amp;gt; generate-sources @ org.apache.sling.scripting.sightly &amp;gt;&amp;gt;&amp;gt;
[INFO]
[INFO] --- maven-enforcer-plugin:1.3.1:enforce (enforce-java) @ org.apache.sling.scripting.sightly ---
[INFO]
[INFO] --- maven-antrun-plugin:1.7:run (set-bundle-required-execution-environment) @ org.apache.sling.scripting.sightly ---
[INFO] Executing tasks

main:
Setting Bundle-RequiredExecutionEnvironment=JavaSE-1.6 from sling.java.version=6
[INFO] Executed tasks
[INFO]
[INFO] --- antlr4-maven-plugin:4.1:antlr4 (default) @ org.apache.sling.scripting.sightly ---
[INFO] ANTLR 4: Processing source directory /Users/radu/workspace/adobe/code/sling-git-svn/contrib/scripting/sightly/engine/src/main/antlr4
[INFO] Processing grammar: org/apache/sling/scripting/sightly/impl/parser/expr/generated/SightlyLexer.g4
[INFO] Processing grammar: org/apache/sling/scripting/sightly/impl/parser/expr/generated/SightlyParser.g4
[INFO]
[INFO] --- build-helper-maven-plugin:1.8:add-source (add-antlr-source) @ org.apache.sling.scripting.sightly ---
[INFO] Source directory: /Users/radu/workspace/adobe/code/sling-git-svn/contrib/scripting/sightly/engine/src/main/antlr4 added.
[INFO] Source directory: /Users/radu/workspace/adobe/code/sling-git-svn/contrib/scripting/sightly/engine/target/generated-sources/antlr4 added.
[INFO]
[INFO] &amp;lt;&amp;lt;&amp;lt; maven-source-plugin:2.2.1:jar (attach-sources) &amp;lt; generate-sources @ org.apache.sling.scripting.sightly &amp;lt;&amp;lt;&amp;lt;
[INFO]
[INFO] --- maven-source-plugin:2.2.1:jar (attach-sources) @ org.apache.sling.scripting.sightly ---
[INFO] Building jar: /Users/radu/workspace/adobe/code/sling-git-svn/contrib/scripting/sightly/engine/target/org.apache.sling.scripting.sightly-1.0.0-SNAPSHOT-sources.jar
[INFO]
[INFO] --- maven-site-plugin:3.3:attach-descriptor (attach-descriptor) @ org.apache.sling.scripting.sightly ---
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14336955" author="radu.cotescu" created="Wed, 25 Feb 2015 18:47:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, how should we move on with this issue? I can&apos;t reproduce it no matter how I approach this.&lt;/p&gt;</comment>
                            <comment id="14338235" author="kwin" created="Thu, 26 Feb 2015 11:02:58 +0000"  >&lt;p&gt;Sorry for the noise. I just figured out I had a corrupt version of org.eclipse.core:resource:3.4.0 in my local repo. That was caused by the Atlassian Public Maven Repo. That has a corrupt version of that artifact: &lt;a href=&quot;https://maven.atlassian.com/content/groups/public/org/eclipse/core/resources/3.4.0/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://maven.atlassian.com/content/groups/public/org/eclipse/core/resources/3.4.0/&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12771693">SLING-4379</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 35 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25szz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4433] Sling Mock: MockAdapterManager does not respect ADAPTER_CLASSES/ADAPTABLE_CLASSES</title>
                <link>https://issues.apache.org/jira/browse/SLING-4433</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;the mock implementation of the AdapterManager interface is currently too simplistic - it ignores the set of ADAPTER_CLASSES / ADAPTABLE_CLASSES defined by the adapter factories, and thus my call adapter factories for adaptions they never where registered too, which may lead to errors.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12776035">SLING-4433</key>
            <summary>Sling Mock: MockAdapterManager does not respect ADAPTER_CLASSES/ADAPTABLE_CLASSES</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                            <label>mocks</label>
                    </labels>
                <created>Wed, 18 Feb 2015 23:47:47 +0000</created>
                <updated>Thu, 26 Feb 2015 11:48:19 +0000</updated>
                            <resolved>Fri, 20 Feb 2015 00:21:26 +0000</resolved>
                                    <version>Testing Sling Mock 1.1.2</version>
                                    <fixVersion>Testing Sling Mock 1.2.0</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14328366" author="sseifert@pro-vision.de" created="Fri, 20 Feb 2015 00:21:26 +0000"  >&lt;p&gt;Completed: At revision: 1661040  &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 36 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25sf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4430] Prefix all distribution related configuration labels with Apache</title>
                <link>https://issues.apache.org/jira/browse/SLING-4430</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="12775857">SLING-4430</key>
            <summary>Prefix all distribution related configuration labels with Apache</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mpetria">Marius Petria</assignee>
                                    <reporter username="mpetria">Marius Petria</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Feb 2015 11:42:17 +0000</created>
                <updated>Tue, 31 Mar 2015 15:23:22 +0000</updated>
                            <resolved>Wed, 18 Feb 2015 11:48:34 +0000</resolved>
                                                    <fixVersion>Content Distribution 0.1.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14325771" author="mpetria" created="Wed, 18 Feb 2015 11:48:34 +0000"  >&lt;p&gt;Committed revision 1660600.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25rfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4428] Sightly: scriptComment and styleComment contexts are not doing anything</title>
                <link>https://issues.apache.org/jira/browse/SLING-4428</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Sightly spec defines scriptComment context but in the current implementation it is not working as expected, as it&apos;s treated internally like a JS token. This needs to be fixed so that the comment context will work as expected.&lt;/p&gt;

&lt;p&gt;The spec will clarify usage of the scriptComment context (it will only be used for block comments, ie: /&lt;b&gt;...&lt;/b&gt;/) and will also add styleComment (which will behave similarly): &lt;a href=&quot;https://github.com/Adobe-Marketing-Cloud/sightly-spec/pull/12&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/Adobe-Marketing-Cloud/sightly-spec/pull/12&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12775599">SLING-4428</key>
            <summary>Sightly: scriptComment and styleComment contexts are not doing anything</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="vladb">Vlad Bailescu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Feb 2015 14:01:19 +0000</created>
                <updated>Wed, 11 Mar 2015 13:59:30 +0000</updated>
                            <resolved>Tue, 17 Feb 2015 15:38:32 +0000</resolved>
                                                    <fixVersion>XSS Protection API 1.0.0</fixVersion>
                    <fixVersion>Scripting Sightly Engine 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14324217" author="githubbot" created="Tue, 17 Feb 2015 14:16:15 +0000"  >&lt;p&gt;GitHub user vladbailescu opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/65&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/65&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4428&quot; title=&quot;Sightly: scriptComment and styleComment contexts are not doing anything&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4428&quot;&gt;&lt;del&gt;SLING-4428&lt;/del&gt;&lt;/a&gt; -  Sightly: scriptComment and styleComment contexts are not doing anything&lt;/p&gt;

&lt;p&gt;    Added support for multiline comment validation in XSS API.&lt;br/&gt;
    Added implementation and test.&lt;br/&gt;
    Added styleComment context to Sightly.&lt;br/&gt;
    Added proper validation for scriptComment and styleComment contexts.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/vladbailescu/sling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/vladbailescu/sling&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4428&quot; title=&quot;Sightly: scriptComment and styleComment contexts are not doing anything&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4428&quot;&gt;&lt;del&gt;SLING-4428&lt;/del&gt;&lt;/a&gt;-Sightly-scriptComment-styleComment&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/65.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/65.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #65&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 3b08e403a684ee393ce0321e9e1fe918b9e397e5&lt;br/&gt;
Author: vladbailescu &amp;lt;bailescu@adobe.com&amp;gt;&lt;br/&gt;
Date:   2015-02-17T14:12:52Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4428&quot; title=&quot;Sightly: scriptComment and styleComment contexts are not doing anything&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4428&quot;&gt;&lt;del&gt;SLING-4428&lt;/del&gt;&lt;/a&gt; - Sightly: scriptComment and styleComment contexts are not doing anything&lt;/p&gt;

&lt;p&gt;    Added support for multiline comment validation in XSS API.&lt;br/&gt;
    Added implementation and test.&lt;/p&gt;

&lt;p&gt;commit f3b88492ea32d97ca25b1547226e579b7072e564&lt;br/&gt;
Author: vladbailescu &amp;lt;bailescu@adobe.com&amp;gt;&lt;br/&gt;
Date:   2015-02-17T14:13:54Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4428&quot; title=&quot;Sightly: scriptComment and styleComment contexts are not doing anything&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4428&quot;&gt;&lt;del&gt;SLING-4428&lt;/del&gt;&lt;/a&gt; - Sightly: scriptComment and styleComment contexts are not doing anything&lt;/p&gt;

&lt;p&gt;    Added styleComment context.&lt;br/&gt;
    Added proper validation for scriptComment and styleComment contexts.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14324327" author="rombert" created="Tue, 17 Feb 2015 15:38:32 +0000"  >&lt;p&gt;Applied in &lt;a href=&quot;https://svn.apache.org/r1660420&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1660420&lt;/a&gt; . Thanks for your contribution&lt;/p&gt;</comment>
                            <comment id="14328684" author="githubbot" created="Fri, 20 Feb 2015 08:34:20 +0000"  >&lt;p&gt;Github user vladbailescu closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/65&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/65&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 36 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25pvj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4427] Inneficient JcrNode.hashCode and equals</title>
                <link>https://issues.apache.org/jira/browse/SLING-4427</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;On certain paths, JcrNode equals and hashcode perform copies of the their domElement, manipulate them and use them for equals/hashCode computations, e.g.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;			Element domElementCopy = domElement.copy();
			domElementCopy.clearChildren();
			Element otherDomElementCopy = other.domElement.copy();
			otherDomElementCopy.clearChildren();
			&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; domElementCopy.toString().equals(otherDomElementCopy.toString());&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This has the potential to be quite expensive and should be corrected&lt;/p&gt;</description>
                <environment></environment>
        <key id="12775595">SLING-4427</key>
            <summary>Inneficient JcrNode.hashCode and equals</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Feb 2015 13:24:51 +0000</created>
                <updated>Fri, 11 Apr 2025 14:30:45 +0000</updated>
                                            <version>Sling Eclipse IDE 1.0.4</version>
                                    <fixVersion>Sling Eclipse IDE 1.3.2</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 37 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25pun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4426] Ensure that distribution triggers work well in clustered environments</title>
                <link>https://issues.apache.org/jira/browse/SLING-4426</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Polling triggers based on scheduler should only run on leader, while event based triggers should only run on the originating instance.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12775540">SLING-4426</key>
            <summary>Ensure that distribution triggers work well in clustered environments</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mpetria">Marius Petria</assignee>
                                    <reporter username="mpetria">Marius Petria</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Feb 2015 09:02:12 +0000</created>
                <updated>Tue, 31 Mar 2015 15:23:05 +0000</updated>
                            <resolved>Tue, 17 Feb 2015 09:09:24 +0000</resolved>
                                                    <fixVersion>Content Distribution 0.1.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14323965" author="mpetria" created="Tue, 17 Feb 2015 09:09:24 +0000"  >&lt;p&gt;Committed revision 1660327.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 37 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25pif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4425] java.lang.NoClassDefFoundError: org/w3c/dom/ElementTraversal when parsing HTML5 templates</title>
                <link>https://issues.apache.org/jira/browse/SLING-4425</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1958&quot; title=&quot;Replace system package export of select XML API packages by bundles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1958&quot;&gt;&lt;del&gt;SLING-1958&lt;/del&gt;&lt;/a&gt;, Karaf brings &lt;tt&gt;xml-apis&lt;/tt&gt; with &lt;tt&gt;lib/endorsed/org.apache.servicemix.specs.jaxp-api-1.4-2.4.0.jar&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;remove bundle &lt;tt&gt;org.apache.sling.fragment.xml&lt;/tt&gt; (&lt;em&gt;Apache Sling System Bundle Extension: XML APIs&lt;/em&gt;) and deploy &lt;tt&gt;org.apache.servicemix.specs/org.apache.servicemix.specs.jaxp-api-1.4/2.4.0&lt;/tt&gt;&lt;/p&gt;</description>
                <environment>Sling Launchpad 7, AEM6SP2</environment>
        <key id="12775520">SLING-4425</key>
            <summary>java.lang.NoClassDefFoundError: org/w3c/dom/ElementTraversal when parsing HTML5 templates</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="olli">Oliver Lietz</assignee>
                                    <reporter username="olli">Oliver Lietz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Feb 2015 07:19:16 +0000</created>
                <updated>Thu, 3 Dec 2015 09:58:13 +0000</updated>
                            <resolved>Mon, 4 May 2015 15:21:10 +0000</resolved>
                                    <version>Scripting Thymeleaf 0.0.4</version>
                                    <fixVersion>Scripting Thymeleaf 0.0.6</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12917700">SLING-5347</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 37 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25pdz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4424] JcrCellLabelProvider leaks font instances</title>
                <link>https://issues.apache.org/jira/browse/SLING-4424</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;JcrCellLabelProvider creates Font instances in its contructor but does not dispose of them&lt;/p&gt;</description>
                <environment></environment>
        <key id="12775459">SLING-4424</key>
            <summary>JcrCellLabelProvider leaks font instances</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Feb 2015 21:02:46 +0000</created>
                <updated>Mon, 2 Mar 2015 09:03:23 +0000</updated>
                            <resolved>Tue, 17 Feb 2015 14:15:27 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.0.4</version>
                                    <fixVersion>Sling Eclipse IDE 1.0.6</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14324215" author="rombert" created="Tue, 17 Feb 2015 14:15:30 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1660386&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1660386&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 37 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25p0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4420] Escape quotes and double quotes when escaping for XML</title>
                <link>https://issues.apache.org/jira/browse/SLING-4420</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently only &amp;lt;, &amp;gt; and &amp;amp; are escaped in the ResponseUtil, we should extend this to &quot; and &apos; in order to use the same functionality for writing out attributes as well as text.&lt;/p&gt;

&lt;p&gt;This has already been done in the Sling API version of this class (see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3276&quot; title=&quot;Escape quotes and double quotes when escaping for XML&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3276&quot;&gt;&lt;del&gt;SLING-3276&lt;/del&gt;&lt;/a&gt;), but although this class is deprecated we should apply the same encoding&lt;/p&gt;</description>
                <environment></environment>
        <key id="12774951">SLING-4420</key>
            <summary>Escape quotes and double quotes when escaping for XML</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Feb 2015 16:41:51 +0000</created>
                <updated>Thu, 19 Feb 2015 13:00:07 +0000</updated>
                            <resolved>Fri, 13 Feb 2015 16:46:48 +0000</resolved>
                                    <version>Engine 2.3.10</version>
                                    <fixVersion>Engine 2.4.0</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14320374" author="cziegeler" created="Fri, 13 Feb 2015 16:46:48 +0000"  >&lt;p&gt;Applied similar encoding together with a test case. Rev 1659600&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 37 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25lxb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4419] [Regression] Sling Models cannot be used with Sightly Java Use-API</title>
                <link>https://issues.apache.org/jira/browse/SLING-4419</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4206&quot; title=&quot;[Sightly Engine] Refactor the Sightly Engine API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4206&quot;&gt;&lt;del&gt;SLING-4206&lt;/del&gt;&lt;/a&gt; introduced a regression: Sling Models cannot be correctly instantiated for the Sightly Java Use-API as they&apos;re treated as regular POJOs instead of allowing the models to be adapted with the &lt;tt&gt;ModelAdapterFactory&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12774861">SLING-4419</key>
            <summary>[Regression] Sling Models cannot be used with Sightly Java Use-API</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Feb 2015 11:28:39 +0000</created>
                <updated>Wed, 20 Sep 2017 13:18:00 +0000</updated>
                            <resolved>Fri, 13 Feb 2015 11:44:00 +0000</resolved>
                                    <version>Scripting Sightly JS Use Provider 1.0.0</version>
                    <version>Scripting Sightly Engine 1.0.0</version>
                                    <fixVersion>Scripting Sightly Engine 1.0.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14319982" author="radu.cotescu" created="Fri, 13 Feb 2015 11:44:00 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1659520&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1659520&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14954913" author="kpolychr" created="Tue, 13 Oct 2015 13:20:13 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu.cotescu&quot; class=&quot;user-hover&quot; rel=&quot;radu.cotescu&quot;&gt;radu.cotescu&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Is this fix included in a latest release of Sightly engine? What&apos;s the best way to figure out whether a fix (e.g. like the present one) is currently available)?&lt;/p&gt;</comment>
                            <comment id="15008374" author="radu.cotescu" created="Tue, 17 Nov 2015 09:38:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kpolychr&quot; class=&quot;user-hover&quot; rel=&quot;kpolychr&quot;&gt;kpolychr&lt;/a&gt;, I&apos;ve updated the fix version - thanks for spotting this!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12758242">SLING-4206</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 50 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25ldb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4418] Round robin queue is handled as an ordered queue</title>
                <link>https://issues.apache.org/jira/browse/SLING-4418</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The round robin queue is treated as an ordered queue and there all processing takes place on master and it&apos;s limited to one job at a time.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12774833">SLING-4418</key>
            <summary>Round robin queue is handled as an ordered queue</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Feb 2015 08:47:09 +0000</created>
                <updated>Mon, 16 Feb 2015 10:58:37 +0000</updated>
                            <resolved>Fri, 13 Feb 2015 08:55:14 +0000</resolved>
                                    <version>Event 3.5.0</version>
                                    <fixVersion>Event 3.5.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14319760" author="cziegeler" created="Fri, 13 Feb 2015 08:55:14 +0000"  >&lt;p&gt;Resolved by fixing the queue type handling.&lt;br/&gt;
I also added tests for both, the round robind and the parallel queue, that ensure that max threads are used.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 37 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25l73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4415] :applyTo should not display changeLog (when operation fails)</title>
                <link>https://issues.apache.org/jira/browse/SLING-4415</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When the :applyTo operation fails the change-log leaks information about the internal path-structure even when the requesting session does not have access to these paths. &lt;/p&gt;

&lt;p&gt;One solution would be to completely omit the ChangeLog (at least when the operation fails), another option would be to make the :sendError behaviour configurable in the POST servlet, so that the error message can be reliably overlaid.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12774516">SLING-4415</key>
            <summary>:applyTo should not display changeLog (when operation fails)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="asanso">Antonio Sanso</assignee>
                                    <reporter username="chaotic">Lars Krapf</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Feb 2015 09:57:27 +0000</created>
                <updated>Thu, 23 Mar 2017 14:32:51 +0000</updated>
                            <resolved>Tue, 12 May 2015 08:20:12 +0000</resolved>
                                    <version>Servlets Post 2.3.6</version>
                                    <fixVersion>Servlets Post 2.3.8</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14510911" author="asanso" created="Fri, 24 Apr 2015 11:57:47 +0000"  >&lt;p&gt;in order to reproduce:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Create an user with username/password test/test and do not give any permission&lt;/li&gt;
	&lt;li&gt;Assume that a folder /libs exist with several subfolders (e.g. with the first one being sling)&lt;/li&gt;
	&lt;li&gt;launch this command&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;curl -v -F&lt;span class=&quot;code-quote&quot;&gt;&quot;:operation=delete&quot;&lt;/span&gt; -F&lt;span class=&quot;code-quote&quot;&gt;&quot;:applyTo=/libs/*&quot;&lt;/span&gt; -u test:test http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:4502&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The response leaks information&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt; HTTP/1.1 100 Continue
&amp;lt; HTTP/1.1 500 Server Error
&amp;lt; Date: Fri, 24 Apr 2015 12:08:32 GMT
&amp;lt; X-Content-Type-Options: nosniff
&amp;lt; Content-Type: text/html; charset=UTF-8
&amp;lt; Transfer-Encoding: chunked
* Server Jetty(9.2.9.v20150224) is not blacklisted
&amp;lt; Server: Jetty(9.2.9.v20150224)
&amp;lt; X-Powered-By: Jetty(9.2.9.v20150224)
* HTTP error before end of send, stop sending
&amp;lt; 
&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;Error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; processing /&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;
    &amp;lt;body&amp;gt;
    &amp;lt;h1&amp;gt;Error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; processing /&amp;lt;/h1&amp;gt;
    &amp;lt;table&amp;gt;
        &amp;lt;tbody&amp;gt;
            &amp;lt;tr&amp;gt;
                &amp;lt;td&amp;gt;Status&amp;lt;/td&amp;gt;
                &amp;lt;td&amp;gt;&amp;lt;div id=&lt;span class=&quot;code-quote&quot;&gt;&quot;Status&quot;&lt;/span&gt;&amp;gt;500&amp;lt;/div&amp;gt;&amp;lt;/td&amp;gt;
            &amp;lt;/tr&amp;gt;
            &amp;lt;tr&amp;gt;
                &amp;lt;td&amp;gt;Message&amp;lt;/td&amp;gt;
                &amp;lt;td&amp;gt;&amp;lt;div id=&lt;span class=&quot;code-quote&quot;&gt;&quot;Message&quot;&lt;/span&gt;&amp;gt;javax.jcr.RepositoryException: org.apache.sling.api.resource.PersistenceException: Unable to delete resource at /libs/sling. Resource does not exist.&amp;lt;/div&amp;gt;&amp;lt;/td&amp;gt;
            &amp;lt;/tr&amp;gt;
            &amp;lt;tr&amp;gt;
                &amp;lt;td&amp;gt;Location&amp;lt;/td&amp;gt;
                &amp;lt;td&amp;gt;&amp;lt;a href=&lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt; id=&lt;span class=&quot;code-quote&quot;&gt;&quot;Location&quot;&lt;/span&gt;&amp;gt;/&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;
            &amp;lt;/tr&amp;gt;
            &amp;lt;tr&amp;gt;
                &amp;lt;td&amp;gt;Parent Location&amp;lt;/td&amp;gt;
                &amp;lt;td&amp;gt;&amp;lt;a href=&lt;span class=&quot;code-quote&quot;&gt;&quot;&quot; id=&quot;&lt;/span&gt;ParentLocation&quot;&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;
            &amp;lt;/tr&amp;gt;
            &amp;lt;tr&amp;gt;
                &amp;lt;td&amp;gt;Path&amp;lt;/td&amp;gt;
                &amp;lt;td&amp;gt;&amp;lt;div id=&lt;span class=&quot;code-quote&quot;&gt;&quot;Path&quot;&lt;/span&gt;&amp;gt;/&amp;lt;/div&amp;gt;&amp;lt;/td&amp;gt;
            &amp;lt;/tr&amp;gt;
            &amp;lt;tr&amp;gt;
                &amp;lt;td&amp;gt;Referer&amp;lt;/td&amp;gt;
                &amp;lt;td&amp;gt;&amp;lt;a href=&lt;span class=&quot;code-quote&quot;&gt;&quot;&quot; id=&quot;&lt;/span&gt;Referer&quot;&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;
            &amp;lt;/tr&amp;gt;
            &amp;lt;tr&amp;gt;
                &amp;lt;td&amp;gt;ChangeLog&amp;lt;/td&amp;gt;
                &amp;lt;td&amp;gt;&amp;lt;div id=&lt;span class=&quot;code-quote&quot;&gt;&quot;ChangeLog&quot;&lt;/span&gt;&amp;gt;&amp;amp;lt;pre&amp;amp;gt;&amp;amp;lt;/pre&amp;amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/td&amp;gt;
            &amp;lt;/tr&amp;gt;
        &amp;lt;/tbody&amp;gt;
    &amp;lt;/table&amp;gt;
    &amp;lt;p&amp;gt;&amp;lt;a href=&quot;&quot;&amp;gt;Go Back&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;&amp;lt;a href=&lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt;&amp;gt;Modified Resource&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;&amp;lt;a href=&quot;&quot;&amp;gt;Parent of Modified Resource&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;
    &amp;lt;/body&amp;gt;

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14530005" author="asanso" created="Wed, 6 May 2015 06:15:10 +0000"  >&lt;p&gt;proposed patch &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Index: src/main/java/org/apache/sling/servlets/post/AbstractPostResponse.java
===================================================================
--- src/main/java/org/apache/sling/servlets/post/AbstractPostResponse.java	(revision 1675826)
+++ src/main/java/org/apache/sling/servlets/post/AbstractPostResponse.java	(working copy)
@@ -212,11 +212,11 @@
      * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; an error or &amp;lt;code&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&amp;lt;/code&amp;gt;
      */
     &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Throwable getError() {
-        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; getProperty(PN_ERROR, Throwable.class);
+        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Throwable(&lt;span class=&quot;code-quote&quot;&gt;&quot;Exception during response processing.&quot;&lt;/span&gt;);
     }
 
     &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setError(Throwable error) {
-        setProperty(PN_ERROR, error);
+        &lt;span class=&quot;code-comment&quot;&gt;//NOTHING TO DO
&lt;/span&gt;     }
 
     /**
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14539499" author="asanso" created="Tue, 12 May 2015 08:20:12 +0000"  >&lt;p&gt;fixed in rev. r1678892&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12515266">SLING-2156</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="13058609">SLING-6703</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 25 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25j9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4413] :applyTo should send 403 instead of 500 when operation fails </title>
                <link>https://issues.apache.org/jira/browse/SLING-4413</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Example:&lt;br/&gt;
curl -vv curl -F&quot;:operation=delete&quot; -F&quot;:applyTo=/etc/*&quot; &lt;a href=&quot;http://localhost:4502/content/geometrixx&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:4502/content/geometrixx&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Will give you a 500 (PersistenceException) in case /etc/* is not writable to the request session - as discussed with Felix &amp;amp; Carsten this should rather be a 403.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12774513">SLING-4413</key>
            <summary>:applyTo should send 403 instead of 500 when operation fails </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="chaotic">Lars Krapf</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Feb 2015 09:46:59 +0000</created>
                <updated>Thu, 3 Aug 2023 05:03:16 +0000</updated>
                            <resolved>Thu, 3 Aug 2023 05:03:16 +0000</resolved>
                                    <version>Servlets Post 2.3.6</version>
                                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14317920" author="ianeboston" created="Thu, 12 Feb 2015 09:57:45 +0000"  >&lt;p&gt;I cant find the discussion on dev@sling.apache.org, so apologies if this was already discussed on list.&lt;/p&gt;

&lt;p&gt;Is the only reason for a PersistenceException being thrown, AccessDenied or are there other reasons that should be report 500 ? &lt;br/&gt;
If PersistenceException is used for any issue persisting a change to the repository, (eg repository not available, corrupt, timed out), is there a way of distinguishing between a general internal server error and a genuine forbidden operation ? &lt;/p&gt;

&lt;p&gt;The exception itself doesn&apos;t provide any more detailed information. (no sub classes)&lt;br/&gt;
&lt;a href=&quot;https://sling.apache.org/apidocs/sling7/org/apache/sling/api/resource/PersistenceException.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/apidocs/sling7/org/apache/sling/api/resource/PersistenceException.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14317931" author="fmeschbe" created="Thu, 12 Feb 2015 10:06:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ianeboston&quot; class=&quot;user-hover&quot; rel=&quot;ianeboston&quot;&gt;ianeboston&lt;/a&gt; This was the subject of an off-line discussion. It looks like the &lt;tt&gt;:applyTo&lt;/tt&gt; parameter can be an absolute path (which maybe is a problem as well) and if handling this parmater yields an access problem hence exception, this exception is not properly handled and a generic 500 error is thrown instead of properly generating a 403/FORBIDDEN error.&lt;/p&gt;

&lt;p&gt;If the root cause is a PersistenceException not providing more information, we should be looking into how we can make sure to differentiate between a generic write failure (e.g. data base connection lost or disk full) and an access control issue.&lt;/p&gt;</comment>
                            <comment id="14318050" author="ianeboston" created="Thu, 12 Feb 2015 11:57:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fmeschbe&quot; class=&quot;user-hover&quot; rel=&quot;fmeschbe&quot;&gt;fmeschbe&lt;/a&gt; Thank you for the clarification. I agree the error code needs to be correct for the type of failure, and if that can&apos;t be achieved with the exception thrown, the exception needs to be enhanced or extended. Perhaps a PersistenceDeniedException extending PersistenceException would be enough.&lt;/p&gt;</comment>
                            <comment id="14318098" author="fmeschbe" created="Thu, 12 Feb 2015 12:22:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ianeboston&quot; class=&quot;user-hover&quot; rel=&quot;ianeboston&quot;&gt;ianeboston&lt;/a&gt; Sounds like a plan &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17445803" author="rombert" created="Thu, 18 Nov 2021 10:29:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joerghoh&quot; class=&quot;user-hover&quot; rel=&quot;joerghoh&quot;&gt;joerghoh&lt;/a&gt; - is this covered by the recent Sling POST servlet improvements that you submitted?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12774514">SLING-4414</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 48 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25j8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4409] Invalid .content.xml files are silently ignored when synchronising</title>
                <link>https://issues.apache.org/jira/browse/SLING-4409</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;For instance, add an ampersand in an attribute value. The sync will silently fail, with no signal in the Sling console, Error Log or trace file.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12774369">SLING-4409</key>
            <summary>Invalid .content.xml files are silently ignored when synchronising</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Feb 2015 22:31:31 +0000</created>
                <updated>Mon, 2 Mar 2015 09:03:19 +0000</updated>
                            <resolved>Wed, 18 Feb 2015 11:34:36 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.0.4</version>
                                    <fixVersion>Sling Eclipse IDE 1.0.6</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14325734" author="rombert" created="Wed, 18 Feb 2015 11:34:45 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1660599&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1660599&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25idj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4406] POJOs stored in the repository might not get recompiled when changed</title>
                <link>https://issues.apache.org/jira/browse/SLING-4406</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;POJOs which are stored in the repository might not be recompiled when changed if the full path contains a mix of &quot;-&quot; and &quot;_&quot; characters. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12774197">SLING-4406</key>
            <summary>POJOs stored in the repository might not get recompiled when changed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Feb 2015 12:45:28 +0000</created>
                <updated>Mon, 30 Mar 2015 12:19:09 +0000</updated>
                            <resolved>Thu, 12 Feb 2015 14:16:51 +0000</resolved>
                                                    <fixVersion>Scripting Sightly Engine 1.0.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12764930">SLING-4282</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 38 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25hbr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4405] Unable to install new bundle using the jar upload mechanism</title>
                <link>https://issues.apache.org/jira/browse/SLING-4405</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I am experimenting with sling IDE tooling. I am facing a problem wherein I am unable to deploy the bundle for the very first time using it. Once I have uploaded the bundle once using some other means, I am subsequently able to upload successfully using the ide tooling.&lt;/p&gt;

&lt;p&gt;On debugging this a bit, I see that the on installing the bundle for the very first time, the felix framework attempts to search for the bundle in a non-existent directory which fails with a FileNotFound exception. I compared this with the bundle install done from the felix web console. It looks like IDE tooling uses the InstallServlet mechanism while the web console does not. The InstallServlet tries to determine the location of this bundle if it already exists and if it does not, it sets it to null which later causes the above mentioned problem.&lt;/p&gt;

&lt;p&gt;Below is the exception trace:&lt;/p&gt;

&lt;p&gt;11.02.2015 14:59:49.172 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;qtp1941320881-42&amp;#93;&lt;/span&gt; ERROR: Error getting location from bundle archive. (java.io.FileNotFoundException: /home/satyadeep/code/sling/sling/felix/bundle181/bundle.location (No such file or directory))&lt;br/&gt;
java.io.FileNotFoundException: /home/satyadeep/code/sling/sling/felix/bundle181/bundle.location (No such file or directory)&lt;br/&gt;
	at java.io.FileInputStream.open(Native Method)&lt;br/&gt;
	at java.io.FileInputStream.&amp;lt;init&amp;gt;(FileInputStream.java:146)&lt;br/&gt;
	at org.apache.felix.framework.util.SecureAction.getFileInputStream(SecureAction.java:453)&lt;br/&gt;
	at org.apache.felix.framework.cache.BundleArchive.readLocation(BundleArchive.java:1107)&lt;br/&gt;
	at org.apache.felix.framework.cache.BundleArchive.getLocation(BundleArchive.java:256)&lt;br/&gt;
	at org.apache.felix.framework.BundleImpl._getLocation(BundleImpl.java:621)&lt;br/&gt;
	at org.apache.felix.framework.BundleProtectionDomain$RevisionAsJarURL.create(BundleProtectionDomain.java:335)&lt;br/&gt;
	at org.apache.felix.framework.BundleProtectionDomain$RevisionAsJarURL.access$200(BundleProtectionDomain.java:234)&lt;br/&gt;
	at org.apache.felix.framework.BundleProtectionDomain.&amp;lt;init&amp;gt;(BundleProtectionDomain.java:385)&lt;br/&gt;
	at org.apache.felix.framework.Felix.setBundleProtectionDomain(Felix.java:938)&lt;br/&gt;
	at org.apache.felix.framework.BundleImpl.addRevision(BundleImpl.java:1219)&lt;br/&gt;
	at org.apache.felix.framework.BundleImpl.&amp;lt;init&amp;gt;(BundleImpl.java:114)&lt;br/&gt;
	at org.apache.felix.framework.Felix.installBundle(Felix.java:2976)&lt;br/&gt;
	at org.apache.felix.framework.BundleContextImpl.installBundle(BundleContextImpl.java:169)&lt;br/&gt;
	at org.apache.sling.tooling.support.install.impl.InstallServlet.installOrUpdateBundle(InstallServlet.java:242)&lt;br/&gt;
	at org.apache.sling.tooling.support.install.impl.InstallServlet.installBasedOnUploadedJar(InstallServlet.java:149)&lt;br/&gt;
	at org.apache.sling.tooling.support.install.impl.InstallServlet.doPost(InstallServlet.java:101)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:641)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.ServletHandler.doHandle(ServletHandler.java:339)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.ServletHandler.handle(ServletHandler.java:300)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.ServletPipeline.handle(ServletPipeline.java:93)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:50)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:31)&lt;br/&gt;
	at org.apache.sling.launchpad.testservices.filters.TestFilter.doFilter(TestFilter.java:47)&lt;br/&gt;
	at org.apache.sling.launchpad.testservices.filters.HttpServiceExtFilter.doFilter(HttpServiceExtFilter.java:27)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.doHandle(FilterHandler.java:108)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:80)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:46)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:31)&lt;br/&gt;
	at org.apache.sling.junit.impl.servlet.TestLogServlet$TestNameLoggingFilter.doFilter(TestLogServlet.java:244)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.doHandle(FilterHandler.java:108)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:80)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:46)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:31)&lt;br/&gt;
	at org.apache.sling.engine.impl.log.RequestLoggerFilter.doFilter(RequestLoggerFilter.java:75)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.doHandle(FilterHandler.java:108)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:80)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:46)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:31)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.FilterPipeline.dispatch(FilterPipeline.java:76)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.Dispatcher.dispatch(Dispatcher.java:49)&lt;br/&gt;
	at org.apache.felix.http.base.internal.DispatcherServlet.service(DispatcherServlet.java:67)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:684)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:501)&lt;br/&gt;
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:229)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1086)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:428)&lt;br/&gt;
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1020)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)&lt;br/&gt;
	at org.eclipse.jetty.server.Server.handle(Server.java:370)&lt;br/&gt;
	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:494)&lt;br/&gt;
	at org.eclipse.jetty.server.AbstractHttpConnection.content(AbstractHttpConnection.java:982)&lt;br/&gt;
	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:1043)&lt;br/&gt;
	at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:865)&lt;br/&gt;
	at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:240)&lt;br/&gt;
	at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)&lt;br/&gt;
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:667)&lt;br/&gt;
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:52)&lt;br/&gt;
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)&lt;br/&gt;
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12774188">SLING-4405</key>
            <summary>Unable to install new bundle using the jar upload mechanism</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="satyadeep">Satya Deep Maheshwari</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Feb 2015 12:05:13 +0000</created>
                <updated>Mon, 23 Feb 2015 16:00:22 +0000</updated>
                            <resolved>Tue, 17 Feb 2015 23:30:27 +0000</resolved>
                                    <version>Tooling Support Install 1.0.0</version>
                                    <fixVersion>Tooling Support Install 1.0.2</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14316121" author="satyadeep" created="Wed, 11 Feb 2015 12:06:28 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Robert Munteanu &amp;lt;rombert@apache.org&amp;gt;&lt;br/&gt;
4:55 PM (39 minutes ago)&lt;/p&gt;

&lt;p&gt;to users &lt;br/&gt;
Hi,&lt;/p&gt;

&lt;p&gt;Can you please file a bug for this?&lt;/p&gt;

&lt;p&gt;In the meantime, since it seems like you&apos;re using the &apos;jar&apos; bundle&lt;br/&gt;
upload mechanism, you can try uploading from the local directory, if&lt;br/&gt;
Sling runs on the same machine.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="14316137" author="rombert" created="Wed, 11 Feb 2015 12:24:46 +0000"  >&lt;p&gt;Thanks. Are you able to verify that uploading from the local directory, instead of a jar, works?&lt;/p&gt;</comment>
                            <comment id="14316146" author="satyadeep" created="Wed, 11 Feb 2015 12:33:16 +0000"  >&lt;p&gt;Yes uploading from local directory works.&lt;/p&gt;</comment>
                            <comment id="14316154" author="rombert" created="Wed, 11 Feb 2015 12:46:34 +0000"  >&lt;p&gt;Thanks. I&apos;ve updated the title to reflect that&lt;/p&gt;</comment>
                            <comment id="14325113" author="rombert" created="Tue, 17 Feb 2015 23:30:32 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1660537&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1660537&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14325116" author="rombert" created="Tue, 17 Feb 2015 23:32:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=satyadeep&quot; class=&quot;user-hover&quot; rel=&quot;satyadeep&quot;&gt;satyadeep&lt;/a&gt; - I&apos;ve committed a fix for the tooling support bundle. If you want to take advantage of it before the next release, run `mvn package sling:install` in &lt;a href=&quot;https://svn.apache.org/repos/asf/sling/trunk/tooling/support/install/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/sling/trunk/tooling/support/install/&lt;/a&gt; .&lt;/p&gt;</comment>
                            <comment id="14328791" author="satyadeep" created="Fri, 20 Feb 2015 10:31:09 +0000"  >&lt;p&gt;Thanks! This is working fine now.&lt;/p&gt;</comment>
                            <comment id="14328796" author="rombert" created="Fri, 20 Feb 2015 10:34:06 +0000"  >&lt;p&gt;Good to hear. This should be rolled in the next IDE tooling release so once 1.0.6 is out you won&apos;t need to install the bundle manually&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25h9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4404] Fixing TEST distribution action for pubsync agents</title>
                <link>https://issues.apache.org/jira/browse/SLING-4404</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;TEST actions for pubsync agents should try to fetch a TEST package from all exporters and pass it to all importers.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12774170">SLING-4404</key>
            <summary>Fixing TEST distribution action for pubsync agents</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mpetria">Marius Petria</assignee>
                                    <reporter username="mpetria">Marius Petria</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Feb 2015 11:24:32 +0000</created>
                <updated>Wed, 5 Aug 2015 11:32:50 +0000</updated>
                            <resolved>Wed, 5 Aug 2015 11:32:42 +0000</resolved>
                                                    <fixVersion>Content Distribution Core 0.1.2</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 38 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25h5r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4402] The selector manipulation options for data-sly-resource should accept string arrays</title>
                <link>https://issues.apache.org/jira/browse/SLING-4402</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Sightly specification allows using string arrays for options that manipulate selectors for the &lt;tt&gt;data-sly-resource&lt;/tt&gt; block element [0]. However, the current implementation only allows string values.&lt;/p&gt;

&lt;p&gt;[0] - &lt;a href=&quot;https://github.com/Adobe-Marketing-Cloud/sightly-spec/blob/master/SPECIFICATION.md#229-resource&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/Adobe-Marketing-Cloud/sightly-spec/blob/master/SPECIFICATION.md#229-resource&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12773918">SLING-4402</key>
            <summary>The selector manipulation options for data-sly-resource should accept string arrays</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Feb 2015 18:40:57 +0000</created>
                <updated>Thu, 19 Jan 2017 08:38:41 +0000</updated>
                            <resolved>Mon, 16 Feb 2015 15:02:55 +0000</resolved>
                                                    <fixVersion>Scripting Sightly Engine 1.0.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14322835" author="radu.cotescu" created="Mon, 16 Feb 2015 15:02:55 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1660131&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1660131&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13035908">SLING-6476</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 37 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25fmn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4401] &lt;slingUrl&gt; is ignored by sling:uninstall </title>
                <link>https://issues.apache.org/jira/browse/SLING-4401</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I defined &amp;lt;slingUrl&amp;gt; according to the documentation for uninstall, but it is being ignored and &lt;a href=&quot;http://localhost:8080&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080&lt;/a&gt; is always used.&lt;/p&gt;

&lt;p&gt;&amp;lt;execution&amp;gt;&lt;br/&gt;
   &amp;lt;id&amp;gt;uninstall-bundle&amp;lt;/id&amp;gt;&lt;br/&gt;
       &amp;lt;goals&amp;gt;&lt;br/&gt;
           &amp;lt;goal&amp;gt;uninstall&amp;lt;/goal&amp;gt;&lt;br/&gt;
        &amp;lt;/goals&amp;gt;&lt;br/&gt;
        &amp;lt;configuration&amp;gt;&lt;br/&gt;
             &amp;lt;slingUrl&amp;gt;&lt;a href=&quot;http://$&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://$&lt;/a&gt;{aem.host}:${aem.port}/system/console&amp;lt;/slingUrl&amp;gt;&lt;br/&gt;
             &amp;lt;user&amp;gt;${aem.username}&amp;lt;/user&amp;gt;&lt;br/&gt;
              &amp;lt;password&amp;gt;${aem.password}&amp;lt;/password&amp;gt;                                    &lt;br/&gt;
               &amp;lt;usePut&amp;gt;false&amp;lt;/usePut&amp;gt;&lt;br/&gt;
        &amp;lt;/configuration&lt;br/&gt;
&amp;lt;/execution&amp;gt;&lt;/p&gt;

&lt;p&gt;I have pass in -Dsling.url to make it work.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12773887">SLING-4401</key>
            <summary>&lt;slingUrl&gt; is ignored by sling:uninstall </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="c-peng@nga.gov">cindy peng</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Feb 2015 16:34:58 +0000</created>
                <updated>Tue, 10 Feb 2015 19:41:24 +0000</updated>
                            <resolved>Tue, 10 Feb 2015 19:41:24 +0000</resolved>
                                    <version>Maven Sling Plugin 2.1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25fg7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4399] Regression in the SlingAuthenticator</title>
                <link>https://issues.apache.org/jira/browse/SLING-4399</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3936&quot; title=&quot;Poor performance when adding a large (?) number of sling.auth.requirements services&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3936&quot;&gt;&lt;del&gt;SLING-3936&lt;/del&gt;&lt;/a&gt; introduced a regression.&lt;br/&gt;
Obseving the diff&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;- &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; !done &amp;amp;&amp;amp; i &amp;lt; holderList.size(); i++) {
- &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; AbstractAuthenticationHandlerHolder holder = holderList.get(i);
+ &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (AbstractAuthenticationHandlerHolder holder : holderList) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;it is clear that &lt;tt&gt;!done&lt;/tt&gt; has been lost in translation&lt;/p&gt;</description>
                <environment></environment>
        <key id="12773859">SLING-4399</key>
            <summary>Regression in the SlingAuthenticator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="asanso">Antonio Sanso</assignee>
                                    <reporter username="asanso">Antonio Sanso</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Feb 2015 14:04:31 +0000</created>
                <updated>Mon, 16 Feb 2015 12:06:20 +0000</updated>
                            <resolved>Wed, 11 Feb 2015 10:56:51 +0000</resolved>
                                    <version>Auth Core 1.3.4</version>
                                    <fixVersion>Auth Core 1.3.6</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14314199" author="asanso" created="Tue, 10 Feb 2015 14:05:50 +0000"  >&lt;p&gt;proposed patch&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;--- src/main/java/org/apache/sling/auth/core/impl/SlingAuthenticator.java	(revision 1658714)
+++ src/main/java/org/apache/sling/auth/core/impl/SlingAuthenticator.java	(working copy)
@@ -24,6 +24,7 @@
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.Dictionary;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.HashMap;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.Hashtable;
+&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.Iterator;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.LinkedHashMap;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.List;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.Map;
@@ -526,8 +527,10 @@
         &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; done = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
         &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; m = 0; !done &amp;amp;&amp;amp; m &amp;lt; holdersArray.length; m++) {
             &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Collection&amp;lt;AbstractAuthenticationHandlerHolder&amp;gt; holderList = holdersArray[m];
-            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( holderList != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ) {
-                &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (AbstractAuthenticationHandlerHolder holder : holderList) {
+            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( holderList != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ) {      
+                Iterator &amp;lt;AbstractAuthenticationHandlerHolder&amp;gt; holderListIterator = holderList.iterator();
+                &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (!done &amp;amp;&amp;amp; holderListIterator.hasNext()) {                 
+                    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; AbstractAuthenticationHandlerHolder holder = holderListIterator.next();
                     &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (path.startsWith(holder.path)) {
                         log.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;login: requesting authentication using handler: {}&quot;&lt;/span&gt;,
                             holder);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; since you committed &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3936&quot; title=&quot;Poor performance when adding a large (?) number of sling.auth.requirements services&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3936&quot;&gt;&lt;del&gt;SLING-3936&lt;/del&gt;&lt;/a&gt; may you quickly review my proposed patch?&lt;/p&gt;</comment>
                            <comment id="14314225" author="asanso" created="Tue, 10 Feb 2015 14:26:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jhoh&quot; class=&quot;user-hover&quot; rel=&quot;jhoh&quot;&gt;jhoh&lt;/a&gt; WDYT?&lt;/p&gt;</comment>
                            <comment id="14315833" author="rombert" created="Wed, 11 Feb 2015 09:03:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asanso&quot; class=&quot;user-hover&quot; rel=&quot;asanso&quot;&gt;asanso&lt;/a&gt; - thanks for catching this! Fix looks good to me. Something which looks simpler to me is pasted below, but I don&apos;t have a strong preference for it&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;diff --git a/bundles/auth/core/src/main/java/org/apache/sling/auth/core/impl/SlingAuthenticator.java b/bundles/auth/core/src/main/java/org/apache/sling/auth/core/impl/SlingAuthenticator.java
index 1b62c58..d5e4aa0 100644
--- a/bundles/auth/core/src/main/java/org/apache/sling/auth/core/impl/SlingAuthenticator.java
+++ b/bundles/auth/core/src/main/java/org/apache/sling/auth/core/impl/SlingAuthenticator.java
@@ -540,6 +540,10 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;SlingAuthenticator &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; Authenticator,
                                     + holder + &lt;span class=&quot;code-quote&quot;&gt;&quot;, access forbidden&quot;&lt;/span&gt;, ioe);
                             done = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
                         }
+
+                        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( done ) {
+                            &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
+                        }
                     }
                 }
             }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14316025" author="asanso" created="Wed, 11 Feb 2015 10:56:42 +0000"  >&lt;p&gt;applied &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; patch in rev. r1658921&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 38 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25f9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4398] Potential NPE when non existing resource has no parent</title>
                <link>https://issues.apache.org/jira/browse/SLING-4398</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There is a potential NPE in MergingResourceProvider#getResource if a non existing resource returns null for getParent()&lt;/p&gt;</description>
                <environment></environment>
        <key id="12773838">SLING-4398</key>
            <summary>Potential NPE when non existing resource has no parent</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Feb 2015 13:09:45 +0000</created>
                <updated>Mon, 16 Feb 2015 08:23:56 +0000</updated>
                            <resolved>Tue, 10 Feb 2015 13:10:29 +0000</resolved>
                                    <version>Resource Merger 1.2.4</version>
                                    <fixVersion>Resource Merger 1.2.6</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14314149" author="cziegeler" created="Tue, 10 Feb 2015 13:10:29 +0000"  >&lt;p&gt;Fixed in rev 1658706&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25f5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4395] Configuration Installer does not apply configuration updates</title>
                <link>https://issues.apache.org/jira/browse/SLING-4395</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In our setup, we are running the following &quot;relevant&quot; bundles&lt;/p&gt;

&lt;p&gt;org.apache.sling.installer.factory.configuration 1.1.0&lt;br/&gt;
org.apache.felix.configadmin	1.8.0&lt;/p&gt;

&lt;p&gt;We deploy a component com.sample.MyComponent that is configured via a nt:file configuration in the repository (under /apps/system/config/com.sample.MyComponent.config).&lt;/p&gt;

&lt;p&gt;We noticed that when modifying a property of the configuration, the component will not pick up the change.&lt;br/&gt;
Looking at the OSGI component console (/system/console/components/&lt;/p&gt;
{cid}
&lt;p&gt;) shows the old properties.&lt;br/&gt;
Looking at the OSGI config manager console (/system/console/configMgr) for the related component shows the &quot;Configuration Binding&quot; as being &quot;?&quot;.&lt;/p&gt;

&lt;p&gt;This new state &quot;?&quot; seems to have been introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4263&quot; title=&quot;Bundle location should be set to ? by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4263&quot;&gt;&lt;del&gt;SLING-4263&lt;/del&gt;&lt;/a&gt; and thus, may be expected according to the bug description.&lt;br/&gt;
However, it looks like although the configuration rightly set &quot;?&quot;, this new value is not correctly interpreted thus making our component running with the old configuration.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12773042">SLING-4395</key>
            <summary>Configuration Installer does not apply configuration updates</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="marett">Timothee Maret</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Feb 2015 16:15:18 +0000</created>
                <updated>Thu, 12 Feb 2015 02:16:38 +0000</updated>
                            <resolved>Thu, 12 Feb 2015 02:16:32 +0000</resolved>
                                    <version>Installer Configuration Factory 1.1.0</version>
                                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14312316" author="cziegeler" created="Mon, 9 Feb 2015 14:59:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt; Which version of org.apache.felix.scr are you using?&lt;/p&gt;</comment>
                            <comment id="14312531" author="marett" created="Mon, 9 Feb 2015 17:52:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; thanks for your message. We are running an internal release of org.apache.felix.scr&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;	1.6.3.R1409029
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Using the latest version 1.8.2 show the same behaviour as described in this issue.&lt;/p&gt;</comment>
                            <comment id="14312820" author="cziegeler" created="Mon, 9 Feb 2015 20:32:20 +0000"  >&lt;p&gt;Thanks, so far I couldn&apos;t reproduce this, therefore I&apos;m just guessing:&lt;br/&gt;
Could it be that you update the configuration installer factory before config admin and scr? In that case the factory would create configs with &quot;?&quot; using the old config admin. Once the config admin is updated, it&apos;s confused. I&apos;m not sure if the scr version really matters.&lt;/p&gt;</comment>
                            <comment id="14313915" author="marett" created="Tue, 10 Feb 2015 09:48:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; yes, the org.apache.sling.installer.factory.configuration bundle is started before the org.apache.felix.configadmin and org.apache.felix.scr bundles. The install sequence is listed below.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;	09.02.2015 17:56:43.703 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed bundle org.apache.sling.installer.factory.configuration [36] from re
	source TaskResource(url=launchpad:resources/install/5/org.apache.sling.installer.factory.configuration-1.0.10.jar, entity=bundle:org.apache.sling.installer.factory.con
	figuration, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:15:, Bundle-SymbolicName=org.apache.sling.installer.factory.configurat
	ion, Bundle-Version=1.0.10], digest=1423504599000)


09.02.2015 17:56:44.105 *INFO* [OsgiInstallerImpl] org.apache.felix.configadmin BundleEvent INSTALLED
09.02.2015 17:56:49.283 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Started bundle org.apache.felix.configadmin [44]
09.02.2015 17:57:02.391 *INFO* [FelixStartLevel] org.apache.felix.configadmin BundleEvent STARTING
09.02.2015 17:57:02.406 *INFO* [FelixStartLevel] org.apache.felix.configadmin Service [org.apache.felix.cm.ConfigurationAdmin,75] ServiceEvent REGISTERED
09.02.2015 17:57:02.414 *INFO* [FelixStartLevel] org.apache.felix.configadmin BundleEvent STARTED

		09.02.2015 17:57:02.552 *INFO* [FelixStartLevel] org.apache.felix.scr BundleEvent STARTING
		09.02.2015 17:57:02.668 *INFO* [FelixStartLevel] org.apache.felix.scr BundleEvent STARTED

		09.02.2015 18:03:05.460 *INFO* [FelixStartLevel] org.apache.felix.scr BundleEvent STOPPING
		09.02.2015 18:03:05.468 *INFO* [FelixStartLevel] org.apache.felix.scr BundleEvent STOPPED

09.02.2015 18:03:05.471 *INFO* [FelixStartLevel] org.apache.felix.configadmin BundleEvent STOPPING
09.02.2015 18:03:05.473 *INFO* [FelixStartLevel] org.apache.felix.configadmin BundleEvent STOPPED

09.02.2015 18:03:11.795 *INFO* [FelixStartLevel] org.apache.felix.configadmin BundleEvent STARTING
09.02.2015 18:03:11.797 *INFO* [FelixStartLevel] org.apache.felix.configadmin BundleEvent STARTED

		09.02.2015 18:03:11.807 *INFO* [FelixStartLevel] org.apache.felix.scr BundleEvent STARTING
		09.02.2015 18:03:12.256 *INFO* [FelixStartLevel] org.apache.felix.scr BundleEvent STARTED

		09.02.2015 18:03:20.208 *INFO* [OsgiInstallerImpl] org.apache.felix.scr BundleEvent STOPPING
		09.02.2015 18:03:21.739 *INFO* [OsgiInstallerImpl] org.apache.felix.scr BundleEvent STOPPED


	09.02.2015 18:03:22.028 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Updated bundle org.apache.sling.installer.factory.configuration [36] from resource TaskResource(url=fileinstallpatch:/org.apache.sling.installer.factory.configuration-1.1.0.jar, entity=bundle:org.apache.sling.installer.factory.configuration, state=INSTALL, attributes=[Bundle-Version=1.1.0, org.apache.sling.installer.api.tasks.ResourceTransformer=:1984:15:, Bundle-SymbolicName=org.apache.sling.installer.factory.configuration], 	digest=1423504986000)

		09.02.2015 18:03:23.224 *INFO* [OsgiInstallerImpl] org.apache.felix.scr BundleEvent STARTING
		09.02.2015 18:03:29.813 *INFO* [OsgiInstallerImpl] org.apache.felix.scr BundleEvent STARTED

09.02.2015 18:11:05.327 *INFO* [FelixStartLevel] org.apache.felix.configadmin BundleEvent STOPPING
09.02.2015 18:11:05.329 *INFO* [FelixStartLevel] org.apache.felix.configadmin BundleEvent STOPPED
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14314154" author="cziegeler" created="Tue, 10 Feb 2015 13:13:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt; Thanks, so I guess that&apos;s the problem - config admin needs to be updated first; and then the installer.factory&lt;/p&gt;</comment>
                            <comment id="14317434" author="cziegeler" created="Thu, 12 Feb 2015 02:16:32 +0000"  >&lt;p&gt;As I think this is a setup probem and as I also implemented &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-4410&quot; title=&quot;Exceptions during rollback are not always properly handled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-4410&quot;&gt;&lt;del&gt;FELIX-4410&lt;/del&gt;&lt;/a&gt; which reverts the default behaviour, I&apos;ll close this with won&apos;t fix&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12763200">SLING-4263</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 38 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25anj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4390] webapp deployment: properties in sling.properties overrule web.xml init parameters</title>
                <link>https://issues.apache.org/jira/browse/SLING-4390</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The documentation &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; explictly states, that any parameter in the web.xml will overwrite the variable with the same in sling.properties.&lt;/p&gt;

&lt;p&gt;But looking at the code in Sling.java, I find, that into the init() method the parameters from the web.xml are passed in via the propOverwrite map. This map is first applied, and then the sling.properties (if available) is read and applied.&lt;br/&gt;
This violates both the documentation on site &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; and also the javadoc of the class.&lt;/p&gt;

&lt;p&gt;The impact can be rather huge, as it isn&apos;t possible to update parameters which are stored in the sling.properties already with a new version of the web,xml contained in the WAR file. But we need to update the sling.properties file manually.&lt;/p&gt;




&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://sling.apache.org/documentation/the-sling-engine/the-sling-launchpad.html#servlet-parameters&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/the-sling-engine/the-sling-launchpad.html#servlet-parameters&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12772301">SLING-4390</key>
            <summary>webapp deployment: properties in sling.properties overrule web.xml init parameters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="joerghoh">Joerg Hoh</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Feb 2015 09:15:54 +0000</created>
                <updated>Thu, 12 Mar 2015 11:07:18 +0000</updated>
                            <resolved>Wed, 4 Mar 2015 08:02:09 +0000</resolved>
                                    <version>Launchpad Base 2.5.6</version>
                                    <fixVersion>Launchpad Base 2.5.8</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14346573" author="cziegeler" created="Wed, 4 Mar 2015 08:02:09 +0000"  >&lt;p&gt;Solved in rev 1663879&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12733825">SLING-3845</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2564v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4385] TopologyEventTest.testNonDelayedInitEvent/testDelayedInitEvent test failure</title>
                <link>https://issues.apache.org/jira/browse/SLING-4385</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;TopologyEventTest.testNonDelayedInitEvent sometimes fails.&lt;/p&gt;

&lt;p&gt;eg: &lt;a href=&quot;https://builds.apache.org/job/sling-trunk-1.8/org.apache.sling$org.apache.sling.discovery.impl/695/testReport/junit/org.apache.sling.discovery.impl.cluster/TopologyEventTest/testNonDelayedInitEvent/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/sling-trunk-1.8/org.apache.sling$org.apache.sling.discovery.impl/695/testReport/junit/org.apache.sling.discovery.impl.cluster/TopologyEventTest/testNonDelayedInitEvent/&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.AssertionError: expected:&amp;lt;2&amp;gt; but was:&amp;lt;1&amp;gt;
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:743)
	at org.junit.Assert.assertEquals(Assert.java:118)
	at org.junit.Assert.assertEquals(Assert.java:555)
	at org.junit.Assert.assertEquals(Assert.java:542)
	at org.apache.sling.discovery.impl.cluster.TopologyEventTest.testNonDelayedInitEvent(TopologyEventTest.java:255)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12772002">SLING-4385</key>
            <summary>TopologyEventTest.testNonDelayedInitEvent/testDelayedInitEvent test failure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Feb 2015 11:11:41 +0000</created>
                <updated>Wed, 30 Sep 2015 05:44:21 +0000</updated>
                            <resolved>Mon, 22 Jun 2015 12:38:38 +0000</resolved>
                                    <version>Discovery Impl 1.0.12</version>
                                    <fixVersion>Discovery Impl 1.1.8</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14595722" author="egli" created="Mon, 22 Jun 2015 10:24:41 +0000"  >&lt;p&gt;Another &lt;a href=&quot;https://builds.apache.org/job/sling-trunk-1.8/org.apache.sling$org.apache.sling.discovery.impl/1226/testReport/org.apache.sling.discovery.impl.cluster/TopologyEventTest/testNonDelayedInitEvent/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;recent occurrence&lt;/a&gt; - details: &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12741004/12741004_testFailure.txt&quot; title=&quot;testFailure.txt attached to SLING-4385&quot;&gt;testFailure.txt&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="14595724" author="egli" created="Mon, 22 Jun 2015 10:26:51 +0000"  >&lt;p&gt;And another one &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12741004/12741004_testFailure.txt&quot; title=&quot;testFailure.txt attached to SLING-4385&quot;&gt;testFailure.txt&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="14595731" author="egli" created="Mon, 22 Jun 2015 10:29:46 +0000"  >&lt;p&gt;And one failing &lt;tt&gt;testDelayedInitEvent&lt;/tt&gt;: &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12741004/12741004_testFailure.txt&quot; title=&quot;testFailure.txt attached to SLING-4385&quot;&gt;testFailure.txt&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="14595787" author="egli" created="Mon, 22 Jun 2015 11:20:11 +0000"  >&lt;p&gt;This one was a side-effect of the &lt;tt&gt;testNonDelayedInitEvent&lt;/tt&gt; failing - ie it left some instances running that did confuse the test cos they were still voting&lt;/p&gt;</comment>
                            <comment id="14595855" author="egli" created="Mon, 22 Jun 2015 12:38:01 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/r1686851:&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1686851:&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;TopologyEventTest was failing due to listeners of earlier LargeTopologyWithHubTest test still having events enqueued, thus causing a backlog of events, thus the tests own listener would not be served within reasonable amount of time, thus the voting would not conclude. Fixed by making sure a test Instance, when stopped, actually stops handling any subsequent events. This should help avoid any event backlogs. Could also fix other intermittent test failures&lt;/p&gt;</comment>
                            <comment id="14595857" author="egli" created="Mon, 22 Jun 2015 12:38:38 +0000"  >&lt;p&gt;Marking fixed as described. If it persists, the ticket can always be reopened.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12821034">SLING-4622</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12741004" name="testFailure.txt" size="194659" author="stefanegli" created="Mon, 22 Jun 2015 10:29:46 +0000"/>
                            <attachment id="12741002" name="testFailure.txt" size="323577" author="stefanegli" created="Mon, 22 Jun 2015 10:26:51 +0000"/>
                            <attachment id="12741001" name="testFailure.txt" size="240135" author="stefanegli" created="Mon, 22 Jun 2015 10:24:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 19 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i254cf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4384] MockResourceResolver: Methods that are not implemented should throw UnsupportedOperationException </title>
                <link>https://issues.apache.org/jira/browse/SLING-4384</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I would prefer if all non-supported operations would rather throw an &lt;tt&gt;UnsupportedOperationException&lt;/tt&gt; instead of just returning an empty list. That way the missing features become more obvious and every test which is using the non-implemented features will automatically fail.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12771982">SLING-4384</key>
            <summary>MockResourceResolver: Methods that are not implemented should throw UnsupportedOperationException </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Feb 2015 09:29:30 +0000</created>
                <updated>Thu, 26 Feb 2015 11:44:57 +0000</updated>
                            <resolved>Tue, 3 Feb 2015 09:52:19 +0000</resolved>
                                    <version>Testing ResourceResolver Mock 1.1.2</version>
                                    <fixVersion>Testing ResourceResolver Mock 1.1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14303004" author="egli" created="Tue, 3 Feb 2015 09:34:17 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14303005" author="sseifert@pro-vision.de" created="Tue, 3 Feb 2015 09:35:13 +0000"  >&lt;p&gt;makes sense&lt;/p&gt;</comment>
                            <comment id="14303015" author="sseifert@pro-vision.de" created="Tue, 3 Feb 2015 09:46:33 +0000"  >&lt;p&gt;this applies to the following ResourceResolver API methods:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;findResources(String, String)&lt;/li&gt;
	&lt;li&gt;queryResources(String, String)&lt;/li&gt;
	&lt;li&gt;resolve(HttpServletRequest)&lt;/li&gt;
	&lt;li&gt;getParentResourceType(Resource)&lt;/li&gt;
	&lt;li&gt;getParentResourceType(String)&lt;/li&gt;
	&lt;li&gt;clone(Map)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14303021" author="sseifert@pro-vision.de" created="Tue, 3 Feb 2015 09:52:19 +0000"  >&lt;p&gt;Completed: At revision: 1656658  &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2547z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4383] Extend @since inJavadoc of Sling API to include package version and bundle version</title>
                <link>https://issues.apache.org/jira/browse/SLING-4383</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It currently states that this method was added with 2.5.0 but this is not correct. It was only added with 2.7.0 (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3451&quot; title=&quot;Support for deep reads from a value map&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3451&quot;&gt;&lt;del&gt;SLING-3451&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12771965">SLING-4383</key>
            <summary>Extend @since inJavadoc of Sling API to include package version and bundle version</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Feb 2015 08:08:25 +0000</created>
                <updated>Mon, 9 Mar 2015 12:26:48 +0000</updated>
                            <resolved>Fri, 13 Feb 2015 14:36:40 +0000</resolved>
                                    <version>API 2.7.0</version>
                                    <fixVersion>API 2.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14302935" author="kwin" created="Tue, 3 Feb 2015 08:18:10 +0000"  >&lt;p&gt;I got confused by bundle and package version. But the 2.5 is actually correct for the package &lt;tt&gt;org.apache.sling.api.resource&lt;/tt&gt;. The question rather is: is that information useful for a developer if I want to figure out on which version of the API bundle I need to depend to leverage that functionality. Maybe we should include both the package and the according bundle version? WDYT?&lt;/p&gt;</comment>
                            <comment id="14303050" author="cziegeler" created="Tue, 3 Feb 2015 10:31:07 +0000"  >&lt;p&gt;Since should mention the package version, the bundle version is not really relevant. While I agree that this is at first confusing, it keeps us from trouble when we e.g. repackage the api (split it in different bundles) etc.&lt;/p&gt;</comment>
                            <comment id="14303058" author="kwin" created="Tue, 3 Feb 2015 10:39:03 +0000"  >&lt;p&gt;Ok, so what is the fastest way of figuring out which package version is provided by which bundle version? Is there are shortcut?&lt;/p&gt;</comment>
                            <comment id="14303065" author="fmeschbe" created="Tue, 3 Feb 2015 10:47:04 +0000"  >&lt;p&gt;I usually define the package and the bundle version in the @since, such as&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@since 2.3 (bundle version 2.6)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Maybe we could enhance the currently existing @since tags accordingly ?&lt;/p&gt;</comment>
                            <comment id="14303193" author="kwin" created="Tue, 3 Feb 2015 12:33:22 +0000"  >&lt;p&gt;I will do that for the javadoc of the Sling API.&lt;/p&gt;</comment>
                            <comment id="14303222" author="kwin" created="Tue, 3 Feb 2015 13:07:02 +0000"  >&lt;p&gt;Could someone review the patch quickly before I apply that?&lt;br/&gt;
Maybe &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fmeschbe&quot; class=&quot;user-hover&quot; rel=&quot;fmeschbe&quot;&gt;fmeschbe&lt;/a&gt;? Thanks.&lt;/p&gt;</comment>
                            <comment id="14320180" author="kwin" created="Fri, 13 Feb 2015 14:36:01 +0000"  >&lt;p&gt;I applied an extension of all @since tags in javadoc in rev. 1659574.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12701210">SLING-3451</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12696176" name="SLING-4383-v01.patch" size="45999" author="kwin" created="Tue, 3 Feb 2015 13:07:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 37 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25447:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4379] org.apache.sling.scripting.jsp module doesn&apos;t compile</title>
                <link>https://issues.apache.org/jira/browse/SLING-4379</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The current &lt;tt&gt;2.1.7-SNAPSHOT&lt;/tt&gt; version of the &lt;tt&gt;org.apache.sling.scripting.jsp&lt;/tt&gt; Maven module doesn&apos;t compile, as it can&apos;t found the &lt;tt&gt;org.eclipse.core:resources:jar:3.4.0&lt;/tt&gt; transitive dependency included in the &lt;tt&gt;org.apache.sling.commons.compiler:2.1.0&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;In order to reproduce, clean your local Maven repository and try to compile the aformentioned module.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12771693">SLING-4379</key>
            <summary>org.apache.sling.scripting.jsp module doesn&apos;t compile</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tomek.rekawek">Tomek R&#281;kawek</assignee>
                                    <reporter username="tomek.rekawek">Tomek R&#281;kawek</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Feb 2015 10:07:16 +0000</created>
                <updated>Sun, 3 Jan 2016 13:51:50 +0000</updated>
                            <resolved>Mon, 9 Feb 2015 15:10:09 +0000</resolved>
                                                    <fixVersion>Scripting JSP 2.1.8</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14301106" author="kwin" created="Mon, 2 Feb 2015 10:10:20 +0000"  >&lt;p&gt;That dependency is not available from Maven Central (&lt;a href=&quot;http://search.maven.org/#search&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://search.maven.org/#search&lt;/a&gt;|gav|1|g%3A%22org.eclipse.core%22%20AND%20a%3A%22resources%22)&lt;/p&gt;</comment>
                            <comment id="14301107" author="tomek.rekawek" created="Mon, 2 Feb 2015 10:11:50 +0000"  >&lt;p&gt;Patch attached - compiler version has been increased to 2.2.0.&lt;/p&gt;</comment>
                            <comment id="14312333" author="tomek.rekawek" created="Mon, 9 Feb 2015 15:10:09 +0000"  >&lt;p&gt;Patch merged.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12776134">SLING-4436</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12695899" name="SLING-4379.patch" size="497" author="tomek.rekawek" created="Mon, 2 Feb 2015 10:11:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 38 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i252i7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4376] ResourceResolver-mock throws NullPointerException in resolve when absPath = null</title>
                <link>https://issues.apache.org/jira/browse/SLING-4376</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;According to the ResolverResolver API for the resolve function:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;absPath The absolute path to be resolved to a resource. If this&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;parameter is &amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;, it is assumed to address the&lt;/li&gt;
	&lt;li&gt;root of the resource tree. If the path is relative it is&lt;/li&gt;
	&lt;li&gt;assumed relative to the root, that is a slash is prepended to&lt;/li&gt;
	&lt;li&gt;the path before resolving it.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;However, in the MockResourceResolver, this scenario is not actually handled and instead throws a &lt;tt&gt;NullPointerException&lt;/tt&gt; when attempting to look for indexes of the characters &lt;tt&gt;?&lt;/tt&gt; or &lt;tt&gt;#&lt;/tt&gt; in the path string&lt;/p&gt;</description>
                <environment></environment>
        <key id="12771452">SLING-4376</key>
            <summary>ResourceResolver-mock throws NullPointerException in resolve when absPath = null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="steven.walters@icidigital.com">Steven Walters</reporter>
                        <labels>
                            <label>test</label>
                    </labels>
                <created>Fri, 30 Jan 2015 23:13:11 +0000</created>
                <updated>Thu, 26 Feb 2015 11:44:57 +0000</updated>
                            <resolved>Mon, 2 Feb 2015 11:37:48 +0000</resolved>
                                    <version>Testing ResourceResolver Mock 1.1.2</version>
                                    <fixVersion>Testing ResourceResolver Mock 1.1.4</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14301177" author="sseifert@pro-vision.de" created="Mon, 2 Feb 2015 11:37:48 +0000"  >&lt;p&gt;Completed: At revision: 1656443  &lt;/p&gt;

&lt;p&gt;problem is fixed in 1.1.3-SNAPSHOT&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2511z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4374] Intermittent error when publishing content</title>
                <link>https://issues.apache.org/jira/browse/SLING-4374</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;What steps will reproduce the problem?&lt;br/&gt;
1. Connect to the server&lt;br/&gt;
2. Reconnect in debug mode&lt;br/&gt;
3. Try to publish again&lt;/p&gt;

&lt;p&gt;That&apos;s what I did, not sure if it always happens in this scenario.&lt;/p&gt;

&lt;p&gt;&amp;#8211; Error Details &amp;#8211;&lt;br/&gt;
Date: Fri Jan 30 16:17:06 EET 2015&lt;br/&gt;
Message: Could not publish to the server.&lt;br/&gt;
Severity: Error&lt;br/&gt;
Product: Eclipse 4.4.1.20150109-0740 (org.eclipse.epp.package.java.product)&lt;br/&gt;
Plugin: org.eclipse.wst.server.core&lt;br/&gt;
Exception Stack Trace:&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at org.apache.sling.ide.eclipse.core.internal.ResourceChangeCommandFactory.addFileCommand(ResourceChangeCommandFactory.java:99)&lt;br/&gt;
	at org.apache.sling.ide.eclipse.core.internal.ResourceChangeCommandFactory.newCommandForAddedOrUpdated(ResourceChangeCommandFactory.java:80)&lt;br/&gt;
	at org.apache.sling.ide.eclipse.core.internal.SlingLaunchpadBehaviour.addFileCommand(SlingLaunchpadBehaviour.java:537)&lt;br/&gt;
	at org.apache.sling.ide.eclipse.core.internal.SlingLaunchpadBehaviour.publishContentModule(SlingLaunchpadBehaviour.java:411)&lt;br/&gt;
	at org.apache.sling.ide.eclipse.core.internal.SlingLaunchpadBehaviour.publishModule(SlingLaunchpadBehaviour.java:225)&lt;br/&gt;
	at org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publishModule(ServerBehaviourDelegate.java:1091)&lt;br/&gt;
	at org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publishModules(ServerBehaviourDelegate.java:1183)&lt;br/&gt;
	at org.apache.sling.ide.eclipse.core.internal.ServerBehaviourDelegateWithModulePublishSupport.publish(ServerBehaviourDelegateWithModulePublishSupport.java:137)&lt;br/&gt;
	at org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish(ServerBehaviourDelegate.java:774)&lt;br/&gt;
	at org.apache.sling.ide.eclipse.core.internal.ServerBehaviourDelegateWithModulePublishSupport.publish(ServerBehaviourDelegateWithModulePublishSupport.java:54)&lt;br/&gt;
	at org.eclipse.wst.server.core.internal.Server.publishImpl(Server.java:3157)&lt;br/&gt;
	at org.eclipse.wst.server.core.internal.Server$PublishJob.run(Server.java:345)&lt;br/&gt;
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12771348">SLING-4374</key>
            <summary>Intermittent error when publishing content</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Jan 2015 14:19:22 +0000</created>
                <updated>Mon, 2 Mar 2015 09:03:20 +0000</updated>
                            <resolved>Tue, 17 Feb 2015 23:06:47 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.0.4</version>
                                    <fixVersion>Sling Eclipse IDE 1.0.6</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14325080" author="rombert" created="Tue, 17 Feb 2015 23:06:51 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1660532&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1660532&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 37 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i250en:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4367] Trigger events after importing a package</title>
                <link>https://issues.apache.org/jira/browse/SLING-4367</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In order to notify that a package has been imported the importers should notify that a package is imported.&lt;br/&gt;
Required information in the event:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;request type&lt;/li&gt;
	&lt;li&gt;paths&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12771006">SLING-4367</key>
            <summary>Trigger events after importing a package</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mpetria">Marius Petria</assignee>
                                    <reporter username="mpetria">Marius Petria</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Jan 2015 12:57:34 +0000</created>
                <updated>Mon, 2 Feb 2015 16:42:37 +0000</updated>
                            <resolved>Thu, 29 Jan 2015 13:03:44 +0000</resolved>
                                                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14296800" author="mpetria" created="Thu, 29 Jan 2015 13:03:44 +0000"  >&lt;p&gt;Committed revision 1655640.&lt;/p&gt;</comment>
                            <comment id="14301409" author="mpetria" created="Mon, 2 Feb 2015 16:17:39 +0000"  >&lt;p&gt;Fixed a small bug in revision 1656509.&lt;/p&gt;</comment>
                            <comment id="14301440" author="bdelacretaz" created="Mon, 2 Feb 2015 16:42:37 +0000"  >&lt;p&gt;I&apos;ll just note that revision 1656509 doesn&apos;t touch any tests, which is not a good sign in terms of test coverage.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24ycf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4366] NullPointerException in View.getViewId()</title>
                <link>https://issues.apache.org/jira/browse/SLING-4366</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;View.getView() can result in a NPE - triggered eg when log level is set to DEBUG as is happening below:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.NullPointerException: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
        at org.apache.sling.discovery.impl.common.View.getViewId(View.java:88)
        at org.apache.sling.discovery.impl.cluster.voting.VotingView.toString(VotingView.java:151)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.valueOf(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.java:2826)
        at java.lang.StringBuilder.append(StringBuilder.java:115)
        at org.apache.sling.discovery.impl.cluster.voting.VotingHelper.getWinningVoting(VotingHelper.java:164)
        at org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler.doCheckView(HeartbeatHandler.java:455)
        at org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler.checkView(HeartbeatHandler.java:425)
        at org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler.run(HeartbeatHandler.java:216)
        at org.apache.sling.discovery.impl.setup.Instance.runHeartbeatOnce(Instance.java:516)
        at org.apache.sling.discovery.impl.cluster.ClusterTest.runHeartbeatOnceWith(ClusterTest.java:538)
        at org.apache.sling.discovery.impl.cluster.ClusterTest.testConnectorSwitching4139(ClusterTest.java:303)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12771001">SLING-4366</key>
            <summary>NullPointerException in View.getViewId()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Jan 2015 12:33:49 +0000</created>
                <updated>Tue, 31 Mar 2015 13:41:43 +0000</updated>
                            <resolved>Thu, 29 Jan 2015 12:35:21 +0000</resolved>
                                    <version>Discovery Impl 1.0.12</version>
                                    <fixVersion>Discovery Impl 1.1.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 39 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24ybb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4362] [jcr mocks] Resource type not correctly loaded when using jcr mock</title>
                <link>https://issues.apache.org/jira/browse/SLING-4362</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;when setting resource resolver type to &lt;br/&gt;
ResourceResolverType.JCR_MOCK &lt;/p&gt;

&lt;p&gt;such loaded json &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:primaryType&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;nt:unstructured&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;sling:resourceType&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;fooType&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;thisIs&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;child&quot;&lt;/span&gt;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;to /content&lt;br/&gt;
gives /content/foo a resourceType == &quot;nt:unstructured&quot; instead of fooType, other properties (here thisIs) are correctly loaded&lt;/p&gt;</description>
                <environment></environment>
        <key id="12770680">SLING-4362</key>
            <summary>[jcr mocks] Resource type not correctly loaded when using jcr mock</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="npeltier">Nicolas Peltier</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Jan 2015 14:35:54 +0000</created>
                <updated>Fri, 5 Jun 2015 08:10:48 +0000</updated>
                            <resolved>Mon, 2 Feb 2015 11:26:38 +0000</resolved>
                                    <version>Testing JCR Mock 1.1.2</version>
                                    <fixVersion>Testing JCR Mock 1.1.4</fixVersion>
                    <fixVersion>Testing Sling Mock 1.2.0</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14295235" author="npeltier" created="Wed, 28 Jan 2015 15:01:26 +0000"  >&lt;p&gt;my guess here is content loader uses modifiable value map to create the resource that actually set the resourceType, but returns a resource based on the node (whose transient space is disconected from the modifiable value map&apos;s transient space).&lt;/p&gt;</comment>
                            <comment id="14301160" author="sseifert@pro-vision.de" created="Mon, 2 Feb 2015 11:13:33 +0000"  >&lt;p&gt;the problem is that the &quot;sling&quot; namespace is not registered correctly, and therefore the JCR resource implementation cannot detect the attribute correctly.&lt;/p&gt;</comment>
                            <comment id="14301169" author="sseifert@pro-vision.de" created="Mon, 2 Feb 2015 11:26:38 +0000"  >&lt;p&gt;Completed: At revision: 1656442  &lt;/p&gt;

&lt;p&gt;fixed in JCR mock 1.1.3-SNAPSHOT, and added unit test in sling mock to ensure the expected behavior.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12835072">SLING-4773</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24wdr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4359] LargeTopologyWithHubTest.testLargeTopologyWithHub test failure</title>
                <link>https://issues.apache.org/jira/browse/SLING-4359</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/sling-trunk-1.7/org.apache.sling$org.apache.sling.discovery.impl/1376/testReport/org.apache.sling.discovery.impl.topology/LargeTopologyWithHubTest/testLargeTopologyWithHub/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/sling-trunk-1.7/org.apache.sling$org.apache.sling.discovery.impl/1376/testReport/org.apache.sling.discovery.impl.topology/LargeTopologyWithHubTest/testLargeTopologyWithHub/&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.AssertionError: expected:&amp;lt;101&amp;gt; but was:&amp;lt;43&amp;gt;
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:743)
	at org.junit.Assert.assertEquals(Assert.java:118)
	at org.junit.Assert.assertEquals(Assert.java:555)
	at org.junit.Assert.assertEquals(Assert.java:542)
	at org.apache.sling.discovery.impl.topology.TopologyTestHelper.assertTopologyConsistsOf(TopologyTestHelper.java:127)
	at org.apache.sling.discovery.impl.topology.LargeTopologyWithHubTest.testLargeTopologyWithHub(LargeTopologyWithHubTest.java:84)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;grepping for log.info testLargeTopologyWithHub shows :&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;28.01.2015 08:16:25 *INFO * [main] LargeTopologyWithHubTest: testLargeTopologyWithHub: checking &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; all connectors are registered, TopologyView has 47 Instances
...
28.01.2015 08:16:32 *INFO * [main] LargeTopologyWithHubTest: testLargeTopologyWithHub: checking &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; all connectors are registered, TopologyView has 46 Instances
...
28.01.2015 08:16:38 *INFO * [main] LargeTopologyWithHubTest: testLargeTopologyWithHub: checking &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; all connectors are registered, TopologyView has 45 Instances
...
28.01.2015 08:16:44 *INFO * [main] LargeTopologyWithHubTest: testLargeTopologyWithHub: checking &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; all connectors are registered, TopologyView has 44 Instances
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;basically the instances die one after each other - probably due to no longer sending heartbeats. I&apos;ll check&lt;/p&gt;</description>
                <environment></environment>
        <key id="12770626">SLING-4359</key>
            <summary>LargeTopologyWithHubTest.testLargeTopologyWithHub test failure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Jan 2015 09:05:22 +0000</created>
                <updated>Wed, 30 Sep 2015 05:44:21 +0000</updated>
                            <resolved>Tue, 23 Jun 2015 13:36:27 +0000</resolved>
                                    <version>Discovery Impl 1.0.12</version>
                                    <fixVersion>Discovery Impl 1.1.8</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14597649" author="egli" created="Tue, 23 Jun 2015 13:36:27 +0000"  >&lt;p&gt;Have not seen this one fail recently. Marking fixed therefore. Can be reopened if it occurs again.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 19 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24w1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4352] The ResourceResolver passed to SlingScripts should not be closeable</title>
                <link>https://issues.apache.org/jira/browse/SLING-4352</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &lt;tt&gt;SlingServletResolver&lt;/tt&gt; uses an administrative resource resolver (&lt;tt&gt;sharedScriptResolver&lt;/tt&gt;) for script resolution. This same resolver is passed to SlingScripts when a resource is adapted to a &lt;tt&gt;SlingScript&lt;/tt&gt; in &lt;tt&gt;SlingServletResolver#findScript&lt;/tt&gt; (see &lt;tt&gt;SlingScriptAdapterFactory#getAdapter&lt;/tt&gt;).&lt;/p&gt;

&lt;p&gt;Since this resolver is made available to scripts in the &lt;tt&gt;ScriptContext&lt;/tt&gt; (see the implementation of &lt;tt&gt;DefaultSlingScript#call&lt;/tt&gt;), the resolver should be protected against accidental closing from downstream callers.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12770093">SLING-4352</key>
            <summary>The ResourceResolver passed to SlingScripts should not be closeable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 Jan 2015 14:14:54 +0000</created>
                <updated>Thu, 3 Aug 2023 05:02:09 +0000</updated>
                            <resolved>Thu, 3 Aug 2023 05:02:09 +0000</resolved>
                                                                    <component>Servlets</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14680091" author="cziegeler" created="Mon, 10 Aug 2015 13:17:52 +0000"  >&lt;p&gt;I think this is also true for the RR passed to SlingScript/ScriptContext in general. So I have the feeling that we maybe should solve this in a general solution in DefaultSlingScript.&lt;/p&gt;</comment>
                            <comment id="14933592" author="cziegeler" created="Mon, 28 Sep 2015 17:14:11 +0000"  >&lt;p&gt;We should create a dynamic proxy which simply ignores calls to close() and pass this on.&lt;br/&gt;
A dynamic proxy allows us to run with any version of the resource resolver api and avoids updating the servlet resolver bundle each time the resource resolver api changes.&lt;/p&gt;</comment>
                            <comment id="14933895" author="diru" created="Mon, 28 Sep 2015 20:02:07 +0000"  >&lt;p&gt;You could also expose an abstract ResourceResolverWrapper in the API which implements the actual ResourceResolver interface with delegation. The implementation would then only replace the close method. In that case both, servlet resolver and resource resolver API are still decoupled (depending on the major version only I think) but without introducing reflection and without intercepting any method invocation. &lt;/p&gt;

&lt;p&gt;And maybe ResourceResolverWrapper would be useful in other use-cases as well.&lt;/p&gt;</comment>
                            <comment id="14934631" author="cziegeler" created="Tue, 29 Sep 2015 05:11:56 +0000"  >&lt;p&gt;Yes we could do a wrapper and we&apos;ve also discussed adding such a thing some time ago and decided against it (can&apos;t remember the details). Now for this case, if we would go that way, we would tie the servlet resolver to the latest Sling API and it wouldn&apos;t work with the older api. Therefore with a proxy we can make sure that it still runs with older api versions.&lt;/p&gt;</comment>
                            <comment id="14934764" author="diru" created="Tue, 29 Sep 2015 07:10:48 +0000"  >&lt;p&gt;What about adding a ResourceResolverWrapper to both API and servlet resolver marking the second one as deprecated and switching to the API one when the dependency to the API gets updated next time?&lt;/p&gt;

&lt;p&gt;I&apos;m not completely sure about the use of reflection in that use case and the overhead it introduces for just replacing one method. &lt;/p&gt;</comment>
                            <comment id="14934968" author="cziegeler" created="Tue, 29 Sep 2015 10:24:37 +0000"  >&lt;p&gt;I think nowadays the overhead of reflection/proxy are nearly not noticible, in addition this resource resolver should only be used on first access of a servlet (like for the jsp compilation), from that one it should not be used anymore. So I think we can ignore performance considerations.&lt;br/&gt;
Even if we go with adding the wrapper to the servlet api as well, we can&apos;t get rid of it. As soon as we would we are again tied to the latest Sling API. And we don&apos;t really have a need for the wrapper in general.&lt;/p&gt;</comment>
                            <comment id="14936513" author="cziegeler" created="Wed, 30 Sep 2015 07:57:42 +0000"  >&lt;p&gt;While trying to implement this I noticed that a proxy (or wrapper) is not sufficient. We would need to wrap each and every resource returned as well. Otherwise the real resource resolver leaks through any resource returned by it.&lt;br/&gt;
I&apos;m wondering if all this is really worth the effort. For reference I&apos;ve attached a patch for creating the proxy (not sure if it&apos;s complete though)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12901020">SLING-5068</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12764396" name="patch-4352.txt" size="3783" author="cziegeler" created="Wed, 30 Sep 2015 07:58:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 5 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24stz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4350] minor typo in log message</title>
                <link>https://issues.apache.org/jira/browse/SLING-4350</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There&apos;s a minor typo in ClusterViewServiceImpl.getClusterView&apos;s log messages&lt;/p&gt;</description>
                <environment></environment>
        <key id="12770036">SLING-4350</key>
            <summary>minor typo in log message</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 Jan 2015 08:42:38 +0000</created>
                <updated>Tue, 31 Mar 2015 13:41:41 +0000</updated>
                            <resolved>Mon, 26 Jan 2015 08:45:58 +0000</resolved>
                                    <version>Discovery Impl 1.0.12</version>
                                    <fixVersion>Discovery Impl 1.1.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 40 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24shb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4348] Sync agents do not process the queue anymore</title>
                <link>https://issues.apache.org/jira/browse/SLING-4348</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Sync agents do not process the queue anymore. The queueEnabled flag is always false.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12769824">SLING-4348</key>
            <summary>Sync agents do not process the queue anymore</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mpetria">Marius Petria</assignee>
                                    <reporter username="mpetria">Marius Petria</reporter>
                        <labels>
                    </labels>
                <created>Sat, 24 Jan 2015 06:57:54 +0000</created>
                <updated>Sat, 24 Jan 2015 07:04:18 +0000</updated>
                            <resolved>Sat, 24 Jan 2015 07:04:13 +0000</resolved>
                                                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14290484" author="mpetria" created="Sat, 24 Jan 2015 07:02:26 +0000"  >&lt;p&gt;Committed revision 1654477.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 40 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24r6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4347] When a timezone is provided in a Date, it should be stored as provided</title>
                <link>https://issues.apache.org/jira/browse/SLING-4347</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Whenever a POST request is made and it contains a date string with a timezone in it. Sling turns it into the JVM local time and looses the provided timezone. The only exception for this is when the date is provided in the ISO8601 format, which uses a different date formatter.&lt;/p&gt;

&lt;p&gt;Sling should instead preserve the date as it is provided.&lt;/p&gt;

&lt;p&gt;This happens because Sling uses a SimpleDateFormat object to parse the Date string, which returns a date object.&lt;/p&gt;

&lt;p&gt;We could follow an approach like org.apache.jackrabbit.util.ISO8601 to achieve this.&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/repos/asf/jackrabbit/trunk/jackrabbit-jcr-commons/src/main/java/org/apache/jackrabbit/util/ISO8601.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/jackrabbit/trunk/jackrabbit-jcr-commons/src/main/java/org/apache/jackrabbit/util/ISO8601.java&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12769674">SLING-4347</key>
            <summary>When a timezone is provided in a Date, it should be stored as provided</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="santiagozky">Santiago Garc&#237;a Pimentel</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Jan 2015 16:55:45 +0000</created>
                <updated>Thu, 3 Aug 2023 05:01:59 +0000</updated>
                            <resolved>Thu, 3 Aug 2023 05:01:59 +0000</resolved>
                                                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14289515" author="santiagozky" created="Fri, 23 Jan 2015 16:57:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; what do you think about this?&lt;/p&gt;</comment>
                            <comment id="14729188" author="kwin" created="Thu, 3 Sep 2015 14:54:32 +0000"  >&lt;p&gt;We should first of all further clarify the fact, that only dates given in ISO8601 format keep the timezone and all others loose it in &lt;a href=&quot;https://sling.apache.org/documentation/bundles/manipulating-content-the-slingpostservlet-servlets-post.html#date-properties&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/bundles/manipulating-content-the-slingpostservlet-servlets-post.html#date-properties&lt;/a&gt;.&lt;br/&gt;
This is due to the fact that the &lt;tt&gt;Date&lt;/tt&gt; object does not store this offset (see also &lt;a href=&quot;https://groups.google.com/forum/#!topic/comp.lang.java.programmer/uAdwiz8-Dgo&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://groups.google.com/forum/#!topic/comp.lang.java.programmer/uAdwiz8-Dgo&lt;/a&gt;) and all other formats except ISO8601 use the Date object only to initialize the Calendar.&lt;/p&gt;

&lt;p&gt;Changing this is not that simple though, because only Java 8 introduced some more sophisticated time/date classes (&lt;a href=&quot;http://www.oracle.com/technetwork/articles/java/jf14-date-time-2125367.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.oracle.com/technetwork/articles/java/jf14-date-time-2125367.html&lt;/a&gt;). Although &lt;tt&gt;Calendar&lt;/tt&gt; objects support storing the timezone offset, that timezone needs to be set explicitly. If you rely on the parsing of some of the pre-Java8 classes you cannot really get that to work. So the option would be to extract that manually from the date (after the Java Date object was given), but I would guess this is just too much effort.&lt;br/&gt;
I would rather suggest to close this as Won&apos;t Fix and clearly document that the timezone is lost, whenever you store it through the Sling POST Servlet if you don&apos;t give it in ISO8601 format.&lt;/p&gt;</comment>
                            <comment id="14729225" author="kwin" created="Thu, 3 Sep 2015 15:16:35 +0000"  >&lt;p&gt;I clarified the documentation at &lt;a href=&quot;https://sling.apache.org/documentation/bundles/manipulating-content-the-slingpostservlet-servlets-post.html#date-properties&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/bundles/manipulating-content-the-slingpostservlet-servlets-post.html#date-properties&lt;/a&gt; with &lt;a href=&quot;http://svn.apache.org/r1701046&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1701046&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12762604">SLING-4258</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 8 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24qan:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4346] Sightly: HtmlParser does not parse documents correctly when comments span across internal char buffer size</title>
                <link>https://issues.apache.org/jira/browse/SLING-4346</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The HTML parser used by Sightly to process templates is parsing incorrectly comments that span across it&apos;s internal char buffer size. Right now the buffer is set to 2048 characters, making the problem hard to see.&lt;/p&gt;

&lt;p&gt;The problem can be exposed by lowering the buffer size to 10 and feeding a string such as &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;test test &amp;lt;!--&lt;span class=&quot;code-comment&quot;&gt;/*comment*/&lt;/span&gt;--&amp;gt;&quot;&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12769628">SLING-4346</key>
            <summary>Sightly: HtmlParser does not parse documents correctly when comments span across internal char buffer size</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="vladb">Vlad Bailescu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Jan 2015 12:17:53 +0000</created>
                <updated>Wed, 11 Mar 2015 13:59:42 +0000</updated>
                            <resolved>Fri, 23 Jan 2015 14:16:34 +0000</resolved>
                                                    <fixVersion>Scripting Sightly Engine 1.0.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14289245" author="vladb" created="Fri, 23 Jan 2015 13:34:11 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Added helper method to handle comments&lt;/li&gt;
	&lt;li&gt;Fixed data handling for comments inside the parser state machine&lt;/li&gt;
	&lt;li&gt;Made internal char buffer size configurable&lt;/li&gt;
	&lt;li&gt;Added unit tests&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14289276" author="fmeschbe" created="Fri, 23 Jan 2015 14:16:34 +0000"  >&lt;p&gt;Thanks for providing the patch. I have applied it in Rev. 1654218&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12694151" name="SLING-4346_Sightly__HtmlParser_does_not_parse_documents_correctly_when_comments_span_acros.patch" size="11319" author="vladb" created="Fri, 23 Jan 2015 13:34:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 40 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24q0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4345] RootResourceProviderEntry.queryResources iterator causes infinite loop</title>
                <link>https://issues.apache.org/jira/browse/SLING-4345</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This causes the FullTextIndexingTest and JsonQueryServletTest integration tests to go into infinite loops.&lt;/p&gt;

&lt;p&gt;Steps to reproduce:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;cd launchpad/testing
mvn clean launchpad:run

# in another console
curl -u admin:admin -Ftitle=foo http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8888/tmp/foo
&lt;/span&gt;curl -s &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8888/JsonQueryServletTest_1421946840413.query.tidy.json?queryType=xpath&amp;amp;statement=//tmp/foo&quot;&lt;/span&gt;
&lt;/span&gt;[{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:path&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;/tmp/foo&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:score&quot;&lt;/span&gt;: 1000,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:primaryType&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;nt:unstructured&quot;&lt;/span&gt;
  },{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:path&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;/tmp/foo&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:score&quot;&lt;/span&gt;: 1000,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:primaryType&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;nt:unstructured&quot;&lt;/span&gt;
  },{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:path&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;/tmp/foo&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:score&quot;&lt;/span&gt;: 1000,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:primaryType&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;nt:unstructured&quot;&lt;/span&gt;
  },{
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The unique query result is returned in an infinite loop.&lt;/p&gt;

&lt;p&gt;The cause seems to be the new Iterator&amp;lt;Resource&amp;gt;() created in line 132 of RootResourceProviderEntry.queryResources()&lt;/p&gt;</description>
                <environment></environment>
        <key id="12769376">SLING-4345</key>
            <summary>RootResourceProviderEntry.queryResources iterator causes infinite loop</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Jan 2015 17:34:42 +0000</created>
                <updated>Thu, 22 Jan 2015 18:57:54 +0000</updated>
                            <resolved>Thu, 22 Jan 2015 18:57:54 +0000</resolved>
                                                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14287835" author="kwin" created="Thu, 22 Jan 2015 17:41:37 +0000"  >&lt;p&gt;Isn&apos;t this a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4343&quot; title=&quot;Iterator from JcrResourceProvider.queryResources() keeps returning same value on next()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4343&quot;&gt;&lt;del&gt;SLING-4343&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12762604">SLING-4258</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12769344">SLING-4343</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 40 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24oi7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4344] Modifying i18n language node in a path outside the resource resolver&apos;s search path will not invalidate the ResourceBundle cache</title>
                <link>https://issues.apache.org/jira/browse/SLING-4344</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently any modification of a Sling i18n message will not invalidate the &lt;tt&gt;resourceBundleCache&lt;/tt&gt; in the &lt;tt&gt;JcrResourceBundleProvide&lt;/tt&gt; (&lt;a href=&quot;https://github.com/apache/sling/blob/trunk/contrib/extensions/i18n/src/main/java/org/apache/sling/i18n/impl/JcrResourceBundleProvider.java#L118&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/contrib/extensions/i18n/src/main/java/org/apache/sling/i18n/impl/JcrResourceBundleProvider.java#L118&lt;/a&gt;), because the &lt;tt&gt;languageRoots&lt;/tt&gt; for a &lt;tt&gt;JcrResourceBundle&lt;/tt&gt; with a unique basename and contents only outside of the resource resolver&apos;s search path are always empty (&lt;a href=&quot;https://github.com/apache/sling/blob/trunk/contrib/extensions/i18n/src/main/java/org/apache/sling/i18n/impl/JcrResourceBundle.java#L211&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/contrib/extensions/i18n/src/main/java/org/apache/sling/i18n/impl/JcrResourceBundle.java#L211&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;I would argue that it should be allowed to place language nodes anywhere in the repository, which seems to work well except for the cache invalidation. The problem is in the &lt;tt&gt;loadFully&lt;/tt&gt; method (&lt;a href=&quot;https://github.com/apache/sling/blob/trunk/contrib/extensions/i18n/src/main/java/org/apache/sling/i18n/impl/JcrResourceBundle.java#L155&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/contrib/extensions/i18n/src/main/java/org/apache/sling/i18n/impl/JcrResourceBundle.java#L155&lt;/a&gt;) which will only set languageRoots if they are below any of the resource resolver&apos;s search paths.&lt;/p&gt;

&lt;p&gt;To reproduce the issue you can just add the following node structure&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/content/languages
           +-- English (nt:folder, mix:language)
           |    +-- jcr:language = en
           |    +-- basename = myuniquebasename
           |    +-- m1 (sling:messageEntry)
           |    |    +-- sling:key = &lt;span class=&quot;code-quote&quot;&gt;&quot;msg001&quot;&lt;/span&gt;
           |    |    +-- sling:message = &lt;span class=&quot;code-quote&quot;&gt;&quot;This is a message&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then load the key from this resource bundle (by giving the right basename). It will internally put the resource bundle into the cache (although all contents of the given resource bundle are outside any of the default search paths /apps or /libs). Whenever you change the message that won&apos;t be reflected, because the resource bundle cache is not invalidated (caused by the empty &lt;tt&gt;languageRoots&lt;/tt&gt;) therefore the old message would still be exposed, until you restart the Sling i18n bundle.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12769354">SLING-4344</key>
            <summary>Modifying i18n language node in a path outside the resource resolver&apos;s search path will not invalidate the ResourceBundle cache</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Jan 2015 16:34:12 +0000</created>
                <updated>Thu, 23 Apr 2015 06:51:32 +0000</updated>
                            <resolved>Fri, 23 Jan 2015 08:16:46 +0000</resolved>
                                    <version>i18n 2.3.2</version>
                                    <fixVersion>i18n 2.4.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14287814" author="kwin" created="Thu, 22 Jan 2015 17:31:20 +0000"  >&lt;p&gt;The attached patch seems to fix the issue. But I did not test it very thoroughly. &lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; Can you have a look?&lt;/p&gt;</comment>
                            <comment id="14288202" author="cziegeler" created="Thu, 22 Jan 2015 20:55:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; Patch lgtm&lt;/p&gt;</comment>
                            <comment id="14288957" author="kwin" created="Fri, 23 Jan 2015 08:16:28 +0000"  >&lt;p&gt;Applied a slightly modified patch in rev 1653136.&lt;/p&gt;</comment>
                            <comment id="14295900" author="alexander.klimetschek" created="Wed, 28 Jan 2015 21:31:51 +0000"  >&lt;p&gt;Hmm, while the fix might be good, I don&apos;t think it&apos;s a good idea to put resource bundles outside /apps or /libs. They are considered part of the code base and thus follow very different ACLs and lifecycle than say /content (as in above example), so you want to be really careful about this.&lt;/p&gt;</comment>
                            <comment id="14297818" author="kwin" created="Thu, 29 Jan 2015 22:23:12 +0000"  >&lt;p&gt;But my point is, since JCR Resource Bundles can be fed from anywhere in the repository and just the invalidation is broken, I just fixed the invalidation (instead of just disallowing language nodes anywhere outside the resource resolver&apos;s search path, which would have been an incompatible change).&lt;/p&gt;

&lt;p&gt;Also I would argue, that there are some good use cases for maintaining resource bundles inside the content. They should be clearly separated from the regular resource bundles (by giving them a dedicated basename), but the mechanism and the connected tools (e.g. CQ translator in the CMS built on top of Sling) is also very good for being used inside /content. Those language nodes clearly follow a different lifecycle and ACLs, but still the mechanism is useful.&lt;/p&gt;</comment>
                            <comment id="14301462" author="alexander.klimetschek" created="Mon, 2 Feb 2015 17:03:24 +0000"  >&lt;p&gt;IMO Sling i18n is not really designed for customer-changeable string dictionaries.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12693933" name="SLING-4344-v02.patch" size="722" author="kwin" created="Thu, 22 Jan 2015 17:33:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24odb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4343] Iterator from JcrResourceProvider.queryResources() keeps returning same value on next()</title>
                <link>https://issues.apache.org/jira/browse/SLING-4343</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The iterator returned from &lt;tt&gt;JcrResourceProvider.queryResources()&lt;/tt&gt; always returns the same value on next().&lt;/p&gt;</description>
                <environment></environment>
        <key id="12769344">SLING-4343</key>
            <summary>Iterator from JcrResourceProvider.queryResources() keeps returning same value on next()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="ahanikel">Axel Hanikel</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Jan 2015 16:09:34 +0000</created>
                <updated>Mon, 26 Jan 2015 10:37:01 +0000</updated>
                            <resolved>Thu, 22 Jan 2015 17:40:47 +0000</resolved>
                                    <version>JCR Resource 2.3.12</version>
                    <version>JCR Resource 2.4.2</version>
                                    <fixVersion>JCR Resource 2.4.4</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14287658" author="ahanikel" created="Thu, 22 Jan 2015 16:12:20 +0000"  >&lt;p&gt;The following seems to fix it:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@@ -304,6 +304,7 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;JcrResourceProvider
                         &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; NoSuchElementException();
                     }
                     &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ValueMap result = next;
+                    next = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
                     seek();
                     &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; result;
                 }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14287833" author="cziegeler" created="Thu, 22 Jan 2015 17:40:47 +0000"  >&lt;p&gt;Fixed in rev 1653969&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12769376">SLING-4345</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 40 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24ob3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4341] Removing packages from queues should also delete packages</title>
                <link>https://issues.apache.org/jira/browse/SLING-4341</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Removing packages from queues should also delete packages. Right now the queueitems only hold the id and the type of a package. We need a provider that can return a packagebuilder based on the type and use that to delete the package when a package is removed from queue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12769326">SLING-4341</key>
            <summary>Removing packages from queues should also delete packages</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mpetria">Marius Petria</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Jan 2015 15:23:21 +0000</created>
                <updated>Tue, 19 May 2015 14:42:49 +0000</updated>
                            <resolved>Tue, 19 May 2015 14:42:40 +0000</resolved>
                                                    <fixVersion>Content Distribution Core 0.1.1</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 40 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24o73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4340] Improve resource type handling</title>
                <link>https://issues.apache.org/jira/browse/SLING-4340</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The change made in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4247&quot; title=&quot;Reconsider resource type handling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4247&quot;&gt;&lt;del&gt;SLING-4247&lt;/del&gt;&lt;/a&gt; created an unfortunate side effect for this scenario:&lt;/p&gt;

&lt;p&gt;/apps/a/1/a - nt:unstructured node, no sling:resourceType property&lt;br/&gt;
/apps/a/2/a - sling:resourceType set to foo/bar&lt;/p&gt;

&lt;p&gt;/apps/a/1 has sling:resourceSuperType set to /apps/a/2&lt;/p&gt;

&lt;p&gt;Then&lt;/p&gt;

&lt;p&gt;resourceResolver.getResource(&quot;/mnt/override/apps/a/1/a&quot;).getResourceType() will be nt:unstructured&lt;/p&gt;

&lt;p&gt;This strikes me as wrong. And in fact screws up what is for me the main usage of this feature because it shouldn&apos;t be necessary to set the sling:resourceType all the time.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12769024">SLING-4340</key>
            <summary>Improve resource type handling</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Jan 2015 17:03:47 +0000</created>
                <updated>Tue, 2 Aug 2022 08:53:58 +0000</updated>
                            <resolved>Tue, 3 Feb 2015 12:04:52 +0000</resolved>
                                                    <fixVersion>Resource Merger 1.2.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14285892" author="justinedelson" created="Wed, 21 Jan 2015 17:06:24 +0000"  >&lt;p&gt;In r1653604, I changed the logic so that it first tries to use the sling:resourceType property and then falls back to the first non-null getResourceType() return value.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; can you take a look?&lt;/p&gt;</comment>
                            <comment id="14286286" author="cziegeler" created="Wed, 21 Jan 2015 21:18:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=justinedelson&quot; class=&quot;user-hover&quot; rel=&quot;justinedelson&quot;&gt;justinedelson&lt;/a&gt; I think that change is wrong, it assumes that resources use the sling:resourceType property which is not required, and your /apps/a/1/a resource shows that it&apos;s not the case. What if that resource had &quot;sling:resourceType&quot; set to &quot;nt:unstructured&quot; ? Then you would end up with the same problem&lt;/p&gt;</comment>
                            <comment id="14286483" author="justinedelson" created="Wed, 21 Jan 2015 22:58:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; so to your mind, in the scenario I described, what should&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;resourceResolver.getResource(&lt;span class=&quot;code-quote&quot;&gt;&quot;/mnt/override/apps/a/1/a&quot;&lt;/span&gt;).getResourceType()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;return?&lt;/p&gt;

&lt;p&gt;With the change in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4247&quot; title=&quot;Reconsider resource type handling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4247&quot;&gt;&lt;del&gt;SLING-4247&lt;/del&gt;&lt;/a&gt;, it returns &quot;nt:unstructured&quot;. This, IMHO, is not correct. I expect the return value is &quot;foo/bar&quot; and that&apos;s what the change in r1653604 accomplishes.&lt;/p&gt;

&lt;p&gt;And to be clear, my change does not assume that the sling:resourceType proeprty is set. It does, however, assume that if the sling:resourceType property is in the merged value map, it should take precedence. I agree this isn&apos;t ideal, but right now there&apos;s no other way (at least no other way I can think of) to get the correct value and I think this is a reasonable compromise.&lt;/p&gt;</comment>
                            <comment id="14286739" author="cziegeler" created="Thu, 22 Jan 2015 01:34:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=justinedelson&quot; class=&quot;user-hover&quot; rel=&quot;justinedelson&quot;&gt;justinedelson&lt;/a&gt; With your change, as soon as any resource has a sling:resourceType property that is used, no matter where in the hierarchy or list of merged resources this resource is. For your example it works, but I&apos;m pretty sure it is easy to find a counter example where it does not work.&lt;br/&gt;
The questions is really how the resource type should be computed - the change in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4247&quot; title=&quot;Reconsider resource type handling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4247&quot;&gt;&lt;del&gt;SLING-4247&lt;/del&gt;&lt;/a&gt; was for a use case where actually no resource had a sling:resourceType property but of course the resources returned one. Which still would work with your change.&lt;br/&gt;
Looking at your use case: you have resource a1 with a resource type of &quot;nt:unstructed&quot;, a resource super type of &quot;a2&quot; and a2 has the resource type foo/bar - now you&apos;re requesting the merged a1 resource. Which resource type does it have? I would assume the one from the lowest resource in the tree which is a1. Or is it the highest in the tree which would be foo/bar?&lt;/p&gt;</comment>
                            <comment id="14286766" author="justinedelson" created="Thu, 22 Jan 2015 01:59:38 +0000"  >&lt;blockquote&gt;&lt;p&gt;Looking at your use case: you have resource a1 with a resource type of &quot;nt:unstructed&quot;, a resource super type of &quot;a2&quot; and a2 has the resource type foo/bar - now you&apos;re requesting the merged a1 resource. Which resource type does it have? I would assume the one from the lowest resource in the tree which is a1. Or is it the highest in the tree which would be foo/bar?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m just trying to inuit the user&apos;s intention. My belief is that for the use case this feature was designed for (UI extension), the intention would always be that the sling:resourceType property takes precedence over the node type. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gknob&quot; class=&quot;user-hover&quot; rel=&quot;gknob&quot;&gt;gknob&lt;/a&gt; - would you concur?&lt;/p&gt;

&lt;p&gt;Perhaps the crux of the problem is that we don&apos;t differentiate between the case when the resource type is defined by the sling:resourceType property and when it is defined by the node type. I&apos;m certainly of the mind that the latter should take precedence over the former, but this is obviously a specific implementation detail of the JCR Resource Provider, so maybe we should be doing something that checks for the specific implementation class.&lt;/p&gt;

&lt;p&gt;In other words, going back to your question of:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;What if that resource had &quot;sling:resourceType&quot; set to &quot;nt:unstructured&quot; ? Then you would end up with the same problem&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I do think that this is more meaningful that the resource type being nt:unstructured because that&apos;s what the node type is. In other words, &lt;b&gt;how&lt;/b&gt; the resource type is derived is an important factor in determining what the merged resource type should be. But the &quot;how&quot; information isn&apos;t surfaced to the merger, so we have to use the property.&lt;/p&gt;

&lt;p&gt;In practical terms, the change in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4247&quot; title=&quot;Reconsider resource type handling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4247&quot;&gt;&lt;del&gt;SLING-4247&lt;/del&gt;&lt;/a&gt; creates a significant backwards-compatibility issues and will require non-trivial changes to most usages of it (at least those that use our commerical product). If you look at this project for example: &lt;a href=&quot;https://github.com/Adobe-Marketing-Cloud/aem-authoring-extension-header-backtosites&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/Adobe-Marketing-Cloud/aem-authoring-extension-header-backtosites&lt;/a&gt;, it would require somewhere between 5 and 10 nodes to have a sling:resourceType property set on them to achive the pre-&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4247&quot; title=&quot;Reconsider resource type handling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4247&quot;&gt;&lt;del&gt;SLING-4247&lt;/del&gt;&lt;/a&gt; behavior.&lt;/p&gt;</comment>
                            <comment id="14287172" author="bdelacretaz" created="Thu, 22 Jan 2015 09:41:26 +0000"  >&lt;p&gt;Aren&apos;t there tests to demonstrate what the correct behavior is and prevent regressions?&lt;/p&gt;</comment>
                            <comment id="14287984" author="cziegeler" created="Thu, 22 Jan 2015 18:59:18 +0000"  >&lt;p&gt;We don&apos;t have tests as we don&apos;t know the correct behaviour&lt;/p&gt;</comment>
                            <comment id="14289334" author="cziegeler" created="Fri, 23 Jan 2015 14:58:09 +0000"  >&lt;p&gt;I think we should come to a conclusion here, we have four options:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;leave it as is which is a special handling that needs to be explained&lt;/li&gt;
	&lt;li&gt;pick the highest resource and use that RT&lt;/li&gt;
	&lt;li&gt;pick the lowest resource and use that RT&lt;/li&gt;
	&lt;li&gt;do something different&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14294941" author="cziegeler" created="Wed, 28 Jan 2015 09:48:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=justinedelson&quot; class=&quot;user-hover&quot; rel=&quot;justinedelson&quot;&gt;justinedelson&lt;/a&gt; What about a compromise:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;we set the resource type based on Resource#getResourceType() as introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4247&quot; title=&quot;Reconsider resource type handling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4247&quot;&gt;&lt;del&gt;SLING-4247&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;we set resource super type to sling:resourceType - if different from resource type&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Would that help in your case?&lt;/p&gt;</comment>
                            <comment id="14295476" author="justinedelson" created="Wed, 28 Jan 2015 17:43:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; I think this will work for my use case, but I&apos;d like to test a bit locally.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gknob&quot; class=&quot;user-hover&quot; rel=&quot;gknob&quot;&gt;gknob&lt;/a&gt; any thoughts?&lt;/p&gt;</comment>
                            <comment id="14296550" author="cziegeler" created="Thu, 29 Jan 2015 08:02:35 +0000"  >&lt;p&gt;Implemented as explained above and added some test cases.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=justinedelson&quot; class=&quot;user-hover&quot; rel=&quot;justinedelson&quot;&gt;justinedelson&lt;/a&gt; If you can agree on the change, we can resolve this and start a release&lt;/p&gt;</comment>
                            <comment id="14303153" author="cziegeler" created="Tue, 3 Feb 2015 12:04:52 +0000"  >&lt;p&gt;Assuming consensus&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12761710">SLING-4247</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13474656">SLING-11506</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24mdz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4339] NullPointerException at org.apache.sling.engine.impl.parameters.RequestParameterSupportConfigurer.getFileLocation(RequestParameterSupportConfigurer.java:132)</title>
                <link>https://issues.apache.org/jira/browse/SLING-4339</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="12768942">SLING-4339</key>
            <summary>NullPointerException at org.apache.sling.engine.impl.parameters.RequestParameterSupportConfigurer.getFileLocation(RequestParameterSupportConfigurer.java:132)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="ronaldploeger">Ronald Pl&#246;ger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Jan 2015 10:30:46 +0000</created>
                <updated>Wed, 10 Jun 2015 05:41:17 +0000</updated>
                            <resolved>Wed, 4 Feb 2015 13:16:39 +0000</resolved>
                                                    <fixVersion>Engine 2.4.0</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14285465" author="ronaldploeger" created="Wed, 21 Jan 2015 10:36:45 +0000"  >&lt;p&gt;When I try to set &quot;Default Parameter Encoding&quot; in the OSGI Configuration &quot;Apache Sling Request Parameter Handling&quot; in &quot;Adobe Experience Manager (6.0.0.SP1)&quot; I get the following NullPointerException when &quot;Temporary File Location&quot; is left empty. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;21.01.2015 10:54:15.564 *ERROR* [CM Event Dispatcher (Fire ConfigurationEvent: pid=org.apache.sling.engine.parameters)] org.apache.sling.engine [org.apache.sling.engine.parameters(456)] The configure method has thrown an exception (java.lang.NullPointerException)
java.lang.NullPointerException: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
	at org.apache.sling.engine.impl.parameters.RequestParameterSupportConfigurer.getFileLocation(RequestParameterSupportConfigurer.java:132)
	at org.apache.sling.engine.impl.parameters.RequestParameterSupportConfigurer.configure(RequestParameterSupportConfigurer.java:108)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.felix.scr.impl.helper.BaseMethod.invokeMethod(BaseMethod.java:231)
	at org.apache.felix.scr.impl.helper.BaseMethod.access$500(BaseMethod.java:39)
	at org.apache.felix.scr.impl.helper.BaseMethod$Resolved.invoke(BaseMethod.java:624)
	at org.apache.felix.scr.impl.helper.BaseMethod.invoke(BaseMethod.java:508)
	at org.apache.felix.scr.impl.helper.ActivateMethod.invoke(ActivateMethod.java:149)
	at org.apache.felix.scr.impl.manager.SingleComponentManager.createImplementationObject(SingleComponentManager.java:315)
	at org.apache.felix.scr.impl.manager.SingleComponentManager.createComponent(SingleComponentManager.java:127)
	at org.apache.felix.scr.impl.manager.SingleComponentManager.getService(SingleComponentManager.java:871)
	at org.apache.felix.scr.impl.manager.SingleComponentManager.getServiceInternal(SingleComponentManager.java:838)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.activateInternal(AbstractComponentManager.java:850)
	at org.apache.felix.scr.impl.manager.SingleComponentManager.reconfigure(SingleComponentManager.java:648)
	at org.apache.felix.scr.impl.config.ConfigurableComponentHolder.configurationUpdated(ConfigurableComponentHolder.java:328)
	at org.apache.felix.scr.impl.config.ConfigurationSupport.configurationEvent(ConfigurationSupport.java:290)
	at org.apache.felix.cm.impl.ConfigurationManager$FireConfigurationEvent.sendEvent(ConfigurationManager.java:2032)
	at org.apache.felix.cm.impl.ConfigurationManager$FireConfigurationEvent.run(ConfigurationManager.java:2002)
	at org.apache.felix.cm.impl.UpdateThread.run(UpdateThread.java:103)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It only works when I set &quot;Temporary File Location&quot; to an absolute path.This is because &quot;SlingSettingsService settings&quot; is null in the following code and this is not checked:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getFileLocation(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ComponentContext context, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fileLocation) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (fileLocation != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            File file = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(fileLocation);
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!file.isAbsolute()) {
                &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; SlingSettingsService settings = (SlingSettingsService) context.locateService(&lt;span class=&quot;code-quote&quot;&gt;&quot;SlingSettings&quot;&lt;/span&gt;);
                file = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(settings.getSlingHomePath(), fileLocation);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14305059" author="cziegeler" created="Wed, 4 Feb 2015 13:16:39 +0000"  >&lt;p&gt;Thanks for reporting Ronald; I think there is no reason why we should make the settings service a required dependency. I&apos;ve changed this in rev 1657190&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12836597">SLING-4791</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24lwf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4338] NODE_MOVED event not handled correctly in distribution event trigger</title>
                <link>https://issues.apache.org/jira/browse/SLING-4338</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;in &lt;a href=&quot;https://github.com/apache/sling/blob/ea9eda824479a6a7998981c2cc2e34610a0e86ea/contrib/extensions/distribution/core/src/main/java/org/apache/sling/distribution/trigger/impl/JcrEventDistributionTrigger.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/ea9eda824479a6a7998981c2cc2e34610a0e86ea/contrib/extensions/distribution/core/src/main/java/org/apache/sling/distribution/trigger/impl/JcrEventDistributionTrigger.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;if a node is being moved, a delete of the old location needs to happen in addition to the add of the new location.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12768752">SLING-4338</key>
            <summary>NODE_MOVED event not handled correctly in distribution event trigger</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mpetria">Marius Petria</assignee>
                                    <reporter username="lbyrum">Laurie byrum</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Jan 2015 19:18:06 +0000</created>
                <updated>Tue, 31 Mar 2015 15:23:16 +0000</updated>
                            <resolved>Tue, 17 Feb 2015 09:10:13 +0000</resolved>
                                                    <fixVersion>Content Distribution 0.1.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14284339" author="lbyrum" created="Tue, 20 Jan 2015 20:16:13 +0000"  >&lt;p&gt;(or you could just remove NODE_MOVED from the list of event types, and you will get an ADD and/or a DELETE as appropriate)&lt;/p&gt;</comment>
                            <comment id="14323966" author="mpetria" created="Tue, 17 Feb 2015 09:10:13 +0000"  >&lt;p&gt;Fixed by ignoring MOVE event and only treating ADD DELETE.&lt;br/&gt;
Committed revision 1660327.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 37 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24kpr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4337] Sightly should only log errors from use providers if none of the use providers succeeded</title>
                <link>https://issues.apache.org/jira/browse/SLING-4337</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;While iterating through the use providers, it is possible that one with fail and a later one will succeed. In this case, it doesn&apos;t make sense to log the failure from the first case. However, this is exactly what happens now with the PojoUseProvider which logs an error if a class can&apos;t be instantiated.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12768722">SLING-4337</key>
            <summary>Sightly should only log errors from use providers if none of the use providers succeeded</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Jan 2015 17:47:45 +0000</created>
                <updated>Mon, 30 Mar 2015 12:19:07 +0000</updated>
                            <resolved>Mon, 26 Jan 2015 16:26:35 +0000</resolved>
                                                    <fixVersion>Scripting Sightly Engine 1.0.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14289353" author="justinedelson" created="Fri, 23 Jan 2015 15:09:43 +0000"  >&lt;p&gt;Proposed patch: &lt;a href=&quot;https://codereview.appspot.com/192520043&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://codereview.appspot.com/192520043&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu.cotescu&quot; class=&quot;user-hover&quot; rel=&quot;radu.cotescu&quot;&gt;radu.cotescu&lt;/a&gt; please take a look when you have a chance&lt;/p&gt;</comment>
                            <comment id="14291772" author="radu.cotescu" created="Mon, 26 Jan 2015 12:32:08 +0000"  >&lt;p&gt;I attached the patch provided by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=justinedelson&quot; class=&quot;user-hover&quot; rel=&quot;justinedelson&quot;&gt;justinedelson&lt;/a&gt; (&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12694543/12694543_SLING-4337.patch&quot; title=&quot;SLING-4337.patch attached to SLING-4337&quot;&gt;SLING-4337.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;) after reviewing it:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;created an outcome initialised from an exception&lt;/li&gt;
	&lt;li&gt;query all providers and if no provider returns success throw an exception with  the cause set to the exception thrown by the last provider that failed&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14291930" author="tuerkben" created="Mon, 26 Jan 2015 15:10:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu.cotescu&quot; class=&quot;user-hover&quot; rel=&quot;radu.cotescu&quot;&gt;radu.cotescu&lt;/a&gt; when the patch will be applied to the master branch ?&lt;/p&gt;</comment>
                            <comment id="14292025" author="fmeschbe" created="Mon, 26 Jan 2015 16:26:35 +0000"  >&lt;p&gt;Thanks for providing the patch. I have applied it in Rev. 1654840 with a slight modification:&lt;/p&gt;

&lt;p&gt;One slight modification, though: I made the three fields of ProviderOutcome final and add the cause to the private constructor. Also renamed the field t to cause and the method to getCause &amp;#8211; along the lines of how Throwable does it.&lt;/p&gt;

&lt;p&gt;Also added and adapted some JavaDoc&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12694543" name="SLING-4337.patch" size="5003" author="radu" created="Mon, 26 Jan 2015 12:32:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 40 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24kjb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4336] getNode() or getNodes() method throws : org.mozilla.javascript.EcmaError</title>
                <link>https://issues.apache.org/jira/browse/SLING-4336</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;While executing the below code with ecma script we receive the the : org.mozilla.javascript.EcmaError. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; payload = session.getNode(payloadPath);
&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;payload path = &quot;&lt;/span&gt; + payload.getPath());
&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; inFolder = payload.getNode(&lt;span class=&quot;code-quote&quot;&gt;&quot;input&quot;&lt;/span&gt;);
&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;inFolder path = &quot;&lt;/span&gt; + inFolder.getPath());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Where payload is string which is a valid JCR path having sub nodes as well. when we call getNode method it throws the above mentioned error. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12768643">SLING-4336</key>
            <summary>getNode() or getNodes() method throws : org.mozilla.javascript.EcmaError</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pulkagar">Pulkit Agarwal</reporter>
                        <labels>
                            <label>ECMA</label>
                    </labels>
                <created>Tue, 20 Jan 2015 10:55:29 +0000</created>
                <updated>Tue, 20 Jan 2015 12:29:48 +0000</updated>
                            <resolved>Tue, 20 Jan 2015 12:29:48 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14283772" author="chetanm" created="Tue, 20 Jan 2015 12:29:06 +0000"  >&lt;p&gt;I think issue here is how the script is being executed by Adobe AEM product which uses Sling Scripting support and is not a bug in Sling Scripting support. So would suggest you to check with Adobe Support for that&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12693282" name="ecma.logs" size="14789" author="pulkagar" created="Tue, 20 Jan 2015 10:57:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 41 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24k1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4335] Deadlock on startup due to SLING-4197</title>
                <link>https://issues.apache.org/jira/browse/SLING-4335</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The changes introduced with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4197&quot; title=&quot;Startup fails if StartupHandler throws an exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4197&quot;&gt;&lt;del&gt;SLING-4197&lt;/del&gt;&lt;/a&gt; might cause a deadlock in the startup; I haven&apos;t analysed this in detail, however reverting this change solves the problem&lt;/p&gt;</description>
                <environment></environment>
        <key id="12768595">SLING-4335</key>
            <summary>Deadlock on startup due to SLING-4197</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Jan 2015 05:35:57 +0000</created>
                <updated>Mon, 26 Jan 2015 10:37:21 +0000</updated>
                            <resolved>Tue, 20 Jan 2015 05:44:41 +0000</resolved>
                                    <version>Launchpad Base 2.5.4</version>
                                    <fixVersion>Launchpad Base 2.5.6</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14283431" author="cziegeler" created="Tue, 20 Jan 2015 05:44:41 +0000"  >&lt;p&gt;Fixed in rev 1653195&lt;br/&gt;
It seems the repeated gets from the service registry caused the problem; i&apos;ve simplified the code to use the already cached result from the tracker instead&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 41 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24jrz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4334] Need to expose do.not.distribute in API</title>
                <link>https://issues.apache.org/jira/browse/SLING-4334</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I want to distribute in an event listener. However, to avoid loops, i want to make use of the do.not.distribute userproperty that the distribution code sets. However, this property is nowhere in the API. Bare minimum, it would be good to expose that string. Better would be a util method that takes an event and says whether the event was generated by distribution.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12768558">SLING-4334</key>
            <summary>Need to expose do.not.distribute in API</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lbyrum">Laurie byrum</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Jan 2015 23:19:56 +0000</created>
                <updated>Tue, 20 Jan 2015 16:45:31 +0000</updated>
                            <resolved>Tue, 20 Jan 2015 16:45:26 +0000</resolved>
                                                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14283574" author="teofili" created="Tue, 20 Jan 2015 08:01:55 +0000"  >&lt;p&gt;you can do that by adding the dependency to the org.apache.sling.distribution.core bundle which exports only the org.apache.distribution.util package, there you can find DistributionJcrUtils class and call DistributionJcrUtils.setDoNotDistribute(session) or DistributionJcrUtils.isSafe(event) from within your bundle.&lt;/p&gt;</comment>
                            <comment id="14283994" author="lbyrum" created="Tue, 20 Jan 2015 16:45:19 +0000"  >&lt;p&gt;Thanks, Tommaso! That&apos;s all i need then.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 41 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24jjr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4332] Malformed .content.xml files cause unhandled errors and break the content navigator</title>
                <link>https://issues.apache.org/jira/browse/SLING-4332</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Assume a broken XML file named .content.xml is placed in a content project, as below ( note the missing xmlns:rep attribute )&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;&lt;/span&gt;
&amp;lt;jcr:root &lt;span class=&quot;code-keyword&quot;&gt;xmlns:sling&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://sling.apache.org/jcr/sling/1.0&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:jcr&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.jcp.org/jcr/1.0&quot;&lt;/span&gt;
    jcr:mixinTypes=&lt;span class=&quot;code-quote&quot;&gt;&quot;[rep:AccessControllable]&quot;&lt;/span&gt;
    jcr:primaryType=&lt;span class=&quot;code-quote&quot;&gt;&quot;sling:OrderedFolder&quot;&lt;/span&gt;&amp;gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;rep:policy/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/jcr:root&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;An unhandled exception will be propagated to the user and the content navigator will be broken - only the jcr_root entry will appear, without an icon, and can&apos;t be expanded.&lt;/p&gt;

&lt;p&gt;We should be more resilient and skip resources with XML parsing errors. Perhaps we should also turn off namespace validation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12768442">SLING-4332</key>
            <summary>Malformed .content.xml files cause unhandled errors and break the content navigator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Jan 2015 13:54:45 +0000</created>
                <updated>Mon, 2 Mar 2015 09:03:21 +0000</updated>
                            <resolved>Mon, 16 Feb 2015 11:25:17 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.0.4</version>
                                    <fixVersion>Sling Eclipse IDE 1.0.6</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14322662" author="rombert" created="Mon, 16 Feb 2015 11:25:21 +0000"  >&lt;p&gt;F8xed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1660070&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1660070&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14324213" author="rombert" created="Tue, 17 Feb 2015 14:14:57 +0000"  >&lt;p&gt;Follow-up fix in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1660385&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1660385&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 37 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24iv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4331] Add description to all distribution osgi fields</title>
                <link>https://issues.apache.org/jira/browse/SLING-4331</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently the ogi config properties are only described by label but not all of them have extended osgi description.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12768390">SLING-4331</key>
            <summary>Add description to all distribution osgi fields</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mpetria">Marius Petria</assignee>
                                    <reporter username="mpetria">Marius Petria</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Jan 2015 09:14:31 +0000</created>
                <updated>Tue, 31 Mar 2015 15:23:24 +0000</updated>
                            <resolved>Mon, 19 Jan 2015 14:46:55 +0000</resolved>
                                                    <fixVersion>Content Distribution 0.1.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14282570" author="mpetria" created="Mon, 19 Jan 2015 14:46:55 +0000"  >&lt;p&gt;Committed revision 1653016.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 41 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24ijz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4329] Viewing /libs from sling explorer creates continuous stack dumps</title>
                <link>https://issues.apache.org/jira/browse/SLING-4329</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Start a clean standalone.jar instance using:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/usr/bin/java -Xmx384M -agentlib:jdwp=transport=dt_socket,address=30303,server=y,suspend=n -jar /opt/sling/sling/org.apache.sling.launchpad-8-SNAPSHOT-standalone.jar -c /&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/sling -p 8090 -a 0.0.0.0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;then opening the explorer, &lt;a href=&quot;http://localhost:8090/.explorer.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8090/.explorer.html&lt;/a&gt; and clicking on the /libs node creates an endless stream of exceptions in the sling log.&lt;/p&gt;

&lt;p&gt;Full log attached.&lt;/p&gt;

&lt;p&gt;Summary log, partial first frame:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;17.01.2015 18:16:24.678 *INFO* [qtp786433993-45] logs/request.log 17/Jan/2015:18:16:24 -0800 [48] -&amp;gt; GET /libs.explorer.node.html HTTP/1.1
17.01.2015 18:16:25.478 *ERROR* [10.0.2.2 [1421547384682] GET /libs.explorer.node.html HTTP/1.1] org.apache.sling.engine.impl.SlingRequestProcessorImpl service: Uncaught SlingException
org.mozilla.javascript.WrappedException: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling
/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/serv
let/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/d
efault/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/defaul
t/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/exp
lorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer
/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node
.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp:
 Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrap
ped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped o
rg.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.ap
ache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.
sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling
.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.
scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scrip
ting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.
ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.Scrip
tEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEval
uationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluatio
nException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationExce
ption: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException
: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Fai
lure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure
running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure running script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.scripting.ScriptEvaluationException: Failure runni
ng script /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp: Wrapped org.apache.sling.api.request.RecursionTooDeepException: /libs.explorer.node.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.htm
l.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.
edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.e
xplorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html.explorer.edit.html (/libs/sling
/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/
explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp
#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/slin
g/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;
/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.es
p#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sli
ng/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/defaul
t/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.e
sp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sl
ing/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146) (/libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/explorer/node.esp#146)
        at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1754)
        at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:148)
        at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:225)
        at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1473)
        at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:815)
        at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109)
        at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:394)
        at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3091)
        at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:120)
        at org.mozilla.javascript.Context.evaluateReader(Context.java:1110)
        at org.apache.sling.scripting.javascript.internal.RhinoJavaScriptEngine.eval(RhinoJavaScriptEngine.java:116)
        at org.apache.sling.scripting.core.impl.DefaultSlingScript.call(DefaultSlingScript.java:361)
        at org.apache.sling.scripting.core.impl.DefaultSlingScript.eval(DefaultSlingScript.java:171)
        at org.apache.sling.scripting.core.impl.DefaultSlingScript.service(DefaultSlingScript.java:463)
        at org.apache.sling.engine.impl.request.RequestData.service(RequestData.java:533)
        at org.apache.sling.engine.impl.filter.SlingComponentFilterChain.render(SlingComponentFilterChain.java:45)
        at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:64)
        at org.apache.sling.engine.impl.SlingRequestProcessorImpl.processComponent(SlingRequestProcessorImpl.java:282)
        at org.apache.sling.engine.impl.filter.RequestSlingFilterChain.render(RequestSlingFilterChain.java:49)
        at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:64)
        at org.apache.sling.engine.impl.debug.RequestProgressTrackerLogFilter.doFilter(RequestProgressTrackerLogFilter.java:95)
        at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)
        at org.apache.sling.engine.impl.SlingRequestProcessorImpl.doProcessRequest(SlingRequestProcessorImpl.java:151)
        at org.apache.sling.engine.impl.SlingMainServlet.service(SlingMainServlet.java:217)
        at org.apache.felix.http.base.internal.handler.ServletHandler.doHandle(ServletHandler.java:339)
        at org.apache.felix.http.base.internal.handler.ServletHandler.handle(ServletHandler.java:300)
        at org.apache.felix.http.base.internal.dispatch.ServletPipeline.handle(ServletPipeline.java:93)
        at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:50)
        at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:31)
        at org.apache.sling.engine.impl.log.RequestLoggerFilter.doFilter(RequestLoggerFilter.java:75)
        at org.apache.felix.http.base.internal.handler.FilterHandler.doHandle(FilterHandler.java:108)
        at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:80)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12768276">SLING-4329</key>
            <summary>Viewing /libs from sling explorer creates continuous stack dumps</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bruceedge">Bruce Edge</reporter>
                        <labels>
                            <label>explorer</label>
                    </labels>
                <created>Sun, 18 Jan 2015 02:27:30 +0000</created>
                <updated>Thu, 26 Sep 2019 19:01:06 +0000</updated>
                            <resolved>Thu, 26 Sep 2019 19:01:06 +0000</resolved>
                                    <version>Launchpad Builder 8</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14281642" author="bruceedge" created="Sun, 18 Jan 2015 02:28:26 +0000"  >&lt;p&gt;Full log&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12692955" name="error.log.zip" size="16593" author="bruceedge" created="Sun, 18 Jan 2015 02:28:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 41 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24hw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4328] Loading gogo.shell in launchpad fails &amp; kills felix framework, won&apos;t restart.</title>
                <link>https://issues.apache.org/jira/browse/SLING-4328</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I&#8217;m having trouble loading the gogo shell in a default launchpad config. &lt;/p&gt;

&lt;p&gt;I&#8217;m assuming I just need org.apache.felix.gogo.shell and it&#8217;s dependencies, which I can find in the with the default OBR config.&lt;/p&gt;

&lt;p&gt;Using a fresh launchpad installation built from trunk a few days ago, the OBR console search for gogo &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; shows:&lt;/p&gt;

&lt;p&gt;Resource Name 	Installed Version&lt;br/&gt;
Apache Felix Gogo Command (org.apache.felix.gogo.command)	&lt;br/&gt;
Apache Felix Gogo Runtime (org.apache.felix.gogo.runtime)	&lt;br/&gt;
Apache Felix Gogo Shell (org.apache.felix.gogo.shell)&lt;/p&gt;

&lt;p&gt;    0.10.0&lt;br/&gt;
    0.6.0&lt;br/&gt;
    0.6.1&lt;br/&gt;
    0.8.0&lt;/p&gt;


&lt;p&gt;Apache Felix Gogo Shell Commands (org.apache.felix.gogo.commands)	&lt;br/&gt;
Apache Felix Gogo Shell Console (org.apache.felix.gogo.console)	&lt;br/&gt;
Apache Felix Gogo Shell Launcher (org.apache.felix.gogo.launcher)	&lt;br/&gt;
Apache Felix iPOJO Gogo Command (org.apache.felix.ipojo.arch.gogo)&lt;/p&gt;

&lt;p&gt;I select version 0.10.0 and check &quot;deploy optional dependencies&#8221; and click on &#8220;deploy and start&#8221;.&lt;/p&gt;

&lt;p&gt;In the logs it shows the gogo shell loading &amp;amp; starting, but then I get a &lt;br/&gt;
	 &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixShutdown&amp;#93;&lt;/span&gt; org.apache.felix.framework BundleEvent STOPPING&lt;br/&gt;
and everything shuts down:&lt;/p&gt;

&lt;p&gt;16.01.2015 12:54:42.335 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; groovy-all BundleEvent INSTALLED&lt;br/&gt;
16.01.2015 12:54:42.392 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.gogo.shell BundleEvent INSTALLED&lt;br/&gt;
16.01.2015 12:54:42.406 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.gogo.runtime BundleEvent RESOLVED&lt;br/&gt;
16.01.2015 12:54:42.423 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.gogo.runtime BundleEvent STARTING&lt;br/&gt;
16.01.2015 12:54:42.444 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.gogo.runtime Service &lt;span class=&quot;error&quot;&gt;&amp;#91;292&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.461 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.gogo.runtime Service &lt;span class=&quot;error&quot;&gt;&amp;#91;293&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.474 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.gogo.runtime BundleEvent STARTED&lt;br/&gt;
16.01.2015 12:54:42.480 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.shell BundleEvent RESOLVED&lt;br/&gt;
16.01.2015 12:54:42.492 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.shell BundleEvent STARTING&lt;br/&gt;
16.01.2015 12:54:42.532 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.sling.settings Service &lt;span class=&quot;error&quot;&gt;&amp;#91;Apache Sling Sling Run Mode Shell Command,295&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.541 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;294&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.558 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;296&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.580 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;297&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.594 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;298&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.598 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;299&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.601 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;300&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.612 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;301&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.643 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;302&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.655 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;303&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.656 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;304&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.663 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;305&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.686 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;306&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.698 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;307&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.710 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;308&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.724 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;309&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.728 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;310&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.733 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;311&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.748 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;312&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.779 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;313&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.780 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.shell BundleEvent STARTED&lt;br/&gt;
16.01.2015 12:54:42.787 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.sling.junit.core BundleEvent RESOLVED&lt;br/&gt;
16.01.2015 12:54:42.790 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.sling.junit.core BundleEvent STARTING&lt;br/&gt;
16.01.2015 12:54:42.808 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.sling.junit.core Service &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.junit.impl.AnnotationsProcessor,314&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.827 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.sling.junit.core Service &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.junit.impl.BundleTestsProvider,315&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.833 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.sling.junit.core Service &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.junit.impl.RendererSelectorImpl,316&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.844 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.sling.junit.core Service &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.junit.impl.TestsManagerImpl,317&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.853 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.sling.junit.core Service &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.junit.impl.servlet.HtmlRenderer,318&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.862 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.sling.junit.core Service &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.junit.impl.servlet.JsonRenderer,319&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.879 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.sling.junit.core Service &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.junit.impl.servlet.PlainTextRenderer,320&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.892 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.sling.junit.core Service &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.junit.impl.servlet.XmlRenderer,321&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.948 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.sling.junit.impl.servlet.JUnitServlet Servlet registered at /system/sling/junit&lt;br/&gt;
16.01.2015 12:54:42.959 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.sling.junit.impl.servlet.SlingJUnitServlet Servlet path is null, not registering with HttpService&lt;br/&gt;
16.01.2015 12:54:42.991 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.sling.servlets.resolver Service [ServletResourceProvider for Servlets at &lt;span class=&quot;error&quot;&gt;&amp;#91;/apps/sling/junit/testing/junit.POST.servlet, /apps/sling/junit/testing/junit.GET.servlet&amp;#93;&lt;/span&gt;,323] ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.991 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.sling.servlets.resolver.internal.SlingServletResolver Registered ServletResourceProvider: servlet=org.apache.sling.junit.impl.servlet.SlingJUnitServlet, paths=[/apps/sling/junit/testing/junit.PO&lt;br/&gt;
ST.servlet, /apps/sling/junit/testing/junit.GET.servlet]&lt;br/&gt;
16.01.2015 12:54:42.995 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.sling.junit.core Service &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.junit.impl.servlet.SlingJUnitServlet,322&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:42.996 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.sling.junit.core BundleEvent STARTED&lt;br/&gt;
16.01.2015 12:54:43.008 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; groovy-all BundleEvent RESOLVED&lt;br/&gt;
16.01.2015 12:54:43.013 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; groovy-all BundleEvent STARTING&lt;br/&gt;
16.01.2015 12:54:43.023 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; groovy-all BundleEvent STARTED&lt;br/&gt;
16.01.2015 12:54:43.028 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.gogo.shell BundleEvent RESOLVED&lt;br/&gt;
16.01.2015 12:54:43.091 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.gogo.shell BundleEvent STARTING&lt;br/&gt;
16.01.2015 12:54:43.130 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.gogo.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;324&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:43.162 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.gogo.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;325&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:43.184 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.gogo.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;326&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:43.206 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.gogo.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;327&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:43.212 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.gogo.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;328&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:43.239 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.gogo.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;329&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
16.01.2015 12:54:43.260 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.gogo.shell BundleEvent STARTED&lt;br/&gt;
16.01.2015 12:54:43.512 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixShutdown&amp;#93;&lt;/span&gt; org.apache.felix.framework BundleEvent STOPPING&lt;br/&gt;
16.01.2015 12:54:43.527 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixStartLevel&amp;#93;&lt;/span&gt; org.apache.felix.gogo.shell BundleEvent STOPPING&lt;br/&gt;
16.01.2015 12:54:43.544 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixStartLevel&amp;#93;&lt;/span&gt; org.apache.felix.gogo.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;327&amp;#93;&lt;/span&gt; ServiceEvent UNREGISTERING&lt;br/&gt;
16.01.2015 12:54:43.548 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixStartLevel&amp;#93;&lt;/span&gt; org.apache.felix.gogo.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;325&amp;#93;&lt;/span&gt; ServiceEvent UNREGISTERING&lt;br/&gt;
16.01.2015 12:54:43.575 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixStartLevel&amp;#93;&lt;/span&gt; org.apache.felix.gogo.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;329&amp;#93;&lt;/span&gt; ServiceEvent UNREGISTERING&lt;br/&gt;
16.01.2015 12:54:43.579 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixStartLevel&amp;#93;&lt;/span&gt; org.apache.felix.gogo.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;326&amp;#93;&lt;/span&gt; ServiceEvent UNREGISTERING&lt;br/&gt;
16.01.2015 12:54:43.588 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixStartLevel&amp;#93;&lt;/span&gt; org.apache.felix.gogo.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;324&amp;#93;&lt;/span&gt; ServiceEvent UNREGISTERING&lt;br/&gt;
16.01.2015 12:54:43.602 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixStartLevel&amp;#93;&lt;/span&gt; org.apache.felix.gogo.shell Service &lt;span class=&quot;error&quot;&gt;&amp;#91;328&amp;#93;&lt;/span&gt; ServiceEvent UNREGISTERING&lt;br/&gt;
16.01.2015 12:54:43.603 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixStartLevel&amp;#93;&lt;/span&gt; org.apache.felix.gogo.shell BundleEvent STOPPED&lt;br/&gt;
16.01.2015 12:54:43.603 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixStartLevel&amp;#93;&lt;/span&gt; groovy-all BundleEvent STOPPING&lt;br/&gt;
16.01.2015 12:54:43.604 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixStartLevel&amp;#93;&lt;/span&gt; groovy-all BundleEvent STOPPED&lt;br/&gt;
16.01.2015 12:54:43.623 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixStartLevel&amp;#93;&lt;/span&gt; org.apache.sling.junit.core Service &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.junit.impl.AnnotationsProcessor,314&amp;#93;&lt;/span&gt; ServiceEvent UNREGISTERING&lt;/p&gt;

&lt;p&gt;At this point, restarting sling fails and I&#8217;m wiping SLING_HOME to get it running again.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://localhost:8090/system/console/obr?query=gogo&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8090/system/console/obr?query=gogo&lt;/a&gt;&lt;/p&gt;
</description>
                <environment>Ubuntu 14.04&lt;br/&gt;
java version &amp;quot;1.7.0_72&amp;quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.7.0_72-b14)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 24.72-b04, mixed mode)</environment>
        <key id="12768131">SLING-4328</key>
            <summary>Loading gogo.shell in launchpad fails &amp; kills felix framework, won&apos;t restart.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bruceedge">Bruce Edge</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Jan 2015 21:11:27 +0000</created>
                <updated>Mon, 19 Jan 2015 23:22:35 +0000</updated>
                            <resolved>Mon, 19 Jan 2015 23:19:33 +0000</resolved>
                                    <version>Launchpad Builder 8</version>
                                                    <component>Console</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14281112" author="bruceedge" created="Sat, 17 Jan 2015 01:30:14 +0000"  >&lt;p&gt;Working from &quot;Apache Felix Remote Shell&quot; &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, it doesn&apos;t seem to matter what version of the dependencies I choose from:&lt;/p&gt;

&lt;p&gt;    org.apache.felix.shell&lt;br/&gt;
    org.apache.felix.shell.remote&lt;br/&gt;
    org.apache.felix.gogo.runtime&lt;/p&gt;

&lt;p&gt;Once I try to start any version of org.apache.felix.gogo.shell I see these 2 messages in succession:&lt;/p&gt;

&lt;p&gt;16.01.2015 17:09:03.965 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OBR Bundle Deployer (Apache Felix API)&amp;#93;&lt;/span&gt; org.apache.felix.gogo.shell BundleEvent STARTED&lt;br/&gt;
16.01.2015 17:09:04.106 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixShutdown&amp;#93;&lt;/span&gt; org.apache.felix.framework BundleEvent STOPPING&lt;/p&gt;

&lt;p&gt;and sling shuts down completely with basically the same log message as in the original post.&lt;/p&gt;

&lt;p&gt;The available options I have for the gogo shell are:&lt;/p&gt;

&lt;p&gt;Apache Felix Gogo Shell (org.apache.felix.gogo.shell)&lt;br/&gt;
    0.10.0&lt;br/&gt;
    0.6.0&lt;br/&gt;
    0.6.1&lt;br/&gt;
    0.8.0&lt;/p&gt;

&lt;p&gt;All result in an immediate shutdown once I try start the gogo shell bundle.&lt;/p&gt;

&lt;p&gt;I did finally figure out that I can rm -rf the latest $SLING_HOME/felix/bundle* directory to restore operation.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://felix.apache.org/site/apache-felix-remote-shell.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://felix.apache.org/site/apache-felix-remote-shell.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14281563" author="bruceedge" created="Sat, 17 Jan 2015 21:40:29 +0000"  >&lt;p&gt;Attaching log file with debug level enabled for 8 seconds after gogo shell is started from OSGi console. (Note, it loads OK, the fun starts when I try to run it)&lt;/p&gt;

&lt;p&gt;There&apos;s a number of concurrent access exceptions:&lt;/p&gt;

&lt;p&gt;org.apache.jackrabbit.core.session.SessionState Attempt to perform item.getPath() while another thread is concurrently reading from session-system-2. Blocking until the other thread is finished using this session. Please review your code to avoid concurrent use of a session.&lt;br/&gt;
java.lang.Exception: Stack trace of concurrent access to session-system-2&lt;/p&gt;

&lt;p&gt;ending with the following:&lt;/p&gt;

&lt;p&gt;17.01.2015 13:30:36.016 &lt;b&gt;DEBUG&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OsgiInstallerImpl&amp;#93;&lt;/span&gt; org.apache.sling.installer.core.impl.OsgiInstallerImpl cleanupInstallableResources returns false&lt;br/&gt;
17.01.2015 13:30:36.016 &lt;b&gt;DEBUG&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OsgiInstallerImpl&amp;#93;&lt;/span&gt; org.apache.sling.installer.core.impl.OsgiInstallerImpl No more tasks to process, suspending listener and going idle&lt;br/&gt;
17.01.2015 13:30:36.016 &lt;b&gt;DEBUG&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OsgiInstallerImpl&amp;#93;&lt;/span&gt; org.apache.sling.installer.core.impl.OsgiInstallerImpl onEvent(SUSPENDED).&lt;br/&gt;
17.01.2015 13:30:36.016 &lt;b&gt;DEBUG&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;OsgiInstallerImpl&amp;#93;&lt;/span&gt; org.apache.sling.installer.core.impl.OsgiInstallerImpl wait() on resourcesLock&lt;br/&gt;
17.01.2015 13:30:36.128 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixShutdown&amp;#93;&lt;/span&gt; org.apache.felix.framework BundleEvent STOPPING&lt;br/&gt;
17.01.2015 13:30:36.129 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixStartLevel&amp;#93;&lt;/span&gt; org.apache.felix.gogo.shell BundleEvent STOPPING&lt;/p&gt;</comment>
                            <comment id="14282013" author="bruceedge" created="Sun, 18 Jan 2015 23:27:04 +0000"  >&lt;p&gt;This is a documentation problem.&lt;/p&gt;

&lt;p&gt;I found a thread discussing gogo shell defaulting to opening a console on stdout &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.&lt;br/&gt;
The resolution for this problem was to add &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-Dgosh.args=--nointeractive 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;to the JVM args&lt;/p&gt;

&lt;p&gt;Adding this arg to the JVM fixes the above problem. I can start the shell and connect on port 6666.&lt;/p&gt;

&lt;p&gt;The docs &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; should be updated to reflect the requirement for this JVM arg if the gogo shell is desired.&lt;/p&gt;

&lt;p&gt;I&apos;m leaving this open as I can&apos;t update the docs.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://apache-felix.18485.x6.nabble.com/Gogo-shell-on-standard-input-output-streams-td4845969.html#a4845970&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://apache-felix.18485.x6.nabble.com/Gogo-shell-on-standard-input-output-streams-td4845969.html#a4845970&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://felix.apache.org/site/apache-felix-remote-shell.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://felix.apache.org/site/apache-felix-remote-shell.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14283165" author="bruceedge" created="Mon, 19 Jan 2015 23:19:33 +0000"  >&lt;p&gt;Marking this a duplicate of a gogo shell bug as IMO the shell should not terminate the felix runtime if stdout is not available.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                                                <inwardlinks description="is superceded by">
                                        <issuelink>
            <issuekey id="12768557">FELIX-4766</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12692933" name="gogo.log.zip" size="43017" author="bruceedge" created="Sat, 17 Jan 2015 21:40:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 41 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24h53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4325] SlingQuery doesn&apos;t compare multivalue properties</title>
                <link>https://issues.apache.org/jira/browse/SLING-4325</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;SlingQuery allows to filter resource by their properties, eg.:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$(resource).find(&lt;span class=&quot;code-quote&quot;&gt;&quot;[myProperty=123]&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, the &lt;tt&gt;ResourcePropertyPredicate&lt;/tt&gt; class, responsible for extracting properties, doesn&apos;t support multivalue properties. For instance, if the &lt;tt&gt;myProperty&lt;/tt&gt; above has many values, query won&apos;t return anything, even if one of the values indeed equals to 123.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12768025">SLING-4325</key>
            <summary>SlingQuery doesn&apos;t compare multivalue properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="tomek.rekawek">Tomek R&#281;kawek</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Jan 2015 14:30:59 +0000</created>
                <updated>Thu, 12 Mar 2015 07:56:34 +0000</updated>
                            <resolved>Thu, 22 Jan 2015 10:18:22 +0000</resolved>
                                    <version>Sling Query 2.0.0</version>
                                    <fixVersion>Sling Query 3.0.0</fixVersion>
                                    <component>Sling Query</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14280328" author="tomek.rekawek" created="Fri, 16 Jan 2015 14:54:25 +0000"  >&lt;p&gt;In the &lt;a href=&quot;https://github.com/apache/sling/pull/55&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;pull request #55&lt;/a&gt; I&apos;ve fixed the ResourcePropertyPredicate. Now it tries to adapt the property resource to &lt;tt&gt;String[]&lt;/tt&gt; and checks if any element of the array accepts the predicate. I also updated the unit tests and JSON-based resource mocks).&lt;/p&gt;</comment>
                            <comment id="14280383" author="rombert" created="Fri, 16 Jan 2015 15:24:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tomek.rekawek&quot; class=&quot;user-hover&quot; rel=&quot;tomek.rekawek&quot;&gt;tomek.rekawek&lt;/a&gt; - how is this resolved?&lt;/p&gt;</comment>
                            <comment id="14280405" author="kwin" created="Fri, 16 Jan 2015 15:39:42 +0000"  >&lt;p&gt;the issue should only be set to resolved once the fix is applied to the Apache Sling Subversion (to the trunk).&lt;/p&gt;</comment>
                            <comment id="14280408" author="tomek.rekawek" created="Fri, 16 Jan 2015 15:41:41 +0000"  >&lt;p&gt;Of course! I&apos;m sorry, my mistake. Reopened.&lt;/p&gt;</comment>
                            <comment id="14287197" author="rombert" created="Thu, 22 Jan 2015 10:18:26 +0000"  >&lt;p&gt;Patch applied, thanks for the contribution&lt;/p&gt;</comment>
                            <comment id="14312378" author="githubbot" created="Mon, 9 Feb 2015 16:05:07 +0000"  >&lt;p&gt;Github user trekawek closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/55&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/55&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 38 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24gj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4323] SCM element in Sightly POMs still point to an old location</title>
                <link>https://issues.apache.org/jira/browse/SLING-4323</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Sightly script engine POMs contain SCM elements pointing to the wrong location &lt;a href=&quot;http://svn.apache.org/viewvc/sling/trunk/bundles/scripting/sightly&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/sling/trunk/bundles/scripting/sightly&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I think this is a remnant of the initial import into Sling.&lt;/p&gt;

&lt;p&gt;These need to be fixed to point to the currentl location at &lt;a href=&quot;http://svn.apache.org/repos/asf/sling/trunk/contrib/scripting/sightly&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/sling/trunk/contrib/scripting/sightly&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12768018">SLING-4323</key>
            <summary>SCM element in Sightly POMs still point to an old location</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Jan 2015 14:03:46 +0000</created>
                <updated>Mon, 30 Mar 2015 12:19:34 +0000</updated>
                            <resolved>Fri, 16 Jan 2015 14:16:00 +0000</resolved>
                                                    <fixVersion>Scripting Sightly JS Use Provider 1.0.0</fixVersion>
                    <fixVersion>Scripting Sightly Engine 1.0.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14280265" author="fmeschbe" created="Fri, 16 Jan 2015 14:16:00 +0000"  >&lt;p&gt;Fixed in Rev. 1652412&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 41 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24ghj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4316] Incomplete documentation on Feature Flags</title>
                <link>https://issues.apache.org/jira/browse/SLING-4316</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The doc page &lt;a href=&quot;http://sling.apache.org/documentation/the-sling-engine/featureflags.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/the-sling-engine/featureflags.html&lt;/a&gt; is missing an important paragraph that I read inside the package description here: &lt;a href=&quot;http://docs.adobe.com/docs/br/aem/6-0/develop/ref/javadoc/org/apache/sling/featureflags/package-summary.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://docs.adobe.com/docs/br/aem/6-0/develop/ref/javadoc/org/apache/sling/featureflags/package-summary.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;That paragraph is:&lt;br/&gt;
Feature flag support consists of two parts: The feature flag itself represented by the Feature interface and the the application providing a feature guarded by a feature flag. Such applications make use of the Features service to query feature flags.&lt;/p&gt;

&lt;p&gt;In my opinion, that&apos;s the key paragraph that let the developer understand how to implement it. Additionally, an example would be nice to have &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12767782">SLING-4316</key>
            <summary>Incomplete documentation on Feature Flags</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="aniciforo">Alessandro Niciforo</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Jan 2015 17:03:17 +0000</created>
                <updated>Thu, 3 Aug 2023 05:01:49 +0000</updated>
                            <resolved>Thu, 3 Aug 2023 05:01:49 +0000</resolved>
                                                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="900">0.25h</timeoriginalestimate>
                            <timeestimate seconds="900">0.25h</timeestimate>
                                                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24f3r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4315] Sling Mocks, OSGi Mocks &amp; Resource Resolver Mock documentation pages contain typos.</title>
                <link>https://issues.apache.org/jira/browse/SLING-4315</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Found some typos and inconsistencies on Sling Mocks, OSGi Mocks &amp;amp; Resource Resolver Mock documentation pages.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Sling Mocks&lt;/b&gt; &lt;a href=&quot;http://sling.apache.org/documentation/development/sling-mock.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/development/sling-mock.html&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;AdpaterManager -&amp;gt; AdapterManager&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;panelContent&quot;&gt;
&lt;p&gt;&lt;b&gt;AdpaterManager&lt;/b&gt; implementation for registering adapter factories and resolving adaptions&lt;br/&gt;
The implementation is thread-safe so it can be used in parallel running unit tests&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;certian -&amp;gt; certain&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;panelContent&quot;&gt;
&lt;p&gt;It is possible to set request data to simulate a &lt;b&gt;certian&lt;/b&gt; Sling HTTP request&lt;br/&gt;
Additional services like MockModelAdapterFactory and MimeTypeService&lt;br/&gt;
The following features are not supported:&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;testcases -&amp;gt; test cases&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;panelContent&quot;&gt;
&lt;p&gt;Additional features provided:&lt;/p&gt;

&lt;p&gt;SlingContext JUnit Rule for easily setting up a Sling Mock environment in your JUnit &lt;b&gt;testcases&lt;/b&gt;&lt;br/&gt;
ContentLoader supports importing JSON...&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;ist -&amp;gt; is&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;panelContent&quot;&gt;
&lt;p&gt;Depending on the type an underlying JCR repository is used or not, and the data &lt;b&gt;ist&lt;/b&gt; stored in-memory or in a real repository.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;Junit -&amp;gt; JUnit&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;panelContent&quot;&gt;
&lt;p&gt;If you use the SlingContext &lt;b&gt;Junit&lt;/b&gt; rule this is done automatically for you.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;usig -&amp;gt; using&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;panelContent&quot;&gt;
&lt;p&gt;With the ContentLoader it is possible to import a binary file stored in the classpath beneath the unit tests. The data is stored &lt;b&gt;usig&lt;/b&gt; a nt:file/nt:resource or nt:resource node type.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;OSGi Mocks&lt;/b&gt; &lt;a href=&quot;http://sling.apache.org/documentation/development/osgi-mock.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/development/osgi-mock.html&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;lifecyle -&amp;gt; lifecycle&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;panelContent&quot;&gt;
&lt;p&gt;Call &lt;b&gt;lifecyle&lt;/b&gt; methods for activating, deactivating or modifying SCR components&lt;br/&gt;
Service and bundle listener implementation&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;Resource Resolver Mock&lt;/b&gt; &lt;a href=&quot;http://sling.apache.org/documentation/development/resourceresolver-mock.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/development/resourceresolver-mock.html&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;Mimicks -&amp;gt; Mimics&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;panelContent&quot;&gt;
&lt;p&gt;&lt;b&gt;Mimicks&lt;/b&gt; transactions using via commit()/revert() methods&lt;br/&gt;
OSGi events for adding/changing/removing resources&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;qeuryResources -&amp;gt; queryResources&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;panelContent&quot;&gt;
&lt;p&gt;Querying with &lt;b&gt;qeuryResources&lt;/b&gt;/findResources not supported (always returns empty result set)&lt;br/&gt;
Sling Mapping is not supported&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;resouce -&amp;gt; resource&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;panelContent&quot;&gt;
&lt;p&gt;Resolving &lt;b&gt;resouce&lt;/b&gt; super types&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Other pages like JCR Mocks &lt;a href=&quot;http://sling.apache.org/documentation/development/jcr-mock.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/development/jcr-mock.html&lt;/a&gt; are free of typos.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12767739">SLING-4315</key>
            <summary>Sling Mocks, OSGi Mocks &amp; Resource Resolver Mock documentation pages contain typos.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="alberto.almagro">Alberto Almagro</reporter>
                        <labels>
                            <label>documentation</label>
                    </labels>
                <created>Thu, 15 Jan 2015 14:59:10 +0000</created>
                <updated>Thu, 15 Jan 2015 20:30:08 +0000</updated>
                            <resolved>Thu, 15 Jan 2015 20:30:08 +0000</resolved>
                                                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14279257" author="sseifert@pro-vision.de" created="Thu, 15 Jan 2015 20:30:08 +0000"  >&lt;p&gt;Rev. 1652263&lt;/p&gt;

&lt;p&gt;thanks for reporting! should be fixed on the livesite now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24euf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4314] The implementation of RenderContext#resolveProperty can be slow for certain cases</title>
                <link>https://issues.apache.org/jira/browse/SLING-4314</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The current implementation of &lt;tt&gt;org.apache.sling.scripting.sightly.impl.engine.runtime.RenderContextImpl#resolveProperty&lt;/tt&gt; is slow when the resolved methods of an object return &lt;tt&gt;null&lt;/tt&gt; due to the fact that &lt;tt&gt;getField&lt;/tt&gt; is called without a real reason.&lt;/p&gt;

&lt;p&gt;Instead, &lt;tt&gt;getField&lt;/tt&gt; should be called only when a method is not found.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12767735">SLING-4314</key>
            <summary>The implementation of RenderContext#resolveProperty can be slow for certain cases</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Jan 2015 14:37:33 +0000</created>
                <updated>Mon, 30 Mar 2015 12:19:06 +0000</updated>
                            <resolved>Mon, 19 Jan 2015 16:25:52 +0000</resolved>
                                                    <fixVersion>Scripting Sightly Engine 1.0.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14278866" author="vladb" created="Thu, 15 Jan 2015 16:06:18 +0000"  >&lt;p&gt;Added NoSuchMethodException throw in RenderContextImpl#getObjectNoArgMethod to differentiate the case when a method is not found from the one where the actual return is null.&lt;/p&gt;</comment>
                            <comment id="14280280" author="fmeschbe" created="Fri, 16 Jan 2015 14:28:09 +0000"  >&lt;p&gt;Thanks for providing the patch. I have applied it slightly modified in Rev. 1652415.&lt;/p&gt;

&lt;p&gt;The modification is to directly throw NoSuchMethodException from findMethod instead of first return null, then checking null and then throwing.&lt;/p&gt;</comment>
                            <comment id="14280459" author="radu.cotescu" created="Fri, 16 Jan 2015 16:17:39 +0000"  >&lt;p&gt;The slightly modified version of the patch that was applied in the end introduces a NPE in &lt;tt&gt;RenderContextImpl&lt;/tt&gt; at line 338. This happens because &lt;tt&gt;findMethod&lt;/tt&gt; can return &lt;tt&gt;null&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;We have two options:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;make &lt;tt&gt;findMethod&lt;/tt&gt; throw an exception if the method is not allowed to be used in Sightly&lt;/li&gt;
	&lt;li&gt;perform the &lt;tt&gt;null&lt;/tt&gt; check in &lt;tt&gt;getObjectNoArgMethod&lt;/tt&gt;&lt;/li&gt;
&lt;/ol&gt;

</comment>
                            <comment id="14282381" author="fmeschbe" created="Mon, 19 Jan 2015 10:47:18 +0000"  >&lt;p&gt;Oops. Sorry. Fixed this in Rev. 1652954:&lt;/p&gt;

&lt;p&gt;My change to the patch caused NPE. So a another refactoring is needed for the findMethod method: Only return if the matched method is accepatble. Otherwise break out of the loop and fall down to throwing the NoSuchMethodException thus never returning null from findMethod.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu.cotescu&quot; class=&quot;user-hover&quot; rel=&quot;radu.cotescu&quot;&gt;radu.cotescu&lt;/a&gt; Would you be able to validate ? Thanks.&lt;/p&gt;</comment>
                            <comment id="14282646" author="radu.cotescu" created="Mon, 19 Jan 2015 16:18:11 +0000"  >&lt;p&gt;The patch from r1652954 successfully fixed the NPE. Thank you!&lt;/p&gt;</comment>
                            <comment id="14282657" author="fmeschbe" created="Mon, 19 Jan 2015 16:25:52 +0000"  >&lt;p&gt;Thanks for the feedback. Thus resolving again.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12692540" name="SLING-4314_-_The_implementation_of_RenderContext_resolveProperty_can_be_slow_for_certain.patch" size="2098" author="vladb" created="Thu, 15 Jan 2015 16:06:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 41 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24etj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4311] Overriding Resource Picker doesn&apos;t return resources with a missing intermediate resource</title>
                <link>https://issues.apache.org/jira/browse/SLING-4311</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This is a bit hard to explain, but I&apos;m going to try...&lt;/p&gt;

&lt;p&gt;Consider&lt;br/&gt;
/apps/a/2&lt;br/&gt;
/apps/a/1&lt;/p&gt;

&lt;p&gt;/apps/a/2 has super type of /apps/a/1&lt;/p&gt;

&lt;p&gt;If /apps/a/1 has a child resource, named d, then this resource and its properties are available at /mnt/override/apps/a/2/d (and obviously /mnt/override/apps/a/1/d). However, if /apps/a/1/d has its own child resource (1), then this child is not accessible at /mnt/override/apps/a/2/d/1 and does not appear in the result of calling listChildren() of /mnt/override/apps/a/2/d.&lt;/p&gt;

&lt;p&gt;This means that the override tree is incomplete.&lt;/p&gt;

&lt;p&gt;In fixing this issue, I ran into a separate problem where hiding of children didn&apos;t work across multiple levels of hierarchy. For example, if you have /apps/a/2@sling:hideChildren = &apos;b&apos; and /apps/a/1/b/1, then /mnt/override/apps/a/2/b does not exist but /mnt/override/apps/a/2/b/1 does, which is clearly incorrect. It appears the only reason this was not detected previously was because of this bug.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12767569">SLING-4311</key>
            <summary>Overriding Resource Picker doesn&apos;t return resources with a missing intermediate resource</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Jan 2015 22:32:57 +0000</created>
                <updated>Wed, 4 Feb 2015 12:59:00 +0000</updated>
                            <resolved>Wed, 14 Jan 2015 22:37:32 +0000</resolved>
                                    <version>Resource Merger 1.2.0</version>
                                    <fixVersion>Resource Merger 1.2.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14277817" author="justinedelson" created="Wed, 14 Jan 2015 22:37:32 +0000"  >&lt;p&gt;Fixed in r 1651858&lt;/p&gt;</comment>
                            <comment id="14283095" author="justinedelson" created="Mon, 19 Jan 2015 22:30:28 +0000"  >&lt;p&gt;fixed another edge case in r 1653137&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 41 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24dtb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4310] Deactivating Sling Validators will not remove them from the cache in ValidationServiceImpl</title>
                <link>https://issues.apache.org/jira/browse/SLING-4310</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently the validationModelsCache will not be invalidated if Validators are unbound from the &lt;tt&gt;ValidationServiceImpl&lt;/tt&gt;. That leads to references to inactive validators in the validationModelsCache. Therefore the validate method might be called on inactive validators.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12767478">SLING-4310</key>
            <summary>Deactivating Sling Validators will not remove them from the cache in ValidationServiceImpl</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Jan 2015 17:14:01 +0000</created>
                <updated>Wed, 20 Sep 2017 13:17:51 +0000</updated>
                            <resolved>Wed, 14 Jan 2015 18:06:05 +0000</resolved>
                                                    <fixVersion>Validation 1.0.0</fixVersion>
                                    <component>Validation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14277344" author="kwin" created="Wed, 14 Jan 2015 18:06:05 +0000"  >&lt;p&gt;Fixed with rev. 1651756.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24d9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4308] Change the ResourceProviderFactory for services into a simple ResourceProvider</title>
                <link>https://issues.apache.org/jira/browse/SLING-4308</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The DistributionServiceResourceProviderFactory should register ResourceProvider not ResourceProviderFactories as these are more lightweight and are best suited for readonly resource providers.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12767427">SLING-4308</key>
            <summary>Change the ResourceProviderFactory for services into a simple ResourceProvider</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mpetria">Marius Petria</assignee>
                                    <reporter username="mpetria">Marius Petria</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Jan 2015 13:18:30 +0000</created>
                <updated>Tue, 31 Mar 2015 15:23:04 +0000</updated>
                            <resolved>Wed, 14 Jan 2015 14:35:50 +0000</resolved>
                                                    <fixVersion>Content Distribution 0.1.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14276960" author="mpetria" created="Wed, 14 Jan 2015 14:35:34 +0000"  >&lt;p&gt;Committed revision 1651683.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24cy7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4306] Disable trigger method does not unregister trigger</title>
                <link>https://issues.apache.org/jira/browse/SLING-4306</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;SimpleDistributionAgent.disableTrigger actually enables the trigger instead of disabling it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12767153">SLING-4306</key>
            <summary>Disable trigger method does not unregister trigger</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mpetria">Marius Petria</assignee>
                                    <reporter username="mpetria">Marius Petria</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Jan 2015 15:22:52 +0000</created>
                <updated>Tue, 31 Mar 2015 15:22:39 +0000</updated>
                            <resolved>Tue, 13 Jan 2015 15:35:33 +0000</resolved>
                                                    <fixVersion>Content Distribution 0.1.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14275403" author="mpetria" created="Tue, 13 Jan 2015 15:35:14 +0000"  >&lt;p&gt;Committed revision 1651383.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 42 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24b9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4299] Regression: message are not sorted correctly</title>
                <link>https://issues.apache.org/jira/browse/SLING-4299</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;test_search_path(org.apache.sling.i18n.impl.JcrResourceBundleTest)  Time elapsed: 0.08 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
junit.framework.ComparisonFailure: expected:&amp;lt;[OTHER]&amp;gt; but was:&amp;lt;[K&#65533;che]&amp;gt;
...
	at org.apache.sling.i18n.impl.JcrResourceBundleTest.test_search_path(JcrResourceBundleTest.java:539)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment></environment>
        <key id="12766860">SLING-4299</key>
            <summary>Regression: message are not sorted correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 Jan 2015 15:02:26 +0000</created>
                <updated>Fri, 16 Jan 2015 10:24:58 +0000</updated>
                            <resolved>Mon, 12 Jan 2015 19:31:55 +0000</resolved>
                                    <version>i18n 2.2.8</version>
                    <version>i18n 2.2.10</version>
                                    <fixVersion>i18n 2.3.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14273676" author="bdelacretaz" created="Mon, 12 Jan 2015 15:05:41 +0000"  >&lt;p&gt;Fixed in revision 1651110, using LinkedHashSet instead of HashSet&lt;/p&gt;</comment>
                            <comment id="14273977" author="cziegeler" created="Mon, 12 Jan 2015 19:06:59 +0000"  >&lt;p&gt;The problem is not the sorting of the roots. During some refactoring for 2.2.8 a regression in the ordering was introduced: instead of globally sorting all messages by the search resource path, the entries are sorted per root and then merged. Therefore as soon as there is more than one root, the ordering might get corrupred&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 42 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i249hr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4295] Potential NPE when resource are updated</title>
                <link>https://issues.apache.org/jira/browse/SLING-4295</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="12766838">SLING-4295</key>
            <summary>Potential NPE when resource are updated</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 Jan 2015 12:54:40 +0000</created>
                <updated>Fri, 16 Jan 2015 08:41:00 +0000</updated>
                            <resolved>Mon, 12 Jan 2015 12:55:27 +0000</resolved>
                                    <version>Installer Core 3.6.0</version>
                                    <fixVersion>Installer Core 3.6.2</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14273570" author="cziegeler" created="Mon, 12 Jan 2015 12:55:27 +0000"  >&lt;p&gt;Fixed in rev 1651075&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 42 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i249cv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4292] Expose agent queue items as Sling Resources</title>
                <link>https://issues.apache.org/jira/browse/SLING-4292</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We should expose the queue items as resources to be available to servlets.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/agents/publish/queues - list all queues
/agents/publish/queues/queuename - lists queue status (no of items)
/agents/publish/queues/queuename/itemID - lists item ID
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Iterating through children should be lazy, do not load all items into memory but only as needed.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;resourceResolver.getResource(&lt;span class=&quot;code-quote&quot;&gt;&quot;/agents/publish/queues/queuename&quot;&lt;/span&gt;).listChildren() 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment></environment>
        <key id="12766048">SLING-4292</key>
            <summary>Expose agent queue items as Sling Resources</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mpetria">Marius Petria</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Jan 2015 14:59:06 +0000</created>
                <updated>Tue, 31 Mar 2015 15:23:31 +0000</updated>
                            <resolved>Fri, 16 Jan 2015 08:04:19 +0000</resolved>
                                                    <fixVersion>Content Distribution 0.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14279947" author="mpetria" created="Fri, 16 Jan 2015 08:04:04 +0000"  >&lt;p&gt;Committed revision 1652356.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i244lz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4291] NPE if optional prefix is not configured</title>
                <link>https://issues.apache.org/jira/browse/SLING-4291</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="12766003">SLING-4291</key>
            <summary>NPE if optional prefix is not configured</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Jan 2015 11:55:34 +0000</created>
                <updated>Tue, 13 Jan 2015 16:21:01 +0000</updated>
                            <resolved>Tue, 13 Jan 2015 16:20:55 +0000</resolved>
                                    <version>JCR Resource Security 1.0.0</version>
                                    <fixVersion>JCR Resource Security 1.0.2</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i244bz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4290] Fix wrong cardinalities in agent factories</title>
                <link>https://issues.apache.org/jira/browse/SLING-4290</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The agent factories have some multivalued properties, however their cardinality has been set to -1 which only works with vectors, while they are used e.g. as String arrays causing them only to contain one value, which causes the SyncDistributionAgentFactory to always have one importer and one exporter which is clearly an issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12765991">SLING-4290</key>
            <summary>Fix wrong cardinalities in agent factories</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="teofili">Tommaso Teofili</assignee>
                                    <reporter username="teofili">Tommaso Teofili</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Jan 2015 10:31:58 +0000</created>
                <updated>Tue, 31 Mar 2015 15:22:44 +0000</updated>
                            <resolved>Tue, 27 Jan 2015 13:18:22 +0000</resolved>
                                                    <fixVersion>Content Distribution 0.1.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2449b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4289] Refactor the resourceprovider that allows access to distribution configs and distribution services</title>
                <link>https://issues.apache.org/jira/browse/SLING-4289</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently it is possible to define an resourceprovider per osgi factory. It should be possible to have all agent configs under a single root.&lt;/p&gt;

&lt;p&gt;/libs/sling/distribution/settings/agents should return a list of all configs for all agents.&lt;/p&gt;

&lt;p&gt;Also, split the factories for creating such providers. There should be a dedicated factory creating the resource providers for configs and a dedicate factory for creating resource providers for services.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12765348">SLING-4289</key>
            <summary>Refactor the resourceprovider that allows access to distribution configs and distribution services</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mpetria">Marius Petria</assignee>
                                    <reporter username="mpetria">Marius Petria</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Jan 2015 10:56:07 +0000</created>
                <updated>Tue, 31 Mar 2015 15:22:32 +0000</updated>
                            <resolved>Thu, 8 Jan 2015 14:41:03 +0000</resolved>
                                                    <fixVersion>Content Distribution 0.1.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14267517" author="mpetria" created="Wed, 7 Jan 2015 11:03:58 +0000"  >&lt;p&gt;Committed revision 1650034.&lt;br/&gt;
Created DistributionConfigurationResourceProviderFactory and DistributionServiceResourceProviderFactory to expose distribution configs and distribution services. &lt;/p&gt;</comment>
                            <comment id="14267845" author="mpetria" created="Wed, 7 Jan 2015 16:39:13 +0000"  >&lt;p&gt;Committed revision 1650112.&lt;/p&gt;

&lt;p&gt;Fixed an issue introduced by previous commit. Triggers binding should be exclusive by default (no binding should happen).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24127:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4288] JSONObject.toString() returns null when having a value of type map with a null value</title>
                <link>https://issues.apache.org/jira/browse/SLING-4288</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I am having a test case where I have to place a map in a JSONObject. Below is the sample code for the same.&lt;br/&gt;
@Test&lt;br/&gt;
      public void testSample() throws JSONException&lt;/p&gt;
      {
            HashMap&amp;lt;String,Object&amp;gt; map=new HashMap&amp;lt;String,Object&amp;gt;();
            map.put(&quot;abc&quot;, &quot;123456&quot;);
            map.put(&quot;id&quot;, null);
            List&amp;lt;String&amp;gt; list=new ArrayList&amp;lt;String&amp;gt;();
            list.add(&quot;Admin&quot;);
            list.add(&quot;password&quot;);
            map.put(&quot;groups&quot;, list);
            JSONObject response=new JSONObject();
            response.put(&quot;key&quot;, map);
            System.out.println(response.get(&quot;key&quot;));
      }
&lt;p&gt;Now when I execute the code keeping org.apache.sling.commons.json version 2.0.8 in the classpath then response.get(&quot;key&quot;)returns null where as in case of bundle version 2.0.6 its returns map. &lt;br/&gt;
Please note this issue is reproducible when the map is an element of type list.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12765301">SLING-4288</key>
            <summary>JSONObject.toString() returns null when having a value of type map with a null value</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="pulkagar">Pulkit Agarwal</reporter>
                        <labels>
                            <label>JSON</label>
                    </labels>
                <created>Wed, 7 Jan 2015 06:07:06 +0000</created>
                <updated>Sat, 17 Jan 2015 09:57:38 +0000</updated>
                            <resolved>Wed, 14 Jan 2015 07:35:16 +0000</resolved>
                                    <version>Commons JSON 2.0.8</version>
                                    <fixVersion>Commons JSON 2.0.10</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14267420" author="cziegeler" created="Wed, 7 Jan 2015 08:46:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pulkagar&quot; class=&quot;user-hover&quot; rel=&quot;pulkagar&quot;&gt;pulkagar&lt;/a&gt; I&apos;ve added a your test case to the current commons json bundle (rev 1650013) and it passes; the code is identical to the 2.0.8 release&lt;/p&gt;</comment>
                            <comment id="14276600" author="cziegeler" created="Wed, 14 Jan 2015 07:26:42 +0000"  >&lt;p&gt;After a discussion with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pulkagar&quot; class=&quot;user-hover&quot; rel=&quot;pulkagar&quot;&gt;pulkagar&lt;/a&gt; we found the problem: If there is a key with null value in map along with any other valid key-value pairs, and if we assign this map to a key in JSONObject, the toString method returns null.&lt;br/&gt;
This has been introduced by the refactoring of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3786&quot; title=&quot;Add tests and refactor JSON to String conversion&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3786&quot;&gt;&lt;del&gt;SLING-3786&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14276602" author="cziegeler" created="Wed, 14 Jan 2015 07:35:16 +0000"  >&lt;p&gt;Fixed in rev 1651577 and updated test case to reflect the problem&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 42 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i240rr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4287] Cannot activate agent factory in osgi console</title>
                <link>https://issues.apache.org/jira/browse/SLING-4287</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;A NPE occurs if you start with a disabled SyncDistributionAgentFactory and later enable it in the felix OSGi configmgr. It happens at&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling/blob/cf076879f572d9976fd002d67e48108af5992eaa/contrib/extensions/distribution/core/src/main/java/org/apache/sling/distribution/agent/impl/SyncDistributionAgentFactory.java#l162&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/cf076879f572d9976fd002d67e48108af5992eaa/contrib/extensions/distribution/core/src/main/java/org/apache/sling/distribution/agent/impl/SyncDistributionAgentFactory.java#l162&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Here is a partial stack trace:&lt;br/&gt;
06.01.2015 16:34:33.950 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;CM Event Dispatcher (Fire ConfigurationEvent: pid=org.apache.sling.distribution.agent.impl.SyncDistributionAgentFactory.810b0979-8c7c-4fe6-aa47-6ddf430485e0)&amp;#93;&lt;/span&gt; org.apache.sling.distribution.core &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.distribution.agent.impl.SyncDistributionAgentFactory(141)&amp;#93;&lt;/span&gt; The activate method has thrown an exception (java.lang.NullPointerException)&lt;br/&gt;
java.lang.NullPointerException: null&lt;br/&gt;
        at java.util.Hashtable.put(Hashtable.java:514)&lt;br/&gt;
        at org.apache.sling.distribution.agent.impl.SyncDistributionAgentFactory.activate(SyncDistributionAgentFactory.java:161)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;/p&gt;


&lt;p&gt;This is because config.get(DistributionConstants.PN_IS_RESOURCE) is always returning null if you edit via the osgi config. I worked around this locally by having a default value for isResource.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12765267">SLING-4287</key>
            <summary>Cannot activate agent factory in osgi console</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lbyrum">Laurie byrum</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Jan 2015 01:22:45 +0000</created>
                <updated>Mon, 12 Jan 2015 21:21:51 +0000</updated>
                            <resolved>Mon, 12 Jan 2015 21:21:51 +0000</resolved>
                                                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14274191" author="lbyrum" created="Mon, 12 Jan 2015 21:21:51 +0000"  >&lt;p&gt;verified this is fixed with very latest source.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 42 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i240k7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4282] [Sightly] Fully qualified Use POJOs are not correctly identified in the repository</title>
                <link>https://issues.apache.org/jira/browse/SLING-4282</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Fully qualified POJOs in &lt;tt&gt;data-sly-use&lt;/tt&gt; may not be correctly identified in the JCR repository if the paths where they are stored contain dashes or underscores due to Java class name restrictions.&lt;/p&gt;

&lt;p&gt;The code used for detecting the location of classes that have underscores in their names should search for repository paths containing both &quot;-&quot; and &quot;_&quot;.&lt;/p&gt;

&lt;p&gt;Example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-html&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;div data-sly-use.obj=&lt;span class=&quot;code-quote&quot;&gt;&quot;apps.my_project.components.Pojo&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;...&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;could identify the following paths:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;&lt;tt&gt;/apps/my_project/components/Pojo.java&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;/apps/my-project/components/Pojo.java&lt;/tt&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
                <environment></environment>
        <key id="12764930">SLING-4282</key>
            <summary>[Sightly] Fully qualified Use POJOs are not correctly identified in the repository</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Jan 2015 16:17:14 +0000</created>
                <updated>Mon, 30 Mar 2015 12:19:35 +0000</updated>
                            <resolved>Sun, 11 Jan 2015 12:12:05 +0000</resolved>
                                                    <fixVersion>Scripting Sightly Engine 1.0.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14266421" author="radu.cotescu" created="Tue, 6 Jan 2015 17:12:21 +0000"  >&lt;p&gt;The attached patch (&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12690378/12690378_SLING-4282.patch&quot; title=&quot;SLING-4282.patch attached to SLING-4282&quot;&gt;SLING-4282.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;) makes sure the &lt;tt&gt;SightlyJavaCompilerService&lt;/tt&gt; generates all possible repository paths for fully qualified class names identifying POJOs stored in JCR given the character replacements when transforming repository paths into valid Java package names and back.&lt;/p&gt;

&lt;p&gt;Two unit tests make sure that POJOs from JCR paths containing characters that need to be replaced for generating valid java names are identified and loaded correctly.&lt;/p&gt;</comment>
                            <comment id="14272885" author="fmeschbe" created="Sun, 11 Jan 2015 12:12:05 +0000"  >&lt;p&gt;Thanks for providing the patch. I have applied it in Rev. 1650895&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12774197">SLING-4406</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12690378" name="SLING-4282.patch" size="15284" author="radu" created="Tue, 6 Jan 2015 17:12:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 42 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23yiv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4281] The Distributor cannot find registered agents correctly</title>
                <link>https://issues.apache.org/jira/browse/SLING-4281</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The DistributionComponentProvider.getComponent method used by the Distributor to track registered agents does not work correctly (it always returns null)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12764917">SLING-4281</key>
            <summary>The Distributor cannot find registered agents correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mpetria">Marius Petria</assignee>
                                    <reporter username="mpetria">Marius Petria</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Jan 2015 14:52:04 +0000</created>
                <updated>Mon, 5 Jan 2015 15:04:30 +0000</updated>
                            <resolved>Mon, 5 Jan 2015 15:04:30 +0000</resolved>
                                                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14264650" author="mpetria" created="Mon, 5 Jan 2015 15:04:30 +0000"  >&lt;p&gt;Committed revision 1649541.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 43 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23yfz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4279] Events through the ResourceChangeListener might not be processed immediately</title>
                <link>https://issues.apache.org/jira/browse/SLING-4279</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a resource change is propagated through the ResourceChangeListener interface, the change is put into the internal update infos list and the installer is woken up.&lt;br/&gt;
However, the condition that is checked by the installer main thread does not include the update infos list, therefore (based on timing) if no other task is open, the installer might go into sleep although update infos is not empty&lt;/p&gt;</description>
                <environment></environment>
        <key id="12764871">SLING-4279</key>
            <summary>Events through the ResourceChangeListener might not be processed immediately</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Jan 2015 10:09:33 +0000</created>
                <updated>Mon, 12 Jan 2015 12:59:13 +0000</updated>
                            <resolved>Mon, 5 Jan 2015 10:12:18 +0000</resolved>
                                    <version>Installer Core 3.5.4</version>
                                    <fixVersion>Installer Core 3.6.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14264446" author="cziegeler" created="Mon, 5 Jan 2015 10:12:18 +0000"  >&lt;p&gt;Fixed by also checking the update infos in hasNewResources()&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 43 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23y5r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4272] Issues in handling of configurations wrt update handling and write back</title>
                <link>https://issues.apache.org/jira/browse/SLING-4272</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There are several issues with handling configurations:&lt;/p&gt;

&lt;p&gt;1. If a configuration resource is modified or deleted, a task is created performing the operation. This results in an event from config admin which is then handled by the udpate handler and in turn might create new tasks. There is some logic to detect this situation but this is incomplete; Implementing &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4271&quot; title=&quot;Provide a way to mark a resource as a template&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4271&quot;&gt;&lt;del&gt;SLING-4271&lt;/del&gt;&lt;/a&gt; revealed such a case.&lt;br/&gt;
The correct behaviour would be to detect this situation within the configuration factory and do not call the update handler when a configuration event occurs.&lt;/p&gt;

&lt;p&gt;2. If a configuration change is triggered through config admin, this results in a configuration event picked up by the configuration factory. The factory calls the update handler which does some magic to update it&apos;s state. We have to carefully check that this call is just updating state but not creating new tasks again. The write back functionality is the only function to be called.&lt;/p&gt;

&lt;p&gt;3. The configuration factory is mixing update handling and persistence: right now if a configuration change should not be persisted it&apos;s not called the update handler at all. It would be better to call the update handler and let the handler decide whether to persists the resource.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12764498">SLING-4272</key>
            <summary>Issues in handling of configurations wrt update handling and write back</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Jan 2015 09:27:51 +0000</created>
                <updated>Mon, 12 Jan 2015 12:58:19 +0000</updated>
                            <resolved>Fri, 2 Jan 2015 11:07:30 +0000</resolved>
                                    <version>Installer Core 3.5.4</version>
                    <version>Installer Configuration Factory 1.0.14</version>
                                    <fixVersion>Installer Core 3.6.0</fixVersion>
                    <fixVersion>Installer Configuration Factory 1.1.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14262808" author="cziegeler" created="Fri, 2 Jan 2015 09:33:42 +0000"  >&lt;p&gt;Fixed 1. in rev 1648985 by keeping track of the changes started by the installer and checking these when a configuration event occurs. This fixes also the handling of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4271&quot; title=&quot;Provide a way to mark a resource as a template&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4271&quot;&gt;&lt;del&gt;SLING-4271&lt;/del&gt;&lt;/a&gt;. I&apos;ve added some test cases for both configurations and factory configurations.&lt;/p&gt;</comment>
                            <comment id="14262839" author="cziegeler" created="Fri, 2 Jan 2015 11:06:40 +0000"  >&lt;p&gt;Checked 2. and added the missing cases&lt;br/&gt;
Clarified handling for 3., installer is now always notified if external configuration changes happen. Added attribute to inform the installer about not persisting the change.&lt;/p&gt;

&lt;p&gt;Added some further tests&lt;/p&gt;

&lt;p&gt;Rev 1648997&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 43 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23wen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4269] SlingContextImpl&apos;s resource resolver should be an administrative one</title>
                <link>https://issues.apache.org/jira/browse/SLING-4269</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The SlingContextImpl creates a resource resolver using &lt;tt&gt;resourceResolverFactory.getResourceResolver&lt;/tt&gt;. The javadoc for this method specifies that:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;If the authenticationInfo map is null the ResourceResolver returned will generally not be authenticated and only provide minimal privileges, if any at all.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This means that this resource resolver is very hard to use productively when using the JCR_JACKRABBIT resource resolver type with ACLs set. Therefore the resource resolver should be an admin one, with a guest being accessible using regular Sling/JCR APIs, e.g.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;context.resourceResolver().adaptTo(Session.class).getRepository().login(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; GuestCredentials());&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12763948">SLING-4269</key>
            <summary>SlingContextImpl&apos;s resource resolver should be an administrative one</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Sun, 28 Dec 2014 22:45:55 +0000</created>
                <updated>Sun, 28 Dec 2014 22:48:09 +0000</updated>
                            <resolved>Sun, 28 Dec 2014 22:48:09 +0000</resolved>
                                    <version>Testing Sling Mock 1.1.0</version>
                                    <fixVersion>Testing Sling Mock 1.1.2</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14259744" author="rombert" created="Sun, 28 Dec 2014 22:48:09 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1648267&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1648267&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 44 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23t1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4268] ContentLoader should not try to import ACLs</title>
                <link>https://issues.apache.org/jira/browse/SLING-4268</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When importing data which contains ACLs the content loader tries to process it. This will invariably fail, as ACLs can not be managed using the standard repository API.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12763946">SLING-4268</key>
            <summary>ContentLoader should not try to import ACLs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Sun, 28 Dec 2014 22:39:33 +0000</created>
                <updated>Wed, 14 Jan 2015 12:09:11 +0000</updated>
                            <resolved>Sun, 28 Dec 2014 22:47:41 +0000</resolved>
                                    <version>Testing Sling Mock 1.1.0</version>
                                    <fixVersion>Testing Sling Mock 1.1.2</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14259742" author="rombert" created="Sun, 28 Dec 2014 22:47:41 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1648266&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1648266&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14276845" author="sseifert@pro-vision.de" created="Wed, 14 Jan 2015 12:09:11 +0000"  >&lt;p&gt;ok&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23t13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4267] Json content import does not work for the JCR_JACKRABBIT resource resolver type</title>
                <link>https://issues.apache.org/jira/browse/SLING-4267</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The tests complain that &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;app: is not a registered namespace prefix.&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12763723">SLING-4267</key>
            <summary>Json content import does not work for the JCR_JACKRABBIT resource resolver type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Dec 2014 22:14:32 +0000</created>
                <updated>Wed, 14 Jan 2015 21:59:30 +0000</updated>
                            <resolved>Wed, 14 Jan 2015 21:59:30 +0000</resolved>
                                    <version>Testing Sling Mock Jackrabbit 0.1.0</version>
                                    <fixVersion>Testing Sling Mock Jackrabbit 0.1.2</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14258577" author="rombert" created="Wed, 24 Dec 2014 22:53:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert%40pro-vision.de&quot; class=&quot;user-hover&quot; rel=&quot;sseifert@pro-vision.de&quot;&gt;sseifert@pro-vision.de&lt;/a&gt; - I&apos;ve tried enabling the tests ( see attached patch ) but I get some errors which I think are due to faulty data. &lt;/p&gt;

&lt;p&gt;First example is a &quot;:jcr:data&quot; property:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-quote&quot;&gt;&quot;file&quot;&lt;/span&gt;: {
          &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:primaryType&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;nt:file&quot;&lt;/span&gt;,
          &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:createdBy&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;admin&quot;&lt;/span&gt;,
          &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:created&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;Thu Aug 07 2014 16:32:59 GMT+0200&quot;&lt;/span&gt;,
          &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:content&quot;&lt;/span&gt;: {
            &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:primaryType&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;nt:resource&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:lastModifiedBy&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;anonymous&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:mimeType&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;image/jpeg&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:lastModified&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;Thu Aug 07 2014 16:32:59 GMT+0200&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;:jcr:data&quot;&lt;/span&gt;: 24377,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:uuid&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;eda76d00-b2cd-4b59-878f-c33f71ceaddc&quot;&lt;/span&gt;
          }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I don&apos;t think that &quot;:jcr:data&quot; should be a real property ; are we really supposed to import files using JSON?&lt;/p&gt;

&lt;p&gt;The second example is the jcr:isCheckedOut property. That again does not sound like something we should import. Thoughts?&lt;/p&gt;</comment>
                            <comment id="14276815" author="sseifert@pro-vision.de" created="Wed, 14 Jan 2015 11:37:37 +0000"  >&lt;p&gt;no, it is indeed not intended to import binary data via JSON, this is always done via separate methods of the content loader because the binary data itself is not referenced in the JSON file.&lt;/p&gt;

&lt;p&gt;in rev. 1651623 i&apos;ve addes some more property names to the &quot;ignore&quot; list of the content loader that are managed by JCR internally - and &quot;:jcr:data&quot; as well.&lt;/p&gt;

&lt;p&gt;with this the unit tests are running save one: the testDamAssetMetadata test failes, because the node with primary type &quot;nt:resource&quot; cannot be stored. the :jcr:data property is omitted as expected, but JCR does not allow saving a &quot;nt:resource&quot; node without binary data in it. but we cannot import it because we do not have it at this moment how to solve?&lt;/p&gt;</comment>
                            <comment id="14276842" author="sseifert@pro-vision.de" created="Wed, 14 Jan 2015 12:07:59 +0000"  >&lt;p&gt;Completed: At revision: 1651632  &lt;/p&gt;

&lt;p&gt;i&apos;ve implemented a first fix for this unit test as well, by just setting jcr:data to an empty binary array when a :jcr:data property name is detected. with this all unit test pass, i&apos;ve applied you patch with slight modifications.&lt;/p&gt;

&lt;p&gt;but i also tried to add a unit test that validated that this empty binary array is written in AbstractContentLoaderJsonDamTest, but this currently fails so i commented this out for now with a TODO tag. have to pick it up later again.&lt;br/&gt;
,&lt;/p&gt;</comment>
                            <comment id="14277767" author="sseifert@pro-vision.de" created="Wed, 14 Jan 2015 21:59:30 +0000"  >&lt;p&gt;Completed: At revision: 1651848  &lt;/p&gt;

&lt;p&gt;should be fixed now incl. unit test&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12689079" name="SLING-4267-1.diff" size="4170" author="rombert" created="Wed, 24 Dec 2014 22:50:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23rov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4261] WriteableResourcesProxyTest.runWriteableResourcesTest test failure</title>
                <link>https://issues.apache.org/jira/browse/SLING-4261</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.AssertionError: POST request to http://localhost:35847/system/sling/junit/org.apache.sling.launchpad.testservices.serversidetests.WriteableResourcesTest.json: expecting status 200 expected:&amp;lt;200&amp;gt; but was:&amp;lt;404&amp;gt;
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:743)
	at org.junit.Assert.assertEquals(Assert.java:118)
	at org.junit.Assert.assertEquals(Assert.java:555)
	at org.apache.sling.testing.tools.http.RequestExecutor.assertStatus(RequestExecutor.java:155)
	at org.apache.sling.junit.remote.httpclient.RemoteTestHttpClient.runTests(RemoteTestHttpClient.java:134)
	at org.apache.sling.launchpad.webapp.integrationtest.util.ServerSideTestClient.runTests(ServerSideTestClient.java:76)
	at org.apache.sling.launchpad.webapp.integrationtest.util.ServerSideTestClient.assertTestsPass(ServerSideTestClient.java:100)
	at org.apache.sling.launchpad.webapp.integrationtest.WriteableResourcesProxyTest.runWriteableResourcesTest(WriteableResourcesProxyTest.java:26)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Recorded failures:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://builds.apache.org/job/sling-trunk-1.7/1255/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;sling-trunk-1.7 build 1255&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://builds.apache.org/job/sling-trunk-1.8/610/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;sling-trunk-1.8 build 610&lt;/a&gt; at revision 1651385&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://builds.apache.org/job/sling-trunk-1.8/666/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;sling-trunk-1.8 build 666&lt;/a&gt; at revision 1655167&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12762986">SLING-4261</key>
            <summary>WriteableResourcesProxyTest.runWriteableResourcesTest test failure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                            <label>sling-IT</label>
                    </labels>
                <created>Fri, 19 Dec 2014 20:21:21 +0000</created>
                <updated>Wed, 28 Jan 2015 07:34:40 +0000</updated>
                            <resolved>Wed, 28 Jan 2015 07:34:40 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14294808" author="bdelacretaz" created="Wed, 28 Jan 2015 07:15:11 +0000"  >&lt;p&gt;404 on that URL seems to indicate that either the JUnit servlet is not ready yet, or that the server-side WriteableResourcesTest is not found.&lt;/p&gt;

&lt;p&gt;Looking at the output at &lt;a href=&quot;https://builds.apache.org/job/sling-trunk-1.8/666/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/sling-trunk-1.8/666/console&lt;/a&gt; this is the first test that runs, so I suspect it runs too early - the launchpad plugin that starts Sling thinks it&apos;s ready for testing but it&apos;s not.&lt;/p&gt;

&lt;p&gt;I&apos;ll try to add more readiness conditions to the set added for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3235&quot; title=&quot;503 error at the beginning of integration tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3235&quot;&gt;&lt;del&gt;SLING-3235&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14294831" author="bdelacretaz" created="Wed, 28 Jan 2015 07:34:40 +0000"  >&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/r1655231&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1655231&lt;/a&gt; should fix this, marking this fixed, we&apos;ll reopen if it&apos;s not.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12678199">SLING-3235</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 40 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23n8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4259] testing/samples/integration-tests build fails under Windows</title>
                <link>https://issues.apache.org/jira/browse/SLING-4259</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;After a SVN checkout from the main trunk, all the tests from testing/samples/integration-tests will fail when using the &quot;mvn clean install&quot; command.&lt;/p&gt;

&lt;p&gt;The main error seems to be that the bundles are not properly installed:&lt;/p&gt;

&lt;p&gt;org.apache.felix.http.jetty %bundles.pluginTitle: Cannot start (org.osgi.framework.BundleException: Unresolved constraint in bundle org.apache.sling.junit.scriptable &lt;span class=&quot;error&quot;&gt;&amp;#91;107&amp;#93;&lt;/span&gt;: Unable to resolve 107.0: missing requirement &lt;span class=&quot;error&quot;&gt;&amp;#91;107.0&amp;#93;&lt;/span&gt; osgi.wiring.package; (&amp;amp;(osgi.wiring.package=org.apache.sling.junit)(version&amp;gt;=1.0.0)(!(version&amp;gt;=2.0.0))))&lt;br/&gt;
org.osgi.framework.BundleException: Unresolved constraint in bundle org.apache.sling.junit.scriptable &lt;span class=&quot;error&quot;&gt;&amp;#91;107&amp;#93;&lt;/span&gt;: Unable to resolve 107.0: missing requirement &lt;span class=&quot;error&quot;&gt;&amp;#91;107.0&amp;#93;&lt;/span&gt; osgi.wiring.package; (&amp;amp;(osgi.wiring.package=org.apache.sling.junit)(version&amp;gt;=1.0.0)(!(version&amp;gt;=2.0.0)))&lt;/p&gt;

&lt;p&gt;I have attached the error.log file from sling/default/logs after 2 runs, one with the &quot;mvn clean install command&quot; and one with the &quot;mvn clean verify -DkeepJarRunning=true -Dhttp.port=8999&quot; command.&lt;/p&gt;

&lt;p&gt;Additional information: If I start the sling launchpad from the sling trunk and set the properties in the pom.xml of the integration-test folder to use the launched instance instead of the bundled one then the test will pass. &lt;/p&gt;
</description>
                <environment>Windows 7 64 bit, apache sling latest trunk version (8-SNAPSHOT), java 1.7 64-bit, maven 3.2.3</environment>
        <key id="12762790">SLING-4259</key>
            <summary>testing/samples/integration-tests build fails under Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="zandrei">Andrei Zafiu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 Dec 2014 08:15:05 +0000</created>
                <updated>Mon, 5 Jan 2015 14:10:12 +0000</updated>
                            <resolved>Mon, 5 Jan 2015 14:10:12 +0000</resolved>
                                    <version>Launchpad Builder 8</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14253133" author="zandrei" created="Fri, 19 Dec 2014 08:15:55 +0000"  >&lt;p&gt;Error log from 2 runs of the mvn clean install command&lt;/p&gt;</comment>
                            <comment id="14253162" author="bdelacretaz" created="Fri, 19 Dec 2014 09:05:35 +0000"  >&lt;p&gt;This is totally mysterious so far, that test works fine on my mac with java version &quot;1.7.0_45&quot; and also at &lt;a href=&quot;https://builds.apache.org/view/S-Z/view/Sling/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/S-Z/view/Sling/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The core problem seems to be the org.apache.sling.junit.core bundle missing or not active, so org.apache.sling.junit.scriptable cannot start.&lt;/p&gt;

&lt;p&gt;I don&apos;t have a windows box, will ask on list of someone can try with a similar environment as yours.&lt;/p&gt;

&lt;p&gt;On your side you might try the following to verify that the set of bundles that you get when building is valid:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Start a standalone Sling instance from launchpad/builder  - remove the sling folder first and java -jar target/org.apache.sling.launchpad-8-SNAPSHOT-standalone.jar&lt;/li&gt;
	&lt;li&gt;Mount &lt;a href=&quot;http://localhost:8080&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080&lt;/a&gt; via WebDAV&lt;/li&gt;
	&lt;li&gt;Create a folder named apps/test/install on that WebDAV mount and copy the contents of testing/samples/integration-tests/target/sling/additional-bundles in there&lt;/li&gt;
	&lt;li&gt;At this point &lt;a href=&quot;http://localhost:8080/apps/test/install.tidy.2.json&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/apps/test/install.tidy.2.json&lt;/a&gt; should list those bundles&lt;/li&gt;
	&lt;li&gt;Check via &lt;a href=&quot;http://localhost:8080/system/console/bundles&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/system/console/bundles&lt;/a&gt; that the org.apache.sling.junit.scriptable bundle is active&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In my build I get the following under target/sling/additional-bundles:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;bndlib-1.50.0.jar
commons-io-1.4.jar
httpclient-osgi-4.1.2.jar
httpcore-osgi-4.1.2.jar
junit-4.11.jar
org.apache.felix.scr.annotations-1.9.8.jar
org.apache.sling.commons.json-2.0.6.jar
org.apache.sling.junit.core-1.0.10.jar
org.apache.sling.junit.performance-1.0.0-SNAPSHOT.jar
org.apache.sling.junit.remote-1.0.10.jar
org.apache.sling.junit.scriptable-1.0.8.jar
org.apache.sling.launchpad-8-SNAPSHOT-standalone.jar
org.apache.sling.servlets.post-2.3.4.jar
org.apache.sling.testing.samples.failingtests-1.0.7-SNAPSHOT.jar
org.apache.sling.testing.samples.sampletests-1.0.7-SNAPSHOT.jar
slf4j-api-1.5.11.jar
slf4j-simple-1.5.11.jar 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14253187" author="sseifert@pro-vision.de" created="Fri, 19 Dec 2014 09:40:01 +0000"  >&lt;p&gt;this integration test runs on my windows machine (Win 7 64bit, java 1.8.0_25, maven 3.2.3).&lt;br/&gt;
it worked with 1.7.0_55 as well on that machine.&lt;/p&gt;

&lt;p&gt;but i&apos;ve problems running integration tests of other sling subprojects as well which seem to run on other environments. but that where not problems deploying bundles, but while running the tests.&lt;/p&gt;</comment>
                            <comment id="14253194" author="bdelacretaz" created="Fri, 19 Dec 2014 09:47:14 +0000"  >&lt;p&gt;Thanks Stefan - I&apos;m wondering if Andrei might have a bad copy of a bundle, here&apos;s the digests of the bundles listed above, Andrei it might be useful to compare with what you have. The snapshots will have different digests of course, but others should be the same.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;MD5 (bndlib-1.50.0.jar) = 87e30bfe9c465f29321df847fca76246
MD5 (commons-io-1.4.jar) = b6a50c8a15ece8753e37cbe5700bf84f
MD5 (httpclient-osgi-4.1.2.jar) = 9696c667e65b6860e0dded10a7387fe5
MD5 (httpcore-osgi-4.1.2.jar) = 1d7bda39e23fc338387cd0c704075829
MD5 (junit-4.11.jar) = 3c42be5ea7cbf3635716abbb429cb90d
MD5 (org.apache.felix.scr.annotations-1.9.8.jar) = f8edaa3b72c7c0a130da803fdd5cbfd6
MD5 (org.apache.sling.commons.json-2.0.6.jar) = 22c16806976f0859a2b125df33567143
MD5 (org.apache.sling.junit.core-1.0.10.jar) = ddeb1f028b673e21fe3a98f498e98d61
MD5 (org.apache.sling.junit.performance-1.0.0-SNAPSHOT.jar) = be59a75e7139c1372eb56531a0829f3c
MD5 (org.apache.sling.junit.remote-1.0.10.jar) = 5d5a411237831272911073d62b89cf4b
MD5 (org.apache.sling.junit.scriptable-1.0.8.jar) = 1c03a8f7cb359b6879ef8190e99829d8
MD5 (org.apache.sling.launchpad-8-SNAPSHOT-standalone.jar) = 35c1b19e7d753a3fccc132b459092500
MD5 (org.apache.sling.servlets.post-2.3.4.jar) = 06ce6f18be3cc5e8b1df4d408aa3313d
MD5 (org.apache.sling.testing.samples.failingtests-1.0.7-SNAPSHOT.jar) = 291b23a0fb4121256ac85ab7fddf40b1
MD5 (org.apache.sling.testing.samples.sampletests-1.0.7-SNAPSHOT.jar) = 3d4d6d2c85698be446d465dbfc720bf8
MD5 (slf4j-api-1.5.11.jar) = 30cb7bee9b52fcb5f5b03d2a006e26e8
MD5 (slf4j-simple-1.5.11.jar) = 1cd567f331b435b6dadb85a8b53df9e0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14253211" author="zandrei" created="Fri, 19 Dec 2014 10:14:33 +0000"  >&lt;p&gt;Thank you both for your efforts.&lt;/p&gt;

&lt;p&gt;@Bertrand I checked the checksums of these files and they are ok. There is only one difference between the bundles I have and the ones you have. Instead of org.apache.sling.junit.remote-1.0.10.jar&lt;/p&gt;

&lt;p&gt;I have &lt;/p&gt;

&lt;p&gt;org.apache.sling.junit.remote-1.0.9-SNAPSHOT&lt;/p&gt;

&lt;p&gt;As I already said in the additional information section, the tests run fine if I use the standalone launchpad from the trunk and redirect the test from the integration-test to use that instance. I have also tried all the steps from your comment and org.apache.sling.junit.scriptable bundle is active.&lt;/p&gt;

&lt;p&gt;As a side note, although not important I have java 1.7.0_71.&lt;/p&gt;
</comment>
                            <comment id="14253325" author="zandrei" created="Fri, 19 Dec 2014 12:02:42 +0000"  >&lt;p&gt;I have replaced the org.apache.sling.junit.remote-1.0.9-SNAPSHOT from the pom with org.apache.sling.junit.remote-1.0.10 but the error is the same so we can rule this out. I have also tested this on a CentOS 6.4 but this bug did not appear and the &quot;mvn clean install&quot; command was successful.&lt;/p&gt;</comment>
                            <comment id="14255564" author="bdelacretaz" created="Mon, 22 Dec 2014 08:55:41 +0000"  >&lt;p&gt;I&apos;m puzzled...did you try running the tests on a fresh checkout of the testing/samples/integration-tests folder, distinct from what you&apos;re using now? I&apos;m wondering if some stale state might be the issue.&lt;/p&gt;</comment>
                            <comment id="14255575" author="zandrei" created="Mon, 22 Dec 2014 09:10:04 +0000"  >&lt;p&gt;Believe me, I am also puzzled about this. Unfortunately I won&apos;t be able to test on the same computer until next year. I have already tried your suggestion and the result is the same. Right now I have tested on another windows 7 computer with a java 1.7.0_07 version and a maven 3.2.3 and the tests run fine. I will test it again on that computer with a different version of java to see if this can be the source of the problem. Thank you for your efforts.&lt;/p&gt;</comment>
                            <comment id="14264600" author="zandrei" created="Mon, 5 Jan 2015 13:56:14 +0000"  >&lt;p&gt;I checked out the latest revision from the trunk (version 1649504) and the bug cannot be replicated. I believe this issue can be closed.&lt;/p&gt;</comment>
                            <comment id="14264607" author="bdelacretaz" created="Mon, 5 Jan 2015 14:10:12 +0000"  >&lt;p&gt;Ok, thanks for reporting - closing won&apos;t fix for now, please reopen if you have more evidence.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12688275" name="error.log" size="358689" author="zandrei" created="Fri, 19 Dec 2014 08:15:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 43 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23m1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-4256] The Sightly engine cache for compiled scripts is not invalidated properly</title>
                <link>https://issues.apache.org/jira/browse/SLING-4256</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Sightly engine does not recompile changed scripts due to an error in how it invalidates its cache.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12762297">SLING-4256</key>
            <summary>The Sightly engine cache for compiled scripts is not invalidated properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Dec 2014 14:48:09 +0000</created>
                <updated>Mon, 30 Mar 2015 12:19:29 +0000</updated>
                            <resolved>Wed, 17 Dec 2014 15:40:18 +0000</resolved>
                                                    <fixVersion>Scripting Sightly Engine 1.0.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14249929" author="radu.cotescu" created="Wed, 17 Dec 2014 14:52:07 +0000"  >&lt;p&gt;The attached patch (&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12687738/12687738_SLING-4256.patch&quot; title=&quot;SLING-4256.patch attached to SLING-4256&quot;&gt;SLING-4256.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;) correctly invalidates the cache depending on the change event&apos;s path.&lt;/p&gt;</comment>
                            <comment id="14250004" author="bdelacretaz" created="Wed, 17 Dec 2014 15:40:18 +0000"  >&lt;p&gt;Committed in revision 1646281, thanks!&lt;/p&gt;

&lt;p&gt;The fact that no changes to test code are required hints at insufficient test coverage, however &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12687738" name="SLING-4256.patch" size="2448" author="radu" created="Wed, 17 Dec 2014 14:52:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 46 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23j0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>