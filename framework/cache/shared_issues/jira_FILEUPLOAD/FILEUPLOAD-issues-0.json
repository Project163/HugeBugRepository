<!--
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Thu Oct 23 09:41:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+%22FILEUPLOAD%22+AND+issuetype+%3D+Bug+ORDER+BY+key+DESC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="200" total="211"/>
                <build-info>
            <version>8.20.10</version>
            <build-number>820010</build-number>
            <build-date>22-06-2022</build-date>
        </build-info>

<item>
            <title>[FILEUPLOAD-366] java.lang.NoSuchFieldError: INSTANCE - field removed from 1.5 after fixing CVE-2025-48976</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-366</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I&apos;m working on upgrading a Struts 1.3-based application to address the CVE-2025-48976 vulnerability:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;b&gt;CVE-2025-48976&lt;/b&gt;: A denial-of-service (DoS) vulnerability in Apache Commons FileUpload due to insufficient limits when processing multipart headers.&lt;br/&gt;
Affected versions:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;1.0 through 1.5&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;2.0.0-M1 through 2.0.0-M3&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The issue is resolved in versions &lt;b&gt;1.6&lt;/b&gt; and &lt;b&gt;2.0.0-M4&lt;/b&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;The application runs without issues using FileUpload 1.5, but when I upgrade to 1.6.0, I encounter the following error at runtime:&lt;br/&gt;
Caused by: java.lang.NoSuchFieldError: INSTANCE&lt;br/&gt;
    at org.apache.commons.fileupload.util.Streams.copy(Streams.java:151)&lt;br/&gt;
    ...&lt;br/&gt;
    at org.apache.struts.upload.CommonsMultipartRequestHandler.handleRequest(CommonsMultipartRequestHandler.java:186)&lt;br/&gt;
It seems that a field (&lt;tt&gt;INSTANCE&lt;/tt&gt;) previously available is now missing in version 1.6.0, but I haven&#8217;t found any documentation explaining its removal.&lt;/p&gt;

&lt;p&gt;Has anyone else run into this issue after upgrading? Any known workarounds or compatibility notes for Struts 1.3 with Commons FileUpload 1.6?&lt;/p&gt;</description>
                <environment>&lt;p&gt;App running Tomcat 9/Java 11 - however this is not relevant&lt;/p&gt;</environment>
        <key id="13629062">FILEUPLOAD-366</key>
            <summary>java.lang.NoSuchFieldError: INSTANCE - field removed from 1.5 after fixing CVE-2025-48976</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="theqmaster">Q</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Sep 2025 15:53:01 +0000</created>
                <updated>Wed, 17 Sep 2025 02:20:29 +0000</updated>
                            <resolved>Tue, 16 Sep 2025 16:06:11 +0000</resolved>
                                    <version>1.6.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="18020712" author="markt" created="Tue, 16 Sep 2025 16:06:11 +0000"  >&lt;p&gt;It hasn&apos;t been removed. Its use has been added. You need to update the version of Commons IO you are using.&lt;/p&gt;</comment>
                            <comment id="18020827" author="theqmaster" created="Wed, 17 Sep 2025 02:20:29 +0000"  >&lt;p&gt;I stand corrected! Thank you for the reply!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1xpvs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-365] FileItemInputIteratorImpl does not configure partHeaderSizeMax</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-365</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Version 2.0.0-M4 added&#160;&lt;font color=&quot;#871094&quot;&gt;partHeaderSizeMax&lt;/font&gt; but did not make it configurable in FileItemInputIteraterImpl.&lt;/p&gt;

&lt;p&gt;The default value is way too low and we get Exceptions when trying to upload files with Wicket.&lt;/p&gt;

&lt;p&gt;When editing server.xml and adding the option&lt;/p&gt;

&lt;p&gt;maxPartHeaderSize=&quot;2000&quot;&lt;/p&gt;

&lt;p&gt;to my connectors the setting is ignored by FileItemInputIteraterImpl&lt;/p&gt;</description>
                <environment></environment>
        <key id="13628478">FILEUPLOAD-365</key>
            <summary>FileItemInputIteratorImpl does not configure partHeaderSizeMax</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="renoth">Johannes Renoth</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Sep 2025 12:19:59 +0000</created>
                <updated>Tue, 21 Oct 2025 20:12:59 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="18019197" author="garydgregory" created="Tue, 9 Sep 2025 16:36:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=renoth&quot; class=&quot;user-hover&quot; rel=&quot;renoth&quot;&gt;renoth&lt;/a&gt; I fixed the ticket title to mention &lt;tt&gt;FileItemInputIteratorImpl&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="18019199" author="garydgregory" created="Tue, 9 Sep 2025 16:37:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=renoth&quot; class=&quot;user-hover&quot; rel=&quot;renoth&quot;&gt;renoth&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Feel free to provide a PR on GitHub. TY!&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="18031536" author="renoth" created="Tue, 21 Oct 2025 20:12:31 +0000"  >&lt;p&gt;I believe this PR fixes this issue &lt;a href=&quot;https://github.com/apache/commons-fileupload/pull/429&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-fileupload/pull/429&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It would be great if it would be released soon!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1xma0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-364] GPG artifact signing keys changed?</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-364</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;We&apos;re using the pgpverify-maven-plugin to verify artifact signatures and our builds started failing after upgrading to commons-fileupload 1.6.0 since the GPG signing key used is now different.&lt;/p&gt;

&lt;p&gt;1.5.0 used 0xA9C5DF4D22E99998D9875A5110C01C5A2F6059E7&lt;br/&gt;
1.6.0 uses 0x2DB4F1EF0FA761ECC4EA935C86FDC7E2A11262CB&lt;/p&gt;

&lt;p&gt;Is this intentional ?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13627519">FILEUPLOAD-364</key>
            <summary>GPG artifact signing keys changed?</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tgierke2342">Tobias Gierke</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Aug 2025 06:44:04 +0000</created>
                <updated>Thu, 28 Aug 2025 10:16:08 +0000</updated>
                            <resolved>Thu, 28 Aug 2025 10:16:08 +0000</resolved>
                                    <version>1.6.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="18016745" author="markt" created="Thu, 28 Aug 2025 10:16:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://www.apache.org/info/verification.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/info/verification.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://dlcdn.apache.org/commons/KEYS&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dlcdn.apache.org/commons/KEYS&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1xgcw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-362] Unable to parse requests for file uploads with special characters in filename on Windows</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-362</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/commons-fileupload/commit/63e243fe8ded60a5d40659db8226a9f5ea43fd88#diff-96321c47e1a58f258784f31b899d0ae2789fb234197b65f92032fca540762aeaR111&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;This commit&lt;/a&gt; introduced an additional &lt;tt&gt;Paths#get&lt;/tt&gt; call during file name validation. Previously, it only checked for NUL characters, but now it also checks that the filename is valid for the OS that the Java application is running on. This means a web server running on Windows is unable to accept file uploads where the original filename has special characters (e.g. from Unix-based clients where it is valid).&lt;/p&gt;

&lt;p&gt;As far as I know, the multipart field&apos;s filename value is simply informative and isn&apos;t used to actually write a file to disk - and so there shouldn&apos;t be any need for commons-fileupload to check it is a valid filename on the server OS (and in any case, it should not forcibly reject it). Any OS-specific implications of the original filename should be the consuming code&apos;s responsibility.&lt;/p&gt;

&lt;p&gt;I&apos;m not aware of any way to disable or override this new validation behaviour. The JavaDoc for &lt;tt&gt;org.apache.commons.fileupload2.core.DiskFileItem#getName&lt;/tt&gt; suggests catching the &lt;tt&gt;InvalidPathException&lt;/tt&gt; to retrieve the original filename if desired; however, this is not practical in the scenario where &lt;tt&gt;org.apache.commons.fileupload2.core.AbstractFileUpload#parseRequest&lt;/tt&gt; is being called and the exception is thrown within its calling code.&lt;/p&gt;

&lt;p&gt;Sample request for reproduction (server should be running on Windows):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
curl -X POST &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//localhost/endpoint&quot;&lt;/span&gt; -F &lt;span class=&quot;code-quote&quot;&gt;&quot;file=content;filename=file?name.txt;type=text/plain&quot;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Stack trace:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.nio.file.InvalidPathException: Illegal &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt; &amp;lt;?&amp;gt; at index 4: file?name.txt
&#160; at java.base/sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:204)
&#160; at java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:175)
&#160; at java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)
&#160; at java.base/sun.nio.fs.WindowsPath.parse(WindowsPath.java:92)
&#160; at java.base/sun.nio.fs.WindowsFileSystem.getPath(WindowsFileSystem.java:231)
&#160; at java.base/java.nio.file.Path.of(Path.java:148)
&#160; at java.base/java.nio.file.Paths.get(Paths.java:69)
&#160; at org.apache.commons.fileupload2.core.DiskFileItem.checkFileName(DiskFileItem.java:166)
&#160; at org.apache.commons.fileupload2.core.FileItemInputImpl.getName(FileItemInputImpl.java:183)
&#160; at org.apache.commons.fileupload2.core.AbstractFileUpload.lambda$parseRequest$1(AbstractFileUpload.java:478)
&#160; at org.apache.commons.io.function.IOIterator.forEachRemaining(IOIterator.java:77)
&#160; at org.apache.commons.fileupload2.core.AbstractFileUpload.parseRequest(AbstractFileUpload.java:467)
&#160; at org.apache.commons.fileupload2.jakarta.servlet6.JakartaServletFileUpload.parseRequest(JakartaServletFileUpload.java:116)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13624839">FILEUPLOAD-362</key>
            <summary>Unable to parse requests for file uploads with special characters in filename on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kusal">Kusal Kithul-Godage</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 Jul 2025 04:57:29 +0000</created>
                <updated>Tue, 29 Jul 2025 04:57:46 +0000</updated>
                                            <version>2.0.0-M1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wzr4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-361] NVD still lists fileupload 2.0.0-M4 as vulnerable</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-361</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;The NVD still lists commons-fileupload-2.0.0-M4 as vulnerable:&lt;br/&gt;
&lt;a href=&quot;https://nvd.nist.gov/vuln/detail/CVE-2025-48976#match-16814623&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://nvd.nist.gov/vuln/detail/CVE-2025-48976#match-16814623&lt;/a&gt;&lt;br/&gt;
although the CVE is officially reported as fixed for M4:&lt;br/&gt;
&lt;a href=&quot;https://lists.apache.org/thread/fbs3wrr3p67vkjcxogqqqqz45pqtso12&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread/fbs3wrr3p67vkjcxogqqqqz45pqtso12&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;The NVD REST services lists M4 as vulnerable:&lt;br/&gt;
&lt;a href=&quot;https://services.nvd.nist.gov/rest/json/cves/2.0?cveId=CVE-2025-48976&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://services.nvd.nist.gov/rest/json/cves/2.0?cveId=CVE-2025-48976&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;It looks like this is more an issue for NVD than for Apache, but if possible please send correct information to NVD so that they can fix this issue.&lt;/p&gt;

&lt;p&gt;This is a serious problem for us because of corporate security constraints we are forced to add hundreds of OWASP suppressions to various code bases due to this false positive.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13623301">FILEUPLOAD-361</key>
            <summary>NVD still lists fileupload 2.0.0-M4 as vulnerable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dmoebius">Dirk Moebius</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Jul 2025 08:18:31 +0000</created>
                <updated>Wed, 16 Jul 2025 07:24:26 +0000</updated>
                            <resolved>Tue, 15 Jul 2025 15:07:36 +0000</resolved>
                                    <version>2.0.0-M4</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="18005094" author="garydgregory" created="Mon, 14 Jul 2025 10:34:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dmoebius&quot; class=&quot;user-hover&quot; rel=&quot;dmoebius&quot;&gt;dmoebius&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Did you report the problem to NVD?&lt;/p&gt;</comment>
                            <comment id="18005200" author="dmoebius" created="Mon, 14 Jul 2025 16:45:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt; No, I thought it&apos;s better if a member of the commons-fileupload development team reports it, so that it has an &quot;official&quot; touch. Wouldn&apos;t it be strange if a random outsider could trigger a CVE change?&lt;/p&gt;</comment>
                            <comment id="18005246" author="garydgregory" created="Mon, 14 Jul 2025 21:44:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dmoebius&quot; class=&quot;user-hover&quot; rel=&quot;dmoebius&quot;&gt;dmoebius&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;I sent an email and CC&apos;d our dev list: &lt;a href=&quot;https://lists.apache.org/thread/kbl1mpx6bvfs5xj1w073ddspw92gs4ks&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread/kbl1mpx6bvfs5xj1w073ddspw92gs4ks&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="18007257" author="garydgregory" created="Tue, 15 Jul 2025 15:04:12 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;---------- Forwarded message ---------
From: cpe_dictionary &amp;lt;cpe_dictionary@nist.gov&amp;gt;
Date: Tue, Jul 15, 2025, 10:27
Subject: RE: [EXTERNAL] Wrong version for https://nvd.nist.gov/vuln/detail/CVE-2025-48976#match-16814623
To: Gary Gregory &amp;lt;ggregory@apache.org&amp;gt;, cpe_dictionary &amp;lt;cpe_dictionary@nist.gov&amp;gt;
Cc: Commons Developers List &amp;lt;dev@commons.apache.org&amp;gt;


Good morning,

Thank you for bringing this to our attention. We appreciate community input in order to provide the most accurate and up-to-date information as possible. After reviewing publicly available information we have made the appropriate modifications to remove CPE Applicability Statements for Apache Commons FileUpload versions 2.0.0 M4 and 2.0.0 M4-RC1 from the configurations.&#160; Please allow up to 24 hours for the changes to be reflected on the website and in the data feeds.

V/r,
Vidya Ananth
Common Platform Enumeration Team
National Institute of Standards and Technology (NIST)
[cpe_dictionary@nist.gov|mailto:cpe_dictionary@nist.gov]

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="18007260" author="garydgregory" created="Tue, 15 Jul 2025 15:07:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dmoebius&quot; class=&quot;user-hover&quot; rel=&quot;dmoebius&quot;&gt;dmoebius&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Please verify and close if appropriate.&#160;&lt;/p&gt;</comment>
                            <comment id="18007408" author="dmoebius" created="Wed, 16 Jul 2025 07:24:20 +0000"  >&lt;p&gt;Yes, NVD updated the CVE record and the false positive is now gone.&lt;/p&gt;

&lt;p&gt;Thank you very much for your quick support! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wqo8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-360] FileUploadBase.getItemIterator(...) does not respect fileCountMax</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-360</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;When setting a limit for the number of uploaded files with &lt;tt&gt;setFileCountMax(long)&lt;/tt&gt;, the given value has an effect only if a request is processed with &lt;tt&gt;parseRequest(RequestContext)&lt;/tt&gt;. If the request is processed with&#160;&lt;br/&gt;
&lt;tt&gt;getItemIterator(&lt;/tt&gt;&lt;tt&gt;RequestContext)&lt;/tt&gt;, the iterator implementation does not check for the given limit.&lt;br/&gt;
&#160;&lt;br/&gt;
When this limit was implemented in PR #185 (&lt;a href=&quot;https://github.com/apache/commons-fileupload/pull/185&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-fileupload/pull/185&lt;/a&gt;)&#160;changes were made only in&#160;&lt;tt&gt;parseRequest(RequestContext)&lt;/tt&gt;&#160;but not in the code used to iterate over items.&lt;br/&gt;
&#160;&lt;br/&gt;
I have been able to reproduce this issue in Commons FileUpload 1.5 and 1.6.0. I have not tested 2.0.0-M4, but I assume the same issue is present there as well.&lt;br/&gt;
&#160;&lt;br/&gt;
Since this is a security-related feature, I think it would be worth fixing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13622495">FILEUPLOAD-360</key>
            <summary>FileUploadBase.getItemIterator(...) does not respect fileCountMax</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stephan.markwalder@appway.com">Stephan Markwalder</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Jul 2025 20:14:21 +0000</created>
                <updated>Thu, 3 Jul 2025 20:17:18 +0000</updated>
                                            <version>1.5</version>
                    <version>1.6.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wlpk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-359] JPMS is no longer supported </title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-359</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;It seems we lost support for JPMS introduced with &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-340&quot; title=&quot;Make commons-fileupload a proper JPMS module&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-340&quot;&gt;&lt;del&gt;FILEUPLOAD-340&lt;/del&gt;&lt;/a&gt; .&#160; See this &lt;a href=&quot;https://github.com/apache/commons-fileupload/commit/908b571e75e4159dfe9e4909151d033ad757b1c6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit&lt;/a&gt; . Module file info-module.java is no more available with the last releases.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13622327">FILEUPLOAD-359</key>
            <summary>JPMS is no longer supported </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bitstorm">Andrea Del Bene</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Jul 2025 11:56:12 +0000</created>
                <updated>Thu, 3 Jul 2025 10:26:38 +0000</updated>
                                            <version>2.0.0-M4</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17987891" author="garydgregory" created="Wed, 2 Jul 2025 12:49:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bitstorm&quot; class=&quot;user-hover&quot; rel=&quot;bitstorm&quot;&gt;bitstorm&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The module &lt;tt&gt;info-module.class&lt;/tt&gt; files do exist in the JAR files, for example, in:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;tt&gt;commons-fileupload2-core-2.0.0-M4.jar\META-INF\versions\9&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;commons-fileupload2-jakarta-servlet6-2.0.0-M4.jar\META-INF\versions\9&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;What are we missing?&lt;/p&gt;</comment>
                            <comment id="17992519" author="bitstorm" created="Thu, 3 Jul 2025 08:39:26 +0000"  >&lt;p&gt;oh, I see, you used a multi-release jar. Anyway, since Java 11 is the minimum version required for &lt;tt&gt;fileupload2&lt;/tt&gt;, may I ask you why &lt;tt&gt;info-module is not in the default directory?&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;Thank you.&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="17992520" author="bitstorm" created="Thu, 3 Jul 2025 08:39:26 +0000"  >&lt;p&gt;oh, I see, you used a multi-release jar. Anyway, since Java 11 is the minimum version required for &lt;tt&gt;fileupload2&lt;/tt&gt;, may I ask you why &lt;tt&gt;info-module is not in the default directory?&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;Thank you.&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="17993036" author="garydgregory" created="Thu, 3 Jul 2025 10:26:38 +0000"  >&lt;p&gt;We probably need a tweak to the moditect plugin configuration. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wko8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-358] Release history link changed from changes-report.html to changes.html</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-358</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://commons.apache.org/proper/commons-fileupload/.changes-report.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://commons.apache.org/proper/commons-fileupload/.changes-report.html&lt;/a&gt; is not working&lt;/p&gt;
&lt;h1&gt;&lt;a name=&quot;NotFound&quot;&gt;&lt;/a&gt;Not Found&lt;/h1&gt;

&lt;p&gt;The requested URL was not found on this server.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;From what I understand it is related with this change:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://maven.apache.org/plugins/maven-changes-plugin/index.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://maven.apache.org/plugins/maven-changes-plugin/index.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/commons-parent/pull/561&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-parent/pull/561&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/commons-parent/pull/572&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-parent/pull/572&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13604839">FILEUPLOAD-358</key>
            <summary>Release history link changed from changes-report.html to changes.html</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="froque">Filipe Roque</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Jan 2025 09:22:17 +0000</created>
                <updated>Fri, 24 Jan 2025 14:57:27 +0000</updated>
                            <resolved>Fri, 24 Jan 2025 14:57:27 +0000</resolved>
                                                    <fixVersion>2.0.0-M2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17916744" author="garydgregory" created="Fri, 24 Jan 2025 14:57:27 +0000"  >&lt;p&gt;This link currently works: &lt;a href=&quot;https://commons.apache.org/proper/commons-fileupload/changes-report.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://commons.apache.org/proper/commons-fileupload/changes-report.html&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            38 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1tl9s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-357] Backport commons-io upgrade in 1.x for CVE-2024-47554</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-357</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Would it be possible to release a new version of commons-fileupload 1.x that depends on the fixed commons-io (2.14+) for &lt;a href=&quot;https://nvd.nist.gov/vuln/detail/CVE-2024-47554&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CVE-2024-47554&lt;/a&gt;?&lt;/p&gt;

&lt;p&gt;Note that there does not seem to be a &#8220;patch&#8221; release of commons-io with the fix, only minor releases. Maybe commons-io should publish a patch for release 2.11, in order to publish a commons-fileupload 2.15.1 with the fix?&lt;/p&gt;

&lt;p&gt;p.s. it seems version 1.5 hasn&#8217;t been marked as released in Jira&lt;/p&gt;</description>
                <environment></environment>
        <key id="13594803">FILEUPLOAD-357</key>
            <summary>Backport commons-io upgrade in 1.x for CVE-2024-47554</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Didier Loiseau">Didier Loiseau</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Oct 2024 15:47:01 +0000</created>
                <updated>Tue, 10 Jun 2025 23:17:32 +0000</updated>
                            <resolved>Tue, 10 Jun 2025 23:17:32 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17887993" author="garydgregory" created="Wed, 9 Oct 2024 15:57:35 +0000"  >&lt;p&gt;&quot;p.s. it seems version 1.5 hasn&#8217;t been marked as released in Jira&quot;&lt;/p&gt;

&lt;p&gt;Fixed!&lt;/p&gt;
</comment>
                            <comment id="17887994" author="garydgregory" created="Wed, 9 Oct 2024 15:58:33 +0000"  >&lt;p&gt;A new release, 1.6.0, is planned. I would like to create a release candidate within a week or two.&lt;/p&gt;

&lt;p&gt;Note that if you only care about the Common IO dependency, you can update it in your POM.&lt;/p&gt;</comment>
                            <comment id="17887996" author="didier loiseau" created="Wed, 9 Oct 2024 16:13:34 +0000"  >&lt;p&gt;Yes, we need to assess options. It&#8217;s just that things are easier if you don&#8217;t have to manage versions of transitive dependencies (especially since dependency management in transitive dependencies is not applied in Maven &amp;lt;4, so it must be dealt with by end-users or an explicit dependency must be added in libraries).&lt;/p&gt;</comment>
                            <comment id="17887997" author="garydgregory" created="Wed, 9 Oct 2024 16:14:49 +0000"  >&lt;p&gt;Well, you can expect a 1.6.0 release soon &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17904106" author="didier loiseau" created="Mon, 9 Dec 2024 11:00:29 +0000"  >&lt;p&gt;I noticed that &lt;a href=&quot;https://github.com/apache/commons-fileupload/commit/4699a8bd4ff88e2b727b7363e520e65446c62b2a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;you had actually already performed the upgrade&lt;/a&gt; on the 1.x branch, but you are also actively working on other things on the latter.&lt;/p&gt;

&lt;p&gt;Is there some kind of planning for the 1.6.0 release?&lt;/p&gt;

&lt;p&gt;I tried to check the mailing lists, but most recent messages containing &#8220;fileupload&#8221; seem to be automatic mails from Dependabot/GitHub/Jira.&lt;/p&gt;

&lt;p&gt;(I really don&#8217;t want to put any pressure, it&#8217;s just to get some info)&lt;/p&gt;</comment>
                            <comment id="17904119" author="garydgregory" created="Mon, 9 Dec 2024 11:46:49 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Didier+Loiseau&quot; class=&quot;user-hover&quot; rel=&quot;Didier Loiseau&quot;&gt;Didier Loiseau&lt;/a&gt;&lt;br/&gt;
Yes, 1.x and 2.x are on my to-do list.&lt;/p&gt;</comment>
                            <comment id="17910595" author="JIRAUSER303420" created="Tue, 7 Jan 2025 12:09:56 +0000"  >&lt;p&gt;Hello, Can I ask when will Apache Commons FileUpload 1.6.0 be released?&lt;/p&gt;</comment>
                            <comment id="17959614" author="didier loiseau" created="Tue, 10 Jun 2025 23:17:32 +0000"  >&lt;p&gt;commons-fileupload 1.6.0 was released.&lt;/p&gt;

&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt;! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1rvpc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-356] Link to &quot;changes report&quot; for commons-fileupload is wrong</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-356</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;On &lt;a href=&quot;https://commons.apache.org/proper/commons-fileupload/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://commons.apache.org/proper/commons-fileupload/&lt;/a&gt; under the &quot;Releases&quot; heading there is a link &quot;changes report&quot; that is incorrect.&lt;/p&gt;

&lt;p&gt;It currently links to &lt;a href=&quot;https://commons.apache.org/proper/commons-fileupload/.changes-report.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://commons.apache.org/proper/commons-fileupload/.changes-report.html&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;The correct link is &lt;a href=&quot;https://commons.apache.org/proper/commons-fileupload/changes-report.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://commons.apache.org/proper/commons-fileupload/changes-report.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13594289">FILEUPLOAD-356</key>
            <summary>Link to &quot;changes report&quot; for commons-fileupload is wrong</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="matrei">Mattias Reichel</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Oct 2024 09:33:35 +0000</created>
                <updated>Fri, 4 Oct 2024 11:40:25 +0000</updated>
                            <resolved>Fri, 4 Oct 2024 11:40:17 +0000</resolved>
                                    <version>2.0.0-M2</version>
                                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1rsjc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-353] JakartaServletFileUpload.getItemIterator() not working in 2.0.0-M1</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-353</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Using the following library:&lt;/p&gt;

&lt;p&gt;&amp;lt;dependency&amp;gt;&lt;br/&gt;
&#8194;&#8194;&amp;lt;groupId&amp;gt;org.apache.commons&amp;lt;/groupId&amp;gt;&lt;br/&gt;
&#8194;&#8194;&amp;lt;artifactId&amp;gt;commons-fileupload2-jakarta&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
&#8194;&#8194;&amp;lt;version&amp;gt;2.0.0-M1&amp;lt;/version&amp;gt;&lt;br/&gt;
&amp;lt;/dependency&amp;gt;&lt;/p&gt;

&lt;p&gt;The Streaming API (documented here FileUpload &#8211; The Streaming API (apache.org)&amp;lt;&lt;a href=&quot;https://commons.apache.org/proper/commons-fileupload/streaming.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://commons.apache.org/proper/commons-fileupload/streaming.html&lt;/a&gt;&amp;gt;)  does not return any items. I&apos;ve tested the following code using postman and curl to send a multipart/form-data request, in both cases getItemIterator fails to return any items (internally it seems an exceptio is thrown):&lt;/p&gt;


&lt;p&gt;public ResponseEntity&amp;lt;Void&amp;gt; upload(HttpServletRequest request) throws IOException {&lt;br/&gt;
       if (!JakartaServletFileUpload.isMultipartContent(request)) &lt;/p&gt;
{
           throw new IllegalArgumentException(&quot;not multipart&quot;);
       }

&lt;p&gt;       JakartaServletFileUpload upload = new JakartaServletFileUpload();&lt;/p&gt;

&lt;p&gt;       upload.getItemIterator(request).forEachRemaining(item -&amp;gt; {&lt;br/&gt;
           String name = item.getFieldName();&lt;br/&gt;
           InputStream stream = item.getInputStream();&lt;br/&gt;
           if (item.isFormField()) &lt;/p&gt;
{
               System.out.println(&quot;Form field &quot; + name + &quot; with value &quot;
                       + convertInputStreamToString(stream) + &quot; detected.&quot;);
           }
&lt;p&gt; else &lt;/p&gt;
{
               System.out.println(&quot;File field &quot; + name + &quot; with file name &quot;
                       + item.getName() + &quot; detected.&quot;);
               // Process the input stream
           }
&lt;p&gt;       });&lt;br/&gt;
&#8194;&#8194;&#8194;&#8194;&#8194;&#8194;...&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment></environment>
        <key id="13552482">FILEUPLOAD-353</key>
            <summary>JakartaServletFileUpload.getItemIterator() not working in 2.0.0-M1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="chtompki">Rob Tompkins</assignee>
                                    <reporter username="chtompki">Rob Tompkins</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Sep 2023 17:57:13 +0000</created>
                <updated>Tue, 10 Oct 2023 16:25:33 +0000</updated>
                            <resolved>Tue, 10 Oct 2023 16:25:33 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17770759" author="jochen@apache.org" created="Sat, 30 Sep 2023 19:37:00 +0000"  >&lt;p&gt;Hi, Rob,&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;can you enlighten us with details on the Exception, that is being thrown?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Jochen&lt;/p&gt;</comment>
                            <comment id="17773725" author="chtompki" created="Tue, 10 Oct 2023 14:59:10 +0000"  >&lt;p&gt;Working on that. This is just something that came in from the user&apos;s list. I figure&apos;d that I should log it here, but I&apos;m a little lost with how to get the dev environment going to sort this one out. I suppose I&apos;ll write a test that does this and see what happens.&lt;/p&gt;</comment>
                            <comment id="17773744" author="chtompki" created="Tue, 10 Oct 2023 16:17:35 +0000"  >&lt;p&gt;I&apos;m curious if an exception is really being thrown at all.&lt;/p&gt;</comment>
                            <comment id="17773747" author="chtompki" created="Tue, 10 Oct 2023 16:25:33 +0000"  >&lt;p&gt;I wrote a test for this and checked it in. It seems to not happen.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 2 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ko2o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-352] NullPointerException in DiskFileItem#toString</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-352</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Executing this Groovy snippet:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
@Grab(&lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.commons:commons-fileupload:+&apos;&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.fileupload.disk.DiskFileItem

println(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DiskFileItem(&lt;span class=&quot;code-quote&quot;&gt;&apos;test2.txt&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;text/plain&apos;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;test2.txt&apos;&lt;/span&gt;, 512, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&apos;test2.txt&apos;&lt;/span&gt;)))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;produces a &lt;tt&gt;NullPointerException&lt;/tt&gt; as &lt;tt&gt;toString&lt;/tt&gt; tries to access &lt;tt&gt;dfo&lt;/tt&gt; which is &lt;tt&gt;null&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13550873">FILEUPLOAD-352</key>
            <summary>NullPointerException in DiskFileItem#toString</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="vampire">Bj&#246;rn Kautler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Sep 2023 16:37:59 +0000</created>
                <updated>Sat, 16 Sep 2023 10:02:30 +0000</updated>
                            <resolved>Fri, 15 Sep 2023 18:42:34 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>2.0.0-M2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17765721" author="vampire" created="Fri, 15 Sep 2023 16:40:26 +0000"  >&lt;p&gt;Same for&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
@Grab(&lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.commons:commons-fileupload2-core:+&apos;&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.fileupload2.core.DiskFileItem

println(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DiskFileItem.Builder().get())
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17765806" author="garydgregory" created="Fri, 15 Sep 2023 18:42:34 +0000"  >&lt;p&gt;Please try git master or a snapshot build from &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/org/apache/commons/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/snapshots/org/apache/commons/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17765936" author="vampire" created="Sat, 16 Sep 2023 10:02:30 +0000"  >&lt;p&gt;Yes, the latest snapshot build fixes it&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 5 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ke54:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-339] OWASP - Dependency-Check found vulnerable dependencies.</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-339</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Hi guys,&lt;/p&gt;

&lt;p&gt;We have a vulnerability when we use&#160;commons-io 2.2:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://nvd.nist.gov/vuln/detail/CVE-2021-35515&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://nvd.nist.gov/vuln/detail/CVE-2021-35515&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Could you update it for the latest one, please?&lt;/p&gt;

&lt;p&gt;Thank you!&lt;/p&gt;</description>
                <environment></environment>
        <key id="13394454">FILEUPLOAD-339</key>
            <summary>OWASP - Dependency-Check found vulnerable dependencies.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pauloedf">Paulo Machado</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Aug 2021 14:10:47 +0000</created>
                <updated>Thu, 12 Aug 2021 22:57:41 +0000</updated>
                            <resolved>Thu, 12 Aug 2021 20:08:47 +0000</resolved>
                                    <version>1.4</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17398268" author="michael-o" created="Thu, 12 Aug 2021 20:08:28 +0000"  >&lt;p&gt;The CVE is about Commons Compress and not IO. They are  not related. &lt;/p&gt;</comment>
                            <comment id="17398342" author="pauloedf" created="Thu, 12 Aug 2021 22:57:41 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michael-o&quot; class=&quot;user-hover&quot; rel=&quot;michael-o&quot;&gt;michael-o&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;I made a mistake, sorry about that.&lt;/p&gt;

&lt;p&gt;The correct CVE is &lt;a href=&quot;https://nvd.nist.gov/vuln/detail/CVE-2021-29425&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://nvd.nist.gov/vuln/detail/CVE-2021-29425&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Actually, there is a Jira for it, but it&apos;s marked as resolved. But I didn&apos;t how it was solved.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/IO-556&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/IO-556&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://lists.apache.org/thread.html/rc359823b5500e9a9a2572678ddb8e01d3505a7ffcadfa8d13b8780ab%40%3Cuser.commons.apache.org%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread.html/rc359823b5500e9a9a2572678ddb8e01d3505a7ffcadfa8d13b8780ab%40%3Cuser.commons.apache.org%3E&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;kind regards,&lt;/p&gt;

&lt;p&gt;Paulo&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0trs0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-338] FileItem.write crash on Windows Tomcat</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-338</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;When I use FileItem.write on FileUpload 1.4, it will crash on Windows Tomcat, linux server has not been tested. I find it is crashed by FileUtils.moveFile, which reports IO Exception. FileUpload 1.3 works well, because it use file streams copying.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13385515">FILEUPLOAD-338</key>
            <summary>FileItem.write crash on Windows Tomcat</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yang2021">yangshulin</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 Jun 2021 00:34:16 +0000</created>
                <updated>Mon, 20 Mar 2023 16:00:23 +0000</updated>
                                            <version>1.4</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17368617" author="arturobernalg" created="Thu, 24 Jun 2021 04:48:58 +0000"  >&lt;p&gt;HI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yang2021&quot; class=&quot;user-hover&quot; rel=&quot;yang2021&quot;&gt;yang2021&lt;/a&gt;&lt;/p&gt;


&lt;p&gt; Would you be able to provide a unit test? It would be much easy looking into with a test case and the files that cause the issue.&lt;/p&gt;

&lt;p&gt;Thank you,&lt;/p&gt;

&lt;p&gt;&#160;Arturo&lt;/p&gt;</comment>
                            <comment id="17369774" author="yang2021" created="Sat, 26 Jun 2021 00:50:18 +0000"  >&lt;p&gt;Sorry, I don&apos;t know how to unit test FileUpload.&lt;/p&gt;

&lt;p&gt;Below is the critical crash stack:&lt;/p&gt;

&lt;p&gt;java.io.IOException: Failed to delete original file &apos;C:\Users\XX\AppData\Local\Temp\upload_69595089_ccd2_42e5_9be0_367b7e24bdc7_00000005.tmp&apos; after copy to &apos;C:\Users\XX\Documents\Web\.metadata\.plugins\org.eclipse.wst.server.core\tmp2\wtpwebapps\medias\1624669113739.jpg&apos;&lt;/p&gt;

&lt;p&gt;at org.apache.commons.io.FileUtils.moveFile(FileUtils.java:2578)&lt;/p&gt;

&lt;p&gt;at org.apache.commons.fileupload.disk.DiskFileItem.write(DiskFileItem.java:405)&lt;/p&gt;

&lt;p&gt;I think it is a bug of FileUtils.moveFile, this crash appears on FileUpload 1.4, FileUpload 1.3 works well, because it uses IOUtils to copy streams.&lt;/p&gt;</comment>
                            <comment id="17369847" author="arturobernalg" created="Sat, 26 Jun 2021 10:00:41 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yang2021&quot; class=&quot;user-hover&quot; rel=&quot;yang2021&quot;&gt;yang2021&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If I correct understand the problem it&apos;s in de commons IO protect and not in FileUpload. As far i understand you have an issue while the file it&apos;s moving, and thats operations are handling by commons IO protect.&lt;/p&gt;

&lt;p&gt;Probably you should check with them.&lt;/p&gt;

&lt;p&gt;Arturo&lt;/p&gt;

&lt;p&gt;TY&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17373938" author="yang2021" created="Sat, 3 Jul 2021 07:07:00 +0000"  >&lt;p&gt;So how to solve this problem? What do you mean by&#160;commons IO protect? It is a problem of Windows NT file system?&lt;/p&gt;</comment>
                            <comment id="17374578" author="erans" created="Mon, 5 Jul 2021 06:44:52 +0000"  >&lt;blockquote&gt;&lt;p&gt;What do you mean by commons IO protect?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The reference was quite probably to the &lt;a href=&quot;http://commons.apache.org/proper/commons-io&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&quot;Commons IO&quot; project&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17702803" author="JIRAUSER299199" created="Mon, 20 Mar 2023 15:26:12 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;This problem is still in commons-fileupload:1.5.&#160;&lt;/p&gt;

&lt;p&gt;I sent email reporting this bug to fileupload project at &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;mailto:dev@commons.apache.org&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dev@commons.apache.org&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/mail_small.gif&quot; height=&quot;12&quot; width=&quot;13&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;======&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#000000&quot;&gt;To: dev@commons.apache.org &amp;lt;dev@commons.apache.org&amp;gt;&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;#000000&quot;&gt;Subject: &lt;span class=&quot;error&quot;&gt;&amp;#91;fileupload&amp;#93;&lt;/span&gt; bug/regression - java.io.IOException: Failed to delete original file on Windows&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#000000&quot;&gt;Hi,&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#000000&quot;&gt;When uploading a file on Windows, IOException: Failed to delete original file is thrown.&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#000000&quot;&gt;This problem happens only on Windows OS when the uploading file is written to disk.&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#000000&quot;&gt;The DiskFileItem.write(File) is updated in commons-fileupload 1.4.&#160; It utilizes the org.apache.commons.io.FileUtils.moveFile() to copy and delete the .tmp file.&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/commons-fileupload/blob/11a06cea605eadcba1d6ef125ff1448d6137ed7d/src/main/java/org/apache/commons/fileupload2/disk/DiskFileItem.java#L411&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-fileupload/blob/11a06cea605eadcba1d6ef125ff1448d6137ed7d/src/main/java/org/apache/commons/fileupload2/disk/DiskFileItem.java#L411&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#000000&quot;&gt;(commons-fileupload 1.5 has the similar call in addition to the remove of existing destination file; so I think it will have similar problem).&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#000000&quot;&gt;FileUtils.moveFile(File, File)&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/commons-io/blob/f22a4227401855ecbfdf8184bbe37275c3aeb5c3/src/main/java/org/apache/commons/io/FileUtils.java#L2392&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-io/blob/f22a4227401855ecbfdf8184bbe37275c3aeb5c3/src/main/java/org/apache/commons/io/FileUtils.java#L2392&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#000000&quot;&gt;&#160;if (!srcFile.delete())&#160;&#160; can cause IOException on Windows when writing to disk.&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#000000&quot;&gt;To recreate the problem on Tomcat, I patched Tomcat 9.0.72 DiskFileItem to use the commons.io FileUtils (also taking care of all its dependent classes) to show the exception:&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#000000&quot;&gt;======&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;#000000&quot;&gt;27-Feb-2023 08:53:57.416 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: &lt;span class=&quot;error&quot;&gt;&amp;#91;Apache Tomcat/9.0.72&amp;#93;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#000000&quot;&gt;......&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;#000000&quot;&gt;27-Feb-2023 08:54:00.391 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; org.apache.catalina.startup.Catalina.start Server startup in &lt;span class=&quot;error&quot;&gt;&amp;#91;3073&amp;#93;&lt;/span&gt; milliseconds&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#000000&quot;&gt;FileUploadWrite servlet, part.write()&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#000000&quot;&gt;DEBUG DiskFileItem copy from 1.4 source. write()&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#000000&quot;&gt;DEBUG DiskFileItem copy from 1.4 source. to DISK&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#000000&quot;&gt;DEBUG DiskFileItem copy from 1.4 source. FileUtils.moveFile, outputFile &lt;span class=&quot;error&quot;&gt;&amp;#91;C:\TomCat\output-Tomcat-9.72_Patch_1.4Fileupload\build\work\Catalina\localhost\TestFileUpload\upload_b107c4e1_4efe_454a_a9c3_f41186e63e6e_00000004.tmp&amp;#93;&lt;/span&gt; , file &lt;span class=&quot;error&quot;&gt;&amp;#91;C:\TomCat\output-Tomcat-9.72_Patch_1.4Fileupload\build\work\Catalina\localhost\TestFileUpload\FILEUPLOAD_writingfile.txt&amp;#93;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#000000&quot;&gt;Exception writing file: java.io.IOException: java.io.IOException: Failed to delete original file &apos;C:\TomCat\output-Tomcat-9.72_Patch_1.4Fileupload\build\work\Catalina\localhost\TestFileUpload\upload_b107c4e1_4efe_454a_a9c3_f41186e63e6e_00000004.tmp&apos; after copy to &apos;C:\TomCat\output-Tomcat-9.72_Patch_1.4Fileupload\build\work\Catalina\localhost\TestFileUpload\FILEUPLOAD_writingfile.txt&apos;&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;#000000&quot;&gt;======&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#000000&quot;&gt;My servlet app uses javax.servlet.http.Part.write(String) upload file to disk.&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#000000&quot;&gt;This is a regression from commons-fileupload 1.3.&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;=======&amp;lt;/end email&amp;gt;=====&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Though the suggestion was to work with commons-io project, fileupload project was the one pulling in the defective IO codes.&#160; Can you please at least revert/make a correct so fileupload can work on Windows?&#160; I can file a separate report with commons-io project but don&apos;t know when it will be fixed.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Thank you!&lt;/p&gt;</comment>
                            <comment id="17702830" author="JIRAUSER299199" created="Mon, 20 Mar 2023 16:00:23 +0000"  >&lt;p&gt;Filed with commons-io: &#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/IO-788&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/IO-788&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0s8p4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-331] Solve warnings / error checkstyle</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-331</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;The idea it&apos;s to resolve all the warning and error of the checkstyle&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Checkstyle found 40 item(s) in 17 file(s)&lt;/li&gt;
	&lt;li&gt;Base64Decoder.java : 1 item(s)&lt;/li&gt;
	&lt;li&gt;&apos;byte&apos; is followed by whitespace. (107:20) &lt;span class=&quot;error&quot;&gt;&amp;#91;NoWhitespaceAfter&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;DiskFileItem.java : 2 item(s)&lt;/li&gt;
	&lt;li&gt;Expected line ending for file is LF(\n), but CRLF(\r\n) is detected. (1:0) &lt;span class=&quot;error&quot;&gt;&amp;#91;NewlineAtEndOfFile&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;Avoid inline conditionals. (308:42) &lt;span class=&quot;error&quot;&gt;&amp;#91;AvoidInlineConditionals&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;FileItemIterator.java : 2 item(s)&lt;/li&gt;
	&lt;li&gt;Expected line ending for file is LF(\n), but CRLF(\r\n) is detected. (1:0) &lt;span class=&quot;error&quot;&gt;&amp;#91;NewlineAtEndOfFile&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;File contains tab characters (this is the first instance). (30:1) &lt;span class=&quot;error&quot;&gt;&amp;#91;FileTabCharacter&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;FileItemIteratorImpl.java : 6 item(s)&lt;/li&gt;
	&lt;li&gt;File does not end with a newline. (1:0) &lt;span class=&quot;error&quot;&gt;&amp;#91;NewlineAtEndOfFile&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;File contains tab characters (this is the first instance). (47:1) &lt;span class=&quot;error&quot;&gt;&amp;#91;FileTabCharacter&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;Missing a Javadoc comment. (47:9) &lt;span class=&quot;error&quot;&gt;&amp;#91;JavadocVariable&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;Missing a Javadoc comment. (48:9) &lt;span class=&quot;error&quot;&gt;&amp;#91;JavadocVariable&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;Missing a Javadoc comment. (49:9) &lt;span class=&quot;error&quot;&gt;&amp;#91;JavadocVariable&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;Line is longer than 120 characters (found 167). (339:0) &lt;span class=&quot;error&quot;&gt;&amp;#91;LineLength&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;FileItemStreamImpl.java : 4 item(s)&lt;/li&gt;
	&lt;li&gt;File does not end with a newline. (1:0) &lt;span class=&quot;error&quot;&gt;&amp;#91;NewlineAtEndOfFile&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;File contains tab characters (this is the first instance). (38:1) &lt;span class=&quot;error&quot;&gt;&amp;#91;FileTabCharacter&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;Missing a Javadoc comment. (38:9) &lt;span class=&quot;error&quot;&gt;&amp;#91;JavadocVariable&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;Variable &apos;name&apos; must be private and have accessor methods. (53:18) &lt;span class=&quot;error&quot;&gt;&amp;#91;VisibilityModifier&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;FileSizeLimitExceededException.java : 1 item(s)&lt;/li&gt;
	&lt;li&gt;File does not end with a newline. (1:0) &lt;span class=&quot;error&quot;&gt;&amp;#91;NewlineAtEndOfFile&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;FileUploadBase.java : 1 item(s)&lt;/li&gt;
	&lt;li&gt;Line is longer than 120 characters (found 133). (330:0) &lt;span class=&quot;error&quot;&gt;&amp;#91;LineLength&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;FileUploadIOException.java : 1 item(s)&lt;/li&gt;
	&lt;li&gt;File does not end with a newline. (1:0) &lt;span class=&quot;error&quot;&gt;&amp;#91;NewlineAtEndOfFile&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;IOFileUploadException.java : 1 item(s)&lt;/li&gt;
	&lt;li&gt;File does not end with a newline. (1:0) &lt;span class=&quot;error&quot;&gt;&amp;#91;NewlineAtEndOfFile&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;InvalidContentTypeException.java : 1 item(s)&lt;/li&gt;
	&lt;li&gt;File does not end with a newline. (1:0) &lt;span class=&quot;error&quot;&gt;&amp;#91;NewlineAtEndOfFile&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;ParameterParser.java : 1 item(s)&lt;/li&gt;
	&lt;li&gt;Avoid inline conditionals. (319:80) &lt;span class=&quot;error&quot;&gt;&amp;#91;AvoidInlineConditionals&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;ParseException.java : 1 item(s)&lt;/li&gt;
	&lt;li&gt;Redundant &apos;public&apos; modifier. (34:5) &lt;span class=&quot;error&quot;&gt;&amp;#91;RedundantModifier&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;RFC2231Utility.java : 12 item(s)&lt;/li&gt;
	&lt;li&gt;Line is longer than 120 characters (found 148). (25:0) &lt;span class=&quot;error&quot;&gt;&amp;#91;LineLength&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;Utility classes should not have a public or default constructor. (32:1) &lt;span class=&quot;error&quot;&gt;&amp;#91;HideUtilityClassConstructor&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;Missing a Javadoc comment. (34:5) &lt;span class=&quot;error&quot;&gt;&amp;#91;JavadocVariable&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;Missing a Javadoc comment. (36:5) &lt;span class=&quot;error&quot;&gt;&amp;#91;JavadocVariable&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;&apos;0x80&apos; is a magic number. (36:55) &lt;span class=&quot;error&quot;&gt;&amp;#91;MagicNumber&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;First sentence should end with a period. (46:0) &lt;span class=&quot;error&quot;&gt;&amp;#91;JavadocStyle&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;First sentence should end with a period. (59:0) &lt;span class=&quot;error&quot;&gt;&amp;#91;JavadocStyle&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;Line is longer than 120 characters (found 122). (86:0) &lt;span class=&quot;error&quot;&gt;&amp;#91;LineLength&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;First sentence should end with a period. (106:0) &lt;span class=&quot;error&quot;&gt;&amp;#91;JavadocStyle&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;&apos;0x7f&apos; is a magic number. (119:63) &lt;span class=&quot;error&quot;&gt;&amp;#91;MagicNumber&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;&apos;0x7f&apos; is a magic number. (120:63) &lt;span class=&quot;error&quot;&gt;&amp;#91;MagicNumber&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;&apos;4&apos; is a magic number. (121:34) &lt;span class=&quot;error&quot;&gt;&amp;#91;MagicNumber&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;SizeException.java : 2 item(s)&lt;/li&gt;
	&lt;li&gt;File does not end with a newline. (1:0) &lt;span class=&quot;error&quot;&gt;&amp;#91;NewlineAtEndOfFile&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;Missing package-info.java file. (1:0) &lt;span class=&quot;error&quot;&gt;&amp;#91;JavadocPackage&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;SizeLimitExceededException.java : 1 item(s)&lt;/li&gt;
	&lt;li&gt;File does not end with a newline. (1:0) &lt;span class=&quot;error&quot;&gt;&amp;#91;NewlineAtEndOfFile&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;Streams.java : 2 item(s)&lt;/li&gt;
	&lt;li&gt;Line is longer than 120 characters (found 124). (65:0) &lt;span class=&quot;error&quot;&gt;&amp;#91;LineLength&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;File contains tab characters (this is the first instance). (148:5) &lt;span class=&quot;error&quot;&gt;&amp;#91;FileTabCharacter&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;UnknownSizeException.java : 1 item(s)&lt;/li&gt;
	&lt;li&gt;File does not end with a newline. (1:0) &lt;span class=&quot;error&quot;&gt;&amp;#91;NewlineAtEndOfFile&amp;#93;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13377088">FILEUPLOAD-331</key>
            <summary>Solve warnings / error checkstyle</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="arturobernalg">Arturo Bernal</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 May 2021 19:48:06 +0000</created>
                <updated>Wed, 2 Jun 2021 16:01:32 +0000</updated>
                            <resolved>Wed, 2 Jun 2021 16:01:32 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                                                                        <aggregatetimeremainingestimate seconds="0">0h</aggregatetimeremainingestimate>
                                        <aggregatetimespent seconds="14400">4h</aggregatetimespent>
                                    <comments>
                            <comment id="17355827" author="arturobernalg" created="Wed, 2 Jun 2021 16:01:32 +0000"  >&lt;p&gt;in master&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="13377089">FILEUPLOAD-332</subtask>
                            <subtask id="13377144">FILEUPLOAD-333</subtask>
                            <subtask id="13377237">FILEUPLOAD-334</subtask>
                            <subtask id="13377383">FILEUPLOAD-335</subtask>
                            <subtask id="13377553">FILEUPLOAD-336</subtask>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0qsso:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-329] Fix multiples errors fileupload_checks.xml config file</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-329</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;We need to update / fix some problems/error in the fileupload_checks.xml files. All of them are because the libs and the config was updated&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;SuppressWithNearbyCommentFilter /&#160;SuppressionCommentFilter is not allowed as a child in Checker --&amp;gt;&#160;Make SuppressionCommentFilter and SuppressWithNearbyCommentFilter children of TreeWalker. Author: Timur &lt;a href=&quot;https://github.com/checkstyle/checkstyle/issues/4714&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#4714&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;cannot initialize module TreeWalker - Property &apos;cacheFile&apos; does not exist, please check the documentation --&amp;gt; &lt;a href=&quot;https://checkstyle.org/releasenotes.html#Release_8.19&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://checkstyle.org/releasenotes.html#Release_8.19&lt;/a&gt;&#160;&#160;Remove `cache` field from TreeWalker in Checkstyle 8.0. Author: rnveach&#160;&lt;a href=&quot;https://github.com/checkstyle/checkstyle/issues/2883&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#2883&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;module TreeWalker - cannot initialize module FileContentsHolder --&amp;gt; &#160;&lt;a href=&quot;https://github.com/checkstyle/checkstyle/issues/3573#issue-191385595&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/checkstyle/checkstyle/issues/3573#issue-191385595&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;TreeWalker - cannot initialize module JavadocMethod - Property &apos;allowUndeclaredRTE&apos; --&amp;gt;&#160;&lt;a href=&quot;https://github.com/jeremylong/DependencyCheck/issues/2492&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jeremylong/DependencyCheck/issues/2492&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;TreeWalker - cannot initialize module JavadocMethod - Property &apos;allowThrowsTagsForSubclasses&apos; --&amp;gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/checkstyle/checkstyle/issues/7329&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/checkstyle/checkstyle/issues/7329&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;TreeWalker is not allowed as a parent of LineLength --&amp;gt;&#160;&lt;a href=&quot;https://github.com/checkstyle/checkstyle/issues/473&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/checkstyle/checkstyle/issues/473&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13376721">FILEUPLOAD-329</key>
            <summary>Fix multiples errors fileupload_checks.xml config file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="arturobernalg">Arturo Bernal</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 May 2021 05:48:20 +0000</created>
                <updated>Wed, 26 May 2021 15:25:05 +0000</updated>
                            <resolved>Wed, 26 May 2021 15:25:05 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="600">10m</timespent>
                                <comments>
                            <comment id="17351862" author="arturobernalg" created="Wed, 26 May 2021 15:25:05 +0000"  >&lt;p&gt;in master&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0qqjk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-327] Solve SpotBug warning/errors</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-327</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;This Jira it&apos;s to solve the following error/warnings:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;MS_PKGPROTECT --&amp;gt;MS: Field should be package protected (MS_PKGPROTECT)&lt;/li&gt;
	&lt;li&gt;EI_EXPOSE_REP2 --&amp;gt;&#160;EI2: May expose internal representation by incorporating reference to mutable object (EI_EXPOSE_REP2)&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;EI_EXPOSE_REP --&amp;gt; &#160;EI: May expose internal representation by returning reference to mutable object (EI_EXPOSE_REP)&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13376222">FILEUPLOAD-327</key>
            <summary>Solve SpotBug warning/errors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="arturobernalg">Arturo Bernal</reporter>
                        <labels>
                    </labels>
                <created>Sat, 1 May 2021 17:27:21 +0000</created>
                <updated>Wed, 26 May 2021 15:26:40 +0000</updated>
                            <resolved>Wed, 26 May 2021 15:26:40 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4800">1h 20m</timespent>
                                <comments>
                            <comment id="17351865" author="arturobernalg" created="Wed, 26 May 2021 15:26:40 +0000"  >&lt;p&gt;i&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0qngw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-307] Request InputStream created in FileItemIteratorImpl can be left open</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-307</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Some exceptions in FileUploadBase.parseRequest you can leave Request InputStream open, leading to a memory leak, because FileItemIteratorImpl InputStream is not closed.&lt;/p&gt;

&lt;p&gt;In my case the following Exception generates the problem.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Caused by: java.io.EOFException: Unexpected EOF read on the socket
	at org.apache.coyote.http11.InternalNioInputBuffer.fill(InternalNioInputBuffer.java:152) ~[tomcat-coyote.jar:8.0.27]
	at org.apache.coyote.http11.InternalNioInputBuffer$SocketInputBuffer.doRead(InternalNioInputBuffer.java:177) ~[tomcat-coyote.jar:8.0.27]
	at org.apache.coyote.http11.filters.IdentityInputFilter.doRead(IdentityInputFilter.java:110) ~[tomcat-coyote.jar:8.0.27]
	at org.apache.coyote.http11.AbstractInputBuffer.doRead(AbstractInputBuffer.java:416) ~[tomcat-coyote.jar:8.0.27]
	at org.apache.coyote.Request.doRead(Request.java:469) ~[tomcat-coyote.jar:8.0.27]
	at org.apache.catalina.connector.InputBuffer.realReadBytes(InputBuffer.java:342) ~[catalina.jar:8.0.27]
	at org.apache.tomcat.util.buf.ByteChunk.substract(ByteChunk.java:395) ~[tomcat-util.jar:8.0.27]
	at org.apache.catalina.connector.InputBuffer.read(InputBuffer.java:367) ~[catalina.jar:8.0.27]
	at org.apache.catalina.connector.CoyoteInputStream.read(CoyoteInputStream.java:190) ~[catalina.jar:8.0.27]
	at java.io.FilterInputStream.read(FilterInputStream.java:133) ~[?:1.8.0_211]
	at org.apache.commons.fileupload.util.LimitedInputStream.read(LimitedInputStream.java:132) ~[commons-fileupload-1.4.jar:1.4]
	at org.apache.commons.fileupload.MultipartStream$ItemInputStream.makeAvailable(MultipartStream.java:1027) ~[commons-fileupload-1.4.jar:1.4]
	at org.apache.commons.fileupload.MultipartStream$ItemInputStream.read(MultipartStream.java:931) ~[commons-fileupload-1.4.jar:1.4]
	at java.io.InputStream.read(InputStream.java:101) ~[?:1.8.0_211]
	at org.apache.commons.fileupload.util.Streams.copy(Streams.java:98) ~[commons-fileupload-1.4.jar:1.4]
	at org.apache.commons.fileupload.util.Streams.copy(Streams.java:68) ~[commons-fileupload-1.4.jar:1.4]
	at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:346) ~[commons-fileupload-1.4.jar:1.4]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13327240">FILEUPLOAD-307</key>
            <summary>Request InputStream created in FileItemIteratorImpl can be left open</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="matafagafo">Fernando Hartmann</reporter>
                        <labels>
                    </labels>
                <created>Sat, 12 Sep 2020 19:26:32 +0000</created>
                <updated>Wed, 2 Jun 2021 16:47:36 +0000</updated>
                                            <version>1.4</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17355859" author="arturobernalg" created="Wed, 2 Jun 2021 16:47:36 +0000"  >&lt;p&gt;HI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=matafagafo&quot; class=&quot;user-hover&quot; rel=&quot;matafagafo&quot;&gt;matafagafo&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thank you for your report.&lt;/p&gt;

&lt;p&gt;&#160;Could you please provide a unit test where is reproduced in order to &#160;to analyze it?&#160;would be very helpful.&lt;/p&gt;

&lt;p&gt;TY&lt;/p&gt;

&lt;p&gt;Arturo&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ijpc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-305] FileItem.get() returns garbled byte stream for binary files</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-305</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;h3&gt;&lt;a name=&quot;Summary&quot;&gt;&lt;/a&gt;&lt;b&gt;Summary&lt;/b&gt;&lt;/h3&gt;

&lt;p&gt;FileItem.get() claims to return &quot;the contents of the file item as an array of bytes.&quot;&lt;/p&gt;

&lt;p&gt;FileItem.getInputStream() claims to return &quot;an InputStream that can be used to retrieve the contents of the file.&quot; That suggests they should behave identically.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;However, when uploading a multipart form-encoded binary file, get() returns garbled results.&lt;/b&gt; Specifically, many byte sequences are replaced with 0xEF 0xBF 0xBD, the UTF-8 representation of the Unicode replacement character &#65533;.&lt;/p&gt;

&lt;p&gt;This suggests that get() is attempting to de-serialize file contents as UTF-8 text, rather than returning the raw contents. This is a trap and does not match the documentation.&lt;/p&gt;

&lt;p&gt;Meanwhile, getInputStream() yields correct results.&lt;/p&gt;
&lt;h3&gt;&lt;a name=&quot;Stepstoreproduce&quot;&gt;&lt;/a&gt;&lt;b&gt;Steps to reproduce&lt;/b&gt;&lt;/h3&gt;

&lt;p&gt;Upload a multipart form-encoded payload to the following &quot;hello world&quot; request handler.&lt;/p&gt;

&lt;p&gt;Include just a single part, the 208 byte PNG file attached to this issue.&lt;/p&gt;

&lt;p&gt;Minimal request handler:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; void receive(HttpServletRequest req, HttpServletResponse resp) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
&#160; DiskFileItemFactory factory = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DiskFileItemFactory();
&#160; ServletFileUpload upload = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ServletFileUpload(factory);
&#160; FileItem item = upload.parseRequest(req).get(0);
&#160; &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;content-type: &quot;&lt;/span&gt; + item.getContentType());
&#160; &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;# of bytes via get(): &quot;&lt;/span&gt; + item.get().length);
&#160; &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;# of bytes via getInputStream():&quot;&lt;/span&gt; + ByteStreams.toByteArray(item.getInputStream()));
&lt;/span&gt;}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The content-type should show image/png.&lt;/p&gt;

&lt;p&gt;If you print bytes via get(), you&apos;ll see 348, which is incorrect.&lt;/p&gt;

&lt;p&gt;If you print bytes via getInputStream(), you&apos;ll see the correct 208 bytes.&lt;/p&gt;

&lt;p&gt;If you go further and print out the exact bytes returned by get() and view in a hex editor, you&apos;ll see the 0xEF 0xBF 0xBD replacement character inserted in many spots.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Server: Jetty 9.4.26&lt;br/&gt;
JVM: openjdk 11.0.7&lt;br/&gt;
OS: macOS Catalina&lt;/p&gt;</environment>
        <key id="13312306">FILEUPLOAD-305</key>
            <summary>FileItem.get() returns garbled byte stream for binary files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dcposch">DC Posch</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Jun 2020 21:23:18 +0000</created>
                <updated>Sat, 20 Jun 2020 04:53:44 +0000</updated>
                            <resolved>Sat, 20 Jun 2020 04:53:44 +0000</resolved>
                                    <version>1.4</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17140840" author="jochen@apache.org" created="Fri, 19 Jun 2020 21:25:12 +0000"  >&lt;p&gt;I can&apos;t really imagine, that there should be any difference. That being said, have you tried to experiment with different values for sizeThreshold? Because, with the 208 bytes from your example, you&apos;d be below the default value of 10240 bytes (DiskFileItemFactory.DEFAULT_SIZE_THRESHOLD). Meaning, your uploaded bytes won&apos;t get swapped to disk. So, if you have either a very low sizeThreshold, or a larger file, then swapping to disk would happen, and that might change the picture.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17140966" author="dcposch" created="Sat, 20 Jun 2020 04:53:20 +0000"  >&lt;p&gt;Sorry, I skipped a step while debugging this issue.&lt;/p&gt;

&lt;p&gt;The fault is actually not with Apache FileUpload, it&apos;s with AWS API Gateway.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/41429551/aws-api-gateway-base64decode-produces-garbled-binary&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/41429551/aws-api-gateway-base64decode-produces-garbled-binary&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks for the reply though, and thanks for maintaining apache!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13005995" name="check.png" size="208" author="dcposch" created="Thu, 18 Jun 2020 21:23:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 18 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0fzy8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-304] &lt;TEXTAREA&gt; value lines are terminated CR LF instead of just LF</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-304</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Steps to reproduce:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;create a form with text area&lt;/li&gt;
	&lt;li&gt;submit some multiline text through it&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If the form doesn&apos;t contain any file inputs, i.e. if FileUpload is not involved: lines of text are terminated by LF.&lt;/p&gt;

&lt;p&gt;However, if there is a file input and you get the value using FileItem.getString (&quot;UTF-8&quot;), text lines are terminated by CR LF.&lt;/p&gt;

&lt;p&gt;As a result, CR LF can get into database. Additionally, database column size limit can be exceeded even if you check for this on the client side (client side always sees LF, on server side it gets transformed to CR LF, so text length is increased).&lt;/p&gt;

&lt;p&gt;I guess the same applies to any multiline text you submit within a multipart form, e.g. if you set in JS: after arriving to the server, all LF get transformed to CR LF.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13311722">FILEUPLOAD-304</key>
            <summary>&lt;TEXTAREA&gt; value lines are terminated CR LF instead of just LF</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="doublep">Paul Pogonyshev</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Jun 2020 13:29:03 +0000</created>
                <updated>Fri, 28 Aug 2020 13:13:47 +0000</updated>
                                            <version>1.4</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17137842" author="jochen@apache.org" created="Tue, 16 Jun 2020 18:32:38 +0000"  >&lt;p&gt;What justifies your claim, that &quot;if FileUpload is not involved: lines of text are terminated by LF&quot;?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17186529" author="doublep" created="Fri, 28 Aug 2020 13:13:47 +0000"  >&lt;p&gt;That that is what I see?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 8 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0fytc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-301] Problems uploading files greater than 100kb using HTTPS</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-301</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I&apos;have a java web app that uses Apache Commons FileUpload for uploading files using servlets.&#160;&lt;/p&gt;

&lt;p&gt;My base code worked perfectly for years on a plain http environment (Apache Tomcat 8.5).&lt;/p&gt;

&lt;p&gt;I&apos;ve changed my environment to work with HTTPS, using a Let&apos;s Encrypt certificate using connector configured with org.apache.coyote.http11.Http11AprProtocol.&lt;/p&gt;

&lt;p&gt;My uploads now suddenly fail if files are greater than 100kb. Same files uploaded successfully using plain HTTP environment.&#160;&lt;/p&gt;


&lt;p&gt;This is the exception logged:&#160;&lt;br/&gt;
&#160; &#160;&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;org.apache.commons.fileupload.FileUploadBase$IOFileUploadException: Processing of multipart/form-data request failed. java.io.IOException: The socket &lt;span class=&quot;error&quot;&gt;&amp;#91;925,024,592&amp;#93;&lt;/span&gt; associated with this connection has been closed.&lt;/tt&gt;&lt;/p&gt;


&lt;p&gt;this is the code fragment i use for manage request:&lt;br/&gt;
&#160; &#160; &#160;&lt;/p&gt;

&lt;p&gt;{{DiskFileItemFactory factory = new DiskFileItemFactory(); &#160; }}&lt;/p&gt;

&lt;p&gt;{{File repository = (File)&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; request.getServletContext().getAttribute(&quot;javax.servlet.context.tempdir&quot;); &#160; factory.setRepository(repository); &#160; }}&lt;/p&gt;

&lt;p&gt;{{ServletFileUpload upload = new ServletFileUpload(factory); &#160; upload.setHeaderEncoding(encoding);&#160; &#160; }}&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;multipartItems = upload.parseRequest(request);&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Tomcat settings:&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;&amp;lt;Connector&#160; port=&quot;80&quot; protocol=&quot;HTTP/1.1&quot; connectionTimeout=&quot;20000&quot;&#160; &#160; &#160; &#160;redirectPort=&quot;443&quot; &#160; /&amp;gt;&lt;/tt&gt;&lt;br/&gt;
{{}}&lt;/p&gt;

&lt;p&gt;{{&amp;lt;Connector&#160; port=&quot;443&quot; protocol=&quot;org.apache.coyote.http11.Http11AprProtocol&quot;&#160; &#160; &#160; &#160; maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; &amp;gt;&#160; &#160; &#160; &#160; }}&lt;/p&gt;

&lt;p&gt;{{&amp;lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&amp;gt;&#160; &#160; &#160; &#160; &amp;lt;SSLHostConfig&amp;gt;&#160; &#160; &#160; &#160; &#160; &#160; }}&lt;/p&gt;

&lt;p&gt;{{&amp;lt;Certificate&#160; certificateKeyFile=&quot;D:/prj/certificati/private.key&quot;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; certificateFile=&quot;D:/prj/certificati/certificate.crt&quot;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; certificateChainFile=&quot;D:/prj/certificati/ca_bundle.crt&quot;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; type=&quot;RSA&quot;&#160; /&amp;gt;&#160; &#160; &#160; &#160; }}&lt;/p&gt;

&lt;p&gt;{{&amp;lt;/SSLHostConfig&amp;gt;&#160; &#160; }}&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;&amp;lt;/Connector&amp;gt;&lt;/tt&gt;&lt;/p&gt;



&lt;p&gt;Thanks&#160;&lt;/p&gt;</description>
                <environment>&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Apache Tomcat 8.5&lt;/p&gt;

&lt;p&gt;java 9.0.4&lt;/p&gt;

&lt;p&gt;Windows Server 2016 Datacenter&lt;/p&gt;</environment>
        <key id="13259076">FILEUPLOAD-301</key>
            <summary>Problems uploading files greater than 100kb using HTTPS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="andang76">Andrea</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Sep 2019 14:49:11 +0000</created>
                <updated>Fri, 27 Sep 2019 21:14:55 +0000</updated>
                            <resolved>Fri, 27 Sep 2019 21:14:55 +0000</resolved>
                                    <version>1.2.2</version>
                    <version>1.4</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16939394" author="michael-o" created="Fri, 27 Sep 2019 12:33:24 +0000"  >&lt;p&gt;Tomcat and HttpComponents committer here. I highly doubt that there is a bug in FileUpload. It is likely your setup or client. Write a simple servlet which persists the request body into a stream. Also retry with curl and HttpClient. Provide both cases with debug/verbose log output.&lt;/p&gt;</comment>
                            <comment id="16939437" author="andang76" created="Fri, 27 Sep 2019 13:13:31 +0000"  >&lt;p&gt;Thanks for the reply Michael.&#160;&lt;/p&gt;

&lt;p&gt;Maybe I&apos;ve found the problem, it&apos;s this directive:&#160;&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;&amp;lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&amp;gt;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;Removing that, it works even in HTTPS. Maybe Http2 escalation need a specific configuration for allowing big requests.&#160;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;{{}}&lt;/p&gt;</comment>
                            <comment id="16939760" author="michael-o" created="Fri, 27 Sep 2019 21:14:44 +0000"  >&lt;p&gt;Then you should as with users@tomcat.apache.org. Mark is always there to help.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 4 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z071ww:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-299] Error replacing an existing file using FileItem.write</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-299</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;FileItem.write throws FileExistsException (org.apache.commons.io.FileExistsException)&#160;when we try to re-upload (or overwrite) a file.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;What works in v1.3.3:&lt;/b&gt;&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;User tries to upload a file user1.png&lt;/li&gt;
	&lt;li&gt;It is stored in the server at&#160;c:\data\avatar\user1.png using&#160;FileItem.write&lt;/li&gt;
	&lt;li&gt;User tries to upload the same file&#160;user1.png&lt;/li&gt;
	&lt;li&gt;FileItem.write replaces the file&#160;c:\data\avatar\user1.png in the server with the new file&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&lt;b&gt;In v1.4:&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Step&#160;4 fails with an exception -&#160;org.apache.commons.io.FileExistsException&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Stack Trace:&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;org.apache.commons.io.FileExistsException: Destination &apos;c:\data\avatar\user1.png&apos; already exists&lt;br/&gt;
 &#160; at org.apache.commons.io.FileUtils.moveFile(FileUtils.java:3001)&lt;br/&gt;
 &#160; at org.apache.commons.fileupload.disk.DiskFileItem.write(DiskFileItem.java:405)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13229445">FILEUPLOAD-299</key>
            <summary>Error replacing an existing file using FileItem.write</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="StealthyDev">Senthur Rajakumar</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Apr 2019 20:34:07 +0000</created>
                <updated>Thu, 17 Oct 2019 08:59:23 +0000</updated>
                            <resolved>Wed, 24 Apr 2019 11:57:02 +0000</resolved>
                                    <version>1.4</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16953523" author="effad" created="Thu, 17 Oct 2019 08:59:23 +0000"  >&lt;p&gt;This is a regression caused by the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-248&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FILEUPLOAD-248&lt;/a&gt;. While one might argue that it is safer not to overwrite existing files, consider the following pattern:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;item.write(File.createTempFile(&quot;x&quot;, &quot;y&quot;));&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;In this case an empty temporary file is created. It makes no sense (and is even potentially dangerous) to require client code to delete the created temp file first.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13217096">FILEUPLOAD-293</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z020wo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-296] Speed Up Parsing</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-296</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;In 4ed6e923cb2033272fcb993978d69e325990a5aa, FileUploadBase.parseRequest was changed: Instead of using a buffer declared there and passing it to Streams.copy(InputStream, OutputStream , boolean, byte[]), Streams.copy(InputStream, OutputStream , boolean) was used.&lt;/p&gt;

&lt;p&gt;This slows down the parsing by ~ 10%: Since in every iteration of the loop a new buffer is created in Streams.copy, additional effort is created. I therefore recommend to create a buffer and reuse it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13222268">FILEUPLOAD-296</key>
            <summary>Speed Up Parsing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="DaGeRe1989">David Georg Reichelt</reporter>
                        <labels>
                            <label>perfomance</label>
                            <label>pull-request-available</label>
                    </labels>
                <created>Mon, 18 Mar 2019 09:52:23 +0000</created>
                <updated>Mon, 25 Mar 2019 14:21:07 +0000</updated>
                            <resolved>Mon, 25 Mar 2019 14:21:07 +0000</resolved>
                                    <version>Nightly Builds</version>
                    <version>2.0.0</version>
                                    <fixVersion>1.4.1</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="16800724" author="jochen@apache.org" created="Mon, 25 Mar 2019 14:21:07 +0000"  >&lt;p&gt;Merged into master, thank you!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z00t54:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-295] DiskFileItem: getStoreLocation() may return non-existing file</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-295</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;&lt;b&gt;How to reproduce&lt;/b&gt;&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Create a DiskFileItem with threshold set to -1 (force save to disk).&lt;/li&gt;
	&lt;li&gt;Get OutputStream from DiskFileItem.&lt;/li&gt;
	&lt;li&gt;Close OutputStream without calling any write(...) method (e.g., because the uploaded file is empty).&lt;/li&gt;
	&lt;li&gt;Test the return value of the following methods:
	&lt;ul&gt;
		&lt;li&gt;isInMemory() --&amp;gt; returns false (OK)&lt;/li&gt;
		&lt;li&gt;getSize() --&amp;gt; returns 0 (OK)&lt;/li&gt;
		&lt;li&gt;getStoreLocation() --&amp;gt; returns a File object (OK), but the file does not exist (FAILURE).&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;I think this is an inconsistency. If isInMemory() returns false adn getStoreLocation() returns a File object, the file should also exist.&lt;/p&gt;

&lt;p&gt;Java code (run with -ea to enable assertions):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// create a DiskFileItem
&lt;/span&gt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; sizeThreshold = -1; &lt;span class=&quot;code-comment&quot;&gt;// always store to disk
&lt;/span&gt;File repository = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; &lt;span class=&quot;code-comment&quot;&gt;// use temporary folder
&lt;/span&gt;DiskFileItem item = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DiskFileItem(&lt;span class=&quot;code-quote&quot;&gt;&quot;file&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;text/plain&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;file.txt&quot;&lt;/span&gt;, sizeThreshold, repository);

OutputStream outputStream = item.getOutputStream();
&lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; not write to stream &amp;lt;-- IMPORTANT
&lt;/span&gt;outputStream.close();

&lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; that data has been stored to disk
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; !item.isInMemory(); &lt;span class=&quot;code-comment&quot;&gt;// pass
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; item.getSize() == 0; &lt;span class=&quot;code-comment&quot;&gt;// pass
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; item.getStoreLocation() != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; &lt;span class=&quot;code-comment&quot;&gt;// pass
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; item.getStoreLocation().isFile(); &lt;span class=&quot;code-comment&quot;&gt;// fails&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;When adding a call to outputStream.write(new byte&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;), the behavior changes and the empty file is created on disk.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13217551">FILEUPLOAD-295</key>
            <summary>DiskFileItem: getStoreLocation() may return non-existing file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="stephan.markwalder@appway.com">Stephan Markwalder</reporter>
                        <labels>
                    </labels>
                <created>Sat, 23 Feb 2019 00:19:53 +0000</created>
                <updated>Thu, 24 Jul 2025 07:48:50 +0000</updated>
                                            <version>1.4</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16775914" author="jochen@apache.org" created="Sat, 23 Feb 2019 15:25:24 +0000"  >&lt;p&gt;I admit, that I wouldn&apos;t design it like this, if this were a new API. On the other hand, FileUpload is quite established, and I do not consider this a serious problem. So, I am suggesting to resolve this as WONTFIX.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16775950" author="stephan.markwalder@appway.com" created="Sat, 23 Feb 2019 17:19:36 +0000"  >&lt;p&gt;Hi Jochen,&lt;/p&gt;

&lt;p&gt;I&apos;m ok if this bug is not fixed. It is indeed an edge case.&#160;We have been running into it after upgrading from version 1.3.3 to version 1.4 (in which &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-258&quot; title=&quot;Empty files in mutipart requests aren&amp;#39;t saved to disk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-258&quot;&gt;&lt;del&gt;FILEUPLOAD-258&lt;/del&gt;&lt;/a&gt; has been fixed).&lt;/p&gt;

&lt;p&gt;Before, we have been using a sizeThreshold of 0 for a very long time, assuming that this would cause DiskFileItem to always store data on disk, never in memory. This was our fault no 1. Unfortunately, the JavaDoc for DiskFileItem&apos;s constructor is not very precise:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;tt&gt;sizeThreshold&lt;/tt&gt;&#160;- The threshold, in bytes, below which items will be retained in memory and above which they will be stored as a file.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;But&#160;what happens when the item size is equal to the&#160;threshold? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Our fault no 2 then was that&#160;people have used the return value of DiskFileItem.getStoreLocation() without a check of DiskFileItem.isInMemory() upfront (because of the assumption made above).&lt;/p&gt;

&lt;p&gt;Together, those two faults have lead to NullPointerExceptions in our code after the upgrade to version 1.4.&lt;/p&gt;

&lt;p&gt;When analyzing the issue,&#160;I though that it would be sufficient to set sizeThreshold to -1. No matter what the actual file size will be, it is for sure 0 or greater.&#160;According to JavaDoc, this then should guarantee that items will be stored as files on disk. But when writing some tests for DiskFileItem to explore how it deals with empty files, we noticed that it behaves differently depending on whether/how data is written into the DiskFileItem&apos;s OutputStream. In some cases, an empty file is created, in others not. Unfortunately, DiskFileItem then somehow is in an inconsistent state. isInMemory() returns false, getStoreLocation() returns a File object, but the file does not exist. As a result, we have seen FileNotFoundExceptions in some of our components, even the ones where people have thought about an upfront check with isInMemory(). Our &quot;fix&quot; now is to not trust DiskFileItem and the information it returns&#160;for isInMemory() or getStoreLocation(), but always go&#160;for an extra check whether the file actually exists.&lt;/p&gt;

&lt;p&gt;If this bug is not fixed, it has at least been filed once. If other people run into the same or a similar issue when upgrading to 1.4, they at least now have a chance to find this&#160;ticket and maybe get some insights in how to&#160;solve them for themselves.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="18003768" author="stephan.markwalder@appway.com" created="Tue, 8 Jul 2025 12:24:29 +0000"  >&lt;p&gt;&lt;b&gt;A quick update after the release of Commons FileUpload 1.6.0&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Due to changes in Commons IO&apos;s &lt;tt&gt;ThresholdingOutputStream&lt;/tt&gt; (probably in 2.16.0) the behavior of Commons FileUpload has changed once more. A value of -1 passed as &lt;tt&gt;sizeThreshold&lt;/tt&gt; to &lt;tt&gt;DiskFileItem&lt;/tt&gt; is now automatically changed to 0 in the constructor of &lt;tt&gt;ThresholdingOutputStream&lt;/tt&gt;:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;this.threshold = threshold &amp;lt; 0 ? 0 : threshold;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;The behavior of Commons FileUpload&apos;s API now seems to be self-consistent again when uploading an empty file:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;isInMemory() --&amp;gt; returns true&lt;/li&gt;
	&lt;li&gt;getSize() --&amp;gt; returns 0&lt;/li&gt;
	&lt;li&gt;getStoreLocation() --&amp;gt; returns null&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;However, it is impossible to configure Commons FileUpload so that it ALWAYS creates a file on disk, even for empty files.&lt;/p&gt;</comment>
                            <comment id="18003770" author="garydgregory" created="Tue, 8 Jul 2025 12:40:00 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stephan.markwalder%40appway.com&quot; class=&quot;user-hover&quot; rel=&quot;stephan.markwalder@appway.com&quot;&gt;stephan.markwalder@appway.com&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thank you for your report.&lt;/p&gt;

&lt;p&gt;Would your use case be accommodated with a new feature/bug fix in FileUpload? If so, would you be willing to submit a pull-request on GitHub?&lt;/p&gt;

&lt;p&gt;G.&lt;/p&gt;</comment>
                            <comment id="18005013" author="jochen@apache.org" created="Sun, 13 Jul 2025 21:00:07 +0000"  >&lt;p&gt;I have just committed an update, which makes the DiskFileItem implement the specification below (Commit f3f27401baea7e8a0be8155fa26afe026d0205af).&lt;/p&gt;

&lt;p&gt;A unit test (DiskFileItemTest) should ensure that contract.&#160; Please review.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stephan.markwalder%40appway.com&quot; class=&quot;user-hover&quot; rel=&quot;stephan.markwalder@appway.com&quot;&gt;stephan.markwalder@appway.com&lt;/a&gt;: Upon review, please keep in mind, that this change is not supposed to fulfill your assumptions on the model. The purpose is to have something, that is clear, precise, documented, and maintainable. We are taking the chance, that Fileupload 2 is not 100% compatible to any previous version. Looking forward is more important.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;State model&lt;/em&gt;: Instances of &lt;em&gt;&lt;tt&gt;DiskFileItem&lt;/tt&gt;&lt;/em&gt; are subject to a carefully designed state model. Depending on the so-called&#160;&lt;em&gt;&lt;tt&gt;threshold&lt;/tt&gt;&lt;/em&gt;, either of the three models are possible:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;&lt;em&gt;threshold = -1&lt;/em&gt; Uploaded data is never kept in memory. Instead, a temporary file is being created immediately.&#160;&lt;b&gt;&lt;tt&gt;isInMemory()&lt;/tt&gt;&lt;/b&gt; will always return false,&#160;&lt;b&gt;&lt;tt&gt;getPath()&lt;/tt&gt;&lt;/b&gt;&#160;will always return the path of an existing file. The temporary file may be empty.&lt;/li&gt;
	&lt;li&gt;&lt;em&gt;threshold = 0&lt;/em&gt; Uploaded data is never kept in memory. (Same as threshold=-1.) However, the temporary file is only created, if data was uploaded. Or, in other words: The uploaded file will never be empty.&#160;&lt;b&gt;&lt;tt&gt;isInMemory()&lt;/tt&gt;&lt;/b&gt; will return true, if no data was uploaded, otherwise it will be false. In the former case&#160;&lt;b&gt;&lt;tt&gt;getPath()&lt;/tt&gt;&lt;/b&gt; will return null, but in the latter case it returns the path of an existing, non-empty file.&lt;/li&gt;
	&lt;li&gt;&lt;em&gt;threshold &amp;gt; 0&lt;/em&gt; Uploaded data will be kept in memory, if the size is below the threshold. If the size is equal to, or above the threshold, then a temporary file has been created, and all uploaded data has been transferred to that file.&#160;&lt;b&gt;&lt;tt&gt;isInMemory()&lt;/tt&gt;&lt;/b&gt; returns true, if the size of the uploaded data is below the threshold. If so,&#160;&lt;b&gt;&lt;tt&gt;getPath()&lt;/tt&gt;&lt;/b&gt; returns null. Otherwise,&#160;&lt;tt&gt;&lt;b&gt;isInMemory()&lt;/b&gt;&lt;/tt&gt; returns false, and&#160;&lt;b&gt;&lt;tt&gt;getPath()&lt;/tt&gt;&lt;/b&gt;&#160;returns the path of an existing, temporary file. The size of the temporary file is equal to, or above the threshold.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="18009486" author="stephan.markwalder@appway.com" created="Thu, 24 Jul 2025 07:48:50 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jochen%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;jochen@apache.org&quot;&gt;jochen@apache.org&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Sorry for the late reply. I was traveling for some time.&lt;/p&gt;

&lt;p&gt;I had a look at the new state model and code in &lt;tt&gt;master&lt;/tt&gt; and I like it a lot. I find the code much easier to understand and validate. Initially, I was surprised by the decision to create an own &lt;tt&gt;DeferrableOutputStream&lt;/tt&gt; instead of relying on Commons IO. But after reading the explanation in JavaDoc and thinking about this once more, I think this is the right way to go.&lt;/p&gt;

&lt;p&gt;We do plan to migrate our web application to the Jakarta namespace in Q4 2025. This will be the perfect moment to upgrade to Commons FileUpload 2. I&apos;m already looking forward to this. The configuration with &lt;em&gt;threshold = -1&lt;/em&gt; will probably the one we will go for.&lt;/p&gt;

&lt;p&gt;PS: The 3 links to &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-295&quot; title=&quot;DiskFileItem: getStoreLocation() may return non-existing file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-295&quot;&gt;FILEUPLOAD-295&lt;/a&gt; in the JavaDoc in &lt;tt&gt;DiskFileItemTest&lt;/tt&gt; are missing a digit in the link display name: &lt;tt&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;/&lt;font color=&quot;#00875a&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-295&quot; title=&quot;DiskFileItem: getStoreLocation() may return non-existing file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-295&quot;&gt;FILEUPLOAD-295&lt;/a&gt;&lt;/font&gt;&quot;&amp;gt;&lt;font color=&quot;#FF0000&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-29&quot; title=&quot;[fileupload] Remove Javadoc warnings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-29&quot;&gt;&lt;del&gt;FILEUPLOAD-29&lt;/del&gt;&lt;/a&gt;&lt;/font&gt;&amp;lt;/a&amp;gt;&lt;/tt&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0005c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-294] Link &quot;Source repository&quot; is broken on project website</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-294</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;The link behind &quot;Source repository&quot; is broken:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://commons.apache.org/proper/commons-fileupload/source-repository.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://commons.apache.org/proper/commons-fileupload/source-repository.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13217543">FILEUPLOAD-294</key>
            <summary>Link &quot;Source repository&quot; is broken on project website</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stephan.markwalder@appway.com">Stephan Markwalder</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Feb 2019 23:40:58 +0000</created>
                <updated>Sun, 16 May 2021 13:18:34 +0000</updated>
                            <resolved>Sun, 16 May 2021 13:18:34 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16775930" author="jochen@apache.org" created="Sat, 23 Feb 2019 16:27:53 +0000"  >&lt;p&gt;Thanks for spotting this. Need to understand, how this could happen, as the site is basically generated by Maven.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17342287" author="arturobernalg" created="Tue, 11 May 2021 04:38:06 +0000"  >&lt;p&gt;HI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stephan.markwalder%40appway.com&quot; class=&quot;user-hover&quot; rel=&quot;stephan.markwalder@appway.com&quot;&gt;stephan.markwalder@appway.com&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The Broken link&#160; Source repository was updated. Please check &#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://commons.apache.org/proper/commons-fileupload/scm.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://commons.apache.org/proper/commons-fileupload/scm.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17343111" author="stephan.markwalder@appway.com" created="Wed, 12 May 2021 08:18:29 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arturobernalg&quot; class=&quot;user-hover&quot; rel=&quot;arturobernalg&quot;&gt;arturobernalg&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The issue indeed has be fixed. Thanks!&lt;/p&gt;

&lt;p&gt;Ste&lt;/p&gt;

&lt;p&gt;PS: Now the &quot;Team&quot; link is broken &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. It links to &lt;a href=&quot;https://commons.apache.org/proper/commons-fileupload/team-list.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://commons.apache.org/proper/commons-fileupload/team-list.html&lt;/a&gt;&#160;which does not exist. If the strategy is the same (to link to the page below &quot;Project Documentation &amp;gt; Project Information&quot;), the link should be &lt;a href=&quot;https://commons.apache.org/proper/commons-fileupload/team.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://commons.apache.org/proper/commons-fileupload/team.html&lt;/a&gt;&#160;.&lt;/p&gt;</comment>
                            <comment id="17345692" author="arturobernalg" created="Sun, 16 May 2021 12:25:07 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stephan.markwalder%40appway.com&quot; class=&quot;user-hover&quot; rel=&quot;stephan.markwalder@appway.com&quot;&gt;stephan.markwalder@appway.com&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Fixed too. Please check &lt;a href=&quot;https://github.com/apache/commons-fileupload/pull/89&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PR89&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;TY&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 23 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0003k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-293] FileExistsException: Destination .. already exists when DiskFileItem.write was given an existing file</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-293</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Since 1.4, where&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-248&quot; title=&quot;[DISK] Unsafe file move operation (possibly swallowing write errors)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-248&quot;&gt;&lt;del&gt;FILEUPLOAD-248&lt;/del&gt;&lt;/a&gt; was shipped, passing an existing file to&#160;DiskFileItem.write will cause an&#160;FileExistsException with the message &quot;Destination&#160;FILE already exist&quot;, this prevents us from upgrading to 1.4 from 1.3.3.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;2019-02-20 01:12:56,504 http-nio-2990-exec-3 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;|5ccb9b99-a96f-42ba-ad01-ac278516e1a4|&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;IssueAttachmentsResource.privacy-safe&amp;#93;&lt;/span&gt; Error saving attachment&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;org.apache.commons.io.FileExistsException: Destination &apos;/buildeng/bamboo-agent-home/xml-data/build-dir/CLOUDRELEASE-AGILEWD15421-FT18/jira-test-runner-jira/target/cargo/configurations/tomcat9x/temp/attachment-3404789743778163937.tmp&apos; already exists&lt;/tt&gt;&lt;br/&gt;
{{ at org.apache.commons.io.FileUtils.moveFile(FileUtils.java:3001)}}&lt;br/&gt;
{{ at org.apache.commons.fileupload.disk.DiskFileItem.write(DiskFileItem.java:405)}}&lt;br/&gt;
{{ at com.atlassian.plugins.rest.common.multipart.fileupload.CommonsFileUploadFilePart.write(CommonsFileUploadFilePart.java:49)}}&lt;br/&gt;
{{ at com.atlassian.jira.rest.v2.issue.IssueAttachmentsResource.getFileFromFilePart(IssueAttachmentsResource.java:175)}}&lt;br/&gt;
&lt;tt&gt;...&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Apache Felix also ran into the same bug:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-6037&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FELIX-6037&lt;/a&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13217096">FILEUPLOAD-293</key>
            <summary>FileExistsException: Destination .. already exists when DiskFileItem.write was given an existing file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="mgirazovski">Mladen Girazovski</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Feb 2019 06:42:38 +0000</created>
                <updated>Mon, 13 Jun 2022 11:32:27 +0000</updated>
                            <resolved>Sun, 24 Feb 2019 14:12:06 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.4.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                                                                <comments>
                            <comment id="16775920" author="jochen@apache.org" created="Sat, 23 Feb 2019 15:55:12 +0000"  >&lt;p&gt;Trying to reproduce the problem with the code below. Works fine, so please help me by telling me what you are doing different:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;{{ @Test}}&lt;br/&gt;
{{ public void testMoveFile() throws Exception {}}&lt;br/&gt;
{{&#160; &#160; final String content = }}&lt;br/&gt;
&lt;tt&gt;&#160; &#160; &#160; &#160; &quot;-----1234\r\n&quot; +&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; &#160; &#160; &quot;Content-Disposition: form-data; name=\&quot;file\&quot;;&quot;&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; &#160; &#160; &#160; &#160; + &quot;filename=\&quot;foo.tab\&quot;\r\n&quot; +&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; &#160; &#160; &quot;Content-Type: text/whatever\r\n&quot; +&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; &#160; &#160; &quot;\r\n&quot; +&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; &#160; &#160; &quot;This is the content of the file\n&quot; +&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; &#160; &#160; &quot;\r\n&quot; +&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; &#160; &#160; &quot;----&lt;del&gt;1234&lt;/del&gt;-\r\n&quot;;&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; final byte[] contentBytes = content.getBytes(&quot;US-ASCII&quot;);&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; final HttpServletRequest request = new&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;&#160; &#160; &#160; &#160; MockHttpServletRequest(contentBytes, Constants.CONTENT_TYPE);&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; final List&amp;lt;FileItem&amp;gt; items = upload.parseRequest(request);&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; assertNotNull(items);&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; assertFalse(items.isEmpty());&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; final DiskFileItem dfi = (DiskFileItem) items.get(0);&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; final File out = new File(&quot;target/unit-tests/DiskFileUpload&quot;);&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; final File outDir = out.getParentFile();&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; if (!outDir.isDirectory()) {&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; &#160; &#160; outDir.mkdirs();&lt;/tt&gt;&lt;br/&gt;
{{&#160; &#160; }}}&lt;br/&gt;
&lt;tt&gt;&#160; &#160; dfi.write(out);&lt;/tt&gt;&lt;br/&gt;
{{ }}}&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16775923" author="jochen@apache.org" created="Sat, 23 Feb 2019 15:59:07 +0000"  >&lt;p&gt;Okay, got it. Need to set sizeThreshold=0, to have it reproducable. Confirming bug, working on the solution.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16775925" author="jochen@apache.org" created="Sat, 23 Feb 2019 16:21:34 +0000"  >&lt;p&gt;Sorry, need to correct myself again. To me, the problem is not reproducable.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16776171" author="cziegeler" created="Sun, 24 Feb 2019 09:10:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jochen%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;jochen@apache.org&quot;&gt;jochen@apache.org&lt;/a&gt; I think the major difference is that the web console is creating a temp file:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;                tmpFile = File.createTempFile( &quot;install&quot;, &quot;.tmp&quot; );
                dfi.write( tmpFile );
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16776254" author="jochen@apache.org" created="Sun, 24 Feb 2019 14:12:06 +0000"  >&lt;p&gt;Okay, thanks to Carstens comment, I do understand the issue now: In previous versions, we have just been writing to the target file. In 1.4, however, we changed this to using FileUtils.moveFile internally, which &lt;b&gt;does&lt;/b&gt; check, whether the target file exists.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Fixed by deleting an existing target file now.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16776475" author="mgirazovski" created="Mon, 25 Feb 2019 02:00:08 +0000"  >&lt;p&gt;Thanks a ton for this really fast response time on this issue! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Is there a new fixed version release planed for commons-fileuploads yet?&lt;/p&gt;</comment>
                            <comment id="16776757" author="jochen@apache.org" created="Mon, 25 Feb 2019 11:01:43 +0000"  >&lt;p&gt;Sorry, but (as far as I know), we don&apos;t have any snapshot builds. Shouldn&apos;t be too difficult, though, to download the sources, and do a &quot;mvn install&quot;.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16777356" author="mgirazovski" created="Mon, 25 Feb 2019 22:42:19 +0000"  >&lt;p&gt;No worries and thanks for the fast response again!&lt;/p&gt;

&lt;p&gt;We can do an internal release and deploy it to our internal Maven repo, I was just wondering if there is an official release planed soon?&lt;/p&gt;</comment>
                            <comment id="16822058" author="enorman" created="Fri, 19 Apr 2019 17:02:07 +0000"  >&lt;p&gt;I ran into this problem as well.&#160; Is there a roadmap for when this fix may make it into an official 1.4.1 release?&lt;/p&gt;</comment>
                            <comment id="16822146" author="jochen@apache.org" created="Fri, 19 Apr 2019 19:26:40 +0000"  >&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;No, there isn&apos;t. FileUpload is a very mature component. We tend to publish releases only in case of really serious problems. (Which this one, quite obviously, isn&apos;t, because the FileUpload user can easily fix it by checking for an existing file himself.)&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16822219" author="enorman" created="Fri, 19 Apr 2019 22:15:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jochen%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;jochen@apache.org&quot;&gt;jochen@apache.org&lt;/a&gt; I understand, but I would argue that unnecessarily changing the behavior of the previous release is in fact a serious problem that would warrant releasing an official fix.&#160; Downstream consumers expect to be able to plug in the new &quot;minor&quot; 1.4.x release without having to rewrite their existing code and do this regression dance.&lt;/p&gt;</comment>
                            <comment id="16822237" author="erans" created="Fri, 19 Apr 2019 22:35:23 +0000"  >&lt;blockquote&gt;&lt;p&gt;consumers expect to be able to plug in the new &quot;minor&quot; 1.4.x release&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;As a committer, you can make that happen, by being the RM of such a release. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16823314" author="enorman" created="Mon, 22 Apr 2019 18:19:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erans&quot; class=&quot;user-hover&quot; rel=&quot;erans&quot;&gt;erans&lt;/a&gt; If you comment was directed at me, then I should clarify that I am not a committer on the Commons project which was why I was inquiring about the status of the fix in the first place.&#160; So your snark was not helpful at all.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16823323" author="enorman" created="Mon, 22 Apr 2019 18:28:21 +0000"  >&lt;p&gt;Should this ticket have a &quot;Fix Version&quot; of 1.4.1 to join the other pending fixed issues for the next bugfix release?&#160; I don&apos;t really know how to interpret what number the &quot;Nightly Builds&quot; fix version would correspond to.&lt;/p&gt;</comment>
                            <comment id="16823483" author="erans" created="Mon, 22 Apr 2019 21:20:28 +0000"  >&lt;blockquote&gt;&lt;p&gt;I am not a committer &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt; your snark was not helpful at all.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Don&apos;t be so &lt;a href=&quot;https://markmail.org/message/onj5wvvhat56snut&quot; title=&quot;https://markmail.org/message/onj5wvvhat56snut&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;sure&lt;/a&gt;! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16904943" author="rakeshk15" created="Mon, 12 Aug 2019 07:56:54 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jochen%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;jochen@apache.org&quot;&gt;jochen@apache.org&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;When is the release v1.4.1 planned,&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-6037&quot; title=&quot;Commons FileUpload 1.4 breaks bundle uploads&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-6037&quot;&gt;&lt;del&gt;FELIX-6037&lt;/del&gt;&lt;/a&gt; is blocked due to this.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Rakesh&lt;/p&gt;</comment>
                            <comment id="16953526" author="effad" created="Thu, 17 Oct 2019 09:03:37 +0000"  >&lt;p&gt;I would also welcome a bugfix release for this regression.&lt;/p&gt;</comment>
                            <comment id="16953818" author="garydgregory" created="Thu, 17 Oct 2019 14:43:10 +0000"  >&lt;p&gt;Feel free to provide a PR with tests on GitHub &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17270122" author="mtokarski" created="Fri, 22 Jan 2021 13:20:45 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jochen%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;jochen@apache.org&quot;&gt;jochen@apache.org&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I&apos;m an Atlassian developer. Recently we found out some of our components are affected by this bug. I&apos;m surprised it wasn&apos;t released yet, especially that bug breaks the expected behaviour.&lt;/p&gt;

&lt;p&gt;Do you have some plans to release &lt;tt&gt;1.4.1&lt;/tt&gt; soon maybe? Is something I could do to push the release? Please let me know!&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Marek&lt;/p&gt;</comment>
                            <comment id="17270251" author="jochen@apache.org" created="Fri, 22 Jan 2021 16:13:46 +0000"  >&lt;p&gt;There is, in my opinion, no real difference between&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160; &#160; a) Replacing an old version with a new version, that no longer contains this regression, and&lt;/p&gt;

&lt;p&gt;&#160; &#160; b) Changing the code, that invokes DiskFileItem.write() to perform the necessary check, that prevents the Exception.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;This applies, even if you are &quot;an Atlassian developer&quot;.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17271234" author="mtokarski" created="Mon, 25 Jan 2021 10:37:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jochen%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;jochen@apache.org&quot;&gt;jochen@apache.org&lt;/a&gt;&#160;I have to disagree with you. Updating used version is usually simple update of maven configuration (or any other project management tool). On the other hand, buggy method may be used multiple times in the codebase in a completely different contexts. I would say bumping&#160;&lt;b&gt;bugfix&lt;/b&gt; version is definitely easier &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I was simply surprised that the despite introduction of the new bug in &lt;tt&gt;1.4&lt;/tt&gt; and available fix in the repository, no one in charge seems to be interested in releasing new bugfix version. So just to confirm, there is no chance that new version will be officially released and published in maven repository anytime soon?&lt;/p&gt;</comment>
                            <comment id="17463997" author="a.schild" created="Wed, 22 Dec 2021 18:08:49 +0000"  >&lt;p&gt;Just got a error report back with the same problem.&lt;/p&gt;

&lt;p&gt;A 1.4.1 release would greatly be appreciated,&lt;/p&gt;</comment>
                            <comment id="17553526" author="effad" created="Mon, 13 Jun 2022 11:32:27 +0000"  >&lt;p&gt;I can&apos;t believe that 3 years after a serious &lt;b&gt;regression&lt;/b&gt; was found in a &quot;very mature component&quot; there is still no bugfix release...&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13229445">FILEUPLOAD-299</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13211453">FELIX-6037</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 19 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|yi17ow:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-291] commons-fileupload-1.3.3.jar is missing reference to javax/portlet/ActionRequest to support Java 11</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-291</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;We are using apache &lt;b&gt;commons-fileupload-1.3.3.jar&lt;/b&gt;&#160;for internal requirements and this is having potential issues with respect to Java 11 support. On preliminary analysis, identified that this jar (1.3.3 version) is having a missing reference to this class &lt;b&gt;javax/portlet/ActionRequest&lt;/b&gt;.&lt;/p&gt;

&lt;p&gt;Can this be prioritized at the earliest?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13194816">FILEUPLOAD-291</key>
            <summary>commons-fileupload-1.3.3.jar is missing reference to javax/portlet/ActionRequest to support Java 11</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pavan.b9@gmail.com">Bonda Pavan Kumar</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Oct 2018 11:54:40 +0000</created>
                <updated>Fri, 30 Apr 2021 17:51:02 +0000</updated>
                            <resolved>Fri, 30 Apr 2021 17:51:02 +0000</resolved>
                                    <version>1.3.3</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16667326" author="garydgregory" created="Mon, 29 Oct 2018 15:07:05 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pavan.b9%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;pavan.b9@gmail.com&quot;&gt;pavan.b9@gmail.com&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Things move along faster when PRs are available &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&#160;Please see &lt;a href=&quot;https://github.com/apache/commons-fileupload&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-fileupload&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16669784" author="jochen@apache.org" created="Wed, 31 Oct 2018 09:01:34 +0000"  >&lt;p&gt;And, what the heck, is a &quot;missing reference&quot;? Is there an error message, a stack trace, or whatever, that would help to understand what the problem is. Cause I surely don&apos;t (understand).&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17117627" author="jochen@apache.org" created="Wed, 27 May 2020 10:37:18 +0000"  >&lt;p&gt;What exactly would you like to see changed?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17337548" author="jochen@apache.org" created="Fri, 30 Apr 2021 17:49:41 +0000"  >&lt;p&gt;No response from user after three years on an issue, that is purportedly critical. Closing.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3zqzj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-287] Multipart/mixed parts not handled correctly</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-287</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;If i submit a request with global header &lt;tt&gt;Content-Type=&quot;multipart/mixed;boundary=&quot;uuid:5985c43c-16a5-483a-88ff-64602f2a2f3f&quot;;charset=UTF-8&quot;&lt;/tt&gt; data to a servlet with : &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;

--uuid:5985c43c-16a5-483a-88ff-64602f2a2f3f
Content-Type: text/plain
Content-Transfer-Encoding: binary
Content-ID: myFile
My_Content_Here

--uuid:5985c43c-16a5-483a-88ff-64602f2a2f3f
Content-Type: application/xml
Content-Transfer-Encoding: binary
Content-ID: myOtherFileHere
M_Other_Content_Here
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The differents parts are not recognized because of &lt;tt&gt;FileUploadBase.getFieldName()&lt;/tt&gt; method who want a &lt;tt&gt;Content-Disposition&lt;/tt&gt; header for each part of the request.&lt;/p&gt;

&lt;p&gt;The &lt;a href=&quot;https://tools.ietf.org/html/rfc7578#section-4.2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;rfc&lt;/a&gt; specified that this header is mandatory for the &lt;tt&gt;multipart/form-data&lt;/tt&gt; content-type.&lt;br/&gt;
For the &lt;tt&gt;multipart/mixed&lt;/tt&gt;, if i well understand, the rfc doesn&apos;t say this header is mandatory for each parts of the request.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13110002">FILEUPLOAD-287</key>
            <summary>Multipart/mixed parts not handled correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="etienne.dethoor@gmail.com">Etienne Dethoor</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Oct 2017 14:29:25 +0000</created>
                <updated>Fri, 30 Apr 2021 16:35:51 +0000</updated>
                                            <version>1.3.3</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="16209134" author="jochen@apache.org" created="Wed, 18 Oct 2017 10:48:09 +0000"  >&lt;p&gt;Would you be able to provide a unit test?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Jochen&lt;/p&gt;</comment>
                            <comment id="16209265" author="etienne.dethoor@gmail.com" created="Wed, 18 Oct 2017 12:45:08 +0000"  >&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;I&apos;ve forked &lt;a href=&quot;https://github.com/edethoor/commons-fileupload/blob/TestMultipartMixed/src/test/java/org/apache/commons/fileupload/servlet/ServletFileUploadMultiPartMixedTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;the github repo&lt;/a&gt; and i&apos;ve added a &lt;tt&gt;ServletFileUploadMultiPartMixedTest.java&lt;/tt&gt; test file in the TestMultipartMixed branch.&lt;/p&gt;</comment>
                            <comment id="16209310" author="jochen@apache.org" created="Wed, 18 Oct 2017 13:15:32 +0000"  >&lt;p&gt;Thanks very much, I&apos;ll be looking into that.&lt;/p&gt;</comment>
                            <comment id="16249769" author="etienne.dethoor@gmail.com" created="Mon, 13 Nov 2017 16:07:35 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jochen%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;jochen@apache.org&quot;&gt;jochen@apache.org&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Have you had time to look at this issue ?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Etienne.&lt;/p&gt;</comment>
                            <comment id="17117631" author="jochen@apache.org" created="Wed, 27 May 2020 10:40:14 +0000"  >&lt;p&gt;Assuming that you are right: There&apos;s nothing, which prevents you from sending a content-disposition header anyways, isn&apos;t it?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Apart from that: Whaot would you expect getFieldName() to do without such a header?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17317331" author="joesephz" created="Thu, 8 Apr 2021 16:42:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jochen%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;jochen@apache.org&quot;&gt;jochen@apache.org&lt;/a&gt;&#160;I have the same issue, IMHO, you can use {Content-ID} header instead&lt;/p&gt;</comment>
                            <comment id="17337496" author="arturobernalg" created="Fri, 30 Apr 2021 16:35:51 +0000"  >&lt;p&gt;HI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joesephz&quot; class=&quot;user-hover&quot; rel=&quot;joesephz&quot;&gt;joesephz&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Could you please provide a unit test where is reproduced in order to &#160;to analyze it?&lt;/p&gt;

&lt;p&gt;TY&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ld0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-285] MultipartStream API constructor has internal class</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-285</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;The last argument of the constructor is internal class (ProgressNotifier). How to use notifier in the constructor. &lt;/p&gt;

&lt;p&gt;MultipartStream(InputStream input, byte[] boundary, int bufSize, MultipartStream.ProgressNotifier pNotifier) &lt;/p&gt;</description>
                <environment></environment>
        <key id="13094845">FILEUPLOAD-285</key>
            <summary>MultipartStream API constructor has internal class</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="obidul">Obidul</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Aug 2017 19:42:34 +0000</created>
                <updated>Sun, 3 Jan 2021 01:25:28 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16134103" author="jochen@apache.org" created="Sat, 19 Aug 2017 12:37:41 +0000"  >&lt;p&gt;The ProgressNotifier is a public, static class, which can easily be instantiated. So, what&apos;s the problem?&lt;/p&gt;</comment>
                            <comment id="17117640" author="jochen@apache.org" created="Wed, 27 May 2020 10:48:17 +0000"  >&lt;p&gt;How about a pull request, or proposed patch?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17257630" author="abchaubey" created="Sun, 3 Jan 2021 01:25:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jochen%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;jochen@apache.org&quot;&gt;jochen@apache.org&lt;/a&gt;&#160;is there anything to work on this . from code&#160;ProgressNotifier&#160; is public static class --&amp;gt;&#160; &lt;a href=&quot;https://github.com/apache/commons-fileupload/blob/8ff8ba4f19b16d404ed24c53e6e6afe3d25f0e4a/src/main/java/org/apache/commons/fileupload2/MultipartStream.java#L90&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-fileupload/blob/8ff8ba4f19b16d404ed24c53e6e6afe3d25f0e4a/src/main/java/org/apache/commons/fileupload2/MultipartStream.java#L90&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3itkn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-280] File Upload fails to recognize RFC 7578-compliant filename</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-280</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://tools.ietf.org/html/rfc7578&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;RFC-7578&lt;/a&gt; which obsoletes RFC-2388 (together with RFC-2047), &lt;a href=&quot;https://tools.ietf.org/html/rfc7578#section-4.2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;defines&lt;/a&gt; new encoding for filenames inside HTTP payload, so called percent encoding, known already from URI.&lt;br/&gt;
Commons Fileupload should support it together with old &lt;a href=&quot;https://tools.ietf.org/html/rfc2047&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;RFC-2047&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13039134">FILEUPLOAD-280</key>
            <summary>File Upload fails to recognize RFC 7578-compliant filename</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="myroch">Miroslav Holubec</reporter>
                        <labels>
                    </labels>
                <created>Tue, 31 Jan 2017 08:44:59 +0000</created>
                <updated>Wed, 29 Mar 2017 13:29:37 +0000</updated>
                                            <version>1.3.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15850417" author="michael-o" created="Thu, 2 Feb 2017 20:14:03 +0000"  >&lt;p&gt;Header says &lt;tt&gt;PROPOSED STANDARD&lt;/tt&gt; how likely is a pass of this RFC?&lt;/p&gt;</comment>
                            <comment id="15947122" author="marks" created="Wed, 29 Mar 2017 13:29:37 +0000"  >&lt;p&gt;Do not worry about the &quot;proposed&quot; in &quot;proposed standard&quot;.  From &lt;a href=&quot;https://en.wikipedia.org/wiki/Internet_Standard#Proposed_Standard&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;wikipedia&lt;/a&gt; (quote because it&apos;s so clear in it&apos;s meaning, and with highlighting in red added by me):&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;A Proposed Standard specification is stable, has resolved known design choices, has received significant community review, and appears to enjoy enough community interest to be considered valuable. Usually, neither implementation nor operational experience is required for the designation of a specification as a Proposed Standard.&lt;/p&gt;

&lt;p&gt;Proposed Standards are of such quality that implementations can be deployed in the Internet. However, as with all technical specifications, Proposed Standards may be revised if problems are found or better solutions are identified, when experiences with deploying implementations of such technologies at scale is gathered.&lt;/p&gt;

&lt;p&gt;Many Proposed Standards are actually deployed on the Internet and used extensively, as stable protocols. &lt;font color=&quot;red&quot;&gt;Actual practice has been that full progression through the sequence of standards levels is typically quite rare, and most popular IETF protocols remain at Proposed Standard&lt;/font&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;From the &lt;a href=&quot;https://www.rfc-editor.org/standards&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;list of Official Internet Protocol Standards&lt;/a&gt; you can see that there are less than 85 Internet Standards and that only 13 have been approved in the last 9 years....  but there are nearly 3000 Proposed Standards.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 31 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39er3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-279] CVE-2016-1000031 - Apache Commons FileUpload DiskFileItem File Manipulation Remote Code Execution</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-279</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;&lt;a href=&quot;http://www.tenable.com/security/research/tra-2016-12&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.tenable.com/security/research/tra-2016-12&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Summary&lt;/p&gt;

&lt;p&gt;There exists a Java Object in the Apache Commons FileUpload library that can be manipulated in such a way that when it is deserialized, it can write or copy files to disk in arbitrary locations. Furthermore, while the Object can be used alone, this new vector can be integrated with ysoserial to upload and execute binaries in a single deserialization call. This may or may not work depending on an application&apos;s implementation of the FileUpload library.&lt;/p&gt;

&lt;p&gt;Background&lt;/p&gt;

&lt;p&gt;In late 2015 FoxGlove Security released a write up on using Chris Frohoff&#8217;s yososerial tool to gain remote code execution on a variety of commercial products, based on a presentation at AppSec Cali in January, 2015. The ysoserial tool uses &#8220;gadgets&#8221; in Apache Commons Collections, Groovy, and Spring that do &#8220;unexpected&#8221; things during deserialization. Specifically, the ysoserial payloads eventually execute Runtime.getRuntime().exec() allowing for remote Java code execution.&lt;/p&gt;

&lt;p&gt;The Apache Commons project maintains a library called &#8220;FileUpload&#8221; to make &#8220;it easy to add robust, high-performance, file upload capability to your servlets and web applications.&#8221; One of the classes in the FileUpload library is called &#8220;DiskFileItem&#8221;. A DiskFileItem is used to handle file uploads. Interestingly, DiskFileItem is serializable and implements custom writeObject() and readObject() functions.&lt;/p&gt;

&lt;p&gt;DiskFileItem&#8217;s readObject Implementation&lt;/p&gt;

&lt;p&gt;Here is the implementation that currently exists at the projects repository tip (as of 1/28/16):&lt;/p&gt;


&lt;p&gt;632    private void readObject(ObjectInputStream in)&lt;br/&gt;
633            throws IOException, ClassNotFoundException {&lt;br/&gt;
634        // read values&lt;br/&gt;
635        in.defaultReadObject();&lt;br/&gt;
636&lt;br/&gt;
637        /* One expected use of serialization is to migrate HTTP sessions&lt;br/&gt;
638         * containing a DiskFileItem between JVMs. Particularly if the JVMs are&lt;br/&gt;
639         * on different machines It is possible that the repository location is&lt;br/&gt;
640         * not valid so validate it.&lt;br/&gt;
641         */&lt;br/&gt;
642        if (repository != null) {&lt;br/&gt;
643            if (repository.isDirectory()) {&lt;br/&gt;
644                // Check path for nulls&lt;br/&gt;
645                if (repository.getPath().contains(&quot;\0&quot;)) &lt;/p&gt;
{
646                    throw new IOException(format(
647                            &quot;The repository [%s] contains a null character&quot;,
648                            repository.getPath()));
649                }
&lt;p&gt;650            } else &lt;/p&gt;
{
651                throw new IOException(format(
652                        &quot;The repository [%s] is not a directory&quot;,
653                        repository.getAbsolutePath()));
654            }
&lt;p&gt;655        }&lt;br/&gt;
656&lt;br/&gt;
657        OutputStream output = getOutputStream();&lt;br/&gt;
658        if (cachedContent != null) &lt;/p&gt;
{
659            output.write(cachedContent);
660        }
&lt;p&gt; else &lt;/p&gt;
{
661            FileInputStream input = new FileInputStream(dfosFile);
662            IOUtils.copy(input, output);
663            IOUtils.closeQuietly(input);
664            dfosFile.delete();
665            dfosFile = null;
666        }
&lt;p&gt;667        output.close();&lt;br/&gt;
668&lt;br/&gt;
669        cachedContent = null;&lt;br/&gt;
670    }&lt;br/&gt;
This is interesting due to the apparent creation of files. However, after analyzing the state of DiskFileItem after serialization it became clear that arbitrary file creation was not supposed to be intended:&lt;/p&gt;

&lt;p&gt;dfos (a type of OutputStream) is transient and therefore it is not serialized. dfos is regenerated by the getOutputStream() call above (which also generates the new File to write out to).&lt;br/&gt;
The &#8220;repository&#8221; (or directory that the file is written to) has to be valid at the time of serialization in order for successful deserialization to occur.&lt;br/&gt;
If there is no &#8220;cachedContent&#8221; then readObject() tries to read in the file from disk.&lt;br/&gt;
That filename is always generated via getOutputStream.&lt;br/&gt;
Serialized Object Modification&lt;/p&gt;

&lt;p&gt;The rules listed above do not take into account that someone might modify the serialized data before it is deserialized. Three important elements get serialized that we can modify:&lt;/p&gt;

&lt;p&gt;The repository path (aka the directory that the file is read/written from).&lt;br/&gt;
If there is cachedContent (i.e. data that didn&#8217;t get written to the file) then that gets serialized&lt;br/&gt;
If there is no cachedContent (i.e. all data was written to disk) the full path to the output file exists.&lt;br/&gt;
The threshold value that controls if &#8220;cachedContent&#8221; is written to disk or not.&lt;br/&gt;
Modifying these three elements in the serialized object gives us the ability to:&lt;/p&gt;

&lt;p&gt;Create files wherever we have permission on the system. The caveat here is that we only have control of the file path and not the final filename.&lt;br/&gt;
Copy the contents of files from one file on the system to a location we specify (again we only control the directory path and not the filename). This will also attempt to delete the file we copy from.. so be careful.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13020471">FILEUPLOAD-279</key>
            <summary>CVE-2016-1000031 - Apache Commons FileUpload DiskFileItem File Manipulation Remote Code Execution</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mweggen">Michiel Weggen</reporter>
                        <labels>
                            <label>security</label>
                    </labels>
                <created>Mon, 14 Nov 2016 10:33:47 +0000</created>
                <updated>Wed, 30 Aug 2023 16:48:38 +0000</updated>
                            <resolved>Tue, 6 Jun 2017 15:32:08 +0000</resolved>
                                    <version>1.3.2</version>
                                    <fixVersion>1.3.3</fixVersion>
                                        <due></due>
                            <votes>4</votes>
                                    <watches>19</watches>
                                                                                                                <comments>
                            <comment id="15665692" author="fifalover" created="Tue, 15 Nov 2016 01:38:27 +0000"  >&lt;p&gt;I noticed that in the master branch, back in May, there were some commits to remove Serializable from DiskFileItem. That would seem to fix this vulnerability. What if we backported that to the 1.3.x branch?&lt;/p&gt;</comment>
                            <comment id="15665725" author="garydgregory" created="Tue, 15 Nov 2016 01:58:47 +0000"  >&lt;p&gt;Patches welcome!&lt;/p&gt;</comment>
                            <comment id="15665788" author="fifalover" created="Tue, 15 Nov 2016 02:24:11 +0000"  >&lt;p&gt;First patch attempt, pulling fixes from the master branch.&lt;/p&gt;</comment>
                            <comment id="15665795" author="fifalover" created="Tue, 15 Nov 2016 02:27:12 +0000"  >&lt;p&gt;Looking back at the patch, it&apos;s a lot larger than I expected. I&apos;m wondering if my usual code formatter or something else the IDE did (end of line changes) made the change larger than expected. I&apos;ll see if I can try that again.&lt;/p&gt;</comment>
                            <comment id="15665835" author="fifalover" created="Tue, 15 Nov 2016 02:50:33 +0000"  >&lt;p&gt;I reapplied the fixes on a clean copy, and the patch looks a lot better this time. I&apos;ll delete the original one, just to remove confusion.&lt;/p&gt;</comment>
                            <comment id="15666372" author="markt" created="Tue, 15 Nov 2016 07:25:57 +0000"  >&lt;p&gt;-1 to back-porting since it breaks backwards compatibility.&lt;/p&gt;

&lt;p&gt;This was discussed at the time and the security hardening changes were applied only to trunk because of backwards compatibility concerns.&lt;/p&gt;

&lt;p&gt;To re-iterate what has been said elsewhere. Java (de)serialization is inherently dangerous. It should only be performed from trusted sources or after appropriate validation that only safe classes are being used. Applications that fail to do this are open to all sorts of vulnerabilities.&lt;/p&gt;</comment>
                            <comment id="15667888" author="fifalover" created="Tue, 15 Nov 2016 18:30:03 +0000"  >&lt;p&gt;Are you saying it breaks backwards compatibility because the consuming applications may serialize DiskFileItem themselves?&lt;/p&gt;

&lt;p&gt;I&apos;m trying to be practical here. I have a release going out in a matter of days, and while the only deserializing from trusted sources or other mitigation techniques may be the best solution, that&apos;s too risky and we simply don&apos;t have the time. If I need to, I&apos;ll build my own version of this library with the patch. But, obviously, if you&apos;re saying there&apos;s a problem with that patch, then I need to find some other solution.&lt;/p&gt;</comment>
                            <comment id="15667947" author="jochen@apache.org" created="Tue, 15 Nov 2016 18:59:25 +0000"  >&lt;p&gt;Chris, we are preparing an alternative solution. But pushing out a release, and all that, needs time. So, please be a bit patient.&lt;/p&gt;</comment>
                            <comment id="15691568" author="henning" created="Wed, 23 Nov 2016 22:50:04 +0000"  >&lt;p&gt;you should also remove the serialVersionUID (&lt;a href=&quot;https://github.com/apache/commons-fileupload/blob/7b201e44962c99cf4019e137aee9ccc0273c3ab1/src/main/java/org/apache/commons/fileupload/disk/DiskFileItem.java#L80-L83&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-fileupload/blob/7b201e44962c99cf4019e137aee9ccc0273c3ab1/src/main/java/org/apache/commons/fileupload/disk/DiskFileItem.java#L80-L83&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="15694839" author="taromaru" created="Fri, 25 Nov 2016 04:56:15 +0000"  >&lt;p&gt;Chris, if an application deserializes data from an untrusted source, that is an application vulnerability.&lt;br/&gt;
Even if commons-fileupload isn&apos;t used, when using a class in JDK, it&apos;s possible to attack.&lt;/p&gt;

&lt;p&gt;Please see following.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://gist.github.com/coekie/a27cc406fc9f3dc7a70d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/coekie/a27cc406fc9f3dc7a70d&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://www.owasp.org/index.php/Deserialization_of_untrusted_data&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.owasp.org/index.php/Deserialization_of_untrusted_data&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The 1st link is very easy to understand.&lt;br/&gt;
The reply(19/Nov/15)(2015/11/19) to me at &lt;a href=&quot;https://issues.apache.org/jira/browse/COLLECTIONS-580&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/COLLECTIONS-580&lt;/a&gt; includes this link.&lt;br/&gt;
The 2nd link also includes the 1st link.&lt;br/&gt;
(&quot;HashSet Billion-Laughs Style DoS example by Wouter Coekaerts&quot;)&lt;/p&gt;</comment>
                            <comment id="15707286" author="fifalover" created="Wed, 30 Nov 2016 02:31:41 +0000"  >&lt;p&gt;I understand the larger problem, and that&apos;s something that I can address as a developer in code that I write. However, what do you tell someone in the operations side of things? They use tools that scan the software that&apos;s installed to find potential security vulnerabilities and something like this issue comes up. They&apos;re not interested in this larger issue. They just need that library patched so their security dashboard shows green again.&lt;/p&gt;

&lt;p&gt;Now that I&apos;m aware of this style of attack, I can look out for it in code that I write and take the kind of precautions described in those links. On the other hand, I think taking a belt-and-suspenders approach here is appropriate. We can do both things.&lt;/p&gt;

&lt;p&gt;Also means one more thing when evaluating 3rd-party code. In some cases, we may not be using FileUpload directly but it is a transitive dependency. We may not even know if object deserialization is going on, much less if it&apos;s from trusted sources.&lt;/p&gt;</comment>
                            <comment id="15707799" author="taromaru" created="Wed, 30 Nov 2016 07:05:04 +0000"  >&lt;p&gt;&amp;gt; However, what do you tell someone in the operations side of things?&lt;br/&gt;
&amp;gt; They use tools that scan the software that&apos;s installed to find potential security vulnerabilities and something like this issue comes up.&lt;br/&gt;
&amp;gt; They&apos;re not interested in this larger issue. They just need that library patched so their security dashboard shows green again.&lt;br/&gt;
A tool may not always be judged properly.&lt;br/&gt;
A person has to confirm the validity of the judgement of a tool.&lt;/p&gt;

&lt;p&gt;Even if indication of a tool becomes green, it may not be proper.&lt;/p&gt;

&lt;p&gt;If the (Disk)FileItem will be not Serializable,&lt;br/&gt;
a JavaBean including (Disk)FileItem will fail to serialize.&lt;br/&gt;
(Strictly the JavaBean will be not the &quot;JavaBeans&quot;.)&lt;/p&gt;

&lt;p&gt;When setAttribute such JavaBean or (Disk)FileItem to the session, the session replication will be failed.&lt;/p&gt;</comment>
                            <comment id="15812015" author="r.oosterholt" created="Mon, 9 Jan 2017 15:16:46 +0000"  >&lt;p&gt;When searching for a fix for this bug, I&apos;ve found a commit related to this issue.&lt;br/&gt;
See &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=commons-fileupload.git;a=shortlog;h=refs/heads/b1_3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch 1.3&lt;/a&gt;:&lt;br/&gt;
Especially &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=commons-fileupload.git;a=commit;h=388e824518697c2c8f9f83fd964621d9c2f8fc4c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;revision 388e824518697c2c8f9f83fd964621d9c2f8fc4c&lt;/a&gt;. This commit disables deserialyzing by default (enable by setting system properties with a specific naming convention). This seems to &apos;fix&apos; &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-279&quot; title=&quot;CVE-2016-1000031 - Apache Commons FileUpload DiskFileItem File Manipulation Remote Code Execution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-279&quot;&gt;&lt;del&gt;FILEUPLOAD-279&lt;/del&gt;&lt;/a&gt; for now.&lt;/p&gt;

&lt;p&gt;When can we expect a release of Apache Commons Fileupload 1.3.3?&lt;/p&gt;</comment>
                            <comment id="15964565" author="marks" created="Tue, 11 Apr 2017 15:54:07 +0000"  >&lt;p&gt;Is there any info on when a solution might be available?  Be it a fix or the &quot;alternative solution&quot; mentioned in the last comment from 15th Nov 2016.&lt;/p&gt;

&lt;p&gt;Currently all versions of commons-fileupload up to and including 1.3.2 are generating critical threat alerts from Sonatype Nexus IQ (and presumably from alternatives such as Whitesource or Black Duck Hub).&lt;/p&gt;
</comment>
                            <comment id="15986143" author="pegasus" created="Thu, 27 Apr 2017 07:26:47 +0000"  >&lt;p&gt;Is there any fix solution available ? help ... &lt;/p&gt;</comment>
                            <comment id="16031153" author="ahuegen" created="Wed, 31 May 2017 13:31:24 +0000"  >&lt;p&gt;Please release the fix.&lt;/p&gt;</comment>
                            <comment id="16032000" author="garydgregory" created="Wed, 31 May 2017 21:31:33 +0000"  >&lt;p&gt;I&apos;ll ping the ML...&lt;/p&gt;</comment>
                            <comment id="16039089" author="chtompki" created="Tue, 6 Jun 2017 15:32:08 +0000"  >&lt;p&gt;Working on the release now.&lt;/p&gt;</comment>
                            <comment id="16062007" author="marks" created="Sat, 24 Jun 2017 14:10:17 +0000"  >&lt;p&gt;Thanks very much for the release. 1.3.3 is &lt;a href=&quot;http://repo1.maven.org/maven2/commons-fileupload/commons-fileupload/1.3.3/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;available&lt;/a&gt; in Maven Central.&lt;/p&gt;

&lt;p&gt;Just one thing...  1.3.3 has not yet been released in JIRA.&lt;/p&gt;</comment>
                            <comment id="16062216" author="kinow" created="Sun, 25 Jun 2017 05:13:59 +0000"  >&lt;p&gt;Updated the version in JIRA, with release date the same as the announce e-mail in the commons mailing list.&lt;/p&gt;</comment>
                            <comment id="16677267" author="makemp" created="Tue, 6 Nov 2018 20:20:48 +0000"  >&lt;p&gt;What is the best way to find this vulnerability across environment?&lt;/p&gt;

&lt;p&gt;Is it safe to say any version of commons-fileupload pre 1.3.* on Struts 1 &amp;amp;2 is vulnerable?&lt;/p&gt;</comment>
                            <comment id="16677377" author="b.eckenfels" created="Tue, 6 Nov 2018 22:43:27 +0000"  >&lt;p&gt;The &#8222;safe&#8220; thing to do is, if you are in doubt then assume you need to upgrade to not be vulnerable. (And it reduces the amount of justification and explaining you have to do when you are regularly bombarded with scan reports and requests for asking for exceptions to keep old, known vulnerable versions around)&lt;/p&gt;</comment>
                            <comment id="16677464" author="jackjohnson12" created="Wed, 7 Nov 2018 00:40:47 +0000"  >&lt;p&gt;If you can&apos;t upgrade, what things should you monitor to reduce the risk of this being exploited. System is going to be EOL soon, however, it is still critical and an upgrade isn&apos;t viable.&#160;&lt;/p&gt;</comment>
                            <comment id="16684615" author="gojo" created="Tue, 13 Nov 2018 01:58:32 +0000"  >&lt;p&gt;Do I need to upgrade my commons-fileupload-1.3.2.jar even if I&apos;m not using Apache Struts?&lt;/p&gt;</comment>
                            <comment id="16684646" author="b.eckenfels" created="Tue, 13 Nov 2018 02:49:17 +0000"  >&lt;p&gt;This is not (directly) related to Struts.&lt;/p&gt;

&lt;p&gt;The DiskFileItem class lingers around in your applications and this adds a trivial Widget to be exploited by serialisation attacks. It might not be the only vector, and deserialising untrusted data is fatal in itself, hoewever you would still be guilty of not having updated a class with known vulnerabilities. So just update.&lt;/p&gt;

&lt;p&gt;if you cant update (for whatever reason) then the only thing to mitigate you can do is to actually review all usage of serialisation in your apps. You should probably do that anyway.&lt;/p&gt;

&lt;p&gt;it might be possible that you notice upload_uuid_id.tmp file in random directories, but they do only show up for short times if it is used to generate files.&lt;/p&gt;

&lt;p&gt;I would lIke&#160;like to better understand why can&#8217;t people just upgrade, is there something we can make it easier?&lt;/p&gt;</comment>
                            <comment id="16684763" author="jochen@apache.org" created="Tue, 13 Nov 2018 06:11:01 +0000"  >&lt;p&gt;It is escapes me, why there is a discussion ongoing with this issue having been resolved more than a year before. As for Struts: Of course, this is not a Struts issue. Except that Struts (AFAIK) distributes commons-fileupload. In other words: Just replace commons-fileupload 1.3.2 with 1.3.3, and you are done. They are binary compatible, so&#160; Struts will be just as happy.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16706163" author="adamp" created="Sun, 2 Dec 2018 10:28:41 +0000"  >&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;There is &quot;Affected versions: 1.3.2&quot; however on other websites like:&lt;br/&gt;
&lt;a href=&quot;https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-1000031&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-1000031&lt;/a&gt;&lt;br/&gt;
[https://nvd.nist.gov/vuln/detail/CVE-2016-1000031&lt;br/&gt;
]&lt;/p&gt;

&lt;p&gt;all versions before 1.3.3 are vulnerable. What versions are impacted by this bug?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Adam&lt;/p&gt;</comment>
                            <comment id="16706178" author="jochen@apache.org" created="Sun, 2 Dec 2018 10:48:16 +0000"  >&lt;p&gt;&lt;b&gt;Exactly,&lt;/b&gt;&#160;as is written in your quote, and in my comment above: Version 1.3.3 is &lt;b&gt;not&lt;/b&gt; affected. All previous versions are. Why are you asking?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16706189" author="adamp" created="Sun, 2 Dec 2018 11:06:58 +0000"  >&lt;p&gt;Jochen,&lt;/p&gt;

&lt;p&gt;Thank you for replying so quickly. I am asking because in the affected versions I see only 1.3.2 and also under the link:&lt;br/&gt;
&lt;a href=&quot;https://www.cvedetails.com/vulnerability-list/vendor_id-45/product_id-24746/version_id-143021/Apache-Commons-Fileupload-1.2.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.cvedetails.com/vulnerability-list/vendor_id-45/product_id-24746/version_id-143021/Apache-Commons-Fileupload-1.2.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;this CVE is not listed. Just got confused if before means only 1.3.2 or all versions before.&lt;/p&gt;

&lt;p&gt;Thank you very much!&lt;/p&gt;

&lt;p&gt;Adam&lt;/p&gt;</comment>
                            <comment id="16706448" author="jochen@apache.org" created="Sun, 2 Dec 2018 19:40:43 +0000"  >&lt;p&gt;Adam,&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I do not feel responsible for external sites like cvedetails.com. To me, the authoritative information is available from&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://commons.apache.org/proper/commons-fileupload/download_fileupload.cgi&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://commons.apache.org/proper/commons-fileupload/download_fileupload.cgi&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;and&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://commons.apache.org/proper/commons-fileupload/security-reports.html#Apache_Commons_FileUpload_Security_Vulnerabilities&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://commons.apache.org/proper/commons-fileupload/security-reports.html#Apache_Commons_FileUpload_Security_Vulnerabilities&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;which both completely match, what I am saying.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16710987" author="rasmita" created="Thu, 6 Dec 2018 05:19:51 +0000"  >&lt;p&gt;Is this bug fix is ported to 1.4 SNAPSHOT build.&lt;/p&gt;

&lt;p&gt;We are currently using&#160;&lt;em&gt;commons-fileupload-1.4-20160119.063138-53. Is this security bug is fixed in this build or we have to upgrade to some other build, please suggest.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;If this issue is fixed in 1.4, please point me to the build location from where I can pick the jar&lt;/em&gt;&lt;/p&gt;</comment>
                            <comment id="16711376" author="b.eckenfels" created="Thu, 6 Dec 2018 12:31:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rasmita&quot; class=&quot;user-hover&quot; rel=&quot;rasmita&quot;&gt;rasmita&lt;/a&gt; it looks like the fix is missing in master/b1_4.&lt;/p&gt;

&lt;p&gt;(There are other problems with the master, like a broken changes.xml). I would think sticking with 1.3.3 is better until a official 1.4 release.)&lt;/p&gt;</comment>
                            <comment id="16711398" author="jochen@apache.org" created="Thu, 6 Dec 2018 12:47:04 +0000"  >&lt;p&gt;Rasmita,&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;as I have no idea, who created that file, when, and how, I couldn&apos;t really tell. All I can say: The fix was committed on 12-May-2016, 13:39 UTC. (See &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=commons-fileupload.git;a=commitdiff;h=02f6b2c4ef9aebf9cf8e55de8b90e73430b69385&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=commons-fileupload.git;a=commitdiff;h=02f6b2c4ef9aebf9cf8e55de8b90e73430b69385&lt;/a&gt;&#160;for details.) Or, in other words: Any version, properly created from the genuine source tree after that point, should be safe. AFAIK, we do not offer automated snapshot builds, so your only choice is to build a snapshot for yourself.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16711401" author="b.eckenfels" created="Thu, 6 Dec 2018 12:50:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jochen%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;jochen@apache.org&quot;&gt;jochen@apache.org&lt;/a&gt; I dont think thats entirely correct, I dont see the orifginal system-property changes in the master file and the changes.xml is messed up. Is the 1.4 branch supposed to have a &quot;different&quot; solution than&#160;&lt;em&gt;this&lt;/em&gt; 1.3.3 fix?&lt;/p&gt;</comment>
                            <comment id="16711417" author="erans" created="Thu, 6 Dec 2018 13:07:31 +0000"  >&lt;blockquote&gt;&lt;p&gt;AFAIK, we do not offer automated snapshot builds&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Some components do, through Jenkins; see e.g.&lt;br/&gt;
  &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/org/apache/commons/commons-rng-sampling/1.2-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/snapshots/org/apache/commons/commons-rng-sampling/1.2-SNAPSHOT/&lt;/a&gt;&lt;br/&gt;
but the lack of synergies between components&apos; maintenance tasks makes it difficult to have up-to-date configurations that produce artefacts in a timely manner and at expected places...&lt;/p&gt;</comment>
                            <comment id="16711420" author="b.eckenfels" created="Thu, 6 Dec 2018 13:13:11 +0000"  >&lt;p&gt;ASF bylaws makes it hard to offer snapshots and I would agree that we should not do it. (if there is a good reason for users to request 1.4 snapshots it might be time for a release?). Should we discuss this on the users or dev mailing list?&lt;/p&gt;</comment>
                            <comment id="16711476" author="erans" created="Thu, 6 Dec 2018 13:53:06 +0000"  >&lt;blockquote&gt;&lt;p&gt;ASF bylaws makes it hard to offer snapshots&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;?&lt;br/&gt;
Jenkins produces them after a successful build.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;we should not do it.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Why?&lt;br/&gt;
They come with all the caveats: Not an official release, thus no support whatsoever.&lt;br/&gt;
However, they might be helpful to &lt;b&gt;us&lt;/b&gt; by providing an easy way for users to test the latest artefacts (and, hopefully, report problems).&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Should we discuss this on the users or dev mailing list?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Probably. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16711520" author="jochen@apache.org" created="Thu, 6 Dec 2018 14:40:29 +0000"  >&lt;p&gt;Bernd,&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;indeed, the fix for master / 1.4 is different: In the future version, we didn&apos;t bother with binary compatibility. So, we simply let FileItem no longer implement java.io.Serializable. In the 1.3 branch, bc matters. So we check for a system property, and throw an exception at runtime.&lt;/p&gt;</comment>
                            <comment id="16711584" author="garydgregory" created="Thu, 6 Dec 2018 15:25:50 +0000"  >&lt;p&gt;FWIW: I published a new &lt;tt&gt;1.4-SNAPSHOT&lt;/tt&gt; to &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/commons-fileupload/commons-fileupload/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/snapshots/commons-fileupload/commons-fileupload/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16712330" author="rasmita" created="Fri, 7 Dec 2018 04:39:56 +0000"  >&lt;p&gt;Please confirm, which build I can use, 1.4-SNAPSHOT latest or better to fall back to 1.3.3&lt;/p&gt;

&lt;p&gt;Is CVE-2016-1000031 vulnerability is not present in &quot;commons-fileupload-1.4-20160119.063138-53.jar&quot; SNAPSHOT build, then I we don&apos;t need to upgrade the jar.&lt;/p&gt;
&lt;h1&gt;&lt;a name=&quot;%C2%A0&quot;&gt;&lt;/a&gt;&#160;&lt;/h1&gt;</comment>
                            <comment id="16722712" author="rasmita" created="Mon, 17 Dec 2018 06:31:57 +0000"  >&lt;p&gt;Please confirm if this snapshot is safe to use, I am waiting for the input to upgrade the jar. Do the snapshot jar contains the fix for the issue.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;

&lt;p&gt;Rasmita&lt;/p&gt;</comment>
                            <comment id="16722825" author="b.eckenfels" created="Mon, 17 Dec 2018 09:30:47 +0000"  >&lt;p&gt;Snapshots are not released and therefore always &quot;use at own risk&quot;, if you know the commit the snapshot is based upon you can check thesource yourself.&lt;/p&gt;</comment>
                            <comment id="16760830" author="chtompki" created="Tue, 5 Feb 2019 14:11:38 +0000"  >&lt;p&gt;1.4 Released&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12838910" name="fix2.patch" size="7303" author="fifalover" created="Tue, 15 Nov 2016 02:50:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i36a9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-277] svn checkout from eclipse fails E175002: PROPFIND ... 405 Method Not Allowed</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-277</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://commons.apache.org/proper/commons-fileupload/source-repository.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://commons.apache.org/proper/commons-fileupload/source-repository.html&lt;/a&gt; says that the Anonymous Access URL is&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/repos/asf/commons/proper/fileupload/trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/commons/proper/fileupload/trunk&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Trying to do this, E175002: PROPFIND ... 405 Method Not Allowed&lt;/p&gt;

&lt;p&gt;Apparently, a minor enhancement in apache&apos;s server config might fix this:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.wandisco.com/svnforum/forum/opensource-subversion-forums/version-control-practices/1544-propfind-405-method-not-allowed&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.wandisco.com/svnforum/forum/opensource-subversion-forums/version-control-practices/1544-propfind-405-method-not-allowed&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;or &lt;br/&gt;
&lt;a href=&quot;http://serverfault.com/questions/594424/subversion-on-apache-checkout-failed-405-method-not-allowed&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://serverfault.com/questions/594424/subversion-on-apache-checkout-failed-405-method-not-allowed&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;debian stable, eclipse 4.5.2, java8&lt;/p&gt;</environment>
        <key id="12997294">FILEUPLOAD-277</key>
            <summary>svn checkout from eclipse fails E175002: PROPFIND ... 405 Method Not Allowed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10004">Not A Bug</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="hauser@acm.org">Ralf Hauser</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Aug 2016 14:12:05 +0000</created>
                <updated>Fri, 19 Aug 2016 07:55:08 +0000</updated>
                            <resolved>Thu, 18 Aug 2016 07:37:53 +0000</resolved>
                                    <version>1.3.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15426034" author="jochen@apache.org" created="Thu, 18 Aug 2016 07:37:54 +0000"  >&lt;p&gt;I am closing this, because it is not an issue of the Commons Fileupload software. Feel free to create a new issue in this Jira with Project=Infrastructure, and Component=Subversion, where it belongs to.&lt;/p&gt;</comment>
                            <comment id="15426049" author="hauser@acm.org" created="Thu, 18 Aug 2016 07:56:55 +0000"  >&lt;p&gt;INFRA-12447&lt;/p&gt;</comment>
                            <comment id="15427629" author="hauser@acm.org" created="Fri, 19 Aug 2016 04:55:27 +0000"  >&lt;p&gt;you might want to update&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://commons.apache.org/proper/commons-fileupload/source-repository.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://commons.apache.org/proper/commons-fileupload/source-repository.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;to reflect the transition from svn to git &lt;/p&gt;</comment>
                            <comment id="15427784" author="britter" created="Fri, 19 Aug 2016 07:55:08 +0000"  >&lt;p&gt;You&apos;re right, we must have missed that during the migration to git. I&apos;ve updated the website. Sorry for the inconvenience.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12823694" name="Screenshot2016-08-15.png" size="21218" author="hauser@acm.org" created="Mon, 15 Aug 2016 14:14:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 10 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i32bhz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-275] when FileSizeLimitExceededException occur,the original InputStream is closed!</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-275</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;integrate Common-fileupload with spring boot ,when FileSizeLimitExceededException accurs, the original InputStream is closed which make the browser lost the response,and the browser then get a &quot;Connection Reset&quot;error.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12987387">FILEUPLOAD-275</key>
            <summary>when FileSizeLimitExceededException occur,the original InputStream is closed!</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="JoshuaXu">JoshuaXu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jul 2016 06:55:05 +0000</created>
                <updated>Wed, 12 May 2021 17:47:23 +0000</updated>
                                            <version>1.3.1</version>
                    <version>1.3.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="17343416" author="arturobernalg" created="Wed, 12 May 2021 17:47:23 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=JoshuaXu&quot; class=&quot;user-hover&quot; rel=&quot;JoshuaXu&quot;&gt;JoshuaXu&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;m trying to understand this issue in order to reproduce but but I thing we need a little more information in order to help you.&lt;br/&gt;
Could you provide a test where the problem can be reproduced?&lt;/p&gt;

&lt;p&gt;TY&lt;/p&gt;

&lt;p&gt;Arturo&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 24 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i30mwn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-274] File Upload fails to recognize RFC 5987-compliant filename</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-274</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I think there is incorrect behaviour in getFileName() method of FileUploadBase class, as it ignores RFC-5987-compliant filename* parameter, and then findNextItem() method incorrectly treats this part of request as form filed. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12975698">FILEUPLOAD-274</key>
            <summary>File Upload fails to recognize RFC 5987-compliant filename</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="hexfaker">Vsevolod Poletaev</reporter>
                        <labels>
                    </labels>
                <created>Sat, 4 Jun 2016 05:44:42 +0000</created>
                <updated>Wed, 27 May 2020 10:36:06 +0000</updated>
                            <resolved>Wed, 27 May 2020 10:36:06 +0000</resolved>
                                    <version>1.3.2</version>
                                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="6600">1h 50m</timespent>
                                <comments>
                            <comment id="15315458" author="britter" created="Sat, 4 Jun 2016 10:34:50 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hexfaker&quot; class=&quot;user-hover&quot; rel=&quot;hexfaker&quot;&gt;hexfaker&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;can you provide an example/unit test showing the problem?&lt;/p&gt;</comment>
                            <comment id="15315557" author="hexfaker" created="Sat, 4 Jun 2016 16:15:25 +0000"  >&lt;p&gt;Sure, look at this &lt;a href=&quot;https://gist.github.com/hexfaker/4c4ec49a55072dbe6f026f75186f231e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/hexfaker/4c4ec49a55072dbe6f026f75186f231e&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Also, there is a question on SO from someone who had the same problem. Check &lt;a href=&quot;http://stackoverflow.com/questions/34353307/java-restlet-file-upload-using-apache-commons-file-upload-complying-with-rfc-598&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;it&lt;/a&gt; out &lt;/p&gt;</comment>
                            <comment id="15315886" author="jochen@apache.org" created="Sun, 5 Jun 2016 13:55:06 +0000"  >&lt;p&gt;Let me summarize this in a few words: If the filename has the prefix =ENC&apos; (with ENC being some character set like UTF-8), then the rest of the filename ought to be decoded using&lt;br/&gt;
URLDecoder,decode(filename, &quot;ENC&quot;).&lt;/p&gt;

&lt;p&gt;Is that it, or is there more to it?&lt;/p&gt;
</comment>
                            <comment id="15315897" author="sebb@apache.org" created="Sun, 5 Jun 2016 14:16:48 +0000"  >&lt;p&gt;AFAICT that&apos;s not quite it.&lt;/p&gt;

&lt;p&gt;The parameter name (i.e. &apos;filename&apos; in this case) has to have &apos;*&apos; appended to it.&lt;br/&gt;
The parameter value (i.e. the actual filename) can then include a prefix such as the encoding name.&lt;/p&gt;

&lt;p&gt;e.g. &lt;/p&gt;

&lt;p&gt;filename* = UTF-8&apos;&apos;someUTF8name&lt;/p&gt;

&lt;p&gt;(there can be whitespace either side of the &apos;=&apos; sign)&lt;/p&gt;

&lt;p&gt;If the &apos;*&apos; marker is missing from the end of the parameter name, then the value is not special.&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://tools.ietf.org/html/rfc5987#section-3.2.2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://tools.ietf.org/html/rfc5987#section-3.2.2&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15315980" author="jochen@apache.org" created="Sun, 5 Jun 2016 18:39:20 +0000"  >&lt;p&gt;Okay, in that case:Vsevolod, as you seem to know about the details: Could you please provide a piece of Java code, which takes as input an HttpRequest object, and returns the filename, adhering to the rules of RFC 5987?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Jochen&lt;/p&gt;</comment>
                            <comment id="15846536" author="myroch" created="Tue, 31 Jan 2017 08:38:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://tools.ietf.org/html/rfc5987#section-1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;RFC-5987&lt;/a&gt; clearly states:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Note: this encoding does not apply to message payloads transmitted over HTTP, such as when using the media type &quot;multipart/form-data&quot; ([RFC2388]).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Also latest RFC for multipart messages inside HTTP is defined in &lt;a href=&quot;https://tools.ietf.org/html/rfc7578#section-4.2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;RFC-7578&lt;/a&gt; and there is stated:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;NOTE: The encoding method described in &lt;span class=&quot;error&quot;&gt;&amp;#91;RFC5987&amp;#93;&lt;/span&gt;, which would add a &quot;filename*&quot; parameter to the Content-Disposition header field, MUST NOT be used.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;So issue is on sender application, it should not encode filenames inside payload this way (and this JIRA can be closed).&lt;/p&gt;</comment>
                            <comment id="15846828" author="jochen@apache.org" created="Tue, 31 Jan 2017 13:32:37 +0000"  >&lt;p&gt;Thanks very much, Miroslav. That would explain, why there are no other users having this issue.&lt;/p&gt;

&lt;p&gt;Given the above quotes, I intend to close this as &quot;Not an issue&quot; within the next weeks, unless new facts should be upcoming.&lt;/p&gt;</comment>
                            <comment id="16994420" author="anselm94" created="Thu, 12 Dec 2019 09:15:33 +0000"  >&lt;p&gt;RFC 7578 was drafted in 2015, while RFC 5987 in 2010. There are few implementations like Apache OpenCMIS Chemistry libraries still stick with RFC 5987.&#160;&lt;/p&gt;</comment>
                            <comment id="16994425" author="anselm94" created="Thu, 12 Dec 2019 09:17:23 +0000"  >&lt;p&gt;I&apos;ve raised a PR -&#160;&lt;a href=&quot;https://github.com/apache/commons-fileupload/pull/24&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-fileupload/pull/24&lt;/a&gt;&#160;in Github, having backward compatibility with RFC 5987 which in turn is based on RFC 2231 for extended non-ASCII charset for HTTP headers&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 46 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2yzbr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-270] CLONE - Bug in docs: tmp file delete conditions in &quot;Resource Cleanup&quot; section of &quot;using.html&quot;</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-270</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;The guide at &lt;a href=&quot;http://commons.apache.org/proper/commons-fileupload/using.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/proper/commons-fileupload/using.html&lt;/a&gt; incorrectly writes: &quot;Such temporary files are deleted automatically, if they are no longer used (more precisely, if the corresponding instance of java.io.File is garbage collected.&quot;.&lt;/p&gt;

&lt;p&gt;(The following affects maven version: &lt;a href=&quot;http://search.maven.org/#artifactdetails&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://search.maven.org/#artifactdetails&lt;/a&gt;|commons-fileupload|commons-fileupload|1.2.2|jar )&lt;/p&gt;

&lt;p&gt;However, the code for org.apache.commons.io.FileCleaningTracker.Tracker.Tracker(...) passes org.apache.commons.fileupload.disk.DiskFileItemFactory.this specified by org.apache.commons.fileupload.disk.DiskFileItemFactory.createItem(String, String, boolean, String) in tracker.track(result.getTempFile(), this), and not java.io.File. I.e. the &quot;using.html&quot; guide must be corrected.&lt;/p&gt;

&lt;p&gt;The correct (fixed) phrasing is: &lt;/p&gt;

&lt;p&gt;&quot;Such temporary files are deleted automatically, if they are no longer used (more precisely, if the corresponding instance of org.apache.commons.fileupload.disk.DiskFileItemFactory is garbage collected.&quot;.&lt;/p&gt;

&lt;p&gt;(The following affects maven version: &lt;a href=&quot;http://search.maven.org/#artifactdetails&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://search.maven.org/#artifactdetails&lt;/a&gt;|commons-fileupload|commons-fileupload|1.3|jar )&lt;/p&gt;

&lt;p&gt;However, the code for org.apache.commons.io.FileCleaningTracker.Tracker.Tracker(...) passes DiskFileItem.this specified by org.apache.commons.fileupload.disk.DiskFileItemFactory.createItem(String, String, boolean, String) in DiskFileItem result=&lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;; &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;; tracker.track(result.getTempFile(), result), and not java.io.File. I.e. the &quot;using.html&quot; guide must be corrected.&lt;/p&gt;

&lt;p&gt;The correct (fixed) phrasing is: &lt;/p&gt;

&lt;p&gt;&quot;Such temporary files are deleted automatically, if they are no longer used (more precisely, if the corresponding instance of org.apache.commons.fileupload.disk.DiskFileItem is garbage collected.&quot;.&lt;/p&gt;

&lt;p&gt;(The following holds for both versions 1.2.2 and 1.3)&lt;/p&gt;

&lt;p&gt;The correct (fixed) phrasing is: &lt;/p&gt;

&lt;p&gt;&quot;Such temporary files are deleted automatically, if they are no longer used (more precisely, if the corresponding instance of org.apache.commons.fileupload.disk.DiskFileItem (for commons-fileupload v.1.3) and instance of org.apache.commons.fileupload.disk.DiskFileItemFactory (for commons-fileupload v.1.2.2) is garbage collected.&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12924425">FILEUPLOAD-270</key>
            <summary>CLONE - Bug in docs: tmp file delete conditions in &quot;Resource Cleanup&quot; section of &quot;using.html&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="craftwithin">loremipsum</reporter>
                        <labels>
                    </labels>
                <created>Sun, 27 Dec 2015 23:16:45 +0000</created>
                <updated>Mon, 28 Dec 2015 14:32:29 +0000</updated>
                                            <version>1.3</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="12652619">FILEUPLOAD-234</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 44 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qbtz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-269] CommonsFileUploadSupport ignores fileSizeMax </title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-269</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Code:&lt;br/&gt;
        long fileSizeMax = 1024*1024;&lt;br/&gt;
        CommonsMultipartResolver commonsMultipartResolver = new CommonsMultipartResolver(servletContext);&lt;br/&gt;
      commonsMultipartResolver.getFileUpload().setFileSizeMax(fileSizeMax);&lt;br/&gt;
        commonsMultipartResolver.resolveMultipart(request);&lt;/p&gt;

&lt;p&gt;Observed:&lt;br/&gt;
        The fileSizeMax is not used, CommonsFileUploadSupport.prepareFileUpload creates a new FileUpload and does not propagate the existing fileSizeMax.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12857878">FILEUPLOAD-269</key>
            <summary>CommonsFileUploadSupport ignores fileSizeMax </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sergiuo">Sergiu Ojog</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Aug 2015 15:25:38 +0000</created>
                <updated>Sat, 5 Jun 2021 09:40:38 +0000</updated>
                            <resolved>Sat, 5 Jun 2021 08:11:11 +0000</resolved>
                                    <version>1.3.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="17357752" author="arturobernalg" created="Sat, 5 Jun 2021 05:10:31 +0000"  >&lt;p&gt;&#160;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sergiuo&quot; class=&quot;user-hover&quot; rel=&quot;sergiuo&quot;&gt;sergiuo&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Don&apos;t understand the exactly problem here. AFAIK Those class that you comment are from Spring.&#160;On the other hand, the maximum size is used in FileItemIterator,&#160;FileItemStreamImpl, among others&#160;.&#160;&lt;/p&gt;

&lt;p&gt;Pls cl&lt;/p&gt;

&lt;p&gt;TY&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17357790" author="sergiuo" created="Sat, 5 Jun 2021 09:40:38 +0000"  >&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;You are right the issue was in spring classes.&#160;&lt;/p&gt;

&lt;p&gt;And it fixed in recent versions:&#160;&lt;a href=&quot;https://github.com/spring-projects/spring-framework/commit/a1bf941ec4282e9924c2e98bf5e9816a509c4d26&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/spring-projects/spring-framework/commit/a1bf941ec4282e9924c2e98bf5e9816a509c4d26&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thank you,&lt;/p&gt;

&lt;p&gt;Sergiu&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 20 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2j7s7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-267] empty files when doing &quot;multiple&quot; fileupload with safari win 5.1.7</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-267</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;when you upload a single (multipart) attachment with safari, all works fine (see attachment with dump of tomcat&apos;s HttpServletRequest out of CommonsMultipartRequestHandler.handleRequest()) .&lt;br/&gt;
If you upload multiple with one browse button (&quot;Choose File&quot;), the files are empty.&lt;br/&gt;
See other attachment.&lt;/p&gt;

&lt;p&gt;Since the problem doesn&apos;t occur with other browsers, is it thinkable that this is a problem of Apple?&lt;/p&gt;</description>
                <environment>&lt;p&gt;debian stable, java8&lt;/p&gt;</environment>
        <key id="12843488">FILEUPLOAD-267</key>
            <summary>empty files when doing &quot;multiple&quot; fileupload with safari win 5.1.7</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hauser@acm.org">Ralf Hauser</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Jul 2015 11:17:30 +0000</created>
                <updated>Wed, 8 Jul 2015 11:17:53 +0000</updated>
                                            <version>1.3.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                            <attachment id="12744197" name="5205onlyOneAttaRequest.bin" size="3800" author="hauser@acm.org" created="Wed, 8 Jul 2015 11:17:53 +0000"/>
                            <attachment id="12744198" name="5205request.bin" size="1917" author="hauser@acm.org" created="Wed, 8 Jul 2015 11:17:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 17 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2gzm7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-265] .MultipartStream$MalformedStreamException: Stream ended unexpectedly</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-265</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;When uploading files using the browser,it does not happen.But when submission using tools with &apos;multipart/form-data&apos;,for example httpclient,advanced rest client and so on,&lt;br/&gt;
Only submit a text field, file field is empty, it will report the following exception:&lt;/p&gt;

&lt;p&gt;org.apache.commons.fileupload.MultipartStream$MalformedStreamException: Stream ended unexpectedly&lt;br/&gt;
	at org.apache.commons.fileupload.MultipartStream.readHeaders(MultipartStream.java:540)&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase$FileItemIteratorImpl.findNextItem(FileUploadBase.java:1038)&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase$FileItemIteratorImpl.&amp;lt;init&amp;gt;(FileUploadBase.java:1003)&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase.getItemIterator(FileUploadBase.java:310)&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:334)&lt;br/&gt;
	at org.apache.commons.fileupload.servlet.ServletFileUpload.parseRequest(ServletFileUpload.java:115)&lt;/p&gt;

&lt;p&gt;A simple analysis that, when using the browser, file is not selected, the default browser will join the empty data file-part.&lt;br/&gt;
But the use of tools such as httpclient, when the file is empty, it do not contain the documents data.&lt;/p&gt;</description>
                <environment>&lt;p&gt;httpclient&lt;/p&gt;</environment>
        <key id="12780478">FILEUPLOAD-265</key>
            <summary>.MultipartStream$MalformedStreamException: Stream ended unexpectedly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zhumingu">zhumingu</reporter>
                        <labels>
                            <label>Stream</label>
                            <label>ended</label>
                            <label>unexpectedly</label>
                    </labels>
                <created>Mon, 9 Mar 2015 11:25:13 +0000</created>
                <updated>Sun, 27 Sep 2020 18:29:23 +0000</updated>
                            <resolved>Wed, 27 May 2020 10:45:21 +0000</resolved>
                                    <version>1.3.1</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14354954" author="jochen@apache.org" created="Tue, 10 Mar 2015 14:22:47 +0000"  >&lt;p&gt;We won&apos;t be able to analyze this, unless you use tcpmon, Wireshark, or a similar tool to create a dump of the conversation between client, and server and attach it here.&lt;/p&gt;</comment>
                            <comment id="16697955" author="carlspring" created="Sat, 24 Nov 2018 20:23:40 +0000"  >&lt;p&gt;We seem to be hitting this issue as well, (check &lt;a href=&quot;https://github.com/strongbox/strongbox/issues/944&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;strongbox/strongbox/issues/944&lt;/a&gt;). Any ideas, or suggestions how to fix, or workaround this, would be great! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16697960" author="garydgregory" created="Sat, 24 Nov 2018 20:40:18 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=carlspring&quot; class=&quot;user-hover&quot; rel=&quot;carlspring&quot;&gt;carlspring&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;1) Make sure you use version 1.3.3, the current version, then,&lt;br/&gt;
 2) &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-265?focusedCommentId=14354954&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14354954&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FILEUPLOAD-265?focusedCommentId=14354954&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14354954&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Gary&lt;/p&gt;</comment>
                            <comment id="16697966" author="carlspring" created="Sat, 24 Nov 2018 21:08:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Well, we have it consistently reproducible in Docker, via &lt;tt&gt;docker-compose&lt;/tt&gt;. Would you like to maybe have a look?&lt;/p&gt;

&lt;p&gt;Also, we&apos;re using &lt;tt&gt;1.3.3&lt;/tt&gt;. I&apos;ve also tried it with &lt;tt&gt;1.3.2&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="16697967" author="garydgregory" created="Sat, 24 Nov 2018 21:19:49 +0000"  >&lt;p&gt;You best bet IMO would be to follow &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jochen%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;jochen@apache.org&quot;&gt;jochen@apache.org&lt;/a&gt;&apos;s &lt;a href=&quot;https://issues.apache.org/jira/secure/EditComment!default.jspa?id=12780478&amp;amp;commentId=14354954&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;suggestion&lt;/a&gt; if you hope to get help from him.&lt;/p&gt;

&lt;p&gt;I do not want to take the time to do that today or any time soon. I&apos;m just trying to&#160;help you move along the process.&lt;/p&gt;</comment>
                            <comment id="16697971" author="carlspring" created="Sat, 24 Nov 2018 21:37:03 +0000"  >&lt;p&gt;Could you please let me know what commands you&apos;d like us to run for the dump? (It&apos;s an Alpine Linux Docker image).&lt;/p&gt;
</comment>
                            <comment id="16697973" author="carlspring" created="Sat, 24 Nov 2018 21:45:13 +0000"  >&lt;p&gt;The link to the &quot;suggestions&quot; say I have no access to view the page.&lt;/p&gt;</comment>
                            <comment id="16697976" author="garydgregory" created="Sat, 24 Nov 2018 21:57:22 +0000"  >&lt;p&gt;Hi. The suggestion is the first comment in this ticket.&lt;/p&gt;</comment>
                            <comment id="17117636" author="jochen@apache.org" created="Wed, 27 May 2020 10:45:21 +0000"  >&lt;p&gt;Without a protocol of the incoming byte stream, or another means to reproduce this, there is no chance to work on that.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17193494" author="hauser@acm.org" created="Thu, 10 Sep 2020 09:35:22 +0000"  >&lt;p&gt;happens for us (intermittently) after the upgrade from tomcat8 to tomcat9&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Others also have it&lt;/p&gt;

&lt;p&gt;&#160; &lt;a href=&quot;https://stackoverflow.com/questions/50244624/stream-ended-unexpectedly&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/50244624/stream-ended-unexpectedly&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;do we newly have to set maxPostSize or maxSavePostSize in tomcat&apos;s global web.xml ?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;It was solved (or rather the symptoms) as per &lt;a href=&quot;https://bz.apache.org/bugzilla/show_bug.cgi?id=64762&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bz.apache.org/bugzilla/show_bug.cgi?id=64762&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17202901" author="jochen@apache.org" created="Sun, 27 Sep 2020 18:29:23 +0000"  >&lt;p&gt;Okay, quoting from the Bugzilla entry, you mentioned:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Our (surprising) workaround for now is as follows:. We look at how many bytes are expected by request.getContentLength() and if what is read does not match the expected size sleep some milli seconds. We do this in a while loop which is iterated a maximal number of times or until everything is read. Normally this solves the problem. So for example for an upload of 230 K, the inputstream claims done after ~130K, after a few ms wait, another 100K appear and all works fine.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;If that claim is true, then there is a problem in Tomcat 9. We simply call InputStream.read() (as evidenced in the stack trace, quoted in said Bugzilla entry) and the InputStream contract clearly states:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&#160;This method blocks until input data is available...&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;In other words: We trust in Tomcat to report end-of-file if, and only if, there is no more data available, not if &quot;there is no more data available now, but there might be in a few milliseconds&quot;.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Sorry, but we&apos;re unable to help here. Please, understand that.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 4 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26ilj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-262] Processing of multipart/form-data request failed. null</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-262</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Exposing an upload feature in an existing web application, I frequently see stack traces as the one posted below in my server log files. Additional notes:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The application runs in an embedded jetty (HTTP) behind an apache2&lt;br/&gt;
mod_proxy reverse proxy (HTTPS).&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;These issues do not generally appear, I tried quite some uploading&lt;br/&gt;
myself today and never managed to reproduce this behaviour even while&lt;br/&gt;
uploading loads of files, large files and both together.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;It does not seem to be generally tied to a particular browser; the&lt;br/&gt;
users associated with these messages use Firefox, MSIE or Chrome.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Looking at network traffic (and the transfer monitor in the app), it&lt;br/&gt;
&lt;em&gt;seems&lt;/em&gt; all data to be sent with the request have successfully been&lt;br/&gt;
transmitted yet parsing the request, ultimately, fails.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;On &lt;em&gt;some&lt;/em&gt; clients, in such situations users reported the upload was&lt;br/&gt;
canceled with a &quot;connection reset by peer&quot; error, even though I do not&lt;br/&gt;
see reasons for that in our mod_proxy server log.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The application uses the approach outlined in &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; to render a progress bar based upon JavaScript and DWR. There is code in that controller trying to check how much data has been received by the server so far. I do dump these information to the log right now, and it seems all&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; data has been received before we run into this error, even though I am not sure about that at all as I am unsure how the frameworks handles HTTP traffic internally and how this is handled in example with chunked transfer encoding:&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;2014-11-21 18:26:01,846 &lt;span class=&quot;error&quot;&gt;&amp;#91;qtp1780643722-438&amp;#93;&lt;/span&gt; INFO WebUIUploadController - uploadStats: 2100399 of 2100399&lt;/p&gt;



&lt;p&gt;Stack trace seen in such situations:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.apache.commons.fileupload.FileUploadBase$IOFileUploadException: Processing of multipart/form-data request failed. &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
        at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:351) ~[commons-fileupload-1.3.1.jar:1.3.1]
        at org.apache.commons.fileupload.servlet.ServletFileUpload.parseRequest(ServletFileUpload.java:115) ~[commons-fileupload-1.3.1.jar:1.3.1]
        at de.pc.frontend.WebUIUploadController.submitUpload(WebUIUploadController.java:189) ~[webprojekt-1.2-SNAPSHOT.jar:na]
        at sun.reflect.GeneratedMethodAccessor104.invoke(Unknown Source) ~[na:na]
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.7.0_51]
        at java.lang.reflect.Method.invoke(Method.java:606) ~[na:1.7.0_51]
        at org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:176) [spring-web-3.0.6.RELEASE.jar:3.0.6.RELEASE]
        at org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:436) [spring-webmvc-3.0.6.RELEASE.jar:3.0.6.RELEASE]
        at org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:424) [spring-webmvc-3.0.6.RELEASE.jar:3.0.6.RELEASE]
        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:790) [spring-webmvc-3.0.6.RELEASE.jar:3.0.6.RELEASE]
        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719) [spring-webmvc-3.0.6.RELEASE.jar:3.0.6.RELEASE]
        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:669) [spring-webmvc-3.0.6.RELEASE.jar:3.0.6.RELEASE]
        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:585) [spring-webmvc-3.0.6.RELEASE.jar:3.0.6.RELEASE]
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:707) [javax.servlet-api-3.1.0.jar:3.1.0]
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api-3.1.0.jar:3.1.0]
        at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:738) [jetty-servlet-9.1.4.v20140401.jar:9.1.4.v20140401]
        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1651) [jetty-servlet-9.1.4.v20140401.jar:9.1.4.v20140401]
        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:83) [spring-web-3.0.6.RELEASE.jar:3.0.6.RELEASE]
        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76) [spring-web-3.0.6.RELEASE.jar:3.0.6.RELEASE]
        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1639) [jetty-servlet-9.1.4.v20140401.jar:9.1.4.v20140401]
        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88) [spring-web-3.0.6.RELEASE.jar:3.0.6.RELEASE]
        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76) [spring-web-3.0.6.RELEASE.jar:3.0.6.RELEASE]
        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1631) [jetty-servlet-9.1.4.v20140401.jar:9.1.4.v20140401]
        at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:549) [jetty-servlet-9.1.4.v20140401.jar:9.1.4.v20140401]
        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) [jetty-server-9.1.4.v20140401.jar:9.1.4.v20140401]
        at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:568) [jetty-security-9.1.4.v20140401.jar:9.1.4.v20140401]
        at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:221) [jetty-server-9.1.4.v20140401.jar:9.1.4.v20140401]
        at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1111) [jetty-server-9.1.4.v20140401.jar:9.1.4.v20140401]
        at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:478) [jetty-servlet-9.1.4.v20140401.jar:9.1.4.v20140401]
        at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:183) [jetty-server-9.1.4.v20140401.jar:9.1.4.v20140401]
        at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1045) [jetty-server-9.1.4.v20140401.jar:9.1.4.v20140401]
        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [jetty-server-9.1.4.v20140401.jar:9.1.4.v20140401]
        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97) [jetty-server-9.1.4.v20140401.jar:9.1.4.v20140401]
        at org.eclipse.jetty.server.Server.handle(Server.java:462) [jetty-server-9.1.4.v20140401.jar:9.1.4.v20140401]
        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:279) [jetty-server-9.1.4.v20140401.jar:9.1.4.v20140401]
        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:232) [jetty-server-9.1.4.v20140401.jar:9.1.4.v20140401]
        at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:534) [jetty-io-9.1.4.v20140401.jar:9.1.4.v20140401]
        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:607) [jetty-util-9.1.4.v20140401.jar:9.1.4.v20140401]
        at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:536) [jetty-util-9.1.4.v20140401.jar:9.1.4.v20140401]
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:744) [na:1.7.0_51]
Caused by: org.eclipse.jetty.io.EofException: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
        at org.eclipse.jetty.server.HttpInput$3.noContent(HttpInput.java:465) ~[jetty-server-9.1.4.v20140401.jar:9.1.4.v20140401]
        at org.eclipse.jetty.server.HttpInput.read(HttpInput.java:125) ~[jetty-server-9.1.4.v20140401.jar:9.1.4.v20140401]
        at org.apache.commons.fileupload.MultipartStream$ItemInputStream.makeAvailable(MultipartStream.java:999) ~[commons-fileupload-1.3.1.jar:1.3.1]
        at org.apache.commons.fileupload.MultipartStream$ItemInputStream.read(MultipartStream.java:903) ~[commons-fileupload-1.3.1.jar:1.3.1]
        at java.io.InputStream.read(InputStream.java:101) ~[na:1.7.0_51]
        at org.apache.commons.fileupload.util.Streams.copy(Streams.java:100) ~[commons-fileupload-1.3.1.jar:1.3.1]
        at org.apache.commons.fileupload.util.Streams.copy(Streams.java:70) ~[commons-fileupload-1.3.1.jar:1.3.1]
        at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:347) ~[commons-fileupload-1.3.1.jar:1.3.1]
        ... 39 common frames omitted
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;There is Spring in there but the problem seems unrelated. It happens just alike using fileupload 1.2 and 1.3.1. I have seen similar issues before using the same application in Sun/Oracle Glassfish, too. Playing with the configuration of the reverse proxy in front (especially talking keepalive, chunked vs. non-chunked transfers, timeouts, ...) doesn&apos;t seem to change much. &lt;/p&gt;

&lt;p&gt;Seen this pretty often so far, yet have no reliable way of reproducing it. Feel free to ask for more information, not sure how useful this is so far.&lt;/p&gt;



&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;http://jtechnoprojects.blogspot.de/p/ajax-file-upload-with-progress-bar.html&lt;/p&gt;</description>
                <environment>&lt;p&gt;Application: Jetty 9.1.4, Debian stable x86_64, Java 1.7.0_51 &lt;br/&gt;
Public access through reverse proxy (apache 2 2.2.22 + mod_proxy)&lt;/p&gt;</environment>
        <key id="12757079">FILEUPLOAD-262</key>
            <summary>Processing of multipart/form-data request failed. null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="krink">Kristian Rink</reporter>
                        <labels>
                            <label>eof</label>
                            <label>exception</label>
                            <label>stacktrace</label>
                    </labels>
                <created>Fri, 21 Nov 2014 20:11:04 +0000</created>
                <updated>Sun, 30 May 2021 07:21:31 +0000</updated>
                            <resolved>Sun, 30 May 2021 07:21:31 +0000</resolved>
                                    <version>1.2</version>
                    <version>1.3.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14221406" author="b.eckenfels" created="Fri, 21 Nov 2014 20:46:57 +0000"  >&lt;p&gt;The `org.eclipse.jetty.io.EofException: null` Looks like the &quot;null&quot; is a red herring, and this is actually an aborted upload or a zero-byte (maybe even Get?) body?&lt;/p&gt;</comment>
                            <comment id="14222744" author="krink" created="Mon, 24 Nov 2014 07:26:13 +0000"  >&lt;p&gt;Though I also thought this, I am unsure here. Part of our customers us a JUpload based Java applet for uploading files in batch operation, and, watching one of them via TeamViewer, it seems while uploading &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_down.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; files, the upload always will transmit all&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; data and then just fail after. I attached part of the applet debug log below. The length of data reported here (getUploadLength()) on the client does match what the server seems to see. I&apos;ve also raised this question on a Jetty mailing list as I am unsure who&apos;s really to blame here. Maybe additional yet empty form fields in the multipart/form-data upload? &lt;/p&gt;

&lt;p&gt;All along with this: I traced through the commons-fileupload sources and had a look at FileUploadBase#parseRequest(...) and wonder whether this method could or should be modified to not necessarily throw an Exception but rather to return files that have successfully been transmitted all along with an error message that something was wrong. In my test case, I tried uploading roughly 250 PDF files, each of them some megabytes in size. If this request fails, maybe 220 of 250 files have been correctly transmitted, yet all of them get wiped at the end of parseUploadRequest() in case of !successful ... &lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;00277 	16:12:01.705 	FileUploadThreadHTTP	[DEBUG] 	-----------------------------ec5489tafxl\r\n
00277 	16:12:01.705 	FileUploadThreadHTTP	[DEBUG] 	Content-Disposition: form-data; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;File0&quot;&lt;/span&gt;; filename=&lt;span class=&quot;code-quote&quot;&gt;&quot;...........pdf&quot;&lt;/span&gt;\r\n
00277 	16:12:01.705 	FileUploadThreadHTTP	[DEBUG] 	Content-Type: application/acad\r\n
00277 	16:12:01.705 	FileUploadThreadHTTP	[DEBUG] 	\r\n
00278 	16:12:01.705 	FileUploadThreadHTTP	[DEBUG] 	--- fileheader end
00279 	16:12:01.705 	FileUploadThreadHTTP	[DEBUG] 	in UploadFileData.uploadFile (amount:5421811, getUploadLength(): 5421811)
00280 	16:14:28.421 	FileUploadThreadHTTP	[ERROR] 	[wjhk.jupload2.exception.JUploadIOException:javax.net.ssl.SSLException] Connection has been shutdown: javax.net.ssl.SSLException: java.net.SocketException: Connection reset by peer: socket write error (Upload-Vorgang wegen eines Fehlers gestoppt)
00281 	16:14:28.421 	FileUploadThreadHTTP	 	wjhk.jupload2.exception.JUploadIOException: javax.net.ssl.SSLException: Connection has been shutdown: javax.net.ssl.SSLException: java.net.SocketException: Connection reset by peer: socket write error
00281 	16:14:28.421 	FileUploadThreadHTTP	 		at wjhk.jupload2.upload.helper.HTTPConnectionHelper.dispose(HTTPConnectionHelper.java:410)
00281 	16:14:28.421 	FileUploadThreadHTTP	 		at wjhk.jupload2.upload.FileUploadThreadHTTP.cleanRequest(FileUploadThreadHTTP.java:160)
00281 	16:14:28.421 	FileUploadThreadHTTP	 		at wjhk.jupload2.upload.DefaultFileUploadThread.doNonChunkedUpload(DefaultFileUploadThread.java:716)
00281 	16:14:28.421 	FileUploadThreadHTTP	 		at wjhk.jupload2.upload.DefaultFileUploadThread.doUpload(DefaultFileUploadThread.java:510)
00281 	16:14:28.421 	FileUploadThreadHTTP	 		at wjhk.jupload2.upload.DefaultFileUploadThread.run(DefaultFileUploadThread.java:331)
00281 	16:14:28.421 	FileUploadThreadHTTP	 	Caused by: javax.net.ssl.SSLException: Connection has been shutdown: javax.net.ssl.SSLException: java.net.SocketException: Connection reset by peer: socket write error
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14223451" author="tn" created="Mon, 24 Nov 2014 20:19:34 +0000"  >&lt;p&gt;As you are using spring mvc, are you sure that you have correctly setup the MultipartResolver?&lt;br/&gt;
Maybe a second resolver processes the same request and closes the input stream prematurely?&lt;/p&gt;</comment>
                            <comment id="14224380" author="krink" created="Tue, 25 Nov 2014 10:48:28 +0000"  >&lt;p&gt;I don&apos;t really use Springs MultipartResolver but rather just plain Fileupload operating on HttpServletRequest passed to the Spring controller. MultipartResolver shouldn&apos;t be in there at all, at least I haven&apos;t explicitely configured or activated it and don&apos;t think it is so by default.&lt;/p&gt;</comment>
                            <comment id="16458361" author="vmallavarapu" created="Mon, 30 Apr 2018 06:47:01 +0000"  >&lt;p&gt;Hi All&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I am &#160;also facing the same exception with&#160;commons-fileupload-1.3.jar. &#160;However&#160;It is not occuring if the client location is close the server location. It is occuring if the server is located at USA and client is located at somewhere in ASIA region.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I have attached the server logs for your reference. &#160;and for quick reference.&lt;/p&gt;

&lt;p&gt;2018-04-21 09:34:45,936 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;ajp-nio-0.0.0.0-8009-exec-12&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;com.mpi.mp.webutil.upload.ClusteredFileUploadJobRegistry&amp;#93;&lt;/span&gt; setErrorMessage ::::::: bytes uploaded = 1092188510 Percentage completed ==== 62&lt;br/&gt;
2018-04-21 09:34:45,939 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;ajp-nio-0.0.0.0-8009-exec-12&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;com.mpi.mp.admin&amp;#93;&lt;/span&gt; Unhandled error &lt;span class=&quot;error&quot;&gt;&amp;#91;38c42d83-09ba-4eaa-8cb6-40f466183457&amp;#93;&lt;/span&gt;&lt;br/&gt;
org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is org.apache.commons.fileupload.FileUploadBase$IOFileUploadException: Processing of multipart/form-data request failed. null&lt;br/&gt;
 at com.mpi.mp.webutil.upload.ProgressTrackingMultipartResolver.resolveMultipart(ProgressTrackingMultipartResolver.java:132) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-webutils.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1041) &lt;span class=&quot;error&quot;&gt;&amp;#91;spring-webmvc.jar:3.2.10.RELEASE&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:887) &lt;span class=&quot;error&quot;&gt;&amp;#91;spring-webmvc.jar:3.2.10.RELEASE&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.mp.webutil.spring.MPIDispatcherServlet.dispatchAfterFiltering(MPIDispatcherServlet.java:78) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-webutils.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.mp.webutil.spring.MPIDispatcherServlet.doDispatch(MPIDispatcherServlet.java:61) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-webutils.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:851) &lt;span class=&quot;error&quot;&gt;&amp;#91;spring-webmvc.jar:3.2.10.RELEASE&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:953) &lt;span class=&quot;error&quot;&gt;&amp;#91;spring-webmvc.jar:3.2.10.RELEASE&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:855) &lt;span class=&quot;error&quot;&gt;&amp;#91;spring-webmvc.jar:3.2.10.RELEASE&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) &lt;span class=&quot;error&quot;&gt;&amp;#91;servlet-api.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:829) &lt;span class=&quot;error&quot;&gt;&amp;#91;spring-webmvc.jar:3.2.10.RELEASE&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) &lt;span class=&quot;error&quot;&gt;&amp;#91;servlet-api.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) &lt;span class=&quot;error&quot;&gt;&amp;#91;catalina.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) &lt;span class=&quot;error&quot;&gt;&amp;#91;catalina.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) &lt;span class=&quot;error&quot;&gt;&amp;#91;tomcat7-websocket.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) &lt;span class=&quot;error&quot;&gt;&amp;#91;catalina.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) &lt;span class=&quot;error&quot;&gt;&amp;#91;catalina.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.mp.webutil.filter.RequestDumperFilter.doFilter(RequestDumperFilter.java:61) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-webutils.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) &lt;span class=&quot;error&quot;&gt;&amp;#91;catalina.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) &lt;span class=&quot;error&quot;&gt;&amp;#91;catalina.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.util.web.CompositeFilter$IteratingFilterChain.doFilter(CompositeFilter.java:114) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-lodgepole.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.mp.webutil.filter.DBCachingDisableFilter.doFilter(DBCachingDisableFilter.java:53) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-webutils.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.util.web.CompositeFilter$IteratingFilterChain.doFilter(CompositeFilter.java:112) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-lodgepole.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.media3k.escene.util.pipeline.URLStopWordsServlet.doFilter(URLStopWordsServlet.java:48) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-lodgepole.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.util.web.CompositeFilter$IteratingFilterChain.doFilter(CompositeFilter.java:112) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-lodgepole.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.media3k.escene.util.pipeline.NoCachingServlet.doFilter(NoCachingServlet.java:63) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-lodgepole.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.util.web.CompositeFilter$IteratingFilterChain.doFilter(CompositeFilter.java:112) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-lodgepole.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.qumu.rest.filter.Oauth2Filter.doFilter(Oauth2Filter.java:77) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-rest.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.util.web.CompositeFilter$IteratingFilterChain.doFilter(CompositeFilter.java:112) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-lodgepole.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.qumu.rest.filter.HTTPCORSFilter.doFilter(HTTPCORSFilter.java:79) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-rest.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.util.web.CompositeFilter$IteratingFilterChain.doFilter(CompositeFilter.java:112) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-lodgepole.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.mp.webutil.filter.SharedSecretSSOFilter.doFilter(SharedSecretSSOFilter.java:103) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-webutils.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.util.web.CompositeFilter$IteratingFilterChain.doFilter(CompositeFilter.java:112) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-lodgepole.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.mp.webutil.filter.SignedUrlFilter.doFilter(SignedUrlFilter.java:70) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-webutils.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.util.web.CompositeFilter$IteratingFilterChain.doFilter(CompositeFilter.java:112) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-lodgepole.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.mp.webutil.filter.LocaleSettingFilter.doFilter(LocaleSettingFilter.java:60) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-webutils.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.util.web.CompositeFilter$IteratingFilterChain.doFilter(CompositeFilter.java:112) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-lodgepole.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.mp.webutil.filter.CSRFFilter.doFilter(CSRFFilter.java:52) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-webutils.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.util.web.CompositeFilter$IteratingFilterChain.doFilter(CompositeFilter.java:112) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-lodgepole.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.mp.webutil.filter.DomainResolvingFilter.doFilter(DomainResolvingFilter.java:42) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-webutils.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.util.web.CompositeFilter$IteratingFilterChain.doFilter(CompositeFilter.java:112) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-lodgepole.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.system.crossapptoken.CrossAppTokenFilter.doFilter(CrossAppTokenFilter.java:45) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-lodgepole.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.util.web.CompositeFilter$IteratingFilterChain.doFilter(CompositeFilter.java:112) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-lodgepole.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.mp.webutil.filter.RequestProbeFilter.doFilter(RequestProbeFilter.java:22) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-webutils.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.util.web.CompositeFilter.doFilter(CompositeFilter.java:76) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-lodgepole.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343) &lt;span class=&quot;error&quot;&gt;&amp;#91;spring-web.jar:3.2.10.RELEASE&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260) &lt;span class=&quot;error&quot;&gt;&amp;#91;spring-web.jar:3.2.10.RELEASE&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) &lt;span class=&quot;error&quot;&gt;&amp;#91;catalina.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) &lt;span class=&quot;error&quot;&gt;&amp;#91;catalina.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.qumu.rest.filter.RestHttpMethodFilter.doFilter(RestHttpMethodFilter.java:30) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-rest.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) &lt;span class=&quot;error&quot;&gt;&amp;#91;catalina.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) &lt;span class=&quot;error&quot;&gt;&amp;#91;catalina.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.mp.webutil.filter.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:34) &lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-webutils.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) &lt;span class=&quot;error&quot;&gt;&amp;#91;catalina.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) &lt;span class=&quot;error&quot;&gt;&amp;#91;catalina.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) &lt;span class=&quot;error&quot;&gt;&amp;#91;catalina.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) &lt;span class=&quot;error&quot;&gt;&amp;#91;catalina.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) &lt;span class=&quot;error&quot;&gt;&amp;#91;catalina.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) &lt;span class=&quot;error&quot;&gt;&amp;#91;catalina.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.catalina.valves.rewrite.RewriteValve.invoke(RewriteValve.java:488) &lt;span class=&quot;error&quot;&gt;&amp;#91;tomcat-valves.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:677) &lt;span class=&quot;error&quot;&gt;&amp;#91;catalina.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) &lt;span class=&quot;error&quot;&gt;&amp;#91;catalina.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) &lt;span class=&quot;error&quot;&gt;&amp;#91;catalina.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.coyote.ajp.AjpProcessor.service(AjpProcessor.java:486) &lt;span class=&quot;error&quot;&gt;&amp;#91;tomcat-coyote.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) &lt;span class=&quot;error&quot;&gt;&amp;#91;tomcat-coyote.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) &lt;span class=&quot;error&quot;&gt;&amp;#91;tomcat-coyote.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459) &lt;span class=&quot;error&quot;&gt;&amp;#91;tomcat-coyote.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) &lt;span class=&quot;error&quot;&gt;&amp;#91;tomcat-coyote.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) &lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_152&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) &lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_152&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) &lt;span class=&quot;error&quot;&gt;&amp;#91;tomcat-util.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at java.lang.Thread.run(Thread.java:748) &lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_152&amp;#93;&lt;/span&gt;&lt;br/&gt;
Caused by: org.apache.commons.fileupload.FileUploadBase$IOFileUploadException: Processing of multipart/form-data request failed. null&lt;br/&gt;
 at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:351) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;commons-fileupload.jar:1.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.commons.fileupload.servlet.ServletFileUpload.parseRequest(ServletFileUpload.java:115) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;commons-fileupload.jar:1.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at com.mpi.mp.webutil.upload.ProgressTrackingMultipartResolver.resolveMultipart(ProgressTrackingMultipartResolver.java:70) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;mpi-webutils.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
 ... 70 common frames omitted&lt;br/&gt;
Caused by: java.io.EOFException: null&lt;br/&gt;
 at org.apache.coyote.ajp.AjpProcessor.read(AjpProcessor.java:1322) &lt;span class=&quot;error&quot;&gt;&amp;#91;tomcat-coyote.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.coyote.ajp.AjpProcessor.readMessage(AjpProcessor.java:625) &lt;span class=&quot;error&quot;&gt;&amp;#91;tomcat-coyote.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.coyote.ajp.AjpProcessor.receive(AjpProcessor.java:587) &lt;span class=&quot;error&quot;&gt;&amp;#91;tomcat-coyote.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.coyote.ajp.AjpProcessor.refillReadBuffer(AjpProcessor.java:695) &lt;span class=&quot;error&quot;&gt;&amp;#91;tomcat-coyote.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.coyote.ajp.AjpProcessor$SocketInputBuffer.doRead(AjpProcessor.java:1433) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;tomcat-coyote.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.coyote.Request.doRead(Request.java:581) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;tomcat-coyote.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.catalina.connector.InputBuffer.realReadBytes(InputBuffer.java:326) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;catalina.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.catalina.connector.InputBuffer.checkByteBufferEof(InputBuffer.java:642) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;catalina.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.catalina.connector.InputBuffer.read(InputBuffer.java:349) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;catalina.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.catalina.connector.CoyoteInputStream.read(CoyoteInputStream.java:183) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;catalina.jar:8.5.23&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.commons.fileupload.MultipartStream$ItemInputStream.makeAvailable(MultipartStream.java:997) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;commons-fileupload.jar:1.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.commons.fileupload.MultipartStream$ItemInputStream.read(MultipartStream.java:901) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;commons-fileupload.jar:1.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at java.io.FilterInputStream.read(FilterInputStream.java:133) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_152&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.commons.fileupload.util.LimitedInputStream.read(LimitedInputStream.java:134) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;commons-fileupload.jar:1.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at java.io.FilterInputStream.read(FilterInputStream.java:107) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_152&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.commons.fileupload.util.Streams.copy(Streams.java:101) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;commons-fileupload.jar:1.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.commons.fileupload.util.Streams.copy(Streams.java:70) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;commons-fileupload.jar:1.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:347) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;commons-fileupload.jar:1.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
 ... 72 common frames omitted&lt;br/&gt;
2018-04-21 09:35:15,261 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;ajp-nio-0.0.0.0-8009-exec-12&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;com.mpi.mp.webutil.upload.ProgressTrackingMultipartResolver&amp;#93;&lt;/span&gt; encoding = &apos;UTF-8&apos;.&lt;br/&gt;
2018-04-21 09:35:15,261 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;ajp-nio-0.0.0.0-8009-exec-12&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;com.mpi.mp.webutil.upload.ProgressTrackingMultipartResolver&amp;#93;&lt;/span&gt; jobId = &apos;71d7c2fd-af8d-4e85-a5f4-c24bc2c0780c&apos;.&lt;br/&gt;
2018-04-21 09:35:15,261 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;ajp-nio-0.0.0.0-8009-exec-12&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;com.mpi.mp.webutil.upload.ProgressTrackingMultipartResolver&amp;#93;&lt;/span&gt; encoding = &apos;UTF-8&apos;, id = &apos;71d7c2fd-af8d-4e85-a5f4-c24bc2c0780c&apos;.&lt;br/&gt;
2018-04-21 09:35:15,263 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;ajp-nio-0.0.0.0-8009-exec-12&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;com.mpi.mp.webutil.upload.ProgressTrackingMultipartResolver&amp;#93;&lt;/span&gt; Done.&lt;/p&gt;</comment>
                            <comment id="16460859" author="jochen@apache.org" created="Wed, 2 May 2018 10:44:23 +0000"  >&lt;p&gt;Quoting &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vmallavarapu&quot; class=&quot;user-hover&quot; rel=&quot;vmallavarapu&quot;&gt;vmallavarapu&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;&#160;&#160;Caused by: java.io.EOFException: null&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;In other words, this is most likely a client aborting the transfer, for whatever reason. Not much, we can do here.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17353820" author="arturobernalg" created="Sat, 29 May 2021 17:50:06 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=krink&quot; class=&quot;user-hover&quot; rel=&quot;krink&quot;&gt;krink&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Could you please provide a unit test where is reproduced in order to &#160;to analyze it?, otherwise &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jochen%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;jochen@apache.org&quot;&gt;jochen@apache.org&lt;/a&gt;&#160;we can close this Ticket&lt;/p&gt;

&lt;p&gt;TY&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12921217" name="fileupload_error_veera.txt" size="12011" author="vmallavarapu" created="Mon, 30 Apr 2018 06:48:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 21 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i22o3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-261] Streaming API fails with file size  &lt; 8k</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-261</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I&apos;m getting a SocketTimeoutException when using the Streaming API and uploading a file with a size smaller than 8k.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.net.SocketTimeoutException
            at java.net.PlainSocketImpl.read(PlainSocketImpl.java:491)
            at java.net.PlainSocketImpl.access$000(PlainSocketImpl.java:46)
            at java.net.PlainSocketImpl$PlainSocketInputStream.read(PlainSocketImpl.java:240)
            at java.io.PushbackInputStream.read(PushbackInputStream.java:185)
            at org.apache.commons.fileupload.MultipartStream$ItemInputStream.makeAvailable(MultipartStream.java:999)
            at org.apache.commons.fileupload.MultipartStream$ItemInputStream.read(MultipartStream.java:903)
            at java.io.InputStream.read(InputStream.java:162)
            at org.apache.commons.fileupload.util.Streams.copy(Streams.java:100)
            at org.apache.commons.fileupload.util.Streams.copy(Streams.java:70)
            at org.apache.commons.fileupload.MultipartStream.readBodyData(MultipartStream.java:593)
            at org.apache.commons.fileupload.MultipartStream.discardBodyData(MultipartStream.java:617)
            at org.apache.commons.fileupload.MultipartStream.skipPreamble(MultipartStream.java:634)
            at org.apache.commons.fileupload.FileUploadBase$FileItemIteratorImpl.findNextItem(FileUploadBase.java:1023)
            at org.apache.commons.fileupload.FileUploadBase$FileItemIteratorImpl.&amp;lt;init&amp;gt;(FileUploadBase.java:1003)
            at org.apache.commons.fileupload.FileUploadBase.getItemIterator(FileUploadBase.java:310)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12754895">FILEUPLOAD-261</key>
            <summary>Streaming API fails with file size  &lt; 8k</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Idhor">Luca Looz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Nov 2014 22:23:28 +0000</created>
                <updated>Sat, 3 Jun 2017 17:17:54 +0000</updated>
                            <resolved>Wed, 8 Jul 2015 10:11:28 +0000</resolved>
                                    <version>1.3.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14618338" author="jochen@apache.org" created="Wed, 8 Jul 2015 10:11:28 +0000"  >&lt;p&gt;Your assertion is that the streaming API won&apos;t handle files &amp;lt; 8K. As the streaming API is internally used by the blocking API (or, in other words: always), this would translate to Commons Fileupload won&apos;t handle files &amp;lt; 8K. Which is plainly wrong, as Commons Fileupload is happily processing such files on thousands of web sites and all around the world every day. Hence, I am closing this as CANTREPRODUCE.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 17 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i22azb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-259] Creating MultiPartRequestWrapper throws java.lang.StackOverflowError</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-259</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;We have unit tests that will create a new MultiPartRequestWrapper. Here is a code snippet of this:&lt;/p&gt;

&lt;p&gt;    MockHttpServletRequest req = new MockHttpServletRequest();&lt;br/&gt;
    // Set request body to HTTP servlet request:&lt;br/&gt;
    req.setContent(requestContent.toByteArray());&lt;br/&gt;
    // Set content type to HTTP servlet request (important, includes Mime boundary string):&lt;br/&gt;
    req.setContentType(multipartRequestEntity.getContentType());    &lt;br/&gt;
    LocaleProvider localeProvider = new DefaultLocaleProvider();&lt;br/&gt;
    JakartaMultiPartRequest jak = new JakartaMultiPartRequest();&lt;br/&gt;
    jak.setMaxSize(String.valueOf(2000));&lt;br/&gt;
    File tempDir = new File(TEMP_DIR);&lt;br/&gt;
    if (!tempDir.exists()) &lt;/p&gt;
{
      tempDir.mkdirs();
    }
&lt;p&gt;    return new MultiPartRequestWrapper(jak, req, tempDir.getAbsolutePath(), localeProvider);&lt;/p&gt;

&lt;p&gt;When the &quot;return...&quot; statement runs, seconds later the unit tests fail and we see the following in the unit test console:&lt;br/&gt;
java.lang.StackOverflowError&lt;br/&gt;
	at org.apache.commons.io.IOUtils.closeQuietly(IOUtils.java:60)&lt;br/&gt;
	at org.apache.commons.io.IOUtils.closeQuietly(IOUtils.java:60)&lt;br/&gt;
	at org.apache.commons.io.IOUtils.closeQuietly(IOUtils.java:60)&lt;br/&gt;
     etc,etc,etc. (hundreds of times)&lt;/p&gt;

&lt;p&gt;This behavior does not happen with a prior version of commons-fiileupload.  We only see this with version 1.3.1.&lt;br/&gt;
Please advise and thank you in advance for your attention on this issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12743853">FILEUPLOAD-259</key>
            <summary>Creating MultiPartRequestWrapper throws java.lang.StackOverflowError</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="gmarshall56">Gary M.</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Sep 2014 20:36:30 +0000</created>
                <updated>Tue, 11 Nov 2014 21:17:35 +0000</updated>
                                            <version>1.3.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14207077" author="tn" created="Tue, 11 Nov 2014 21:17:35 +0000"  >&lt;p&gt;This is impossible to reproduce without further information.&lt;/p&gt;

&lt;p&gt;Please attach a test case including the actual content to be processed.&lt;/p&gt;

&lt;p&gt;It looks like you use struts2 and I have made a simple test case myself with the latest struts2 release (2.3.16.3) and everything seems to work fine.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 51 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i20g7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-258] Empty files in mutipart requests aren&apos;t saved to disk</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-258</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;If a multipart request contains an empty file, ServletFileUpload#parseRequest does not create a corresponding temporary file on the file system. If any operations are performed on the corresponding file object from DiskFileItem#getStoreLocation() a FileNotFoundException is thrown.&lt;/p&gt;

&lt;p&gt;FileUploadBase#parseRequest() copies the multipart file input stream to the temporary file output stream with Streams#copy(). This method only creates the temporary file on the file system if data is written to the file&apos;s output stream. Since the input stream is empty, write is never called on the output stream and the temporary file is not created.&lt;/p&gt;

&lt;p&gt;I&apos;ve used the following snippet to overcome this issue. This ensures the temporary file is created on the file system prior to writing:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;Snippet.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; DiskFileItemFactory factory = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DiskFileItemFactory() {
  @Override
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; FileItem createItem(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fieldName, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; contentType, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isFormField, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fileName) {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DiskFileItem(fieldName, contentType, isFormField, fileName, getSizeThreshold(), getRepository()) {
      &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; serialVersionUID = 1L;

      @Override
      &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; File getTempFile() {
        File tempFile = &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.getTempFile();
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
          tempFile.createNewFile();
        }
        &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; IOException e) {
          &lt;span class=&quot;code-comment&quot;&gt;//Handle appropriately
&lt;/span&gt;          ...
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; tempFile;
      }
    };
  }
};

ServletFileUpload upload = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ServletFileUpload(factory);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12741450">FILEUPLOAD-258</key>
            <summary>Empty files in mutipart requests aren&apos;t saved to disk</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="prcjac">Peter Cowan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Sep 2014 11:25:59 +0000</created>
                <updated>Tue, 5 Feb 2019 14:11:46 +0000</updated>
                            <resolved>Tue, 11 Nov 2014 20:42:35 +0000</resolved>
                                    <version>1.3</version>
                    <version>1.3.1</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14207016" author="tn" created="Tue, 11 Nov 2014 20:42:35 +0000"  >&lt;p&gt;The getStoreLocation() method wrongly returned a File object in case the FileItem was stored in memory. The javadoc was stating that it should return null in this case.&lt;/p&gt;

&lt;p&gt;Fixed this in r1638377.&lt;/p&gt;

&lt;p&gt;You can also use the method isInMemory() to determine if the file is stored on disk or solely in memory.&lt;/p&gt;

&lt;p&gt;btw. the problem you describe can also happen for file smaller than the sizeThreshold for the DiskFileItemFactory.&lt;/p&gt;</comment>
                            <comment id="16760844" author="chtompki" created="Tue, 5 Feb 2019 14:11:46 +0000"  >&lt;p&gt;1.4 Released&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i201iv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-257] Fix Javadoc 1.8 errors</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-257</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Javadoc build fails with Java 1.8, fix attached.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12724387">FILEUPLOAD-257</key>
            <summary>Fix Javadoc 1.8 errors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="scop">Ville Skytt&#228;</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Mon, 30 Jun 2014 07:51:12 +0000</created>
                <updated>Tue, 5 Feb 2019 14:11:40 +0000</updated>
                            <resolved>Tue, 11 Nov 2014 17:36:42 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14206666" author="tn" created="Tue, 11 Nov 2014 17:36:42 +0000"  >&lt;p&gt;Partially applied the patch in r1638222 as one problem has already been fixed before.&lt;/p&gt;

&lt;p&gt;Thanks for the report and patch!&lt;/p&gt;</comment>
                            <comment id="16760832" author="chtompki" created="Tue, 5 Feb 2019 14:11:40 +0000"  >&lt;p&gt;1.4 Released&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12653109" name="0001-Fix-Javadoc-1.8-errors.patch" size="1796" author="scop" created="Mon, 30 Jun 2014 07:52:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>402570</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1xahz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>402637</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-256] FileCleanerCleanup throws NPE on shut-down</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-256</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;FileCleanerCleanup throws NPE on shut-down if there was no file uploaded.&lt;/p&gt;

&lt;p&gt;Here&apos;s the stack trace:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.NullPointerException
	at org.apache.commons.fileupload.servlet.FileCleanerCleanup.contextDestroyed(FileCleanerCleanup.java:87)
	at org.mortbay.jetty.handler.ContextHandler.doStop(ContextHandler.java:600)
	...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A simple check, whether there is a FileCleaningTracker for that ServletContext should fix this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12707938">FILEUPLOAD-256</key>
            <summary>FileCleanerCleanup throws NPE on shut-down</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="til">Til Schneider</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Apr 2014 13:39:32 +0000</created>
                <updated>Fri, 16 Jun 2017 10:02:44 +0000</updated>
                            <resolved>Fri, 16 Jun 2017 10:02:32 +0000</resolved>
                                    <version>1.3</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14174585" author="githubbot" created="Fri, 17 Oct 2014 01:17:52 +0000"  >&lt;p&gt;GitHub user jamessawle opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-fileupload/pull/4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-fileupload/pull/4&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-256&quot; title=&quot;FileCleanerCleanup throws NPE on shut-down&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-256&quot;&gt;&lt;del&gt;FILEUPLOAD-256&lt;/del&gt;&lt;/a&gt; Added null pointer handling&lt;/p&gt;

&lt;p&gt;    Added null pointer handling to stop NPEs being thrown.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/jamessawle/commons-fileupload&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jamessawle/commons-fileupload&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-256&quot; title=&quot;FileCleanerCleanup throws NPE on shut-down&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-256&quot;&gt;&lt;del&gt;FILEUPLOAD-256&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-fileupload/pull/4.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-fileupload/pull/4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #4&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit b9cda9e63f36fa91648deebf881f999b484dac80&lt;br/&gt;
Author: James Sawle &amp;lt;jamessawle@hotmail.com&amp;gt;&lt;br/&gt;
Date:   2014-10-17T01:16:43Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-256&quot; title=&quot;FileCleanerCleanup throws NPE on shut-down&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-256&quot;&gt;&lt;del&gt;FILEUPLOAD-256&lt;/del&gt;&lt;/a&gt; Added null pointer handling around the FileCleaningTracker termination to ensure NullPointerExceptions are no longer thrown.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14206652" author="tn" created="Tue, 11 Nov 2014 17:29:20 +0000"  >&lt;p&gt;I can not reproduce this problem.&lt;br/&gt;
The FileCleaningTracker should be setup by the same context listener once the context has been initialized. If the respective attribute is null afterwards, somebody must have reset it to null. A possible explanation would be that your container has serialized the ServletContext (there are reports on the web about Weblogic doing this kind of thing). As the FileCleaningTracker is not serializable, it would not survive such a save/restore process.&lt;/p&gt;

&lt;p&gt;Can you give more details about your system configuration?&lt;/p&gt;
</comment>
                            <comment id="16030095" author="githubbot" created="Tue, 30 May 2017 20:50:19 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-fileupload/pull/4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-fileupload/pull/4&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16045817" author="kinow" created="Sun, 11 Jun 2017 05:00:10 +0000"  >&lt;p&gt;Also not sure if that is possible. The pull request was closed too. Any objection to closing it as Won&apos;t Fix for now?&lt;/p&gt;</comment>
                            <comment id="16051712" author="kinow" created="Fri, 16 Jun 2017 10:02:32 +0000"  >&lt;p&gt;Closing as Cannot Reproduce. Reported some years ago, PR got closed (likely) because the component was migrated to git. But see comments of others confirming it&apos;s hard to find a way to reproduce the issue, of having a `null` ServletContext.&lt;/p&gt;

&lt;p&gt;Feel free to re-open it in case there&apos;s further information on how to reproduce it.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>386261</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 19 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ujhr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>386526</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-253] Context Reload fails when upgrading to FileUpload 1.3.1.</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-253</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I substituted commons-fileupload-1.2.2 commons-io-1.4 by 1.3.1 &amp;amp; 2.4 versions in order to avoiod a problem I have currently having when migrating from a Windows tomcat 5.5 environment to this new Linux.&lt;br/&gt;
Whenever I try to resrtart the context once the new libraries has been placed on the WEB-INF/lib folder , I get&lt;/p&gt;

&lt;p&gt;Failed to access resource /WEB-INF/lib/commons-fileupload-1.3.1.jar&lt;br/&gt;
	at org.apache.catalina.loader.WebappLoader.setRepositories(WebappLoader.java:980)&lt;br/&gt;
	at org.apache.catalina.loader.WebappLoader.startInternal(WebappLoader.java:605)&lt;br/&gt;
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)&lt;br/&gt;
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5150)&lt;br/&gt;
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)&lt;br/&gt;
	at org.apache.catalina.manager.ManagerServlet.start(ManagerServlet.java:1256)&lt;br/&gt;
	at org.apache.catalina.manager.HTMLManagerServlet.start(HTMLManagerServlet.java:714)&lt;br/&gt;
	at org.apache.catalina.manager.HTMLManagerServlet.doPost(HTMLManagerServlet.java:219)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:641)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)&lt;br/&gt;
	at org.apache.catalina.filters.CsrfPreventionFilter.doFilter(CsrfPreventionFilter.java:193)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)&lt;br/&gt;
	at org.apache.catalina.filters.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:108)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)&lt;br/&gt;
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)&lt;br/&gt;
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)&lt;br/&gt;
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:581)&lt;br/&gt;
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)&lt;br/&gt;
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)&lt;br/&gt;
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)&lt;br/&gt;
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)&lt;br/&gt;
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)&lt;br/&gt;
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1002)&lt;br/&gt;
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:585)&lt;br/&gt;
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)&lt;br/&gt;
	at java.lang.Thread.run(Unknown Source)&lt;br/&gt;
Caused by: javax.naming.NameNotFoundException: Resource commons-fileupload-1.3.1.jar not found&lt;br/&gt;
	at org.apache.naming.resources.BaseDirContext.lookup(BaseDirContext.java:500)&lt;br/&gt;
	at org.apache.catalina.loader.WebappLoader.setRepositories(WebappLoader.java:978)&lt;br/&gt;
	... 31 more&lt;/p&gt;</description>
                <environment>&lt;p&gt;Red Had Linux, Tomcat 7, Java 1.7&lt;/p&gt;</environment>
        <key id="12701868">FILEUPLOAD-253</key>
            <summary>Context Reload fails when upgrading to FileUpload 1.3.1.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="saamrh">Santiago Astasio</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Mar 2014 11:05:39 +0000</created>
                <updated>Mon, 5 Jun 2017 13:53:22 +0000</updated>
                            <resolved>Mon, 8 Dec 2014 14:42:55 +0000</resolved>
                                    <version>1.3.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14206683" author="tn" created="Tue, 11 Nov 2014 17:46:46 +0000"  >&lt;p&gt;This is most likely a file permission problem with your jars (see for example here: &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/tomcat-users/201102.mbox/%3C766065.12003.qm@web161408.mail.bf1.yahoo.com%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/tomcat-users/201102.mbox/%3C766065.12003.qm@web161408.mail.bf1.yahoo.com%3E&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Make sure tomcat can access the file, as it is usually run with another user.&lt;/p&gt;</comment>
                            <comment id="14206688" author="saamrh" created="Tue, 11 Nov 2014 17:49:40 +0000"  >&lt;p&gt;I am out of the office with limited access to my mail. I will be back on November, 17th.  For urgent issues, please call +34 639 12 78 22&lt;/p&gt;


&lt;p&gt;This message and any attachments (the &quot;message&quot;) is&lt;br/&gt;
intended solely for the intended addressees and is confidential. &lt;br/&gt;
If you receive this message in error,or are not the intended recipient(s), &lt;br/&gt;
please delete it and any copies from your systems and immediately notify&lt;br/&gt;
the sender. Any unauthorized view, use that does not comply with its purpose, &lt;br/&gt;
dissemination or disclosure, either whole or partial, is prohibited. Since the internet &lt;br/&gt;
cannot guarantee the integrity of this message which may not be reliable, BNP PARIBAS &lt;br/&gt;
(and its subsidiaries) shall not be liable for the message if modified, changed or falsified. &lt;br/&gt;
Do not print this message unless it is necessary,consider the environment.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------------------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Ce message et toutes les pieces jointes (ci-apres le &quot;message&quot;) &lt;br/&gt;
sont etablis a l&apos;intention exclusive de ses destinataires et sont confidentiels.&lt;br/&gt;
Si vous recevez ce message par erreur ou s&apos;il ne vous est pas destine,&lt;br/&gt;
merci de le detruire ainsi que toute copie de votre systeme et d&apos;en avertir&lt;br/&gt;
immediatement l&apos;expediteur. Toute lecture non autorisee, toute utilisation de &lt;br/&gt;
ce message qui n&apos;est pas conforme a sa destination, toute diffusion ou toute &lt;br/&gt;
publication, totale ou partielle, est interdite. L&apos;Internet ne permettant pas d&apos;assurer&lt;br/&gt;
l&apos;integrite de ce message electronique susceptible d&apos;alteration, BNP Paribas &lt;br/&gt;
(et ses filiales) decline(nt) toute responsabilite au titre de ce message dans l&apos;hypothese&lt;br/&gt;
ou il aurait ete modifie, deforme ou falsifie. &lt;br/&gt;
N&apos;imprimez ce message que si necessaire, pensez a l&apos;environnement.&lt;/p&gt;</comment>
                            <comment id="14237912" author="tn" created="Mon, 8 Dec 2014 14:42:55 +0000"  >&lt;p&gt;Closing as the OP has not responded to the last comment and the problem is most likely not related to commons-fileupload in particular.&lt;/p&gt;</comment>
                            <comment id="14237915" author="saamrh" created="Mon, 8 Dec 2014 14:44:41 +0000"  >&lt;p&gt;I am out of the office with limited access to my mail. I will be back on December, 10th .  For urgent issues, please call +34 639 12 78 22&lt;/p&gt;


&lt;p&gt;This message and any attachments (the &quot;message&quot;) is&lt;br/&gt;
intended solely for the intended addressees and is confidential. &lt;br/&gt;
If you receive this message in error,or are not the intended recipient(s), &lt;br/&gt;
please delete it and any copies from your systems and immediately notify&lt;br/&gt;
the sender. Any unauthorized view, use that does not comply with its purpose, &lt;br/&gt;
dissemination or disclosure, either whole or partial, is prohibited. Since the internet &lt;br/&gt;
cannot guarantee the integrity of this message which may not be reliable, BNP PARIBAS &lt;br/&gt;
(and its subsidiaries) shall not be liable for the message if modified, changed or falsified. &lt;br/&gt;
Do not print this message unless it is necessary,consider the environment.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------------------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Ce message et toutes les pieces jointes (ci-apres le &quot;message&quot;) &lt;br/&gt;
sont etablis a l&apos;intention exclusive de ses destinataires et sont confidentiels.&lt;br/&gt;
Si vous recevez ce message par erreur ou s&apos;il ne vous est pas destine,&lt;br/&gt;
merci de le detruire ainsi que toute copie de votre systeme et d&apos;en avertir&lt;br/&gt;
immediatement l&apos;expediteur. Toute lecture non autorisee, toute utilisation de &lt;br/&gt;
ce message qui n&apos;est pas conforme a sa destination, toute diffusion ou toute &lt;br/&gt;
publication, totale ou partielle, est interdite. L&apos;Internet ne permettant pas d&apos;assurer&lt;br/&gt;
l&apos;integrite de ce message electronique susceptible d&apos;alteration, BNP Paribas &lt;br/&gt;
(et ses filiales) decline(nt) toute responsabilite au titre de ce message dans l&apos;hypothese&lt;br/&gt;
ou il aurait ete modifie, deforme ou falsifie. &lt;br/&gt;
N&apos;imprimez ce message que si necessaire, pensez a l&apos;environnement.&lt;/p&gt;</comment>
                            <comment id="16036967" author="chtompki" created="Mon, 5 Jun 2017 13:53:22 +0000"  >&lt;p&gt;Not a problem&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>380208</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tidj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>380492</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-252] DiskFileItem#write can lose original IO error</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-252</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;The method DiskFileItem#write has the following code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;FileOutputStream fout = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
    fout = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileOutputStream(file);
    fout.write(get());
} &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt; {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (fout != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        fout.close();
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If the write fails and then the close fails, the write failure will be masked by the close error. It might be better to write the code as:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;FileOutputStream fout = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
    fout = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileOutputStream(file);
    fout.write(get());
    fout.close();
} &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt; {
    IOUtils.closeQuietly(fout);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This would ensure that the first error was reported.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695602">FILEUPLOAD-252</key>
            <summary>DiskFileItem#write can lose original IO error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Feb 2014 23:16:05 +0000</created>
                <updated>Tue, 5 Feb 2019 14:11:46 +0000</updated>
                            <resolved>Tue, 11 Nov 2014 20:45:28 +0000</resolved>
                                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14207021" author="tn" created="Tue, 11 Nov 2014 20:45:28 +0000"  >&lt;p&gt;Fixed in r1638380.&lt;/p&gt;</comment>
                            <comment id="14239397" author="sebb@apache.org" created="Tue, 9 Dec 2014 13:40:22 +0000"  >&lt;p&gt;And&lt;/p&gt;

&lt;p&gt; &lt;a href=&quot;http://svn.apache.org/r1643123&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1643123&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16760845" author="chtompki" created="Tue, 5 Feb 2019 14:11:46 +0000"  >&lt;p&gt;1.4 Released&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374110</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sgwv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374410</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-251] DiskFileItem#getTempFile() is broken</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-251</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;DiskFileItem#getTempFile() looks wrong.&lt;/p&gt;

&lt;p&gt;Presumably the intention of providing the protected method was to allow the generation of the path name to be overwritten. This can indeed be done. &lt;/p&gt;

&lt;p&gt;However, if this is done, the tempFile variable will not be set up, so the path name won&apos;t be cached - unless the overriding method also caches the name.&lt;/p&gt;

&lt;p&gt;The file name needs to agree with the DeferredFileOutputStream that is created. This is implied in the Javadoc, but is not currently enforced.&lt;/p&gt;

&lt;p&gt;The protected method needs to implement the name generation part only.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695433">FILEUPLOAD-251</key>
            <summary>DiskFileItem#getTempFile() is broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Feb 2014 00:53:09 +0000</created>
                <updated>Tue, 5 Feb 2019 14:11:41 +0000</updated>
                            <resolved>Mon, 17 Feb 2014 02:22:51 +0000</resolved>
                                    <version>1.3.1</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13902913" author="sebb@apache.org" created="Mon, 17 Feb 2014 02:10:49 +0000"  >&lt;p&gt;On second thoughts, I don&apos;t think it is possible to fix this without potentially breaking subclasses.&lt;/p&gt;

&lt;p&gt;Subclasses that override the method must ensure that the same File is returned each time.&lt;br/&gt;
This needs to be documented.&lt;/p&gt;</comment>
                            <comment id="13902915" author="sebb@apache.org" created="Mon, 17 Feb 2014 02:22:51 +0000"  >&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/r1568874&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1568874&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-251&quot; title=&quot;DiskFileItem#getTempFile() is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-251&quot;&gt;&lt;del&gt;FILEUPLOAD-251&lt;/del&gt;&lt;/a&gt; DiskFileItem#getTempFile() is broken&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/fileupload/trunk/src/changes/changes.xml&lt;br/&gt;
    commons/proper/fileupload/trunk/src/main/java/org/apache/commons/fileupload/disk/DiskFileItem.java&lt;/p&gt;</comment>
                            <comment id="16760834" author="chtompki" created="Tue, 5 Feb 2019 14:11:41 +0000"  >&lt;p&gt;1.4 Released&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373941</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sfvj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374241</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-250] FileUploadBase - potential resource leak - InputStream not closed on exception</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-250</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;FileUploadBase has several instances where the InputStream &quot;input&quot; is not closed when an Exception is throw. This can potentially be a resource leak and is best avoided.&lt;/p&gt;

&lt;p&gt;The first case is easy to deal with, as the InputStream does not need to be created until after the SizeLimitExceededException has been thrown.&lt;/p&gt;

&lt;p&gt;The next case occurs if the boundary is not found.&lt;br/&gt;
This check could be moved to before the size check, however that would change the behaviour slightly, as FileUploadException would be thrown instead of SizeLimitExceededException if both boundary and size are wrong.&lt;/p&gt;

&lt;p&gt;The last case is where InvalidContentTypeException is thrown. This cannot easily be avoided.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695428">FILEUPLOAD-250</key>
            <summary>FileUploadBase - potential resource leak - InputStream not closed on exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Sun, 16 Feb 2014 23:55:50 +0000</created>
                <updated>Wed, 26 Feb 2020 18:48:36 +0000</updated>
                            <resolved>Mon, 17 Feb 2014 00:17:24 +0000</resolved>
                                    <version>1.3.1</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13902886" author="sebb@apache.org" created="Mon, 17 Feb 2014 00:17:25 +0000"  >&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/r1568866&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1568866&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-250&quot; title=&quot;FileUploadBase - potential resource leak - InputStream not closed on exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-250&quot;&gt;&lt;del&gt;FILEUPLOAD-250&lt;/del&gt;&lt;/a&gt; FileUploadBase - potential resource leak - InputStream not closed on exception&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/fileupload/trunk/src/changes/changes.xml&lt;br/&gt;
    commons/proper/fileupload/trunk/src/main/java/org/apache/commons/fileupload/FileUploadBase.java&lt;/p&gt;</comment>
                            <comment id="16760837" author="chtompki" created="Tue, 5 Feb 2019 14:11:42 +0000"  >&lt;p&gt;1.4 Released&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13264844">SOLR-13878</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373936</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sfuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374236</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-249] DiskFileItem lazy instantiation of dfos field is not useful</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-249</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;AFAICT, the lazy instantiation of the dfos field is not very useful, as many methods fail with NPE unless it has been defined.&lt;/p&gt;

&lt;p&gt;There is very little that can be done with the instance until the dfos field has been created - even toString() fails.&lt;/p&gt;

&lt;p&gt;In which case, why not create the field at construction time?&lt;br/&gt;
It can then be made final.&lt;br/&gt;
As a consequence, tempFile would also need to be created by the ctor.&lt;/p&gt;

&lt;p&gt;It looks as though dfosFile could then also be made final.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;These fields are all private so the API would not change.&amp;#93;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695387">FILEUPLOAD-249</key>
            <summary>DiskFileItem lazy instantiation of dfos field is not useful</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Sun, 16 Feb 2014 00:35:52 +0000</created>
                <updated>Wed, 8 Jul 2015 09:57:30 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13903583" author="sebb@apache.org" created="Mon, 17 Feb 2014 22:49:32 +0000"  >&lt;p&gt;Testing shows that dfos cannot be made final, as the class is Serializable, and dfos is not.&lt;/p&gt;

&lt;p&gt;Since a deserialised instance of the class will always ensure that dfos is initialised  - readObject() calls getOutputStream() - maybe one solution would be to call getOutputStream() (or equivalent) in the constructor. That way, dfos would be initialised regardless of how the class is instantiated.&lt;/p&gt;

&lt;p&gt;This would also help fix &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-247&quot; title=&quot;DiskFileItem does not check fields for null before derefencing them&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-247&quot;&gt;FILEUPLOAD-247&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373895</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 37 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sflb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374195</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-248] [DISK] Unsafe file move operation (possibly swallowing write errors)</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-248</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Because of a fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-246&quot; title=&quot;FileUpload should use IOUtils.closeQuietly where relevant&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-246&quot;&gt;&lt;del&gt;FILEUPLOAD-246&lt;/del&gt;&lt;/a&gt; I noticed that there is a fileRenameOrCopy function which swallows exceptions on the OutputStream#close() method. This is unsafe since a lot of filesystem operations can fail in exactly this step.&lt;/p&gt;

&lt;p&gt;There is also a Commons IO Utility which does rename or copy, so the whole code block could be removed.&lt;/p&gt;

&lt;p&gt;Problem is here in Line 416: &lt;a href=&quot;http://svn.apache.org/viewvc/commons/proper/fileupload/trunk/src/main/java/org/apache/commons/fileupload/disk/DiskFileItem.java?revision=1568691&amp;amp;view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/commons/proper/fileupload/trunk/src/main/java/org/apache/commons/fileupload/disk/DiskFileItem.java?revision=1568691&amp;amp;view=markup&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Besides using FileUtil.move() another option would be to add a out.close() before the catch.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Source&lt;/p&gt;</environment>
        <key id="12695383">FILEUPLOAD-248</key>
            <summary>[DISK] Unsafe file move operation (possibly swallowing write errors)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="b.eckenfels">Bernd Eckenfels</assignee>
                                    <reporter username="b.eckenfels">Bernd Eckenfels</reporter>
                        <labels>
                    </labels>
                <created>Sat, 15 Feb 2014 22:43:17 +0000</created>
                <updated>Tue, 5 Feb 2019 14:11:41 +0000</updated>
                            <resolved>Mon, 19 May 2014 22:34:30 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13902594" author="sebb@apache.org" created="Sun, 16 Feb 2014 00:37:46 +0000"  >&lt;p&gt;Agreed it would make more sense to use the method from Commons IO.&lt;/p&gt;</comment>
                            <comment id="14002512" author="b.eckenfels" created="Mon, 19 May 2014 22:34:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-248&quot; title=&quot;[DISK] Unsafe file move operation (possibly swallowing write errors)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-248&quot;&gt;&lt;del&gt;FILEUPLOAD-248&lt;/del&gt;&lt;/a&gt; DiskFileItem might suppress critical IOExceptions on rename - use FileUtil.move instead.&lt;br/&gt;
Also: close input stream silently to make delete more probable. Remove unneeded BufferedInputStream indirection for readFully().&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1596086&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1596086&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16760835" author="chtompki" created="Tue, 5 Feb 2019 14:11:41 +0000"  >&lt;p&gt;1.4 Released&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373891</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sfkf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374191</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-247] DiskFileItem does not check fields for null before derefencing them</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-247</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;DiskFileItem does not check fields for null before derefencing them.&lt;/p&gt;

&lt;p&gt;This can cause some unexpected NPE failures, for example:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;FileItem item = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DiskFileItem(&lt;span class=&quot;code-quote&quot;&gt;&quot;Field&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, 16, repository);
item.isInMemory(); &lt;span class=&quot;code-comment&quot;&gt;// =&amp;gt; NPE&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It may not be possible to avoid throwing an exception, but NPE is not very helpful in determining the cause of the error.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695382">FILEUPLOAD-247</key>
            <summary>DiskFileItem does not check fields for null before derefencing them</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Sat, 15 Feb 2014 22:42:26 +0000</created>
                <updated>Wed, 8 Jul 2015 09:30:46 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373890</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 37 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sfk7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374190</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-246] FileUpload should use IOUtils.closeQuietly where relevant</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-246</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;FileUpload already depends on Common IO, so it makes sense to simplify the code by using the method IOUtils#closeQuietly instead of code such as&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (out != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
        out.close();
    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException e) {
        &lt;span class=&quot;code-comment&quot;&gt;// ignore
&lt;/span&gt;    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12695378">FILEUPLOAD-246</key>
            <summary>FileUpload should use IOUtils.closeQuietly where relevant</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Sat, 15 Feb 2014 21:25:12 +0000</created>
                <updated>Tue, 5 Feb 2019 14:11:38 +0000</updated>
                            <resolved>Sat, 15 Feb 2014 21:31:35 +0000</resolved>
                                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13902527" author="sebb@apache.org" created="Sat, 15 Feb 2014 21:31:35 +0000"  >&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/r1568683&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1568683&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-246&quot; title=&quot;FileUpload should use IOUtils.closeQuietly where relevant&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-246&quot;&gt;&lt;del&gt;FILEUPLOAD-246&lt;/del&gt;&lt;/a&gt; FileUpload should use IOUtils.closeQuietly where relevant&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/fileupload/trunk/src/changes/changes.xml&lt;br/&gt;
    commons/proper/fileupload/trunk/src/main/java/org/apache/commons/fileupload/disk/DiskFileItem.java&lt;/p&gt;</comment>
                            <comment id="16760829" author="chtompki" created="Tue, 5 Feb 2019 14:11:38 +0000"  >&lt;p&gt;1.4 Released&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373886</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sfjb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374186</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-245] DiskFileItem.get() may not fully read the data</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-245</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;DiskFileItem.get() invokes InputStream#read, and appears to assume that it will always read all available data. However that is not necessarily the case.&lt;/p&gt;

&lt;p&gt;It would be safer to use the Commons IO method IOUtils#readFully&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;The component already depends on CommonsIO&amp;#93;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695375">FILEUPLOAD-245</key>
            <summary>DiskFileItem.get() may not fully read the data</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Sat, 15 Feb 2014 21:12:02 +0000</created>
                <updated>Wed, 28 Dec 2016 22:26:31 +0000</updated>
                            <resolved>Sat, 15 Feb 2014 21:19:33 +0000</resolved>
                                    <version>1.3.1</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13902524" author="sebb@apache.org" created="Sat, 15 Feb 2014 21:19:33 +0000"  >&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/r1568678&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1568678&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-245&quot; title=&quot;DiskFileItem.get() may not fully read the data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-245&quot;&gt;&lt;del&gt;FILEUPLOAD-245&lt;/del&gt;&lt;/a&gt; DiskFileItem.get() may not fully read the data&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/fileupload/trunk/src/changes/changes.xml&lt;br/&gt;
    commons/proper/fileupload/trunk/src/main/java/org/apache/commons/fileupload/disk/DiskFileItem.java&lt;/p&gt;</comment>
                            <comment id="15782841" author="blueskyufo" created="Wed, 28 Dec 2016 12:54:48 +0000"  >&lt;p&gt;Hi Sebb,&lt;/p&gt;

&lt;p&gt;Please attach your test case to show when DiskFileItem.get() can not fully read the data.&lt;br/&gt;
I&apos;m using 1.3.1 version and facing a problem which may relate to this ticket.&lt;br/&gt;
Thank you.&lt;/p&gt;</comment>
                            <comment id="15783852" author="sebb@apache.org" created="Wed, 28 Dec 2016 22:26:20 +0000"  >&lt;p&gt;There is no test case, but the Javadoc makes it clear that InputStream#read does not necessarily read to EOF.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373883</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 44 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sfin:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374183</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-244] .DiskFileItem.readObject fails to close FileInputStream</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-244</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Eclipse reports that .DiskFileItem.readObject fails to close FileInputStream&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695369">FILEUPLOAD-244</key>
            <summary>.DiskFileItem.readObject fails to close FileInputStream</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Sat, 15 Feb 2014 18:30:33 +0000</created>
                <updated>Tue, 5 Feb 2019 14:11:39 +0000</updated>
                            <resolved>Sat, 15 Feb 2014 22:04:16 +0000</resolved>
                                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13902545" author="sebb@apache.org" created="Sat, 15 Feb 2014 22:04:16 +0000"  >&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/r1568691&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1568691&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-244&quot; title=&quot;.DiskFileItem.readObject fails to close FileInputStream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-244&quot;&gt;&lt;del&gt;FILEUPLOAD-244&lt;/del&gt;&lt;/a&gt; DiskFileItem.readObject fails to close FileInputStream&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/fileupload/trunk/src/changes/changes.xml&lt;br/&gt;
    commons/proper/fileupload/trunk/src/main/java/org/apache/commons/fileupload/disk/DiskFileItem.java&lt;/p&gt;</comment>
                            <comment id="16760831" author="chtompki" created="Tue, 5 Feb 2019 14:11:39 +0000"  >&lt;p&gt;1.4 Released&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373877</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sfhb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374177</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-242] Should not catch and ignore Throwable</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-242</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Code should never catch &amp;amp; ignore all Throwables.&lt;/p&gt;

&lt;p&gt;For example, ThreadDeath may be caught, but must be rethrown.&lt;br/&gt;
VirtualMachineError must also never be swallowed.&lt;/p&gt;

&lt;p&gt;See also&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/bugzilla/show_bug.cgi?id=48644&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://issues.apache.org/bugzilla/show_bug.cgi?id=48644&lt;/a&gt;&lt;br/&gt;
and&lt;br/&gt;
org/apache/tomcat/util/ExceptionUtils#handleThrowable()&lt;br/&gt;
&lt;a href=&quot;https://svn.apache.org/repos/asf/tomcat/trunk/java/org/apache/tomcat/util/ExceptionUtils.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/tomcat/trunk/java/org/apache/tomcat/util/ExceptionUtils.java&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12693542">FILEUPLOAD-242</key>
            <summary>Should not catch and ignore Throwable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Feb 2014 12:18:07 +0000</created>
                <updated>Tue, 5 Feb 2019 14:11:40 +0000</updated>
                            <resolved>Tue, 11 Nov 2014 20:09:48 +0000</resolved>
                                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14206969" author="tn" created="Tue, 11 Nov 2014 20:09:48 +0000"  >&lt;p&gt;Fixed in r1638340.&lt;/p&gt;</comment>
                            <comment id="14232955" author="sebb@apache.org" created="Wed, 3 Dec 2014 12:43:42 +0000"  >&lt;p&gt;Followup:&lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/r1643019&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1643019&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-242&quot; title=&quot;Should not catch and ignore Throwable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-242&quot;&gt;&lt;del&gt;FILEUPLOAD-242&lt;/del&gt;&lt;/a&gt; Do not silently swallow all Throwables.&lt;br/&gt;
Instead swallow only Exceptions&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/fileupload/trunk/src/main/java/org/apache/commons/fileupload/FileUploadBase.java&lt;/p&gt;</comment>
                            <comment id="16760833" author="chtompki" created="Tue, 5 Feb 2019 14:11:40 +0000"  >&lt;p&gt;1.4 Released&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>372127</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1s4rr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>372432</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-241] SocketTimeoutException: Read timed out FileUpload with IE10/11 at 0KB File</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-241</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;If you upload a File (Size: 0KB e.g. test.txt) in the Internetexplorer 10 or 11 you recieve an SocketTimeoutException: Read timed out on serverside.&lt;br/&gt;
The ServletRequestContext is OK, but the method getItemIterator(ctx) cause exception. Firefox and Chrome is OK. There is no exception.&lt;/p&gt;

&lt;p&gt;try&lt;br/&gt;
			{&lt;br/&gt;
				Map paramMap = srvRequest.getParameterMap();&lt;br/&gt;
				ServletRequestContext ctx=new ServletRequestContext(srvRequest);&lt;br/&gt;
				FileItemIterator iter = m_fUpload.getItemIterator(ctx);&lt;br/&gt;
				while (iter.hasNext()) &lt;br/&gt;
				{&lt;br/&gt;
					FileItemStream  item =iter.next();&lt;br/&gt;
					if (!item.isFormField()) &lt;/p&gt;
					{
						processFileUpload(item,paramMap);
					}
&lt;p&gt;				}&lt;br/&gt;
			}&lt;br/&gt;
			catch (IOException e)&lt;br/&gt;
			{ ...&lt;/p&gt;

&lt;p&gt;IE&lt;br/&gt;
ContentLength=219, ContentType=multipart/form-data; boundary=---------------------------7dd17c30210cbe&lt;/p&gt;

&lt;p&gt;=== MimeHeaders ===&lt;br/&gt;
x-requested-with = XMLHttpRequest&lt;br/&gt;
accept = &lt;b&gt;/&lt;/b&gt;&lt;br/&gt;
content-type = multipart/form-data; boundary=---------------------------7dd17c30210cbe&lt;br/&gt;
referer = &lt;a href=&quot;http://localhost:8080/upload&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/upload&lt;/a&gt;&lt;br/&gt;
accept-language = de-DE&lt;br/&gt;
accept-encoding = gzip, deflate&lt;br/&gt;
user-agent = Mozilla/5.0 (Windows NT 6.1; WOW64; Trident/7.0; rv:11.0) like Gecko&lt;br/&gt;
host = localhost:8080&lt;br/&gt;
content-length = 219&lt;br/&gt;
dnt = 1&lt;br/&gt;
connection = Keep-Alive&lt;br/&gt;
cache-control = no-cache&lt;/p&gt;


&lt;p&gt;Chrome&lt;br/&gt;
ContentLength=192, ContentType=multipart/form-data; boundary=----WebKitFormBoundaryT5ywpwNtenrWvVc6&lt;/p&gt;

&lt;p&gt;=== MimeHeaders ===&lt;br/&gt;
host = localhost:8080&lt;br/&gt;
connection = keep-alive&lt;br/&gt;
content-length = 192&lt;br/&gt;
accept = &lt;b&gt;/&lt;/b&gt;&lt;br/&gt;
origin = &lt;a href=&quot;http://localhost:8080&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080&lt;/a&gt;&lt;br/&gt;
x-requested-with = XMLHttpRequest&lt;br/&gt;
user-agent = Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.57 Safari/537.36&lt;br/&gt;
content-type = multipart/form-data; boundary=----WebKitFormBoundaryT5ywpwNtenrWvVc6&lt;br/&gt;
referer = &lt;a href=&quot;http://localhost:8080/upload&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/upload&lt;/a&gt;&lt;br/&gt;
accept-encoding = gzip,deflate,sdch&lt;br/&gt;
accept-language = de-DE,de;q=0.8,en-US;q=0.6,en;q=0.4&lt;/p&gt;



&lt;p&gt;java.net.SocketTimeoutException: Read timed out&lt;br/&gt;
	at java.net.SocketInputStream.socketRead0(Native Method)&lt;br/&gt;
	at java.net.SocketInputStream.read(SocketInputStream.java:150)&lt;br/&gt;
	at java.net.SocketInputStream.read(SocketInputStream.java:121)&lt;br/&gt;
	at org.apache.coyote.http11.InternalInputBuffer.fill(InternalInputBuffer.java:751)&lt;br/&gt;
	at org.apache.coyote.http11.InternalInputBuffer$InputStreamInputBuffer.doRead(InternalInputBuffer.java:781)&lt;br/&gt;
	at org.apache.coyote.http11.filters.IdentityInputFilter.doRead(IdentityInputFilter.java:116)&lt;br/&gt;
	at org.apache.coyote.http11.InternalInputBuffer.doRead(InternalInputBuffer.java:710)&lt;br/&gt;
	at org.apache.coyote.Request.doRead(Request.java:427)&lt;br/&gt;
	at org.apache.catalina.connector.InputBuffer.realReadBytes(InputBuffer.java:304)&lt;br/&gt;
	at org.apache.tomcat.util.buf.ByteChunk.substract(ByteChunk.java:419)&lt;br/&gt;
	at org.apache.catalina.connector.InputBuffer.read(InputBuffer.java:327)&lt;br/&gt;
	at org.apache.catalina.connector.CoyoteInputStream.read(CoyoteInputStream.java:193)&lt;br/&gt;
	at org.apache.commons.fileupload.MultipartStream$ItemInputStream.makeAvailable(MultipartStream.java:997)&lt;br/&gt;
	at org.apache.commons.fileupload.MultipartStream$ItemInputStream.read(MultipartStream.java:901)&lt;br/&gt;
	at java.io.InputStream.read(InputStream.java:101)&lt;br/&gt;
	at org.apache.commons.fileupload.util.Streams.copy(Streams.java:101)&lt;br/&gt;
	at org.apache.commons.fileupload.util.Streams.copy(Streams.java:70)&lt;br/&gt;
	at org.apache.commons.fileupload.MultipartStream.readBodyData(MultipartStream.java:589)&lt;br/&gt;
	at org.apache.commons.fileupload.MultipartStream.discardBodyData(MultipartStream.java:613)&lt;br/&gt;
	at org.apache.commons.fileupload.MultipartStream.skipPreamble(MultipartStream.java:630)&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase$FileItemIteratorImpl.findNextItem(FileUploadBase.java:1018)&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase$FileItemIteratorImpl.&amp;lt;init&amp;gt;(FileUploadBase.java:998)&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase.getItemIterator(FileUploadBase.java:310)&lt;br/&gt;
	at webframe.jqgui.CFileCache.checkRequest(CFileCache.java:91)&lt;br/&gt;
	at webframe.jqgui.JQDocument.refreshDocument(JQDocument.java:832)&lt;br/&gt;
	at webframe.jqgui.CJQRoot.refresh(CJQRoot.java:186)&lt;br/&gt;
	at webframe.sessionmgr.main.CGUIModul.doRefresh(CGUIModul.java:161)&lt;br/&gt;
	at webframe.sessionmgr.main.BaseSession.doGet(BaseSession.java:2794)&lt;br/&gt;
	at webframe.sessionmgr.main.SessionPortal.doRequest(SessionPortal.java:4801)&lt;br/&gt;
	at webframe.sessionmgr.main.SessionPortal.doPost(SessionPortal.java:5707)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)&lt;br/&gt;
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)&lt;br/&gt;
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)&lt;br/&gt;
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)&lt;br/&gt;
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)&lt;br/&gt;
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)&lt;br/&gt;
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)&lt;br/&gt;
	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:861)&lt;br/&gt;
	at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:606)&lt;br/&gt;
	at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:722)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 7, IE10, IE11&lt;/p&gt;</environment>
        <key id="12683074">FILEUPLOAD-241</key>
            <summary>SocketTimeoutException: Read timed out FileUpload with IE10/11 at 0KB File</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="xplox">Christian Schmidt</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Dec 2013 07:56:47 +0000</created>
                <updated>Thu, 27 May 2021 07:27:28 +0000</updated>
                            <resolved>Thu, 27 May 2021 07:27:28 +0000</resolved>
                                    <version>1.2</version>
                    <version>1.3</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14618321" author="jochen@apache.org" created="Wed, 8 Jul 2015 10:00:27 +0000"  >&lt;p&gt;I have no IE 10, or IE 11 available. So, without further help from the reporter, or anyone else, I won&apos;t be able to reproduce this. As a consequence, I&apos;ll be closing this issue as CANTREPRODUCE.&lt;/p&gt;</comment>
                            <comment id="17351881" author="arturobernalg" created="Wed, 26 May 2021 15:35:14 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jochen%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;jochen@apache.org&quot;&gt;jochen@apache.org&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I think you can close this issue as CAT REPRODUE&lt;/p&gt;

&lt;p&gt;TY&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362326</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qgfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362620</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-240] Content-Disposition: attachment; does not work properly</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-240</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;If I submit data to a server as:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;----------------------------336962109586438949853174
Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;basketball.png&quot;
Content-Type: image/png
content goes here
----------------------------336962109586438949853174--
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the upload works as expected and FileUploadBase.findNextItem() recognize the image as a file.&lt;/p&gt;

&lt;p&gt;But if I upload the file as &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;--729ci2jje8exo4cr3u1h8kmis86ksupq
Content-Type: image/png
Content-Disposition: attachment; name=&quot;file&quot;; filename=&quot;basketball.png
content goes here
--729ci2jje8exo4cr3u1h8kmis86ksupq
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt; FileUploadBase.findNextItem() does not recognize the image as a file. As specified in &lt;a href=&quot;http://www.ietf.org/rfc/rfc1867.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.ietf.org/rfc/rfc1867.txt&lt;/a&gt; this should according to the specification work.&lt;/p&gt;

&lt;p&gt;The problem is located in FileUploadBase.findNextItem() where we call&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;// We&apos;re parsing the outer multipart
String fieldName = getFieldName(headers);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If I am right we should change the the following function:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;    /**
     * Returns the field name, which is given by the content-disposition
     * header.
     * @param pContentDisposition The content-dispositions header value.
     * @return The field jake
     */
    private String getFieldName(String pContentDisposition) {
        String fieldName = null;
        if (pContentDisposition != null
                &amp;amp;&amp;amp; pContentDisposition.toLowerCase().startsWith(FORM_DATA)) {
            ParameterParser parser = new ParameterParser();
            parser.setLowerCaseNames(true);
            // Parameter parser can handle null input
            Map params = parser.parse(pContentDisposition, &apos;;&apos;);
            fieldName = (String) params.get(&quot;name&quot;);
            if (fieldName != null) {
                fieldName = fieldName.trim();
            }
        }
        return fieldName;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Instead of if &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;(pContentDisposition != null &amp;amp;&amp;amp; pContentDisposition.toLowerCase().startsWith(FORM_DATA))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;we should use&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;(pContentDisposition != null &amp;amp;&amp;amp; (pContentDisposition.toLowerCase().startsWith(FORM_DATA)) ||&#160;pContentDisposition.toLowerCase().startsWith(ATTACHMENT)))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

</description>
                <environment></environment>
        <key id="12678456">FILEUPLOAD-240</key>
            <summary>Content-Disposition: attachment; does not work properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="chris h">Christoph Hartmann</reporter>
                        <labels>
                            <label>features</label>
                    </labels>
                <created>Sun, 10 Nov 2013 14:10:13 +0000</created>
                <updated>Mon, 5 Jun 2017 13:53:00 +0000</updated>
                            <resolved>Thu, 6 Feb 2014 22:06:05 +0000</resolved>
                                    <version>1.2.2</version>
                    <version>1.3</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13893875" author="tn" created="Thu, 6 Feb 2014 22:06:05 +0000"  >&lt;p&gt;Closed as duplicate.&lt;/p&gt;</comment>
                            <comment id="16036965" author="chtompki" created="Mon, 5 Jun 2017 13:53:00 +0000"  >&lt;p&gt;Duplicate&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12678454">FILEUPLOAD-239</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357831</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1popj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358121</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-239] Content-Disposition: attachment; does not work properly</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-239</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;If I submit data to a server as:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;----------------------------336962109586438949853174
Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;basketball.png&quot;
Content-Type: image/png
content goes here
----------------------------336962109586438949853174--
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the upload works as expected and FileUploadBase.findNextItem() recognize the image as a file.&lt;/p&gt;

&lt;p&gt;But if I upload the file as &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;--729ci2jje8exo4cr3u1h8kmis86ksupq
Content-Type: image/png
Content-Disposition: attachment; name=&quot;file&quot;; filename=&quot;basketball.png
content goes here
--729ci2jje8exo4cr3u1h8kmis86ksupq
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt; FileUploadBase.findNextItem() does not recognize the image as a file. As specified in &lt;a href=&quot;http://www.ietf.org/rfc/rfc1867.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.ietf.org/rfc/rfc1867.txt&lt;/a&gt; this should according to the specification work.&lt;/p&gt;

&lt;p&gt;The problem is located in FileUploadBase.findNextItem() where we call&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;// We&apos;re parsing the outer multipart
String fieldName = getFieldName(headers);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If I am right we should change the the following function:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;    /**
     * Returns the field name, which is given by the content-disposition
     * header.
     * @param pContentDisposition The content-dispositions header value.
     * @return The field jake
     */
    private String getFieldName(String pContentDisposition) {
        String fieldName = null;
        if (pContentDisposition != null
                &amp;amp;&amp;amp; pContentDisposition.toLowerCase().startsWith(FORM_DATA)) {
            ParameterParser parser = new ParameterParser();
            parser.setLowerCaseNames(true);
            // Parameter parser can handle null input
            Map params = parser.parse(pContentDisposition, &apos;;&apos;);
            fieldName = (String) params.get(&quot;name&quot;);
            if (fieldName != null) {
                fieldName = fieldName.trim();
            }
        }
        return fieldName;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Instead of if &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;(pContentDisposition != null &amp;amp;&amp;amp; pContentDisposition.toLowerCase().startsWith(FORM_DATA))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;we should use&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;(pContentDisposition != null &amp;amp;&amp;amp; (pContentDisposition.toLowerCase().startsWith(FORM_DATA)) ||&#160;pContentDisposition.toLowerCase().startsWith(ATTACHMENT)))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

</description>
                <environment></environment>
        <key id="12678454">FILEUPLOAD-239</key>
            <summary>Content-Disposition: attachment; does not work properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="chris h">Christoph Hartmann</reporter>
                        <labels>
                    </labels>
                <created>Sun, 10 Nov 2013 14:09:13 +0000</created>
                <updated>Mon, 5 Jun 2017 13:53:10 +0000</updated>
                            <resolved>Tue, 11 Nov 2014 16:57:37 +0000</resolved>
                                    <version>1.2.2</version>
                    <version>1.3</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14206618" author="tn" created="Tue, 11 Nov 2014 16:57:37 +0000"  >&lt;p&gt;In r1638215 I have added a unit test based on the example in &lt;a href=&quot;http://www.ietf.org/rfc/rfc1867.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.ietf.org/rfc/rfc1867.txt&lt;/a&gt; section 6, Examples, which shows that fileupload already supports this.&lt;/p&gt;

&lt;p&gt;I close this ticket as invalid, as the referenced rfc clearly states that any part of a multipart/form-data is expected to have a content-disposition set to &quot;form-data&quot; (section 7). If multiple files are uploaded, a multipart/mixed part can be used to group them together, in which case other dispositions can be used, as outlined in the example. &lt;/p&gt;</comment>
                            <comment id="16036966" author="chtompki" created="Mon, 5 Jun 2017 13:53:10 +0000"  >&lt;p&gt;Invalid&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12678456">FILEUPLOAD-240</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357829</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pop3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358119</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-238] Default charset hardcoded in FileItem (must be used Charset.defaultCharset())</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-238</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;It is no way to set charset in form with mixed text and file input and enctype=&quot;multipart/form-data&quot;. So request ContextType is null and FileItem.getString() used default charset. &lt;br/&gt;
But default charset taken not from java Charset.defaultCharset() but hardcoded in DiskFileItem.DEFAULT_CHARSET=&quot;ISO-8859-1&quot;. So use UTF-8 only possible in own toString.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12668998">FILEUPLOAD-238</key>
            <summary>Default charset hardcoded in FileItem (must be used Charset.defaultCharset())</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="gkislin">Kislin Grigory</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Sep 2013 12:24:53 +0000</created>
                <updated>Sun, 18 Jun 2017 19:57:33 +0000</updated>
                            <resolved>Thu, 5 Jun 2014 08:10:00 +0000</resolved>
                                    <version>1.3</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14018571" author="gkislin" created="Thu, 5 Jun 2014 08:09:35 +0000"  >&lt;p&gt;Found for this case String getString(String encoding).&lt;br/&gt;
Sorry, should be closed.&lt;/p&gt;</comment>
                            <comment id="14018572" author="gkislin" created="Thu, 5 Jun 2014 08:10:00 +0000"  >&lt;p&gt;Solution: use String getString(String encoding)&lt;/p&gt;</comment>
                            <comment id="16052480" author="githubbot" created="Fri, 16 Jun 2017 22:58:47 +0000"  >&lt;p&gt;GitHub user kinow opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-fileupload/pull/7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-fileupload/pull/7&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-238&quot; title=&quot;Default charset hardcoded in FileItem (must be used Charset.defaultCharset())&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-238&quot;&gt;&lt;del&gt;FILEUPLOAD-238&lt;/del&gt;&lt;/a&gt;: add tests for the portlet package&lt;/p&gt;

&lt;p&gt;    Initial tests for the portlet package. I believe there have been updates to the portlet specification(s) that have not been applied to Commons FileUpload yet. Hopefully, having unit tests will help us later when changing the package.&lt;/p&gt;

&lt;p&gt;    Removed strings like &quot;US-ASCII&quot; using the StandardCharsets class from Java 7.&lt;/p&gt;

&lt;p&gt;    There was a class FileUploadTestCase that was extended by other tests. But it became problematic as there were tests that would be common to any implementation of FileUpload, while other tests were specific to ServletFileUpload.&lt;/p&gt;

&lt;p&gt;    This pull request removed the inheritance from the tests, by a Util class (open to other suggestions) with methods for parsing uploads and for tests.&lt;/p&gt;

&lt;p&gt;    Tests related to ServletFileUpload are now in ServletFileUploadTest, in the .servlet package in the test sources.&lt;/p&gt;

&lt;p&gt;    Tests related to PortletFileUpload are now in PortletFileUploadTest, in the .portlet package in the test sources.&lt;/p&gt;

&lt;p&gt;    There are no functional changes in the tests. Coverage remained the same for other classes. For the .portlet package, it went from 0% to 60% in my local working copy.&lt;/p&gt;

&lt;p&gt;    There are lots of other parts that need better coverage, but at least I think having tests in separated classes will make it slightly easier to add more.&lt;/p&gt;

&lt;p&gt;    Cheers&lt;br/&gt;
    Bruno&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/kinow/commons-fileupload&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/kinow/commons-fileupload&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-238&quot; title=&quot;Default charset hardcoded in FileItem (must be used Charset.defaultCharset())&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-238&quot;&gt;&lt;del&gt;FILEUPLOAD-238&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-fileupload/pull/7.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-fileupload/pull/7.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #7&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 5adc6aefc39aaa39987e909259ef7f1e6bc38e72&lt;br/&gt;
Author: Bruno P. Kinoshita &amp;lt;brunodepaulak@yahoo.com.br&amp;gt;&lt;br/&gt;
Date:   2017-06-11T05:23:07Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-238&quot; title=&quot;Default charset hardcoded in FileItem (must be used Charset.defaultCharset())&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-238&quot;&gt;&lt;del&gt;FILEUPLOAD-238&lt;/del&gt;&lt;/a&gt;: add tests for the portlet package&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16052485" author="kinow" created="Fri, 16 Jun 2017 23:03:20 +0000"  >&lt;p&gt;And the lack of coffee made me send the pull request, and also create the branch, to this ticket, instead of 283. Sorry for the noise. Recreating the pull request for the right issue.&lt;/p&gt;</comment>
                            <comment id="16052487" author="githubbot" created="Fri, 16 Jun 2017 23:03:34 +0000"  >&lt;p&gt;Github user kinow closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-fileupload/pull/7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-fileupload/pull/7&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16053289" author="githubbot" created="Sun, 18 Jun 2017 18:49:07 +0000"  >&lt;p&gt;Github user jochenw commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-fileupload/pull/7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-fileupload/pull/7&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Bruno, you are a Commons PMC member. Why use a Github pull request, and not just do a commit?&lt;/p&gt;
</comment>
                            <comment id="16053304" author="githubbot" created="Sun, 18 Jun 2017 19:57:33 +0000"  >&lt;p&gt;Github user kinow commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-fileupload/pull/7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-fileupload/pull/7&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I use pull requests when I want someone else to review my code. In this case, I modified the tests design a wee bit too (not just added portlet tests), so would like that someone confirmed the change looks OK.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348930</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 19 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o5zj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349228</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-235] FileItem.getName() does not conform to the Java File.getName behaviour and *returns* a full path when provided with one</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-235</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I understand that FileItem is simply following RFC 1867, but the implementation of &apos;getName&apos; &lt;br/&gt;
method on a file related class IMHO should follow the behaviour of the java File class which&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Returns the name of the file or directory denoted by this abstract pathname. This is just the last name in the pathname&apos;s name sequence. If the pathname&apos;s name sequence is empty, then the empty string is returned. &lt;a href=&quot;http://docs.oracle.com/javase/7/docs/api/java/io/File.html#getName(&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://docs.oracle.com/javase/7/docs/api/java/io/File.html#getName(&lt;/a&gt;)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I propose that FileItem.getName() is changed to &lt;b&gt;match&lt;/b&gt; the java File class behaviour and that another method called something like &apos;getRawName&apos; be added to the FileItem class. The rational for this change is to make it less easy to shoot oneself in the foot (in no modern web application is a &apos;full filepath&apos; useful, especially when most browsers do not send one!).&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12657191">FILEUPLOAD-235</key>
            <summary>FileItem.getName() does not conform to the Java File.getName behaviour and *returns* a full path when provided with one</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="dblack">David</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Jul 2013 02:27:55 +0000</created>
                <updated>Tue, 6 Jun 2017 15:30:14 +0000</updated>
                                            <version>1.3</version>
                                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14206628" author="tn" created="Tue, 11 Nov 2014 17:04:23 +0000"  >&lt;p&gt;The javadoc of FileItem clearly states that getName() might return a full pathname depending on the used browser.&lt;/p&gt;

&lt;p&gt;The simplest way to get only the filename is by doing something like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  FileItem item = ...
  &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; filename = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(item.getName()).getName();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Due to previous decisions in the referenced issues and for reasons of backwards compatibility, this will not change in the 1.x branch.&lt;/p&gt;</comment>
                            <comment id="14207345" author="dblack" created="Tue, 11 Nov 2014 23:40:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tn&quot; class=&quot;user-hover&quot; rel=&quot;tn&quot;&gt;tn&lt;/a&gt; is there a tracker for the next major version (e.g. 2.X) of commons fileload that I can raise this issue in perhaps ?&lt;/p&gt;</comment>
                            <comment id="14207967" author="tn" created="Wed, 12 Nov 2014 11:51:46 +0000"  >&lt;p&gt;Hmm, the best way is to re-open the issue and assign it a fix version for 2.x, so that we do not lose track of it.&lt;/p&gt;</comment>
                            <comment id="14618290" author="jochen@apache.org" created="Wed, 8 Jul 2015 09:34:08 +0000"  >&lt;p&gt;FileItem is by no means intended to mimick the behaviour of a File. Thats why we have DiskFileItem, and DiskFileItem.getStoreLocation().&lt;/p&gt;</comment>
                            <comment id="14621583" author="dblack" created="Fri, 10 Jul 2015 01:45:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jochen%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;jochen@apache.org&quot;&gt;jochen@apache.org&lt;/a&gt; what&apos;s the problem with changing the behaviour to be consistent with what most expect in the next major version release ?&lt;/p&gt;</comment>
                            <comment id="14621949" author="jochen@apache.org" created="Fri, 10 Jul 2015 08:07:57 +0000"  >&lt;p&gt;David: Commons Fileupload is a component, which is used in countless web applications all over the world. We do take upwards compatibility very serious. Your proposal would break compatibility without a compelling reason.&lt;/p&gt;

&lt;p&gt;Sorry,&lt;/p&gt;

&lt;p&gt;Jochen&lt;/p&gt;</comment>
                            <comment id="14621972" author="dblack" created="Fri, 10 Jul 2015 08:21:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jochen%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;jochen@apache.org&quot;&gt;jochen@apache.org&lt;/a&gt; that&apos;s why I was asking to make this change in the next major version release. As per the issue description:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The rational for this change is to make it less easy to shoot oneself in the foot (in no modern web application is a &apos;full filepath&apos; useful, especially when most browsers do not send one!).&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Also, afaik internet explorer is the only browser to send the (rea &apos;full filepath&apos; for a file upload and since IE8 it does not always send the &apos;real&apos; &apos;full filepath&apos; information, see &lt;a href=&quot;http://blogs.msdn.com/b/ie/archive/2008/07/02/ie8-security-part-v-comprehensive-protection.aspx&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://blogs.msdn.com/b/ie/archive/2008/07/02/ie8-security-part-v-comprehensive-protection.aspx&lt;/a&gt; for details.&lt;/p&gt;

&lt;p&gt;If you wish to keep a potential security hazard in the code so be it.&lt;/p&gt;</comment>
                            <comment id="14624651" author="jochen@apache.org" created="Mon, 13 Jul 2015 13:38:13 +0000"  >&lt;p&gt;David,&lt;/p&gt;

&lt;p&gt;it is not our intention to prevent users from shooting themselves in the foot. We are following the Unix philosophy: Should you choose to do so, we do our best to deliver Mr. Bullet into Mr. Foot as efiiciently, and quickly, as possible.&lt;/p&gt;

&lt;p&gt;Besides, I fail to see any security hazards. It is the Fileupload users decision, where to store uploaded files, and how to name them, not ours.&lt;/p&gt;

&lt;p&gt;Finally, this issue hasn&apos;t been a poblem for a real lots of Fileupload users (you, being the exception). So, again: When weighing &amp;lt;our concerns against the issue of a binary incompatibility, the latter problem clearly is of more concern.&lt;/p&gt;

&lt;p&gt;Sorry,&lt;/p&gt;

&lt;p&gt;Jochen&lt;/p&gt;</comment>
                            <comment id="14625673" author="dblack" created="Tue, 14 Jul 2015 01:39:46 +0000"  >&lt;p&gt;Hi Jochen, I&apos;ll reply in an in-line style to your comment.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Besides, I fail to see any security hazards. It is the Fileupload users decision, where to store uploaded files, and how to name them, not ours.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The issue is that I have seen developers who did not read the javadoc for &lt;tt&gt;FileItem.getName()&lt;/tt&gt; and just assume that it would provide the same behaviour as &lt;tt&gt;File.getName()&lt;/tt&gt; does use &lt;tt&gt;FileItem.getName()&lt;/tt&gt; to construct a path to save an uploaded file. By the way others such as Philippe Arteau also have noted concern about &lt;tt&gt;FileItem.getName()&lt;/tt&gt; in one way or another. For example, Philippe Arteau added a &lt;a href=&quot;https://github.com/h3xstream/find-sec-bugs/blob/master/plugin/src/main/java/com/h3xstream/findsecbugs/FileUploadFilenameDetector.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;findbugs detector&lt;/a&gt; to his find-sec-bugs findbugs plugin for usages of &lt;tt&gt;FileItem.getName()&lt;/tt&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Finally, this issue hasn&apos;t been a poblem for a real lots of Fileupload users (you, being the exception). So, again: When weighing &amp;lt;our concerns against the issue of a binary incompatibility, the latter problem clearly is of more concern.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Okay but do you see my point that there is no &quot;value add&quot; in having &lt;tt&gt;FileItem.getName()&lt;/tt&gt; return anything different than what &lt;tt&gt;File.getName()&lt;/tt&gt; returns?&lt;/p&gt;


</comment>
                            <comment id="16038151" author="chtompki" created="Tue, 6 Jun 2017 04:55:35 +0000"  >&lt;p&gt;Won&apos;t fix.&lt;/p&gt;</comment>
                            <comment id="16038215" author="dblack" created="Tue, 6 Jun 2017 05:36:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chtompki&quot; class=&quot;user-hover&quot; rel=&quot;chtompki&quot;&gt;chtompki&lt;/a&gt; IMHO this issue should still be fixed.&lt;/p&gt;</comment>
                            <comment id="16039083" author="chtompki" created="Tue, 6 Jun 2017 15:30:14 +0000"  >&lt;p&gt;Ok. I&apos;ll put it into the 1.X category and re-open it.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12358528">FILEUPLOAD-122</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12340593">FILEUPLOAD-17</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337414</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1m76n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337737</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-234] Bug in docs: tmp file delete conditions in &quot;Resource Cleanup&quot; section of &quot;using.html&quot;</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-234</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;The guide at &lt;a href=&quot;http://commons.apache.org/proper/commons-fileupload/using.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/proper/commons-fileupload/using.html&lt;/a&gt; incorrectly writes: &quot;Such temporary files are deleted automatically, if they are no longer used (more precisely, if the corresponding instance of java.io.File is garbage collected.&quot;.&lt;/p&gt;

&lt;p&gt;(The following affects maven version: &lt;a href=&quot;http://search.maven.org/#artifactdetails&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://search.maven.org/#artifactdetails&lt;/a&gt;|commons-fileupload|commons-fileupload|1.2.2|jar )&lt;/p&gt;

&lt;p&gt;However, the code for org.apache.commons.io.FileCleaningTracker.Tracker.Tracker(...) passes org.apache.commons.fileupload.disk.DiskFileItemFactory.this specified by org.apache.commons.fileupload.disk.DiskFileItemFactory.createItem(String, String, boolean, String) in tracker.track(result.getTempFile(), this), and not java.io.File. I.e. the &quot;using.html&quot; guide must be corrected.&lt;/p&gt;

&lt;p&gt;The correct (fixed) phrasing is: &lt;/p&gt;

&lt;p&gt;&quot;Such temporary files are deleted automatically, if they are no longer used (more precisely, if the corresponding instance of org.apache.commons.fileupload.disk.DiskFileItemFactory is garbage collected.&quot;.&lt;/p&gt;

&lt;p&gt;(The following affects maven version: &lt;a href=&quot;http://search.maven.org/#artifactdetails&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://search.maven.org/#artifactdetails&lt;/a&gt;|commons-fileupload|commons-fileupload|1.3|jar )&lt;/p&gt;

&lt;p&gt;However, the code for org.apache.commons.io.FileCleaningTracker.Tracker.Tracker(...) passes DiskFileItem.this specified by org.apache.commons.fileupload.disk.DiskFileItemFactory.createItem(String, String, boolean, String) in DiskFileItem result=&lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;; &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;; tracker.track(result.getTempFile(), result), and not java.io.File. I.e. the &quot;using.html&quot; guide must be corrected.&lt;/p&gt;

&lt;p&gt;The correct (fixed) phrasing is: &lt;/p&gt;

&lt;p&gt;&quot;Such temporary files are deleted automatically, if they are no longer used (more precisely, if the corresponding instance of org.apache.commons.fileupload.disk.DiskFileItem is garbage collected.&quot;.&lt;/p&gt;

&lt;p&gt;(The following holds for both versions 1.2.2 and 1.3)&lt;/p&gt;

&lt;p&gt;The correct (fixed) phrasing is: &lt;/p&gt;

&lt;p&gt;&quot;Such temporary files are deleted automatically, if they are no longer used (more precisely, if the corresponding instance of org.apache.commons.fileupload.disk.DiskFileItem (for commons-fileupload v.1.3) and instance of org.apache.commons.fileupload.disk.DiskFileItemFactory (for commons-fileupload v.1.2.2) is garbage collected.&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12652619">FILEUPLOAD-234</key>
            <summary>Bug in docs: tmp file delete conditions in &quot;Resource Cleanup&quot; section of &quot;using.html&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="egphilippov">Evgeniy Philippov</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Jun 2013 11:39:14 +0000</created>
                <updated>Tue, 5 Feb 2019 14:11:44 +0000</updated>
                            <resolved>Tue, 11 Nov 2014 15:06:08 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14206520" author="tn" created="Tue, 11 Nov 2014 15:06:08 +0000"  >&lt;p&gt;Fixed in r1638131.&lt;/p&gt;

&lt;p&gt;Thanks for the report.&lt;/p&gt;</comment>
                            <comment id="14703414" author="jonenst" created="Wed, 19 Aug 2015 17:29:31 +0000"  >&lt;p&gt;The section also has&lt;br/&gt;
&quot;&lt;br/&gt;
Disabling cleanup of temporary files&lt;/p&gt;

&lt;p&gt;To disable tracking of temporary files, you may set the FileCleaningTracker to null. Consequently, created files will no longer be tracked. In particular, they will no longer be deleted automatically.&lt;br/&gt;
&quot;&lt;br/&gt;
But disabling the tracking is not enough to prevent the file associated with DiskFileItem to be deleted because DiskFileItem also has a finalize method which gets called by the garbage collector at some point anyway.&lt;/p&gt;

&lt;p&gt;So I would add in the intro&lt;br/&gt;
&quot;&lt;br/&gt;
This is done silently either by the org.apache.commons.io.FileCleaner class, which starts a reaper thread, or by the finalize() method of DiskFileItem, whichever is called first. Using the reaper thread is optional. To use the reaper thread, see below. Usually, using the reaper thread allows to remove the files earlier and more deterministically than waiting for the garbage collector to call the finalize() method. It is not possible to disable the cleanup of temporary files when DiskFileItem is garbage collected.&lt;br/&gt;
&quot;&lt;br/&gt;
 and remove the &quot;Disabling cleanup of temporary files&quot; section:&lt;/p&gt;

&lt;p&gt;Jon Harper&lt;/p&gt;</comment>
                            <comment id="16760841" author="chtompki" created="Tue, 5 Feb 2019 14:11:44 +0000"  >&lt;p&gt;1.4 Released&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="12924425">FILEUPLOAD-270</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332943</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lfon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333271</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-232] There are no unit tests for the new utils.mime classes</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-232</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;There are no unit tests for the new utils.mime classes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637501">FILEUPLOAD-232</key>
            <summary>There are no unit tests for the new utils.mime classes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="simone.tripodi">Simone Tripodi</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Mar 2013 09:49:48 +0000</created>
                <updated>Mon, 5 Jun 2017 13:59:17 +0000</updated>
                            <resolved>Tue, 19 Mar 2013 13:46:08 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                                                            <comments>
                            <comment id="13604992" author="simone.tripodi" created="Mon, 18 Mar 2013 10:30:45 +0000"  >&lt;p&gt;&lt;tt&gt;org.apache.commons.fileupload.util.mime&lt;/tt&gt; classes had been &lt;em&gt;copied&lt;/em&gt; from &lt;a href=&quot;http://svn.apache.org/repos/asf/geronimo/specs/tags/geronimo-javamail_1.4_spec-1.4/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;geronimo-javamail_1.4_spec-1.4&lt;/a&gt;, you can find available test cases on &lt;a href=&quot;http://svn.apache.org/repos/asf/geronimo/specs/tags/geronimo-javamail_1.4_spec-1.4/src/test/java/javax/mail/internet/MimeUtilityTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/geronimo/specs/tags/geronimo-javamail_1.4_spec-1.4/src/test/java/javax/mail/internet/MimeUtilityTest.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The question is more if copying testcases of an already released library could be helpful - the purpose of copying them is reducing the number of dependencies, like &lt;em&gt;collections&lt;/em&gt; in &lt;em&gt;beanutils&lt;/em&gt; in the past.&lt;/p&gt;</comment>
                            <comment id="13605008" author="sebb@apache.org" created="Mon, 18 Mar 2013 10:57:49 +0000"  >&lt;p&gt;Yes, that may be a useful starting point. &lt;br/&gt;
However there is only one test case - i.e. testEncodeText() - that covers the code in Commons (only the decode parts were copied).&lt;br/&gt;
And that test requires the encoding routines which are not available (unless we add a test dependency).&lt;/p&gt;

&lt;p&gt;Also, the tests do not directly test the package protected classes.&lt;/p&gt;

&lt;p&gt;Nor do they test error conditions, for example non-hex digits following an &apos;=&apos; char in QuotedPrintableDecoder().&lt;br/&gt;
Even lower-case hex does not seem to be handled; maybe it&apos;s not allowed by the spec, but it should either be treated the same as upper case, or cause an error to be thrown. &lt;br/&gt;
As far as I can tell, at present the code will treat invalid chars the same as =00, which seems wrong.&lt;/p&gt;</comment>
                            <comment id="13606348" author="simone.tripodi" created="Tue, 19 Mar 2013 13:46:08 +0000"  >&lt;p&gt;Not the more exhaustive test cases ever, but at least we had the chance to find a couple of corner cases, especially the Base64 codec.&lt;/p&gt;</comment>
                            <comment id="16036987" author="chtompki" created="Mon, 5 Jun 2017 13:59:17 +0000"  >&lt;p&gt;1.3 released.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="12637746">FILEUPLOAD-233</subtask>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317992</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ivb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318333</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-229] toLowerCase() is Locale-dependent; should use toLowerCase(Locale.ENGLISH) instead</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-229</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;toLowerCase() is Locale-dependent - as is toUpperCase().&lt;/p&gt;

&lt;p&gt;For comparisons, can often use equalsIgnoreCase(String) instead.&lt;/p&gt;

&lt;p&gt;If an actual lower/upper case is required, then should use a fixed locale (unless the code is intended to use the default locale, which is quite unusual for Commons)&lt;/p&gt;

&lt;p&gt;A suitable locale is Locale.ENGLISH as that behaves well with ASCII and ISO-8859-1.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12636611">FILEUPLOAD-229</key>
            <summary>toLowerCase() is Locale-dependent; should use toLowerCase(Locale.ENGLISH) instead</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Mar 2013 17:01:21 +0000</created>
                <updated>Tue, 6 Jun 2017 04:24:07 +0000</updated>
                            <resolved>Sat, 16 Mar 2013 18:35:43 +0000</resolved>
                                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13600192" author="sebb@apache.org" created="Tue, 12 Mar 2013 17:03:17 +0000"  >&lt;p&gt;The following classes are currently affected:&lt;br/&gt;
ServletFileUpload (should use equalsIgnoreCase() here)&lt;br/&gt;
FileItemHeadersImpl&lt;br/&gt;
FileUploadBase&lt;br/&gt;
ParameterParser&lt;/p&gt;</comment>
                            <comment id="13600325" author="simone.tripodi" created="Tue, 12 Mar 2013 18:50:31 +0000"  >&lt;p&gt;+1 for &lt;tt&gt;equalsIgnoreCase(String)&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="13601000" author="simone.tripodi" created="Wed, 13 Mar 2013 10:03:54 +0000"  >&lt;p&gt;As discussed dev@, about &lt;tt&gt;ServletFileUpload&lt;/tt&gt;, &lt;em&gt;RFC-2616 5.1.1 Method&lt;/em&gt; states that http methods are case-sensitive:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;    The Method  token indicates the method to be performed on the&lt;br/&gt;
    resource identified by the Request-URI. The method is case-sensitive.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;        Method         = &quot;OPTIONS&quot;                ; Section 9.2
                       | &quot;GET&quot;                    ; Section 9.3
                       | &quot;HEAD&quot;                   ; Section 9.4
                       | &quot;POST&quot;                   ; Section 9.5
                       | &quot;PUT&quot;                    ; Section 9.6
                       | &quot;DELETE&quot;                 ; Section 9.7
                       | &quot;TRACE&quot;                  ; Section 9.8
                       | &quot;CONNECT&quot;                ; Section 9.9
                       | extension-method
        extension-method = token
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;

&lt;p&gt;So there is no need for &lt;tt&gt;equalsIgnoreCase&lt;/tt&gt; or &lt;tt&gt;toLowerCase&lt;/tt&gt; at all and &lt;tt&gt;&quot;POST&quot;.equals(...)&lt;/tt&gt; should just do it.&lt;/p&gt;</comment>
                            <comment id="13601012" author="simone.tripodi" created="Wed, 13 Mar 2013 10:36:19 +0000"  >&lt;p&gt;Resolved in r1455858 and 1455868&lt;/p&gt;</comment>
                            <comment id="13604345" author="sebb@apache.org" created="Sat, 16 Mar 2013 18:33:22 +0000"  >&lt;p&gt;Also updated in r1455949 - restore case-insensitivity to &quot;POST&quot; comparison.&lt;br/&gt;
r1455867 - ParameterParser&lt;/p&gt;</comment>
                            <comment id="13604347" author="sebb@apache.org" created="Sat, 16 Mar 2013 18:34:12 +0000"  >&lt;p&gt;FileItemHeadersImpl and FileUploadBase not yet fixed&lt;/p&gt;</comment>
                            <comment id="13604348" author="sebb@apache.org" created="Sat, 16 Mar 2013 18:35:43 +0000"  >&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/r1457288&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1457288&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-229&quot; title=&quot;toLowerCase() is Locale-dependent; should use toLowerCase(Locale.ENGLISH) instead&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-229&quot;&gt;&lt;del&gt;FILEUPLOAD-229&lt;/del&gt;&lt;/a&gt; - toLowerCase() is Locale-dependent; should use toLowerCase(Locale.ENGLISH) instead&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/fileupload/trunk/src/main/java/org/apache/commons/fileupload/FileUploadBase.java&lt;br/&gt;
    commons/proper/fileupload/trunk/src/main/java/org/apache/commons/fileupload/util/FileItemHeadersImpl.java&lt;/p&gt;</comment>
                            <comment id="16038104" author="chtompki" created="Tue, 6 Jun 2017 04:24:07 +0000"  >&lt;p&gt;1.3 released.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317103</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1iptj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317444</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-228] (Servlet|Portlet)RequestContext#contentLength() must return request.getContentLength() if Content-length header is not available</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-228</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;As per subject, &lt;tt&gt;(Servlet|Portlet)RequestContext#contentLength()&lt;/tt&gt; must return &lt;tt&gt;request.getContentLength()&lt;/tt&gt; if &lt;em&gt;Content-length&lt;/em&gt; header is not available in request; actually it returns &lt;tt&gt;-1&lt;/tt&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12636262">FILEUPLOAD-228</key>
            <summary>(Servlet|Portlet)RequestContext#contentLength() must return request.getContentLength() if Content-length header is not available</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="simone.tripodi">Simone Tripodi</assignee>
                                    <reporter username="simone.tripodi">Simone Tripodi</reporter>
                        <labels>
                    </labels>
                <created>Sun, 10 Mar 2013 19:20:10 +0000</created>
                <updated>Sat, 3 Jun 2017 17:17:02 +0000</updated>
                            <resolved>Sun, 10 Mar 2013 19:25:11 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13598357" author="simone.tripodi" created="Sun, 10 Mar 2013 19:25:11 +0000"  >&lt;p&gt;resolved at r1454899&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>316754</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 34 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1inof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317096</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-214] ServletFileUpload only accepts POST requests</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-214</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;ServletFileUpload is hard coded to only accept POST requests. See implementation of isMultipartContent. Since PUT (and other) requests might also be used to upload files in REST apis, this restriction should be removed. &lt;/p&gt;</description>
                <environment>&lt;p&gt;Spring 3.x&lt;/p&gt;</environment>
        <key id="12634196">FILEUPLOAD-214</key>
            <summary>ServletFileUpload only accepts POST requests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="simone.tripodi">Simone Tripodi</assignee>
                                    <reporter username="mruno">Matthew Runo</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Feb 2013 16:52:10 +0000</created>
                <updated>Tue, 6 Jun 2017 04:56:20 +0000</updated>
                            <resolved>Thu, 7 Mar 2013 08:02:36 +0000</resolved>
                                    <version>1.2.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13588188" author="jochen@apache.org" created="Wed, 27 Feb 2013 10:03:57 +0000"  >&lt;p&gt;Can you quote some specification or other authoritative source? If not, I hesitate to change the sources of a component that is very stable and used by a multitude of Apache and 3rd-party products.&lt;/p&gt;</comment>
                            <comment id="13588526" author="mruno" created="Wed, 27 Feb 2013 17:17:45 +0000"  >&lt;p&gt;According to the HTTP RFC (&lt;a href=&quot;http://www.ietf.org/rfc/rfc2616.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.ietf.org/rfc/rfc2616.txt&lt;/a&gt;), section 9.1.2 &quot;Idempotent Methods&quot; GET, HEAD, PUT, and DELETE are all idempotent. This means that when designing an API, if you want to properly follow the spec, simply uploading a file (with no other effects) should be a PUT, since you can upload the same file over and over with no changes. &lt;/p&gt;

&lt;p&gt;POST implies that if you upload the same file twice, you&apos;ll end up with two different files on the server, or two entires in a database/etc. Both make sense in api design for different use cases, but only one works with commons-fileupload right now. &lt;/p&gt;</comment>
                            <comment id="13595659" author="simone.tripodi" created="Thu, 7 Mar 2013 08:02:36 +0000"  >&lt;p&gt;Duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-197&quot; title=&quot;ServletFileUpload isMultipartContent method does not support HTTP PUT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-197&quot;&gt;&lt;del&gt;FILEUPLOAD-197&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16038157" author="chtompki" created="Tue, 6 Jun 2017 04:56:20 +0000"  >&lt;p&gt;1.3 released.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314689</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1iay7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315033</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-213] MultipartStream deprecated</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-213</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Is there a new low level API for parsing multi part we&apos;re supposed to use instead? I can&apos;t use the recommended approach since we&apos;re not a servlet: &lt;a href=&quot;http://commons.apache.org/fileupload/streaming.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/fileupload/streaming.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</description>
                <environment></environment>
        <key id="12617154">FILEUPLOAD-213</key>
            <summary>MultipartStream deprecated</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="capotej">Julio Capote</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Nov 2012 18:39:23 +0000</created>
                <updated>Fri, 23 Nov 2012 10:19:29 +0000</updated>
                            <resolved>Wed, 21 Nov 2012 20:44:43 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13502313" author="capotej" created="Wed, 21 Nov 2012 21:05:19 +0000"  >&lt;p&gt;Sure it&apos;s not a &quot;problem&quot;, but it is a valid question, a category your JIRA doesn&apos;t have.&lt;/p&gt;</comment>
                            <comment id="13503143" author="jochen@apache.org" created="Fri, 23 Nov 2012 10:19:21 +0000"  >&lt;p&gt;Julio, Jira&apos;s not a support forum, or something like that. Please use the various mailing lists for that stuff.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259355</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 49 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lojz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124628</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-212] Insecure request size checking</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-212</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;In FileUploadBase there is an issue when checking for upload request size, the check is based on presence of Content-Length header in request and FALSE assumption that when present it will represent the actual request size. Using this fact, attacker can supply request with defined Content-Length of 60 and bypass file upload restrictions, which can lead to successful Resource Depletion type attack. &lt;/p&gt;

&lt;p&gt;IMHO by default file upload should return the LimitedInputStream implementation for file upload.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Default configuration default environment.&lt;/p&gt;</environment>
        <key id="12598841">FILEUPLOAD-212</key>
            <summary>Insecure request size checking</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tn">Thomas Neidhart</assignee>
                                    <reporter username="fatfredyy">Damian Kolasa</reporter>
                        <labels>
                            <label>max_upload_size</label>
                            <label>resource_depletion</label>
                            <label>security</label>
                    </labels>
                <created>Sun, 15 Jul 2012 08:55:06 +0000</created>
                <updated>Sat, 3 Jun 2017 17:19:39 +0000</updated>
                            <resolved>Wed, 13 Mar 2013 07:27:33 +0000</resolved>
                                    <version>1.2.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="172800">48h</timeoriginalestimate>
                            <timeestimate seconds="172800">48h</timeestimate>
                                        <comments>
                            <comment id="13593447" author="simone.tripodi" created="Tue, 5 Mar 2013 14:51:56 +0000"  >&lt;p&gt;thanks for reporting, Damian - any chance you submit a patch? TIA!&lt;/p&gt;</comment>
                            <comment id="13598192" author="tn" created="Sun, 10 Mar 2013 08:42:16 +0000"  >&lt;p&gt;The attached patch adds some more unit tests with a Content-Length header provided in the request.&lt;/p&gt;

&lt;p&gt;The tests also show that the described problem does not exist, as always a LimitedInputStream is used, regardless if the Content-Length is provided or not.&lt;/p&gt;

&lt;p&gt;So I would mark this as invalid.&lt;/p&gt;</comment>
                            <comment id="13598371" author="simone.tripodi" created="Sun, 10 Mar 2013 20:15:03 +0000"  >&lt;p&gt;I applied locally &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tn&quot; class=&quot;user-hover&quot; rel=&quot;tn&quot;&gt;tn&lt;/a&gt;&apos;s patch and it demonstrates this is not an issue&lt;/p&gt;</comment>
                            <comment id="13598395" author="fatfredyy" created="Sun, 10 Mar 2013 21:41:13 +0000"  >&lt;p&gt;The issue is with global size limit not file size limit. FileUploadBase.java:917. And MockHttpServletRequest cannot create attacking scenario for testing because it gets Content-Length from passed string size, not &quot;Global&quot; request header. &lt;/p&gt;</comment>
                            <comment id="13598400" author="tn" created="Sun, 10 Mar 2013 21:48:18 +0000"  >&lt;p&gt;Indeed you are right, using the Streaming API this can happen.&lt;br/&gt;
When looking at the issue, I did not see the second occurrence of the size check.&lt;/p&gt;</comment>
                            <comment id="13598406" author="tn" created="Sun, 10 Mar 2013 21:52:41 +0000"  >&lt;p&gt;The second patch fixes the problem in the same way as in the FileItemStreamImpl constructor.&lt;/p&gt;

&lt;p&gt;Whatever is provided as content-length, only use it as fail-fast mechanism. Always limit the input stream by the max allowed size.&lt;/p&gt;</comment>
                            <comment id="13598596" author="simone.tripodi" created="Mon, 11 Mar 2013 07:15:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tn&quot; class=&quot;user-hover&quot; rel=&quot;tn&quot;&gt;tn&lt;/a&gt; I think you can checkin directly the modifications, no need for patches. Thanks!&lt;/p&gt;</comment>
                            <comment id="13598618" author="tn" created="Mon, 11 Mar 2013 07:51:45 +0000"  >&lt;p&gt;Ok, the patch needs to be improved a bit to fully support the global size limit.&lt;br/&gt;
Also some tests would be fine, I will work on it this evening.&lt;/p&gt;</comment>
                            <comment id="13598621" author="simone.tripodi" created="Mon, 11 Mar 2013 07:58:58 +0000"  >&lt;p&gt;I started checking in your modifications in order to let &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fatfredyy&quot; class=&quot;user-hover&quot; rel=&quot;fatfredyy&quot;&gt;fatfredyy&lt;/a&gt; playing with it - it is credited to you&lt;/p&gt;</comment>
                            <comment id="13599799" author="tn" created="Tue, 12 Mar 2013 07:38:29 +0000"  >&lt;p&gt;I worked on unit tests (see the attached patch) for the maxSize check and detected in the process that a SizeException could be the cause of these &quot;Stream ended unexpectedly&quot; problems some people have received.&lt;/p&gt;

&lt;p&gt;This is due to the fact that in some internal methods of MultipartStream any IOException is caught and re-thrown as MalformedStreamException. Any of the SizeExceptions is thrown inside a FileUploadIOException (derived from IOException), to conform to the InputStream interface, which is good, but we need to handle them separately and propagate the correct exception to the user.&lt;/p&gt;

&lt;p&gt;The patch also includes this change, please review.&lt;/p&gt;

&lt;p&gt;The maxSize test also changes the MockHttpServletRequest to allow a readLimit: read at maximum the given amount of bytes at a time, to better test the streaming API. Otherwise the full buffer would be filled in one go.&lt;/p&gt;</comment>
                            <comment id="13599826" author="simone.tripodi" created="Tue, 12 Mar 2013 08:30:55 +0000"  >&lt;p&gt;I &lt;b&gt;like&lt;/b&gt; the patch, IMHO it would worth you checkin it in order to let users check if it fixes the &quot;Stream ended unexpectedly&quot; issues.&lt;/p&gt;

&lt;p&gt;TIA!&lt;/p&gt;</comment>
                            <comment id="13600534" author="tn" created="Tue, 12 Mar 2013 22:01:20 +0000"  >&lt;p&gt;Applied with some more comments in r1455729.&lt;/p&gt;</comment>
                            <comment id="13600913" author="simone.tripodi" created="Wed, 13 Mar 2013 07:27:33 +0000"  >&lt;p&gt;resolved by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tn&quot; class=&quot;user-hover&quot; rel=&quot;tn&quot;&gt;tn&lt;/a&gt;&apos;s in r1455729&lt;/p&gt;</comment>
                            <comment id="13602695" author="fatfredyy" created="Thu, 14 Mar 2013 20:40:16 +0000"  >&lt;p&gt;Thank you very much &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Very nice!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12533490">FILEUPLOAD-202</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12572991" name="FILEUPLOAD-212_fix.patch" size="2364" author="tn" created="Sun, 10 Mar 2013 21:52:41 +0000"/>
                            <attachment id="12573280" name="FILEUPLOAD-212_test.patch" size="14451" author="tn" created="Tue, 12 Mar 2013 07:38:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292956</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skcf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164773</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-211] [fileupload] fails with transfer-encoding: chunked when multi-part file section includes chunked data</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-211</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;When performing multi-part file upload using chunked data, if a multi-part section includes separate data chunks it is not correctly parsed and causes FileUpload to throw &quot;MalformedStreamException: Stream ended unexpectedly&quot;&lt;/p&gt;

&lt;p&gt;Having chunked content within a multi-part boundaries is as far as I am aware valid.&lt;/p&gt;

&lt;p&gt;The reason my client has chunked content within file boundaries is that an audio file is uploaded as it is being recorded.&lt;/p&gt;

&lt;p&gt;Example with chunked data within file boundary&lt;/p&gt;

&lt;p&gt;POST /UploadServlet HTTP/1.1&lt;br/&gt;
User-Agent: test&lt;br/&gt;
Host: 192.168.1.2:9080&lt;br/&gt;
Connection: keep-alive&lt;br/&gt;
Transfer-Encoding: chunked&lt;br/&gt;
Content-Type:multipart/form-data; boundary=----WebKitFormBoundarykhPSttlPFVKSMhff&lt;/p&gt;

&lt;p&gt;99&lt;br/&gt;
------WebKitFormBoundarykhPSttlPFVKSMhff&lt;br/&gt;
Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;testfaces.wav&quot;&lt;br/&gt;
Content-Type: application/octet-stream&lt;/p&gt;

&lt;p&gt;5&lt;br/&gt;
AAAAA&lt;br/&gt;
5&lt;br/&gt;
AAAAA&lt;br/&gt;
5&lt;br/&gt;
AAAAA&lt;br/&gt;
5&lt;br/&gt;
AAAAA&lt;br/&gt;
2a&lt;br/&gt;
-----&lt;del&gt;WebKitFormBoundarykhPSttlPFVKSMhff&lt;/del&gt;-&lt;br/&gt;
0&lt;/p&gt;


&lt;p&gt;Exception&lt;/p&gt;


&lt;p&gt;org.apache.commons.fileupload.MultipartStream$MalformedStreamException: Stream ended unexpectedly&lt;br/&gt;
	at org.apache.commons.fileupload.MultipartStream.readHeaders(MultipartStream.java:538)&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase$FileItemIteratorImpl.findNextItem(FileUploadBase.java:999)&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase$FileItemIteratorImpl.&amp;lt;init&amp;gt;(FileUploadBase.java:965)&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase.getItemIterator(FileUploadBase.java:331)&lt;br/&gt;
	at org.apache.commons.fileupload.servlet.ServletFileUpload.getItemIterator(ServletFileUpload.java:148)&lt;br/&gt;
	at com.ibm.cio.StreamedUploadServlet.doPost(StreamedUploadServlet.java:75)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Tomcat 7, java 1.6, osx&lt;/p&gt;</environment>
        <key id="12598005">FILEUPLOAD-211</key>
            <summary>[fileupload] fails with transfer-encoding: chunked when multi-part file section includes chunked data</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="robsmart">Rob Smart</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Jul 2012 09:50:13 +0000</created>
                <updated>Wed, 26 May 2021 16:23:54 +0000</updated>
                                            <version>1.2.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17351917" author="arturobernalg" created="Wed, 26 May 2021 16:23:54 +0000"  >&lt;p&gt;HI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=robsmart&quot; class=&quot;user-hover&quot; rel=&quot;robsmart&quot;&gt;robsmart&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Would you be able to provide a unit test?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Arturo&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292957</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skcn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164774</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-206] Encoding of parts incorrectly determined and assumed to be</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-206</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;When submitting user input form fields with a form having enctype=&quot;multipart/form-data&quot;, FileUpload assumes &quot;ISO-8...-1&quot; to be the default encoding for each part, not taking into account that request.getContentEncoding() returns &quot;UTF-8&quot;.&lt;/p&gt;

&lt;p&gt;The description of &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-101&quot; title=&quot;[FileUpload] does not take &amp;#39;charset&amp;#39; parameter of the &amp;#39;Content-Type&amp;#39; header into consideration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-101&quot;&gt;&lt;del&gt;FILEUPLOAD-101&lt;/del&gt;&lt;/a&gt; states: &quot;Each individual part in the &apos;multipart/form-data&apos; encoded requests may have its own content type definition.&quot;&lt;/p&gt;

&lt;p&gt;In my opinion, this assumption is wrong, as the the multipart/form-data encoding algorithm tells the right opposite regarding non file form fields:&lt;/p&gt;

&lt;p&gt;&quot;... The parts of the generated multipart/form-data resource that correspond to non-file fields must not have a Content-Type header specified. Their names and values must be encoded using the character encoding selected above (field names in particular do not get converted to a 7-bit safe encoding as suggested in RFC 2388)...&quot;&lt;/p&gt;

&lt;p&gt;See: &lt;a href=&quot;http://www.whatwg.org/specs/web-apps/current-work/multipage/association-of-controls-and-forms.html#multipart-form-data&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.whatwg.org/specs/web-apps/current-work/multipage/association-of-controls-and-forms.html#multipart-form-data&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;So for now as user of FileUpload, i don&apos;t see a way to tell FileUpload that my FormFields are UTF-8 encoded, resulting in corrupted user input.&lt;br/&gt;
Even request.setContentEncoding(&quot;UTF-8&quot;); does not help, neither &amp;lt;form ... accept-charset=&quot;UTF-8&quot; ...&amp;gt; does.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12559148">FILEUPLOAD-206</key>
            <summary>Encoding of parts incorrectly determined and assumed to be</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="holger.sunke@bodo-peters.de">Holger Sunke</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Jun 2012 09:18:44 +0000</created>
                <updated>Thu, 29 Jun 2023 09:47:16 +0000</updated>
                                            <version>1.2.2</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17738457" author="vladimirsitnikov" created="Thu, 29 Jun 2023 09:46:31 +0000"  >&lt;p&gt;+1.&lt;br/&gt;
The fix would be to use UTF-8 in &lt;a href=&quot;https://github.com/apache/commons-fileupload/blob/c4f32a13298f6b9561c136b61b23c9e2c6d82368/src/main/java/org/apache/commons/fileupload/MultipartStream.java#L592&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-fileupload/blob/c4f32a13298f6b9561c136b61b23c9e2c6d82368/src/main/java/org/apache/commons/fileupload/MultipartStream.java#L592&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17738458" author="vladimirsitnikov" created="Thu, 29 Jun 2023 09:47:16 +0000"  >&lt;p&gt;The issue is relevant for commons-fileupload2 as well: &lt;a href=&quot;https://github.com/apache/commons-fileupload/blob/5dfa5adf782f0cd15dcafc41bf24b95fd08f9bd0/commons-fileupload2-core/src/main/java/org/apache/commons/fileupload2/core/MultipartInput.java#L900C76-L900C90&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-fileupload/blob/5dfa5adf782f0cd15dcafc41bf24b95fd08f9bd0/commons-fileupload2-core/src/main/java/org/apache/commons/fileupload2/core/MultipartInput.java#L900C76-L900C90&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292962</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 16 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skdr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164779</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-205] FileCleaningTracker Reaper thread not ended</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-205</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;When using a new FileCleaningTracker and calling exitWhenFinished upon WebApp context deinitialization the thread is not shutdown. This can be easily reproduced by using Tomcat&apos;s &quot;Find leaks&quot; funcitonality.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Tomcat 6, JDK 1.6.0_21&lt;/p&gt;</environment>
        <key id="12544922">FILEUPLOAD-205</key>
            <summary>FileCleaningTracker Reaper thread not ended</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="phax">Philip Helger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Mar 2012 11:38:00 +0000</created>
                <updated>Mon, 11 Mar 2013 14:06:07 +0000</updated>
                                            <version>1.2.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13222382" author="jochen@apache.org" created="Mon, 5 Mar 2012 14:53:50 +0000"  >&lt;p&gt;Are you sure that Tomcat invokes the &quot;deinitialization&quot; routine? How can you be sure? If so, that could be a problem within Commons FU or IO. Otherwise, the problem mudt be searched within Tomcat itself or your configuration of the Webapp.&lt;/p&gt;</comment>
                            <comment id="13274410" author="jagub.zhang@gmail.com" created="Mon, 14 May 2012 02:17:28 +0000"  >&lt;p&gt;FileCleaningTracker.Reaper thread is a daemon thread, it will be ended automatic.&#12288;&lt;/p&gt;</comment>
                            <comment id="13274449" author="phax" created="Mon, 14 May 2012 04:56:13 +0000"  >&lt;p&gt;But daemon threads are only ended, when the JVM exits. In case of re-loading a web application, the JVM is never stopped.&lt;/p&gt;</comment>
                            <comment id="13275137" author="jagub.zhang@gmail.com" created="Tue, 15 May 2012 02:20:40 +0000"  >&lt;p&gt;Which Commons IO version did you use?&lt;br/&gt;
Commons-IO 1.4 surely can not shutdown Reaper thread in some case.&lt;br/&gt;
but above Common-IO 2.0 the Reaper thread source had been rewrited,&lt;br/&gt;
I think it will be fixed &lt;/p&gt;</comment>
                            <comment id="13275189" author="phax" created="Tue, 15 May 2012 05:32:04 +0000"  >&lt;p&gt;It was the case with commons-io 2.x&lt;/p&gt;</comment>
                            <comment id="13598205" author="tn" created="Sun, 10 Mar 2013 10:59:15 +0000"  >&lt;p&gt;This is maybe related to this question at stackoverflow:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://stackoverflow.com/questions/12301934/org-apache-commons-io-filecleaningtracker-does-not-delete-temp-files-unless-expl&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/questions/12301934/org-apache-commons-io-filecleaningtracker-does-not-delete-temp-files-unless-expl&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It looks like in some environment, the DiskFileItem references are not gc&apos;ed and thus the FileCleaningTracker has still trackers attached, thus the Reaper thread will not end after a call to exitWhenFinished (he is not finished yet). &lt;/p&gt;</comment>
                            <comment id="13598206" author="tn" created="Sun, 10 Mar 2013 11:04:37 +0000"  >&lt;p&gt;I think it would make sense to add a &quot;forceExit&quot; or &quot;forceCleanup&quot; method to the FileCleaningTracker, which processes all remaining trackers and terminates the reaper. This method should be called in the FileCleanerCleanup.contextDestroyed method to make sure we really cleanup everything and do not have to rely on the objects being gc&apos;ed properly when the context is destroyed.&lt;/p&gt;</comment>
                            <comment id="13598812" author="simone.tripodi" created="Mon, 11 Mar 2013 13:37:19 +0000"  >&lt;p&gt;I like &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tn&quot; class=&quot;user-hover&quot; rel=&quot;tn&quot;&gt;tn&lt;/a&gt;&apos;s proposed solution, but that depends by commons-io discussions, code modification and release, I&apos;d schedule that feature for a long-therm FileUpload release...&lt;/p&gt;</comment>
                            <comment id="13598834" author="simone.tripodi" created="Mon, 11 Mar 2013 14:06:07 +0000"  >&lt;p&gt;Users that want to try commons-io SNAPSHOT development in their application, could use &lt;tt&gt;DiskFileItemFactory#getFileCleaningTracker()&lt;/tt&gt; and try to force the cleanup manually as soon as their context is destroyed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>230108</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 34 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skdz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164780</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-204] FileItem.getHeaders() returns always null.</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-204</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;FileUploadBase.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;1016:              currentItem = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileItemStreamImpl(fileName,
1017:                      fieldName, headers.getHeader(CONTENT_TYPE),
1018:                      fileName == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, getContentLength(headers));
                   currentItem.setHeaders(headers); &lt;span class=&quot;code-comment&quot;&gt;// To fix &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; bug.
&lt;/span&gt;1019:              notifier.noteItem();

1026:              currentItem = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileItemStreamImpl(fileName,
1027:                      currentFieldName,
1028:                      headers.getHeader(CONTENT_TYPE),
1029:                      &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, getContentLength(headers));
                   currentItem.setHeaders(headers); &lt;span class=&quot;code-comment&quot;&gt;// Here too.
&lt;/span&gt;1030:              notifier.noteItem();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;FileItem.getHeaders() returns always null.&lt;/p&gt;

&lt;p&gt;See below description.&lt;/p&gt;</environment>
        <key id="12541784">FILEUPLOAD-204</key>
            <summary>FileItem.getHeaders() returns always null.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="evanescent">Hakju Oh</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Feb 2012 11:01:27 +0000</created>
                <updated>Mon, 5 Jun 2017 14:52:12 +0000</updated>
                            <resolved>Thu, 7 Mar 2013 08:45:43 +0000</resolved>
                                    <version>1.2.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13209302" author="jochen@apache.org" created="Thu, 16 Feb 2012 12:13:07 +0000"  >&lt;p&gt;Sure this problem still exists? I believe it should have fixed with revision 1082083.&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;http://svn.apache.org/viewvc/commons/proper/fileupload/trunk/src/java/org/apache/commons/fileupload/FileUploadBase.java?r1=1082083&amp;amp;r2=1082082&amp;amp;pathrev=1082083&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/commons/proper/fileupload/trunk/src/java/org/apache/commons/fileupload/FileUploadBase.java?r1=1082083&amp;amp;r2=1082082&amp;amp;pathrev=1082083&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13209915" author="evanescent" created="Fri, 17 Feb 2012 00:24:02 +0000"  >
&lt;p&gt;I downloaded fileupload 1.2.2.zip again but It still have a problem.&lt;/p&gt;

&lt;p&gt;The source you sent to me compared with FileUploadBase.java in v.1.2.2.zip ,&lt;/p&gt;

&lt;p&gt;The line I mentioned before is missing.&lt;/p&gt;

&lt;p&gt;please check again? &lt;/p&gt;</comment>
                            <comment id="13595686" author="simone.tripodi" created="Thu, 7 Mar 2013 08:45:43 +0000"  >&lt;p&gt;This is already fixed in trunk, download will be available as soon as 1.3 will be released&lt;/p&gt;</comment>
                            <comment id="16037057" author="chtompki" created="Mon, 5 Jun 2017 14:52:12 +0000"  >&lt;p&gt;1.3 released.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>227071</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ske7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164781</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-203] Processing of multipart/form-data request failed. Async operation timed out</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-203</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;We are seeing the below exception when we do the load testing with our application. Please let us know any reason why this exception is appeared and also please let us know for any fixes needed to avoid this?&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;12-05-11-10:05:05&amp;#93;&lt;/span&gt; 495837912 &lt;span class=&quot;error&quot;&gt;&amp;#91;WebContainer : 6&amp;#93;&lt;/span&gt; ERROR com.ibm.dolphin.webengine.lifecycle.plugins.ServletManagerPlugin - servlet exception root cause: &lt;br/&gt;
org.apache.commons.fileupload.FileUploadException: Processing of multipart/form-data request failed. Async operation timed out&lt;br/&gt;
at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:384)&lt;br/&gt;
at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:268)&lt;br/&gt;
at org.apache.struts.upload.CommonsMultipartRequestHandler.handleRequest(CommonsMultipartRequestHandler.java:182)&lt;br/&gt;
at org.apache.struts.util.RequestUtils.populate(RequestUtils.java:389)&lt;br/&gt;
at org.apache.struts.action.RequestProcessor.processPopulate(RequestProcessor.java:794)&lt;br/&gt;
at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:191)&lt;br/&gt;
at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1858)&lt;br/&gt;
at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:459)&lt;br/&gt;
at javax.servlet.http.HttpServlet.service(HttpServlet.java:711)&lt;br/&gt;
at javax.servlet.http.HttpServlet.service(HttpServlet.java:831)&lt;br/&gt;
at com.ibm.dolphin.webengine.lifecycle.plugins.ServletManagerPlugin.handleRequest(ServletManagerPlugin.java:117)&lt;br/&gt;
at com.ibm.dolphin.webengine.lifecycle.LifecycleManager.processLifecycleRequest(LifecycleManager.java:225)&lt;br/&gt;
at com.ibm.dolphin.webengine.servlet.DRLProxyServlet.service(DRLProxyServlet.java:90)&lt;br/&gt;
at com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1657)&lt;br/&gt;
at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:939)&lt;br/&gt;
at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:502)&lt;br/&gt;
at com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.handleRequest(ServletWrapperImpl.java:179)&lt;br/&gt;
at com.ibm.ws.webcontainer.servlet.CacheServletWrapper.handleRequest(CacheServletWrapper.java:91)&lt;br/&gt;
at com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:864)&lt;br/&gt;
at com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContainer.java:1583)&lt;br/&gt;
at com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:186)&lt;br/&gt;
at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:452)&lt;br/&gt;
at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewRequest(HttpInboundLink.java:511)&lt;br/&gt;
at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.processRequest(HttpInboundLink.java:305)&lt;br/&gt;
at com.ibm.ws.http.channel.inbound.impl.HttpICLReadCallback.complete(HttpICLReadCallback.java:83)&lt;br/&gt;
at com.ibm.ws.ssl.channel.impl.SSLReadServiceContext$SSLReadCompletedCallback.complete(SSLReadServiceContext.java:1784)&lt;br/&gt;
at com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:165)&lt;br/&gt;
at com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)&lt;br/&gt;
at com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)&lt;br/&gt;
at com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)&lt;br/&gt;
at com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)&lt;br/&gt;
at com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)&lt;br/&gt;
at com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)&lt;br/&gt;
at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1604)&lt;/p&gt;</description>
                <environment>&lt;p&gt;AIX&lt;/p&gt;</environment>
        <key id="12534034">FILEUPLOAD-203</key>
            <summary>Processing of multipart/form-data request failed. Async operation timed out</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="simone.tripodi">Simone Tripodi</assignee>
                                    <reporter username="sgkishore">Gopi K Swamy</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 Dec 2011 14:37:47 +0000</created>
                <updated>Tue, 6 Jun 2017 04:29:00 +0000</updated>
                            <resolved>Fri, 15 Mar 2013 15:23:26 +0000</resolved>
                                    <version>1.2.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13598202" author="tn" created="Sun, 10 Mar 2013 10:38:58 +0000"  >&lt;p&gt;This is most likely related to your webcontainer (Websphere in this case).&lt;br/&gt;
The error happens when the input stream is processed and it takes longer than the default timeout of 300s. Please check your settings.&lt;/p&gt;</comment>
                            <comment id="13603452" author="simone.tripodi" created="Fri, 15 Mar 2013 15:23:26 +0000"  >&lt;p&gt;There&apos;s no way to reproduce that issue, marking it as &lt;em&gt;Cannot Reproduce&lt;/em&gt;, feel free to reopen it as soon as you can submit a testcase which demonstrates the issue.&lt;br/&gt;
TIA!&lt;/p&gt;</comment>
                            <comment id="16038115" author="chtompki" created="Tue, 6 Jun 2017 04:29:00 +0000"  >&lt;p&gt;can&apos;t reproduce.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>219760</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164782</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-202] org.apache.commons.fileupload.FileUploadBase$IOFileUploadException: Processing of multipart/form-data request failed. Stream ended unexpectedly</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-202</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I used this one to write the servlet&lt;br/&gt;
&lt;a href=&quot;http://www.servletworld.com/servlet-tutorials/servlet-file-upload-example.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.servletworld.com/servlet-tutorials/servlet-file-upload-example.html&lt;/a&gt;&lt;br/&gt;
I can successfully upload the file through localhost, however, when I use Jmeter to test the app server using 300 threads, it&lt;br/&gt;
will report this error:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10:40:23.577&amp;#93;&lt;/span&gt; &lt;/p&gt;
{http--8080-244$1283730842} WebApp&lt;a href=&quot;http://localhost:8080/OrderFile&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/OrderFile&lt;/a&gt; CommonsFileUploadServlet: Error encountered while parsing the request&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10:40:23.577&amp;#93;&lt;/span&gt; {http--8080-244$1283730842}
&lt;p&gt; org.apache.commons.fileupload.FileUploadBase$IOFileUploadException: Processing of multipart/form-data request failed. Stream ended unexpectedly&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10:40:23.577&amp;#93;&lt;/span&gt; &lt;/p&gt;
{http--8080-244$1283730842} 	at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:371)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10:40:23.577&amp;#93;&lt;/span&gt; {http--8080-244$1283730842}
&lt;p&gt; 	at org.apache.commons.fileupload.servlet.ServletFileUpload.parseRequest(ServletFileUpload.java:126)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10:40:23.577&amp;#93;&lt;/span&gt; &lt;/p&gt;
{http--8080-244$1283730842} 	at CommonsFileUploadServlet.doPost(CommonsFileUploadServlet.java:66)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10:40:23.577&amp;#93;&lt;/span&gt; {http--8080-244$1283730842}
&lt;p&gt; 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:153)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10:40:23.577&amp;#93;&lt;/span&gt; &lt;/p&gt;
{http--8080-244$1283730842} 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:91)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10:40:23.577&amp;#93;&lt;/span&gt; {http--8080-244$1283730842}
&lt;p&gt; 	at com.caucho.server.dispatch.ServletFilterChain.doFilter(ServletFilterChain.java:103)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10:40:23.577&amp;#93;&lt;/span&gt; &lt;/p&gt;
{http--8080-244$1283730842} 	at com.caucho.server.webapp.WebAppFilterChain.doFilter(WebAppFilterChain.java:187)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10:40:23.577&amp;#93;&lt;/span&gt; {http--8080-244$1283730842}
&lt;p&gt; 	at com.caucho.server.dispatch.ServletInvocation.service(ServletInvocation.java:265)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10:40:23.577&amp;#93;&lt;/span&gt; &lt;/p&gt;
{http--8080-244$1283730842} 	at com.caucho.server.http.HttpRequest.handleRequest(HttpRequest.java:273)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10:40:23.577&amp;#93;&lt;/span&gt; {http--8080-244$1283730842}
&lt;p&gt; 	at com.caucho.server.port.TcpConnection.run(TcpConnection.java:682)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10:40:23.577&amp;#93;&lt;/span&gt; &lt;/p&gt;
{http--8080-244$1283730842} 	at com.caucho.util.ThreadPool$Item.runTasks(ThreadPool.java:743)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10:40:23.577&amp;#93;&lt;/span&gt; {http--8080-244$1283730842}
&lt;p&gt; 	at com.caucho.util.ThreadPool$Item.run(ThreadPool.java:662)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10:40:23.577&amp;#93;&lt;/span&gt; &lt;/p&gt;
{http--8080-244$1283730842} 	at java.lang.Thread.run(Thread.java:619)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10:40:23.577&amp;#93;&lt;/span&gt; {http--8080-244$1283730842}
&lt;p&gt; Caused by: org.apache.commons.fileupload.MultipartStream$MalformedStreamException: Stream ended unexpectedly&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10:40:23.577&amp;#93;&lt;/span&gt; &lt;/p&gt;
{http--8080-244$1283730842} 	at org.apache.commons.fileupload.MultipartStream$ItemInputStream.makeAvailable(MultipartStream.java:982)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10:40:23.577&amp;#93;&lt;/span&gt; {http--8080-244$1283730842}
&lt;p&gt; 	at org.apache.commons.fileupload.MultipartStream$ItemInputStream.read(MultipartStream.java:886)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10:40:23.577&amp;#93;&lt;/span&gt; &lt;/p&gt;
{http--8080-244$1283730842} 	at java.io.FilterInputStream.read(FilterInputStream.java:116)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10:40:23.577&amp;#93;&lt;/span&gt; {http--8080-244$1283730842}
&lt;p&gt; 	at org.apache.commons.fileupload.util.LimitedInputStream.read(LimitedInputStream.java:125)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10:40:23.577&amp;#93;&lt;/span&gt; &lt;/p&gt;
{http--8080-244$1283730842} 	at java.io.FilterInputStream.read(FilterInputStream.java:90)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10:40:23.577&amp;#93;&lt;/span&gt; {http--8080-244$1283730842}
&lt;p&gt; 	at org.apache.commons.fileupload.util.Streams.copy(Streams.java:96)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10:40:23.577&amp;#93;&lt;/span&gt; &lt;/p&gt;
{http--8080-244$1283730842} 	at org.apache.commons.fileupload.util.Streams.copy(Streams.java:66)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10:40:23.577&amp;#93;&lt;/span&gt; {http--8080-244$1283730842}
&lt;p&gt; 	at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:366)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10:40:23.577&amp;#93;&lt;/span&gt; &lt;/p&gt;
{http--8080-244$1283730842}
&lt;p&gt; 	... 12 more&lt;/p&gt;

&lt;p&gt;Is it because of the size limit? the uploaded file size is 8KB.&lt;br/&gt;
Thanks!&lt;/p&gt;</description>
                <environment></environment>
        <key id="12533490">FILEUPLOAD-202</key>
            <summary>org.apache.commons.fileupload.FileUploadBase$IOFileUploadException: Processing of multipart/form-data request failed. Stream ended unexpectedly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tn">Thomas Neidhart</assignee>
                                    <reporter username="kakaxifly">tina</reporter>
                        <labels>
                            <label>fileupload</label>
                    </labels>
                <created>Thu, 1 Dec 2011 19:11:27 +0000</created>
                <updated>Tue, 6 Jun 2017 04:31:58 +0000</updated>
                            <resolved>Wed, 20 Mar 2013 08:04:30 +0000</resolved>
                                    <version>1.2.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="13161442" author="maurizio.cucchiara" created="Fri, 2 Dec 2011 05:58:21 +0000"  >&lt;p&gt;In order to exclude a thread-safety issue, did you try to run the jmeter test with just one thread?&lt;/p&gt;</comment>
                            <comment id="13161452" author="kakaxifly" created="Fri, 2 Dec 2011 06:46:16 +0000"  >&lt;p&gt;Yes. I did. only one thread works ok. If I set the threads count to 250, it works ok. But if I set count to 300,it will report that error. &lt;/p&gt;</comment>
                            <comment id="13161467" author="maurizio.cucchiara" created="Fri, 2 Dec 2011 07:23:53 +0000"  >&lt;p&gt;It could be interesting to know what application server you are using (Tomcat, JBoss, etc.)&lt;/p&gt;</comment>
                            <comment id="13161471" author="kakaxifly" created="Fri, 2 Dec 2011 07:58:31 +0000"  >&lt;p&gt;Now I am testing the scalability of resin and jetty. Both of them have the same issue.&lt;/p&gt;</comment>
                            <comment id="13161535" author="maurizio.cucchiara" created="Fri, 2 Dec 2011 10:33:35 +0000"  >&lt;p&gt;I could be wrong, but the numbers you provided make me guess that It could be a thread saturation, you should try to increase maxThreads on your web container&lt;/p&gt;</comment>
                            <comment id="13161777" author="kakaxifly" created="Fri, 2 Dec 2011 18:29:27 +0000"  >&lt;p&gt;It seems the maxThread in resin configuration doesn&apos;t work. Because I set it to 256, but when I run 350 thread, it can still run correctly. Before I thought it is because the first threads finish quickly, another threads reuse them.But I set the view result in table in Jmeter, and saw each request sent almost the same time, and the sample time plus the start time is after other sample&apos;s start time. I thought resin should stop processing the request when the number of threads exceeds the configured maxThread. Do you know the reason why it still can run correctly? &lt;/p&gt;</comment>
                            <comment id="13238919" author="bokken" created="Mon, 26 Mar 2012 22:33:27 +0000"  >&lt;p&gt;Many connectors have the ability to have a backlog of connections. This is in the &lt;a href=&quot;http://docs.oracle.com/javase/6/docs/api/java/net/ServerSocket.html#ServerSocket(int,%20int)&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ServerSocket constructor&lt;/a&gt; in java and the &lt;a href=&quot;http://httpd.apache.org/docs/2.2/mod/mpm_common.html#listenbacklog&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ListenBacklog&lt;/a&gt; directive in the apache httpd server.&lt;br/&gt;
I would not be surprised if the 350 concurrent requests simply caused 94 requests to go into backlog until threads freed up.&lt;/p&gt;</comment>
                            <comment id="13599802" author="tn" created="Tue, 12 Mar 2013 07:41:22 +0000"  >&lt;p&gt;Hi Tina,&lt;/p&gt;

&lt;p&gt;while doing tests for another issue we found out that it can happen that SizeExceptions due to given limits are not propagated correctly to the user. So in your case it is very likely that actually the uploaded request exceeded the fileSize or sizeMax limit.&lt;/p&gt;

&lt;p&gt;Could you test again without such a setting and see if the problem remains?&lt;br/&gt;
Issue &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-212&quot; title=&quot;Insecure request size checking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-212&quot;&gt;&lt;del&gt;FILEUPLOAD-212&lt;/del&gt;&lt;/a&gt; should fix this problem and propagate the correct Exception.&lt;/p&gt;</comment>
                            <comment id="13607380" author="simone.tripodi" created="Wed, 20 Mar 2013 08:04:30 +0000"  >&lt;p&gt;issued marked as resolved by resolving &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-212&quot; title=&quot;Insecure request size checking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-212&quot;&gt;&lt;del&gt;FILEUPLOAD-212&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13966324" author="anilsk89" created="Fri, 11 Apr 2014 08:22:16 +0000"  >&lt;p&gt;Even I also facing the same exception while uploading a file in my project. And as commented above about maxSize, I have not maintained any maxSize for file. How to resolve this. Please do help me.&lt;/p&gt;</comment>
                            <comment id="16038118" author="chtompki" created="Tue, 6 Jun 2017 04:31:58 +0000"  >&lt;p&gt;1.3 released.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12598841">FILEUPLOAD-212</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>219218</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sken:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164783</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-200] During ServletFileUpload.parseRequest(factory) the servlet appears to read the data from the users file.</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-200</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I have a very basic FileUpload Servlet I am working on.  Using the following code:&lt;br/&gt;
                FileUploadListener listener = new FileUploadListener();&lt;br/&gt;
                context.log(&quot;DEBUG: Created listener&quot;);&lt;br/&gt;
                FileItemFactory factory = new DiskFileItemFactory();&lt;br/&gt;
                context.log(&quot;DEBUG: Created Disk Factory&quot;);&lt;br/&gt;
                ServletFileUpload uploader = new ServletFileUpload(factory);&lt;br/&gt;
                context.log(&quot;DEBUG: Created ServletFileUpload(factory)&quot;);&lt;/p&gt;

&lt;p&gt;                request.getSession().setAttribute(&quot;ProgressListener&quot;,listener);&lt;br/&gt;
                context.log(&quot;DEBUG: Listner added to Session&quot;);&lt;/p&gt;

&lt;p&gt;                List&amp;lt;FileItem&amp;gt; items = uploader.parseRequest(request);&lt;br/&gt;
// GETS HERE ONLY AFTER WAITING FOR THE WHOLE FILE&lt;br/&gt;
                context.log(&quot;DEBUG: parsedRequest for FileItems&quot;);&lt;br/&gt;
                for (FileItem element : items) {&lt;br/&gt;
                    if (!element.isFormField()) {&lt;br/&gt;
                        context.log(&quot;DEBUG:&quot; + element.getName());&lt;br/&gt;
                        File fqfn = new File(f+&quot;/&quot;+element.getName());&lt;br/&gt;
                &amp;lt;snip&amp;gt;&lt;/p&gt;

&lt;p&gt;I try to upload a file (1G) the servlet appears to &quot;upload&quot; the file during the parseRequest() call.  This appears to be not valid, as the List&amp;lt;FileItem&amp;gt; is pointless when trying to use the Listener to tell how much has been uploaded.  The user has already had to wait for the parseRequest() to complete, and by then the listener says 0 bytes of Unknown Size.  &lt;/p&gt;

&lt;p&gt;The file will write in the List&amp;lt;FileItem&amp;gt; loop.  The reason I think this is a bug, is that I was expecting the parseRequest() to not &quot;upload&quot; the file but rather to return a list of the formfields as FileItems, and then during the FileItem loop and the subsequent write() call, the data would actually be written and therefore the Listener would function.  Perhaps, I do not understand what the API is saying, or am missing some critical point.  However, all the examples I see online from the Fileupload Site on ASF have the exact same behavior.&lt;/p&gt;

&lt;p&gt;Thanks for your time and work.&lt;/p&gt;

&lt;p&gt;Thomas&lt;/p&gt;</description>
                <environment>&lt;p&gt;CentOS 5/Tomcat 7/JDK 1.7 (No Struts, etc...)&lt;/p&gt;</environment>
        <key id="12524496">FILEUPLOAD-200</key>
            <summary>During ServletFileUpload.parseRequest(factory) the servlet appears to read the data from the users file.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="polliard">Thomas Polliard</reporter>
                        <labels>
                    </labels>
                <created>Sat, 24 Sep 2011 01:08:36 +0000</created>
                <updated>Mon, 5 Jun 2017 14:39:19 +0000</updated>
                            <resolved>Tue, 27 Sep 2011 22:52:54 +0000</resolved>
                                    <version>1.2.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13115988" author="polliard" created="Tue, 27 Sep 2011 22:52:54 +0000"  >&lt;p&gt;The issue was that sessions were not being passed between the ajp_proxy(http) and the tomcat server.  Once I resolved that issue, the system worked as expected.&lt;/p&gt;</comment>
                            <comment id="16037048" author="chtompki" created="Mon, 5 Jun 2017 14:39:19 +0000"  >&lt;p&gt;not a problem&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34243</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164785</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-199] Uploads have unexpected results for files with non-ASCII names - support RFC2047</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-199</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Uploading a file with a UTF-8 file name results in a garbled file name on the server. Both the browser and Commons File Upload are at fault in this process.&lt;/p&gt;

&lt;p&gt;The headers for each uploaded part should only use ASCII. Non-ASCII header values - such as UTF-8 file names - should be encoded as per RFC2047. The browsers are at fault for not encoding the headers correctly. Commons File Upload is at fault for not handling RFC2047 encoded header values.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12514893">FILEUPLOAD-199</key>
            <summary>Uploads have unexpected results for files with non-ASCII names - support RFC2047</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="simone.tripodi">Simone Tripodi</assignee>
                                    <reporter username="markt">Mark Thomas</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Jul 2011 11:49:35 +0000</created>
                <updated>Tue, 6 Jun 2017 04:23:19 +0000</updated>
                            <resolved>Tue, 12 Mar 2013 10:02:46 +0000</resolved>
                                    <version>1.2.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13598212" author="tn" created="Sun, 10 Mar 2013 11:16:07 +0000"  >&lt;p&gt;javax.mail.internet.MimeUtility.decodeText provides a method to decode text according to RFC 2047.&lt;br/&gt;
It is already used in commons-email to encode header values.&lt;/p&gt;

&lt;p&gt;It is also part of the tomcat distribution, so we may copy it to fileupload.&lt;/p&gt;</comment>
                            <comment id="13598960" author="simone.tripodi" created="Mon, 11 Mar 2013 16:33:46 +0000"  >&lt;p&gt;I started the producing the fix - by shading the interested class rather than copying the source - but I miss a Unit Test that proves the correctness of my fixes&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markt&quot; class=&quot;user-hover&quot; rel=&quot;markt&quot;&gt;markt&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tn&quot; class=&quot;user-hover&quot; rel=&quot;tn&quot;&gt;tn&lt;/a&gt;, do you have a valid sample of &lt;tt&gt;multipart/form-data&lt;/tt&gt; where header values have been encoded as per RFC2047?&lt;/p&gt;

&lt;p&gt;TIA! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13599052" author="markt" created="Mon, 11 Mar 2013 17:55:00 +0000"  >&lt;p&gt;Sorry, no examples here and I&apos;d be surprised if any of the browsers actually did this properly.&lt;/p&gt;</comment>
                            <comment id="13599875" author="simone.tripodi" created="Tue, 12 Mar 2013 10:02:46 +0000"  >&lt;p&gt;resolved in r1455470&lt;/p&gt;</comment>
                            <comment id="13600131" author="hablutzel1" created="Tue, 12 Mar 2013 16:10:52 +0000"  >&lt;p&gt;Just to mention a couple of things, first rfc1867 which commons fileupload claims to implement in the home page has a method for encoding not US ASCII (rfc1522) but this one is obsoleted by rfc2047, the spec you are implementing here, so maybe a clarification of this would be useful in the commons fileupload home page.&lt;/p&gt;

&lt;p&gt;Second, browsers are still sending raw UTF-8 or whatever for &apos;filename&apos; parameter (at least chrome and firefox) . So I think commons fileupload implementation should be compatible with that out-of-standards behaviour from browsers and accept the right RFC2047 encoding at the same time. This is to &quot;be liberal in what you accept from others.&quot; &lt;/p&gt;
</comment>
                            <comment id="13600940" author="simone.tripodi" created="Wed, 13 Mar 2013 08:16:52 +0000"  >&lt;blockquote&gt;
&lt;p&gt;so maybe a clarification of this would be useful in the commons fileupload home page&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sure, as soon as we will release 1.3, we will update the site as well - current fix is included in /trunk only ATM&lt;/p&gt;</comment>
                            <comment id="16038101" author="chtompki" created="Tue, 6 Jun 2017 04:23:19 +0000"  >&lt;p&gt;1.3 released.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43034</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skfb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164786</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-197] ServletFileUpload isMultipartContent method does not support HTTP PUT</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-197</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;This method explicitly checks for method POST. I believe the PUT method can also have multipart requests, and there may be others. In our case we are receiving rest calls using Spring Framework&apos;s CommonsMultipartResolver which in turn uses this method of the Commons FileUpload library.&lt;/p&gt;

&lt;p&gt;Here is the offending code...&lt;/p&gt;

&lt;p&gt;if (!&quot;post&quot;.equals(request.getMethod().toLowerCase())) {&lt;br/&gt;
    return false;&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment></environment>
        <key id="12514116">FILEUPLOAD-197</key>
            <summary>ServletFileUpload isMultipartContent method does not support HTTP PUT</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="simone.tripodi">Simone Tripodi</assignee>
                                    <reporter username="dwolvert">David Wolverton</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Jul 2011 19:49:02 +0000</created>
                <updated>Tue, 6 Jun 2017 04:24:26 +0000</updated>
                            <resolved>Thu, 7 Mar 2013 07:49:13 +0000</resolved>
                                    <version>1.2.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13065509" author="jochen@apache.org" created="Thu, 14 Jul 2011 20:08:47 +0000"  >&lt;p&gt;I have never heard of something like that and I&apos;d clearly read section 9.6 in &lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html&lt;/a&gt; different:&lt;/p&gt;

&lt;p&gt;    The PUT method requests that the enclosed entity be stored under the supplied Request-URI. &lt;/p&gt;

&lt;p&gt;&lt;b&gt;The&lt;/b&gt; enclosed entity. Not a multipart request with various entities.&lt;/p&gt;

&lt;p&gt;Unless you can supply a a clear and convincing citation that shows me I am wrong I intend to close this isue as INVALID.&lt;/p&gt;</comment>
                            <comment id="13066003" author="dwolvert" created="Fri, 15 Jul 2011 15:24:45 +0000"  >&lt;p&gt;I see your concern. I have to admit I do not have in-depth knowledge in this area. However, I don&apos;t see that the document you mentioned makes a clear case that POST can accept multipart/* MIME types while PUT cannot.&lt;/p&gt;

&lt;p&gt;The document says the same for the POST method:&lt;/p&gt;

&lt;p&gt;The POST method is used to request that the origin server accept &lt;em&gt;the entity&lt;/em&gt; enclosed&lt;/p&gt;

&lt;p&gt;I guess from a practical standpoint, it at least is something that CURL allows and that we have use for.&lt;/p&gt;

&lt;p&gt;Our use-case is this. We ware posting content to a CMS. The content consists of a set of meta-data properties as well as a binary content (such as an image or xml or html document). We would like build a REST web service API that allows us to include all of this is one call, just like posting a form with an upload element. According to the spec, PUT is the appropriate method for updating an entity. In our case the entity is made up of parts: several properties and a content.&lt;/p&gt;
</comment>
                            <comment id="13595136" author="fielding" created="Wed, 6 Mar 2013 21:25:28 +0000"  >&lt;p&gt;PUT means the sent representation is the replacement value for the target resource. A server could certainly support that functionality using any container format, it wouldn&apos;t be &quot;normal&quot; to use a MIME multipart, nor is it expected to be supported by the file upload functionality defined for browsers in RFC1867.&lt;/p&gt;

&lt;p&gt;If you want to PUT a package, I suggest defining a resource that can be represented by an efficient packaging format (like ZIP) and then using PUT on that resource to have the side-effect of updating the values of its subsidiary resources.&lt;/p&gt;</comment>
                            <comment id="13595652" author="simone.tripodi" created="Thu, 7 Mar 2013 07:49:13 +0000"  >&lt;p&gt;As clarified by Roy:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;it is not expected to be supported by the file upload functionality defined for browsers in RFC1867.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Thanks a lot &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fielding&quot; class=&quot;user-hover&quot; rel=&quot;fielding&quot;&gt;fielding&lt;/a&gt; for your priceless feedback, much more than appreciated!!!&lt;/p&gt;</comment>
                            <comment id="14338857" author="viniciuspires" created="Thu, 26 Feb 2015 18:24:27 +0000"  >&lt;p&gt;Hi, Simone, Roy and Jochen. I know this is an old discussion, but I just wanted to add a thought on this, to see if you agree with me...&lt;/p&gt;

&lt;p&gt;I agree with you and Roy that ASF has a bigger role in the scene, and that many frameworks like Spring rely on stable architectural code as the Commons File Upload project, and to accomplish that stability and cleaness you should stick to the specs.&lt;/p&gt;

&lt;p&gt;But you have to agree with me that the thing here is not about accepting PUT, POST, PATCH or whatever method someone is using, it&apos;s about a concise architectural code that does exactly what is expected of it.&lt;/p&gt;

&lt;p&gt;If the purpose of the &quot;ServletFileUpload.isMultipartContent&quot; method is to verify if the &quot;HttpServletRequest&quot; object has a multipart content type and therefore the request is multipart, shouldn&apos;t this method only verify that and exit? What is that &quot;if&quot; doing there? Is it checking if request has content? If it&apos;s preventing a problem that we can&apos;t see, maybe it could be the same &quot;if&quot;, but checking the right thing, like &quot;if the request method is the kind of method that has content&quot;...&lt;/p&gt;

&lt;p&gt;And as David stated in his comment, neither POST and PUT specs are clear about the content type, if it&apos;s form-data, multipart, json, xml, or any other content. HTTP was designed to not opinionate on content type, am I right?&lt;/p&gt;

&lt;p&gt;I understand this requires a certain amount of work for everybody, but all around the web in forums and sites like StackOverflow, this method haunts every HTTP1.1 java API developer, and the only choices are either not PUT or PATCH files to the server, or not using Commons FileUpload at all. Implementing a way to .zip the file just to upload on PUT and PATCH requests in javascript for me is out of question.&lt;/p&gt;

&lt;p&gt;I personally like ASF&apos;s work and trust the stability of its packages, so I don&apos;t think that implementing my own &quot;isMultipartContent()&quot; is the way to go (although it&apos;s my only choice now with the tight schedule).&lt;/p&gt;

&lt;p&gt;I hope that my comment helps with something. Thanks for your time.&lt;/p&gt;</comment>
                            <comment id="14346532" author="jochen@apache.org" created="Wed, 4 Mar 2015 07:29:50 +0000"  >&lt;p&gt;I am sorry, Vinicius, but I clearly consider Roy to be the authoritative voice in this context. Leaving closed.&lt;/p&gt;</comment>
                            <comment id="16038106" author="chtompki" created="Tue, 6 Jun 2017 04:24:26 +0000"  >&lt;p&gt;not a problem.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43036</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skfr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164788</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-196] FileSizeLimitExceededException wrong</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-196</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;when Maximum size of single uploaded file is 1 byte. &lt;br/&gt;
the size of single uploaded file is 0 byte,&lt;br/&gt;
first time upload file can sucess.&lt;br/&gt;
then the size of single uploaded file is 20 bytes,&lt;br/&gt;
FileSizeLimitExceededException occured , it is right.&lt;br/&gt;
but continually upload file,the size of single uploaded file is still 0 byte,&lt;br/&gt;
FileSizeLimitExceededException occured, why ?&lt;br/&gt;
after FileSizeLimitExceededException occured,  the single uploaded file of 0 byte can not upload , why ?&lt;/p&gt;</description>
                <environment>&lt;p&gt;apache-tomcat-5.5.33&lt;/p&gt;</environment>
        <key id="12511608">FILEUPLOAD-196</key>
            <summary>FileSizeLimitExceededException wrong</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="janrick">janrick</reporter>
                        <labels>
                            <label>test</label>
                    </labels>
                <created>Mon, 27 Jun 2011 07:55:32 +0000</created>
                <updated>Tue, 6 Jun 2017 05:02:37 +0000</updated>
                            <resolved>Wed, 8 Jul 2015 09:28:40 +0000</resolved>
                                    <version>1.2.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="1209600">336h</timeoriginalestimate>
                            <timeestimate seconds="1209600">336h</timeestimate>
                                        <comments>
                            <comment id="13056395" author="jagub.zhang@gmail.com" created="Tue, 28 Jun 2011 08:48:18 +0000"  >&lt;p&gt;I tried it, but didn&apos;t reproduce your problem.&lt;br/&gt;
Can you explain more about it.&lt;/p&gt;

&lt;p&gt;by the way,&lt;br/&gt;
Is any other input field tag in your HTML?&lt;br/&gt;
if you use enctype=&quot;multipart/form-data&quot;, every input field will upload as stream.&lt;br/&gt;
commons-upload will also check input field length.&lt;/p&gt;</comment>
                            <comment id="14618280" author="jochen@apache.org" created="Wed, 8 Jul 2015 09:28:40 +0000"  >&lt;p&gt;User was asked for help on reproduzing the issue more than four years ago. No response. Thus considering not reproducable, or user inactive.&lt;/p&gt;</comment>
                            <comment id="16038187" author="chtompki" created="Tue, 6 Jun 2017 05:02:37 +0000"  >&lt;p&gt;Can&apos;t reproduce.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43037</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skfz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164789</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-195] Error reading the file size larger than 2 gb</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-195</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Error reading bytes from the file sent via servlet when it has a size larger than 2GB, it puts the total file size is negative.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12510335">FILEUPLOAD-195</key>
            <summary>Error reading the file size larger than 2 gb</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="simone.tripodi">Simone Tripodi</assignee>
                                    <reporter username="julianoalves">Juliano Alves</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Jun 2011 17:23:26 +0000</created>
                <updated>Mon, 5 Jun 2017 14:00:05 +0000</updated>
                            <resolved>Wed, 6 Mar 2013 10:54:57 +0000</resolved>
                                    <version>1.2.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13056414" author="jagub.zhang@gmail.com" created="Tue, 28 Jun 2011 09:36:14 +0000"  >&lt;p&gt;I think it is a very old problem about j2ee.&lt;br/&gt;
commons-upload get total size of upload using ServletRequest#getContentLength()&lt;/p&gt;

&lt;p&gt;Interface ServletRequest#getContentLength() return a int value.&lt;br/&gt;
on j2ee javadoc:&lt;br/&gt;
  an integer containing the length of the request body or -1 if the length is not known&lt;/p&gt;

&lt;p&gt;The max value of int is 2147483647, it is less then 2gb(2147483648).&lt;br/&gt;
then it return -1&lt;/p&gt;</comment>
                            <comment id="13220848" author="phax" created="Fri, 2 Mar 2012 11:34:13 +0000"  >&lt;p&gt;Duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-188&quot; title=&quot;Cannot upload files much larger than 2gb&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-188&quot;&gt;&lt;del&gt;FILEUPLOAD-188&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13589406" author="pihentagy" created="Thu, 28 Feb 2013 10:11:02 +0000"  >&lt;p&gt;No, &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-188&quot; title=&quot;Cannot upload files much larger than 2gb&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-188&quot;&gt;&lt;del&gt;FILEUPLOAD-188&lt;/del&gt;&lt;/a&gt; states upload is impossible. This issue just states the file size reported is wrong IMHO.&lt;/p&gt;</comment>
                            <comment id="13593492" author="pihentagy" created="Tue, 5 Mar 2013 15:42:19 +0000"  >&lt;p&gt;I made some fix, which works for me (I haven&apos;t patched the portlet part)&lt;br/&gt;
&lt;a href=&quot;https://github.com/pihentagy/commons-fileupload/commit/16a677dd3c61acde530a5f54a59402faed1a953a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/pihentagy/commons-fileupload/commit/16a677dd3c61acde530a5f54a59402faed1a953a&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13594603" author="simone.tripodi" created="Wed, 6 Mar 2013 10:54:57 +0000"  >&lt;p&gt;resolved in r1453285, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pihentagy&quot; class=&quot;user-hover&quot; rel=&quot;pihentagy&quot;&gt;pihentagy&lt;/a&gt; for the pull request!&lt;/p&gt;</comment>
                            <comment id="16036990" author="chtompki" created="Mon, 5 Jun 2017 14:00:05 +0000"  >&lt;p&gt;1.3 released.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43038</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skg7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164790</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-194] conceptual error throwing FileUploadException when upload size or file size exeeds limits</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-194</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;When any size limits exceed, immediately a FileUploadBase.SizeLimitExceededException or FileUploadBase.FileSizeLimitExceededException is thrown and parsing of the multipart request terminates without providing request parameters for further processing.&lt;/p&gt;

&lt;p&gt;This basically makes it impossible for any web application to handle size limit exceeded cases gracefully. &lt;/p&gt;

&lt;p&gt;My proposal is that request parsing should always complete to deliver the request parameters. Size limit exceeded cases/exceptions might be collected for later retrieval, FileSizeLimitExeededException should be mapped to the FileItem to allow some validation on the FileItem on application level. This would allow to mark upload input fields as erronous if the uploaded file was too big. &lt;/p&gt;

&lt;p&gt;Actually I made a patch for that (see attachment). With this patch, commons-fileupload always completes request parsing in case of size limit exceedings and only after complete parsing will throw an exception if one was detected. Using FileUploadBase.setThrowUploadException(false) no exceptions will be thrown (except more critical ones like invalid stream format).&lt;br/&gt;
After request processing the collected FileUploadExceptions might be retrieved using FileUploadBase.getFileUploadExceptions().&lt;/p&gt;

&lt;p&gt;The patch shows the concept, but further improvement might be necessary.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12510309">FILEUPLOAD-194</key>
            <summary>conceptual error throwing FileUploadException when upload size or file size exeeds limits</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hpdueni">Hanspeter D&#252;nnenberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Jun 2011 12:58:27 +0000</created>
                <updated>Thu, 2 May 2013 02:29:41 +0000</updated>
                                            <version>1.2.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13053189" author="maurizio.cucchiara" created="Wed, 22 Jun 2011 11:31:19 +0000"  >&lt;p&gt;We (the struts user/developer) are experiencing the same problem. Is there any chance to change the FU behavior? (as struts was designed, it&apos;s not acceptable to lose the request parameters) &lt;/p&gt;</comment>
                            <comment id="13054211" author="jagub.zhang@gmail.com" created="Fri, 24 Jun 2011 01:50:42 +0000"  >&lt;p&gt;I suggest commons-fileupload can support error handler for parse request.&lt;/p&gt;</comment>
                            <comment id="13598824" author="simone.tripodi" created="Mon, 11 Mar 2013 13:55:22 +0000"  >&lt;p&gt;A possible workaround to handle that situation would be switching to &lt;a href=&quot;http://commons.apache.org/proper/commons-fileupload/streaming.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Streaming APIs&lt;/a&gt;, kind of:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;// Create a &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; file upload handler
&lt;/span&gt;ServletFileUpload upload = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ServletFileUpload();

&lt;span class=&quot;code-comment&quot;&gt;// Parse the request
&lt;/span&gt;FileItemIterator iter = upload.getItemIterator(request);
&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (iter.hasNext()) {
    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
        FileItemStream item = iter.next();
        FileItem fileItem = fileItemFactory.createItem(item.getFieldName(),
                                                       item.getContentType(),
                                                       item.isFormField(),
                                                       item.getName());
        Streams.copy(item.openStream(), fileItem.getOutputStream(), &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
        items.add(fileItem);
    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Throwable t) {
        &lt;span class=&quot;code-comment&quot;&gt;// handle &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;
&lt;/span&gt;    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=maurizio.cucchiara&quot; class=&quot;user-hover&quot; rel=&quot;maurizio.cucchiara&quot;&gt;maurizio.cucchiara&lt;/a&gt; any chance you can verify it in Struts? Do you have any testcase? TIA! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13606174" author="maurizio.cucchiara" created="Tue, 19 Mar 2013 08:28:42 +0000"  >&lt;p&gt;Ciao &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=simone.tripodi&quot; class=&quot;user-hover&quot; rel=&quot;simone.tripodi&quot;&gt;simone.tripodi&lt;/a&gt;,&lt;br/&gt;
the solution you proposed looks really interesting.&lt;br/&gt;
At first glance, I&apos;m very confident that this should fix the case of file size excess.&lt;br/&gt;
At the same time, I&apos;m also pretty sure that your workaround will not work for upload size excess: when a multipart request goes beyond the configuration parameter, in order to avoid memory issues, an exception is raised and the whole request is throwed away.&lt;br/&gt;
I&apos;m wondering if there is a way to skip only big content.&lt;br/&gt;
What happen if I put the input file on the bottom of the page and the upload size exceeds?&lt;/p&gt;</comment>
                            <comment id="13606177" author="simone.tripodi" created="Tue, 19 Mar 2013 08:47:15 +0000"  >&lt;p&gt;Thanks for the feedbacks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=maurizio.cucchiara&quot; class=&quot;user-hover&quot; rel=&quot;maurizio.cucchiara&quot;&gt;maurizio.cucchiara&lt;/a&gt;! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I haven&apos;t got why the whole request would thrown away, in the case of &lt;em&gt;upload size excess&lt;/em&gt;, can you please provide me a sample?&lt;/p&gt;

&lt;p&gt;If I got right what &lt;em&gt;upload size excess&lt;/em&gt; stands for, in the current SNAPSHOT we made some adjustment in the request content length... do you have the chance to run a test with 1.3-SNAPSHOT? Or, alternatively, is there any way I can run a test in Struts?&lt;/p&gt;

&lt;p&gt;Like always, I am open for collaborating in order to have issues fixed! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13606181" author="maurizio.cucchiara" created="Tue, 19 Mar 2013 09:08:06 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I haven&apos;t got why the whole request would thrown away, in the case of upload size excess, can you please provide me a sample?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think that is a security limit, in order to avoid an Out of Memory Error, in case a multipart request fills the whole memory capacity.&lt;br/&gt;
FileUpload reads the value from the request header, before reading the multipart content (which could be a time consuming task), in case, for instance, a malicious user fills your memory with an ad-hoc request.&lt;/p&gt;

&lt;p&gt;I&apos;m going to provide some small junit tests and yes, there is a way to run the test in struts, but I think it could be easier to focus on fileupload code.&lt;/p&gt;</comment>
                            <comment id="13606190" author="simone.tripodi" created="Tue, 19 Mar 2013 09:30:45 +0000"  >&lt;p&gt;Thanks a lot, now I got you! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;The streaming APIs, like the sample provided above, should help also to avoid this kind of issues, since id doesn&apos;t parse the whole request but parses uploaded files/parameters incrementally...&lt;/p&gt;

&lt;p&gt;Please let me know if I can be helpful!&lt;/p&gt;</comment>
                            <comment id="13606681" author="maurizio.cucchiara" created="Tue, 19 Mar 2013 19:13:10 +0000"  >&lt;p&gt;The attached patch contains a test which explains what could be, IMHO, the correct behavior.&lt;/p&gt;

&lt;p&gt;You can switch from the correct to the current behavior by removing the commented line.&lt;/p&gt;</comment>
                            <comment id="13607417" author="simone.tripodi" created="Wed, 20 Mar 2013 08:55:30 +0000"  >&lt;p&gt;OK I now see your point!&lt;br/&gt;
The problem is that &lt;tt&gt;FileSizeLimitExceededException&lt;/tt&gt; is thrown by &lt;tt&gt;FileItemIterator#hasNext()&lt;/tt&gt;, that is why you said &quot;the whole request is thrown away&quot; - it simply forces to get out from the &lt;tt&gt;while&lt;/tt&gt; loop.&lt;/p&gt;

&lt;p&gt;Thanks a lot for the testcase, I am looking for a workaround!&lt;/p&gt;</comment>
                            <comment id="13607446" author="simone.tripodi" created="Wed, 20 Mar 2013 09:29:23 +0000"  >&lt;p&gt;I acknowledge that this is a conceptual error, the exception should be thrown at least by &lt;tt&gt;FileItemIterator#next()&lt;/tt&gt;, but definitively not by &lt;tt&gt;FileItemIterator#hasNext()&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="13607448" author="simone.tripodi" created="Wed, 20 Mar 2013 09:30:05 +0000"  >&lt;p&gt;I increased the Issue level to &lt;em&gt;Critical&lt;/em&gt;&lt;/p&gt;</comment>
                            <comment id="13607482" author="simone.tripodi" created="Wed, 20 Mar 2013 10:32:50 +0000"  >&lt;p&gt;Decreased issue level back to &lt;em&gt;Major&lt;/em&gt; - after investigating to old test cases, looks like that this is the behaviour &lt;em&gt;by design&lt;/em&gt;, have a look at the &lt;a href=&quot;http://svn.apache.org/viewvc/commons/proper/fileupload/trunk/src/test/java/org/apache/commons/fileupload/SizesTest.java?view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;SizesTest&lt;/a&gt;, more specifically to &lt;tt&gt;SizesTest#testFileSizeLimit()&lt;/tt&gt; (line 125) and &lt;tt&gt;SizesTest#testFileSizeLimitWithFakedContentLength()&lt;/tt&gt; (line 179).&lt;/p&gt;

&lt;p&gt;I think this issue can be resolved only in a future major release of &lt;em&gt;FileUpload&lt;/em&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12453239">WW-3025</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12482551" name="my-changes.patch" size="11620" author="hpdueni" created="Tue, 14 Jun 2011 12:59:07 +0000"/>
                            <attachment id="12574384" name="testMaxSizeLimitAndNormalFormField.patch" size="3751" author="maurizio.cucchiara" created="Tue, 19 Mar 2013 19:14:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43039</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164791</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-193] FileNotFoundException thrown by DiskFileItem.write</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-193</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Under certain conditions the DiskFileItem.write throws a FileNotFound exception.  It seems to be when outputFile.renameTo(file) fails.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.io.FileNotFoundException: /tmp/UploadController/uploading/upload_69651d04_13000a31964__8000_00001651.tmp (No such file or directory)
        at java.io.FileInputStream.open(Native Method)
        at java.io.FileInputStream.&amp;lt;init&amp;gt;(FileInputStream.java:106)
        at org.apache.commons.fileupload.disk.DiskFileItem.write(DiskFileItem.java:447)
        at upload.UploadController.handle(UploadController.java:90)
        ...&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I can&apos;t see any obvious reason why the source file (outputFile) wouldn&apos;t exist...&lt;/p&gt;</description>
                <environment>&lt;p&gt;Ubuntu 10.10&lt;/p&gt;

&lt;p&gt;java version &quot;1.6.0_24&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.6.0_24-b07)&lt;br/&gt;
Java HotSpot(TM) Client VM (build 19.1-b02, mixed mode, sharing)&lt;/p&gt;</environment>
        <key id="12508177">FILEUPLOAD-193</key>
            <summary>FileNotFoundException thrown by DiskFileItem.write</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="danwashusen">Dan Washusen</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 May 2011 12:01:02 +0000</created>
                <updated>Wed, 27 May 2020 10:40:41 +0000</updated>
                            <resolved>Wed, 27 May 2020 10:40:41 +0000</resolved>
                                    <version>1.2.2</version>
                                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>2</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13038918" author="danwashusen" created="Wed, 25 May 2011 01:52:25 +0000"  >&lt;p&gt;Updated description to remove incorrect description of issue.&lt;/p&gt;</comment>
                            <comment id="13057131" author="jagub.zhang@gmail.com" created="Wed, 29 Jun 2011 09:54:06 +0000"  >&lt;p&gt;did you use DiskFileItem#write twice?&lt;br/&gt;
or you register a FileCleaningTracker in your DiskFileItemFactory.&lt;/p&gt;</comment>
                            <comment id="13060560" author="veyjul" created="Wed, 6 Jul 2011 13:14:30 +0000"  >&lt;p&gt;I have the same issue under some undetermined conditions.&lt;/p&gt;

&lt;p&gt;Have you found any workaround to avoid this issue ?&lt;/p&gt;

&lt;p&gt;(with version 1.2.1)&lt;/p&gt;</comment>
                            <comment id="13060897" author="danwashusen" created="Wed, 6 Jul 2011 22:56:40 +0000"  >&lt;p&gt;I haven&apos;t noticed this issue since reporting it (no changes to my code). &lt;/p&gt;

&lt;p&gt;Jagub, to answer your questions...&lt;/p&gt;

&lt;p&gt;No I&apos;m not calling DiskFileItem#write twice.  I call this method while iterating over the list of FileItems returned from ServletFileUpload#parseRequest.  Each request contains several form fields and a single file.&lt;/p&gt;

&lt;p&gt;Yes, I have a FileCleaningTracker registered with the DiskFileItemFactory.  However, I call the write method almost immediately after calling ServletFileUpload#parseRequest (so I wouldn&apos;t have thought the FileCleaningTracker would have had a chance to do anything yet).&lt;/p&gt;</comment>
                            <comment id="13061772" author="jagub.zhang@gmail.com" created="Fri, 8 Jul 2011 05:22:22 +0000"  >&lt;p&gt;Try remove your FileCleaningTracker. in fact, uploaded file always be removed by DiskFileItem#finalize&lt;/p&gt;</comment>
                            <comment id="13266611" author="elisegev" created="Wed, 2 May 2012 14:55:47 +0000"  >&lt;p&gt;I can reproduce this problem when the file name has 50 multi-byte characters, like &#12354;&#12356;&#12358;&#12360;&#12362;&#12363;&#12365;&#12367;&#12369;&#12371;&#12399;&#12402;&#12405;&#12408;&#12411;&#12394;&#12395;&#12396;&#12397;&#12398;&#12353;&#12426;&#12427;&#12428;&#12429;&#12354;&#12356;&#12358;&#12360;&#12362;&#12363;&#12365;&#12367;&#12369;&#12371;&#12399;&#12402;&#12405;&#12408;&#12411;&#12394;&#12395;&#12396;&#12397;&#12398;&#12353;&#12426;&#12427;&#12428;&#12429;&#12354;&#12356;&#12358;&#12360;&#12362;&#12363;&#12365;&#12367;&#12369;&#12371;&#12399;&#12402;&#12405;&#12408;&#12411;&#12394;&#12395;&#12396;&#12397;&#12398;&#12353;&#12426;&#12427;&#12428;&#12429;&#12354;&#12356;&#12358;&#12360;&#12362;&#12363;&#12365;&#12367;&#12369;&#12371;&#12399;&#12402;&#12405;&#12408;&#12411;&#12394;&#12395;&#12396;&#12397;&#12398;&#12353;&#12426;&#12427;&#12428;&#12429;.docx.  If the file name is shortened, no exception takes place.  The stack trace is:&lt;br/&gt;
java.io.FileNotFoundException: D:\staging&amp;#37;E3%81%82%E3%81%84%E3%&lt;br/&gt;
81%86%E3%81%88%E3%81%8A%E3%81%8B%E3%81%8D%E3%81%8F%E3%81%91%E3%81%93%E3%81%AF%E3%81%B2%E3%81%B5%E3%81%B8%E3%81%BB%E3%81%AA%E&lt;br/&gt;
3%81%AB%E3%81%AC%E3%81%AD%E3%81%AE%E3%81%81%E3%82%8A%E3%82%8B%E3%82%8C%E3%82%8D%E3%81%82%E3%81%84%E3%81%86%E3%81%88%E3%81%8A&lt;br/&gt;
%E3%81%8B%E3%81%8D%E3%81%8F%E3%81%91%E3%81%93%E3%81%AF%E3%81%B2%E3%81%B5%E3%81%B8%E3%81%BB%E3%81%AA%E3%81%AB%E3%81%AC%E3%81%&lt;br/&gt;
AD%E3%81%AE%E3%81%81%E3%82%8A%E3%82%8B%E3%82%8C%E3%82%8D%E3%81%82%E3%81%84%E3%81%86%E3%81%88%E3%81%8A%E3%81%8B%E3%81%8D%E3%8&lt;br/&gt;
1%8F%E3%81%91%E3%81%93%E3%81%AF%E3%81%B2%E3%81%B5%E3%81%B8%E3%81%BB%E3%81%AA%E3%81%AB%E3%81%AC%E3%81%AD%E3%81%AE%E3%81%81%E3&lt;br/&gt;
%82%8A%E3%82%8B%E3%82%8C%E3%82%8D%E3%81%82%E3%81%84%E3%81%86%E3%81%88%E3%81%8A%E3%81%8B%E3%81%8D%E3%81%8F%E3%81%91%E3%81%93%&lt;br/&gt;
E3%81%AF%E3%81%B2%E3%81%B5%E3%81%B8%E3%81%BB%E3%81%AA%E3%81%AB%E3%81%AC%E3%81%AD%E3%81%AE%E3%81%81%E3%82%8A%E3%82%8B%E3%82%8&lt;br/&gt;
C%E3%82%8D.docx (The filename, directory name, or volume label syntax is incorrect)&lt;br/&gt;
at java.io.FileOutputStream.open(Native Method)&lt;br/&gt;
at java.io.FileOutputStream.&amp;lt;init&amp;gt;(FileOutputStream.java:194)&lt;br/&gt;
at java.io.FileOutputStream.&amp;lt;init&amp;gt;(FileOutputStream.java:145)&lt;br/&gt;
at org.apache.commons.fileupload.disk.DiskFileItem.write(DiskFileItem.java:449)&lt;/p&gt;

&lt;p&gt;There is no issue with write permission or anything like this, since no other file has this issue.  The OS is Windows 7.&lt;/p&gt;</comment>
                            <comment id="13266718" author="sebb@apache.org" created="Wed, 2 May 2012 17:13:04 +0000"  >&lt;p&gt;What is the total length of the file name, including parent directories?&lt;/p&gt;

&lt;p&gt;There is a hard limit in windows, so you&apos;ll likely find the same issue with plain ascii file names too.&lt;/p&gt;</comment>
                            <comment id="13266885" author="jochen@apache.org" created="Wed, 2 May 2012 20:37:57 +0000"  >&lt;p&gt;Most likely caused by an invalid file name. It is the fileupload users task to choose valid file name.&lt;/p&gt;</comment>
                            <comment id="13266891" author="elisegev" created="Wed, 2 May 2012 20:44:56 +0000"  >&lt;p&gt;The issue is in the length of the file name.  The hard limit in Windows is 255 characters and this is what happens here.  See here: &lt;a href=&quot;http://windows.microsoft.com/en-us/windows-vista/file-names-and-file-name-extensions-frequently-asked-questions&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://windows.microsoft.com/en-us/windows-vista/file-names-and-file-name-extensions-frequently-asked-questions&lt;/a&gt;.  Encoding a Chinese file name increases the file name&apos;s size 9 fold and it goes above the hard limit.  Thanks to Sebb for pointing me at the right direction.&lt;/p&gt;</comment>
                            <comment id="13266967" author="sebb@apache.org" created="Wed, 2 May 2012 22:25:23 +0000"  >&lt;p&gt;I think the clue is in this part of the trace (I should have noted it earlier):&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;(The filename, directory name, or volume label syntax is incorrect)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The reference to a syntax error presumably refers to the excess length.&lt;/p&gt;

&lt;p&gt;BTW, I&apos;m not sure why this is treated as FileNotFoundException rather than some other IOException.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;The same happens if the file exists but cannot be written, e.g. is read-only&amp;#93;&lt;/span&gt;&lt;br/&gt;
The use of FNFE is confusing.&lt;/p&gt;</comment>
                            <comment id="13267067" author="elisegev" created="Thu, 3 May 2012 00:50:51 +0000"  >&lt;p&gt;If you notice, the issue happens in a native method and not in a pure Java code.  I guess the Java code in FileOutputStream could have chosen a different exception.&lt;/p&gt;</comment>
                            <comment id="13276372" author="jagub.zhang@gmail.com" created="Wed, 16 May 2012 01:07:42 +0000"  >&lt;p&gt;Another possibility.&lt;br/&gt;
If you upload a 0 byte file, FileNotFoundException will be occurred.&lt;/p&gt;</comment>
                            <comment id="14207969" author="tn" created="Wed, 12 Nov 2014 11:54:37 +0000"  >&lt;p&gt;One reason for this to happen could be that the file is stored in memory, thus the temporary file location is non-existant.&lt;/p&gt;

&lt;p&gt;Analyzing the code, I can not see how this could happen, but can you please attach the source-code of your servlet handling the upload?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43040</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 51 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skgn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164792</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-192] Commons fileuploading error for audio files</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-192</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I am using Tomhawk 2.0 for JSF 2.0 for file uploading.&lt;/p&gt;

&lt;p&gt;Am able to upload video ,image files(all types of files other than audio files)&lt;/p&gt;

&lt;p&gt;But am not able to upload some files like mp3 and some other audio files.&lt;/p&gt;

&lt;p&gt;Let me know Tomhawk or apache-commo- file upload support all type of mime types?&lt;/p&gt;

&lt;p&gt;Is there any bug with the libraries?&lt;/p&gt;

&lt;p&gt;Am getting following exception while uploading .asx files or mp3 file &lt;/p&gt;


&lt;p&gt;Exception while uploading file.&lt;br/&gt;
org.apache.commons.fileupload.FileUploadBase$IOFileUploadException: Processing of multipart/form-data request failed. \temp\upload_&lt;em&gt;d900daf_12fba8f7378&lt;/em&gt;_8000_00000011.tmp (The system cannot find the path specified)&lt;br/&gt;
      at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:371)&lt;br/&gt;
      at org.apache.commons.fileupload.servlet.ServletFileUpload.parseRequest(ServletFileUpload.java:126)&lt;br/&gt;
      at org.apache.myfaces.webapp.filter.MultipartRequestWrapper.parseRequest(MultipartRequestWrapper.java:136)&lt;br/&gt;
      at org.apache.myfaces.webapp.filter.MultipartRequestWrapper.getParameter(MultipartRequestWrapper.java:274)&lt;br/&gt;
      at com.sun.faces.context.RequestParameterMap.get(RequestParameterMap.java:71)&lt;br/&gt;
      at com.sun.faces.context.RequestParameterMap.get(RequestParameterMap.java:52)&lt;br/&gt;
      at java.util.Collections$UnmodifiableMap.get(Collections.java:1282)&lt;br/&gt;
      at com.sun.faces.application.view.MultiViewHandler.calculateRenderKitId(MultiViewHandler.java:216)&lt;br/&gt;
      at javax.faces.application.ViewHandlerWrapper.calculateRenderKitId(ViewHandlerWrapper.java:136)&lt;br/&gt;
      at com.sun.faces.context.FacesContextImpl.isPostback(FacesContextImpl.java:206)&lt;br/&gt;
      at com.sun.faces.lifecycle.RestoreViewPhase.execute(RestoreViewPhase.java:178)&lt;br/&gt;
      at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:97)&lt;br/&gt;
      at com.sun.faces.lifecycle.RestoreViewPhase.doPhase(RestoreViewPhase.java:107)&lt;br/&gt;
      at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:114)&lt;br/&gt;
      at javax.faces.webapp.FacesServlet.service(FacesServlet.java:308)&lt;br/&gt;
      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)&lt;br/&gt;
      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)&lt;br/&gt;
      at org.apache.myfaces.webapp.filter.ExtensionsFilter.doFilter(ExtensionsFilter.java:286)&lt;br/&gt;
      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)&lt;br/&gt;
      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)&lt;br/&gt;
      at org.apache.myfaces.webapp.filter.ExtensionsFilter.doFilter(ExtensionsFilter.java:349)&lt;br/&gt;
      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)&lt;br/&gt;
      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)&lt;br/&gt;
      at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)&lt;br/&gt;
      at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)&lt;br/&gt;
      at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)&lt;br/&gt;
      at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)&lt;br/&gt;
      at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)&lt;br/&gt;
      at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)&lt;br/&gt;
      at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859)&lt;br/&gt;
      at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)&lt;br/&gt;
      at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)&lt;br/&gt;
      at java.lang.Thread.run(Thread.java:619)&lt;br/&gt;
Caused by: java.io.FileNotFoundException: \temp\upload_&lt;em&gt;d900daf_12fba8f7378&lt;/em&gt;_8000_00000011.tmp (The system cannot find the path specified)&lt;br/&gt;
      at java.io.FileOutputStream.open(Native Method)&lt;br/&gt;
      at java.io.FileOutputStream.&amp;lt;init&amp;gt;(FileOutputStream.java:179)&lt;br/&gt;
      at java.io.FileOutputStream.&amp;lt;init&amp;gt;(FileOutputStream.java:131)&lt;br/&gt;
      at org.apache.commons.io.output.DeferredFileOutputStream.thresholdReached(DeferredFileOutputStream.java:123)&lt;br/&gt;
      at org.apache.commons.io.output.ThresholdingOutputStream.checkThreshold(ThresholdingOutputStream.java:220)&lt;br/&gt;
      at org.apache.commons.io.output.ThresholdingOutputStream.write(ThresholdingOutputStream.java:127)&lt;br/&gt;
      at org.apache.commons.fileupload.util.Streams.copy(Streams.java:103)&lt;br/&gt;
      at org.apache.commons.fileupload.util.Streams.copy(Streams.java:66)&lt;/p&gt;
</description>
                <environment>&lt;p&gt;apache myfaces tomhawk &lt;/p&gt;</environment>
        <key id="12506159">FILEUPLOAD-192</key>
            <summary>Commons fileuploading error for audio files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="karnakart">karnakar thallapalli</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 May 2011 11:01:05 +0000</created>
                <updated>Mon, 5 Jun 2017 14:39:05 +0000</updated>
                            <resolved>Wed, 4 May 2011 12:06:05 +0000</resolved>
                                    <version>1.2.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13028719" author="sebb@apache.org" created="Wed, 4 May 2011 12:06:05 +0000"  >&lt;p&gt;JIRA is not a support forum.&lt;/p&gt;

&lt;p&gt;Please subscribe to the Commons User list and post your question there.&lt;/p&gt;</comment>
                            <comment id="16037046" author="chtompki" created="Mon, 5 Jun 2017 14:39:05 +0000"  >&lt;p&gt;invalid.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43041</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skgv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164793</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-191] Temporary files aren&apos;t deleted when FileItem.getinputStream is used</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-191</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;While uploading files I need to use FileItem.getInputStream. I&apos;ve discovered that when FileItem.getInputStream is used, the FileItem is not deleted from the temporary files, even when inputStream is closed. I&apos;ve reproduce it in my application, as well as in the simple servlet with only FileItem iterating and file write (and FileItem.getInputStream usage). I&apos;ve discovered also that this issue does not affect every file. I will attach a sample file for which the issue always occurs.&lt;br/&gt;
I&apos;ve tested it with versions: 1.2, 1.2.1 and 1.2.2&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 7, Apache Tomcat 6.0.29&lt;/p&gt;</environment>
        <key id="12505416">FILEUPLOAD-191</key>
            <summary>Temporary files aren&apos;t deleted when FileItem.getinputStream is used</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="toto">Tomek </reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Apr 2011 13:14:42 +0000</created>
                <updated>Fri, 6 May 2011 12:24:13 +0000</updated>
                            <resolved>Fri, 6 May 2011 12:24:02 +0000</resolved>
                                    <version>1.2</version>
                    <version>1.2.1</version>
                    <version>1.2.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13026917" author="toto" created="Fri, 29 Apr 2011 09:31:27 +0000"  >&lt;p&gt;My project in which the problem occurred.&lt;/p&gt;</comment>
                            <comment id="13029916" author="toto" created="Fri, 6 May 2011 12:24:02 +0000"  >&lt;p&gt;It was not a bug. I was getting inputstream from FileItem every time, but I was closing it only once at the end.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12477654" name="Golf Ball.jpg" size="14136" author="toto" created="Thu, 28 Apr 2011 13:15:13 +0000"/>
                            <attachment id="12477740" name="webapp.zip" size="3352" author="toto" created="Fri, 29 Apr 2011 09:31:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43042</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 26 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skh3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164794</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-190] NPE in DiskFileItem#getStoreLocation()</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-190</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Calling DiskFileItem#getStoreLocation() will result in an NPE unless DiskFileItem#getOutputStream() has been called before.&lt;/p&gt;

&lt;p&gt;commons.fileupload 1.2.0&lt;/p&gt;</description>
                <environment></environment>
        <key id="12505046">FILEUPLOAD-190</key>
            <summary>NPE in DiskFileItem#getStoreLocation()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ralfstx">Ralf Sternberg</reporter>
                        <labels>
                    </labels>
                <created>Sat, 23 Apr 2011 14:53:06 +0000</created>
                <updated>Tue, 6 Jun 2017 04:21:56 +0000</updated>
                            <resolved>Sun, 10 Mar 2013 08:51:06 +0000</resolved>
                                    <version>1.2.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13595033" author="simone.tripodi" created="Wed, 6 Mar 2013 19:51:03 +0000"  >&lt;p&gt;could you submit a testcases which reproduces the problem, please? TIA!&lt;/p&gt;</comment>
                            <comment id="13598193" author="tn" created="Sun, 10 Mar 2013 08:46:32 +0000"  >&lt;p&gt;This was already fixed as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-134&quot; title=&quot;A factory-created DiskFileItem does not have an initialized dfos, causing NullPointerExceptions if getOutputStream() is not called.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-134&quot;&gt;&lt;del&gt;FILEUPLOAD-134&lt;/del&gt;&lt;/a&gt;, there is now an additional null check in getStoreLocation.&lt;/p&gt;</comment>
                            <comment id="16038099" author="chtompki" created="Tue, 6 Jun 2017 04:21:56 +0000"  >&lt;p&gt;1.3 released.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12366902">FILEUPLOAD-134</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43043</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skhb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164795</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-189] DiskFileItemFactory use of FileCleaningTracker is documented or coded wrong</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-189</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Regarding latest SVN revision:&lt;/p&gt;

&lt;p&gt;The DiskFileItemFactory documents:&lt;br/&gt;
Temporary files are automatically deleted as soon as they are no longer needed. (More precisely, when the corresponding instance of &lt;/p&gt;
{@link java.io.File}
&lt;p&gt; is garbage collected.)&lt;/p&gt;

&lt;p&gt;But the code in DiskFileItemFactory.createItem() is doing:&lt;br/&gt;
tracker.track(result.getTempFile(), this);&lt;/p&gt;

&lt;p&gt;Which means the file is cleaned when DiskFileItemFactory is garbage collected.&lt;/p&gt;

&lt;p&gt;This error is propably introduced in Rev 578253 when the code was moved from DiskFileItem to DiskFileItemFactory, without changing &quot;this&quot; (which was DiskFileItem) and is not DiskFileItemFactory.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12503607">FILEUPLOAD-189</key>
            <summary>DiskFileItemFactory use of FileCleaningTracker is documented or coded wrong</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="simone.tripodi">Simone Tripodi</assignee>
                                    <reporter username="gregork">Gregor K</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Apr 2011 08:04:55 +0000</created>
                <updated>Tue, 6 Jun 2017 04:49:41 +0000</updated>
                            <resolved>Wed, 6 Mar 2013 19:44:16 +0000</resolved>
                                    <version>1.2.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>16</votes>
                                    <watches>9</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="13459006" author="novoj" created="Wed, 19 Sep 2012 19:31:23 +0000"  >&lt;p&gt;I think this issue should be considered as Critical. DiskFileItemFactory is usually used as singleton object and thus this behaviour leads to OutOfMemory exceptions, because file tracker never removes corresponding temp files and list of tracker only gets bigger and bigger. We noticed this problem when our server passed through several crashes due to OOM when someone started penetration test on our site which uploaded files through publicly accessible form.&lt;/p&gt;</comment>
                            <comment id="13459035" author="novoj" created="Wed, 19 Sep 2012 20:06:29 +0000"  >&lt;p&gt;Proposed patch.&lt;/p&gt;</comment>
                            <comment id="13506382" author="nishinaka" created="Thu, 29 Nov 2012 10:49:42 +0000"  >&lt;p&gt;I think this issue Critical , too.&lt;/p&gt;

&lt;p&gt;If the lifecycle of DiskFileItemFactory object is shorter than DiskFileItem, There is a possibility that the temporary files are deleted before DiskFileItem#get() is called.&lt;br/&gt;
This causes upload files will be lost.&lt;/p&gt;</comment>
                            <comment id="13595031" author="simone.tripodi" created="Wed, 6 Mar 2013 19:44:16 +0000"  >&lt;p&gt;patch applied at r1453510, thanks Jan for contributing - I also added your name in the contributors list&lt;/p&gt;</comment>
                            <comment id="13595629" author="novoj" created="Thu, 7 Mar 2013 07:11:09 +0000"  >&lt;p&gt;You&apos;re welcome. I think I&apos;m not worthy to become a contributor by writing a single line of code &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ... thank you.&lt;/p&gt;</comment>
                            <comment id="13595640" author="simone.tripodi" created="Thu, 7 Mar 2013 07:35:16 +0000"  >&lt;p&gt;a single line of code that made the difference &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Everybody putting an effort on improving the project is a contributor, so, YES, you ARE a contributor &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Looking forward to apply more patches from you!&lt;/p&gt;</comment>
                            <comment id="13595667" author="gregork" created="Thu, 7 Mar 2013 08:21:15 +0000"  >&lt;p&gt;Thanks, for fixing after such a long time &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
I don&apos;t won&apos;t to be contributor, but hey I think it took me considerably more hours to find and report it.. and the reporter is not even getting a tiny thanks &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13595681" author="simone.tripodi" created="Thu, 7 Mar 2013 08:37:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gregork&quot; class=&quot;user-hover&quot; rel=&quot;gregork&quot;&gt;gregork&lt;/a&gt; reporters will be mentioned in the changelist, once generated, everybody here takes his acknowledgment &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; that is why ASF projects are different - it&apos;s really a community-driven environment! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;the &quot;issue&quot; about timing is that ASF projects are maintained by volunteers - since I need &lt;span class=&quot;error&quot;&gt;&amp;#91;fileupload&amp;#93;&lt;/span&gt; at work, actually my spare time coincides with my working time, I got more chances to put an effort on maintaining it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16038143" author="chtompki" created="Tue, 6 Jun 2017 04:49:41 +0000"  >&lt;p&gt;1.3 released.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12466982">SOLR-1953</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12545785" name="FILEUPLOAD-189.patch" size="1033" author="novoj" created="Wed, 19 Sep 2012 20:06:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43044</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0eqov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>84086</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-188] Cannot upload files much larger than 2gb</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-188</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;When I upload a file 2.3 gb in size FileUpload fails with:&lt;/p&gt;

&lt;p&gt;org.apache.commons.fileupload.FileUploadBase$UnknownSizeException: the request was rejected because it&apos;s size is unknown&lt;/p&gt;

&lt;p&gt;It is using getRequestSize() which returns an int which cannot exceed 2**31 - 1 (2147483647).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12498572">FILEUPLOAD-188</key>
            <summary>Cannot upload files much larger than 2gb</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10">Implemented</resolution>
                                        <assignee username="simone.tripodi">Simone Tripodi</assignee>
                                    <reporter username="brianatlawson">Brian Hanson</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Feb 2011 20:59:02 +0000</created>
                <updated>Mon, 5 Jun 2017 14:00:20 +0000</updated>
                            <resolved>Tue, 12 Mar 2013 14:51:11 +0000</resolved>
                                    <version>1.2.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13599898" author="simone.tripodi" created="Tue, 12 Mar 2013 10:36:12 +0000"  >&lt;p&gt;hi there &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brianatlawson&quot; class=&quot;user-hover&quot; rel=&quot;brianatlawson&quot;&gt;brianatlawson&lt;/a&gt; we recently updated the file size calculus in &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-195&quot; title=&quot;Error reading the file size larger than 2 gb&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-195&quot;&gt;&lt;del&gt;FILEUPLOAD-195&lt;/del&gt;&lt;/a&gt;, do you have any chance to verify, by including the SNAPSHOT, if the fix works for the upload as well?&lt;br/&gt;
TIA!&lt;/p&gt;

&lt;p&gt;Please note that you have to rebuild the SNAPSHOT locally - please let us know, many thanks in advance!&lt;/p&gt;</comment>
                            <comment id="13600080" author="simone.tripodi" created="Tue, 12 Mar 2013 14:51:11 +0000"  >&lt;p&gt;resolved in &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-195&quot; title=&quot;Error reading the file size larger than 2 gb&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-195&quot;&gt;&lt;del&gt;FILEUPLOAD-195&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16036991" author="chtompki" created="Mon, 5 Jun 2017 14:00:20 +0000"  >&lt;p&gt;1.3 released.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43045</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skhj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164796</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-187] MultipartStream throw ArrayIndexOutOfBoundsException</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-187</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;sometimes we encounter ArrayIndexOutOfBoundsException.&lt;/p&gt;

&lt;p&gt;Request headers:&lt;br/&gt;
  ACCEPT:image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, application/vnd.ms-excel, application/vnd.ms-powerpoint, application/msword, application/x-shockwave-flash, &lt;b&gt;/&lt;/b&gt;&lt;br/&gt;
  ACCEPT-ENCODING:gzip, deflate&lt;br/&gt;
  ACCEPT-LANGUAGE:en-us&lt;br/&gt;
  CACHE-CONTROL:no-cache&lt;br/&gt;
  CONNECTION:Keep-Alive&lt;br/&gt;
  CONTENT-LENGTH:46041&lt;br/&gt;
  CONTENT-TYPE:multipart/form-data; boundary=---------------------------7da2661d340152&lt;/p&gt;

&lt;p&gt;Caused by: java.lang.ArrayIndexOutOfBoundsException&lt;br/&gt;
	at java.lang.System.arraycopy(Native Method)&lt;br/&gt;
	at org.apache.commons.fileupload.MultipartStream$ItemInputStream.makeAvailable(MultipartStream.java:969)&lt;br/&gt;
	at org.apache.commons.fileupload.MultipartStream$ItemInputStream.read(MultipartStream.java:886)&lt;br/&gt;
	at java.io.InputStream.read(InputStream.java:89)&lt;br/&gt;
	at org.apache.commons.fileupload.util.Streams.copy(Streams.java:96)&lt;br/&gt;
	at org.apache.commons.fileupload.util.Streams.copy(Streams.java:66)&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:366)&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:310)&lt;br/&gt;
	at org.apache.myfaces.webapp.filter.MultipartRequestWrapper.parseRequest(MultipartRequestWrapper.java:82)&lt;br/&gt;
	at org.apache.myfaces.webapp.filter.MultipartRequestWrapper.getParameter(MultipartRequestWrapper.java:163)&lt;br/&gt;
	at org.apache.myfaces.context.servlet.RequestParameterMap.getAttribute(RequestParameterMap.java:39)&lt;br/&gt;
	at org.apache.myfaces.context.servlet.AbstractAttributeMap.get(AbstractAttributeMap.java:87)&lt;br/&gt;
	at com.sun.facelets.tag.ui.UIDebug.debugRequest(UIDebug.java:119)&lt;br/&gt;
	at com.sun.facelets.FaceletViewHandler.restoreView(FaceletViewHandler.java:312)&lt;br/&gt;
	at org.apache.myfaces.lifecycle.LifecycleImpl.restoreView(LifecycleImpl.java:141)&lt;br/&gt;
	at org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:66)&lt;br/&gt;
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:137)&lt;br/&gt;
	at com.evermind.server.http.ResourceFilterChain.doFilter(ResourceFilterChain.java:65)&lt;br/&gt;
	at org.apache.myfaces.webapp.filter.ExtensionsFilter.doFilter(ExtensionsFilter.java:97)&lt;br/&gt;
	at com.evermind.server.http.EvermindFilterChain.doFilter(EvermindFilterChain.java:15)&lt;br/&gt;
	at org.apache.myfaces.webapp.filter.ExtensionsFilter.doFilter(ExtensionsFilter.java:144)&lt;br/&gt;
	at com.evermind.server.http.EvermindFilterChain.doFilter(EvermindFilterChain.java:17)&lt;br/&gt;
	at com.cargosmart.webapp.filter.GZIPFilter.doFilterInternal(GZIPFilter.java:57)&lt;br/&gt;
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)&lt;br/&gt;
	at com.evermind.server.http.EvermindFilterChain.doFilter(EvermindFilterChain.java:17)&lt;br/&gt;
	at com.cargosmart.webapp.filter.CargoSmartFilter.doFilter(CargoSmartFilter.java:180)&lt;br/&gt;
	at com.evermind.server.http.EvermindFilterChain.doFilter(EvermindFilterChain.java:17)&lt;br/&gt;
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:70)&lt;br/&gt;
	at com.evermind.server.http.EvermindFilterChain.doFilter(EvermindFilterChain.java:17)&lt;br/&gt;
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:96)&lt;br/&gt;
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)&lt;br/&gt;
	at com.evermind.server.http.ServletRequestDispatcher.invoke(ServletRequestDispatcher.java:621)&lt;br/&gt;
	at com.evermind.server.http.ServletRequestDispatcher.forwardInternal(ServletRequestDispatcher.java:370)&lt;br/&gt;
	at com.evermind.server.http.HttpRequestHandler.doProcessRequest(HttpRequestHandler.java:871)&lt;br/&gt;
	... 6 more&lt;/p&gt;
</description>
                <environment>&lt;p&gt;OC4J 10.1.3.3, myfaces 1.1.4, tomahawk-1.1.3, facelets 1.1.11, jdk 1.5.0_6&lt;/p&gt;</environment>
        <key id="12480675">FILEUPLOAD-187</key>
            <summary>MultipartStream throw ArrayIndexOutOfBoundsException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="emman">emman sun</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Nov 2010 13:49:40 +0000</created>
                <updated>Tue, 12 Mar 2013 10:56:03 +0000</updated>
                                            <version>1.2.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="12934837" author="emman" created="Tue, 23 Nov 2010 14:03:12 +0000"  >&lt;p&gt;The code from MultipartStream.java&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;        private int makeAvailable() throws IOException {
            if (pos != -1) {
                return 0;
            }

            // Move the data to the beginning of the buffer.
            total += tail - head - pad;

            // below line throwed the exception, but 0 &amp;lt;= tail &amp;lt;= bufSize, 
            // 0&amp;lt;=pad&amp;lt;=keepRegion, 
            // seems impossible, so strange
            System.arraycopy(buffer, tail - pad, buffer, 0, pad);   

            // Refill buffer with new data.
            head = 0;
            tail = pad;

            for (;;) {
                int bytesRead = input.read(buffer, tail, bufSize - tail);
                if (bytesRead == -1) {
                    // The last pad amount is left in the buffer.
                    // Boundary can&apos;t be in there so signal an error
                    // condition.
                    final String msg = &quot;Stream ended unexpectedly&quot;;
                    throw new MalformedStreamException(msg);
                }
                if (notifier != null) {
                    notifier.noteBytesRead(bytesRead);
                }
                tail += bytesRead;

                findSeparator();
                int av = available();

                if (av &amp;gt; 0 || pos != -1) {
                    return av;
                }
            }
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13598210" author="tn" created="Sun, 10 Mar 2013 11:09:26 +0000"  >&lt;p&gt;My first guess would be that there is something wrong with the boundary. Would it be possible for you to provide the full multipart content that causes such an error?&lt;/p&gt;</comment>
                            <comment id="13598499" author="emman" created="Mon, 11 Mar 2013 03:26:00 +0000"  >&lt;p&gt;We CAN NOT reproduce it in local/QA env. Any recommended way to dump the full multipart content?&lt;/p&gt;</comment>
                            <comment id="13599914" author="simone.tripodi" created="Tue, 12 Mar 2013 10:56:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=emman&quot; class=&quot;user-hover&quot; rel=&quot;emman&quot;&gt;emman&lt;/a&gt; you can use OSS solutions such as &lt;a href=&quot;http://www.tcpdump.org/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;tcpdump&lt;/a&gt; or &lt;a href=&quot;http://www.wireshark.org/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;WireShark&lt;/a&gt; to sniff the client/server traffic, so you can dump your request.&lt;/p&gt;

&lt;p&gt;I personally use &lt;a href=&quot;http://www.tuffcode.com/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;HttpScoop&lt;/a&gt; on Mac which is simple and straightforward.&lt;/p&gt;

&lt;p&gt;HTH!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43046</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 34 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skhr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164797</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-186] http://commons.apache.org/fileupload/index.html should not mention nightly builds</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-186</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;&lt;a href=&quot;http://commons.apache.org/fileupload/index.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/fileupload/index.html&lt;/a&gt; should not mention nightly builds&lt;/p&gt;

&lt;p&gt;Nightly builds should not be advertised to the general public.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12471067">FILEUPLOAD-186</key>
            <summary>http://commons.apache.org/fileupload/index.html should not mention nightly builds</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="simone.tripodi">Simone Tripodi</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Sun, 8 Aug 2010 16:07:19 +0000</created>
                <updated>Mon, 5 Jun 2017 14:01:14 +0000</updated>
                            <resolved>Wed, 6 Mar 2013 19:35:20 +0000</resolved>
                                    <version>1.2.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13595020" author="simone.tripodi" created="Wed, 6 Mar 2013 19:35:20 +0000"  >&lt;p&gt;fixed in trunk at r1453506&lt;/p&gt;</comment>
                            <comment id="16036994" author="chtompki" created="Mon, 5 Jun 2017 14:01:14 +0000"  >&lt;p&gt;1.3 released.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43047</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skhz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164798</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-185] http://commons.apache.org/fileupload/index.html is out of date</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-185</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;&lt;a href=&quot;http://commons.apache.org/fileupload/index.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/fileupload/index.html&lt;/a&gt; is out of date:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;does not mention 1.2.2&lt;/li&gt;
	&lt;li&gt;older links should point to archive.apache.org&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>&lt;p&gt;&lt;a href=&quot;http://commons.apache.org/fileupload/index.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/fileupload/index.html&lt;/a&gt;&lt;/p&gt;</environment>
        <key id="12471066">FILEUPLOAD-185</key>
            <summary>http://commons.apache.org/fileupload/index.html is out of date</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="simone.tripodi">Simone Tripodi</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Sun, 8 Aug 2010 16:06:10 +0000</created>
                <updated>Tue, 6 Jun 2017 04:23:36 +0000</updated>
                            <resolved>Wed, 6 Mar 2013 19:33:10 +0000</resolved>
                                    <version>1.2.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13595016" author="simone.tripodi" created="Wed, 6 Mar 2013 19:33:10 +0000"  >&lt;p&gt;fixed in trunk at r1453503 and r1453504&lt;/p&gt;</comment>
                            <comment id="16038102" author="chtompki" created="Tue, 6 Jun 2017 04:23:36 +0000"  >&lt;p&gt;1.3 released.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43048</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ski7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164799</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-183] commons-io dependency does not get loaded by maven if only dependency to commons-fileupload is specified</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-183</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;If commons-fileupload is added as dependency (without commons-io explicitly defined) like the following&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;commons-fileupload&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;commons-fileupload&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.2.1&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;scope&amp;gt;&lt;/span&gt;compile&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/scope&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and fileupload is referenced in the code like&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;// Create a factory &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; disk-based file items
&lt;/span&gt;FileItemFactory factory = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DiskFileItemFactory();
&lt;span class=&quot;code-comment&quot;&gt;// Create a &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; file upload handler
&lt;/span&gt;ServletFileUpload upload = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ServletFileUpload(factory);

&lt;span class=&quot;code-comment&quot;&gt;// Parse the request
&lt;/span&gt;List &lt;span class=&quot;code-comment&quot;&gt;/* FileItem */&lt;/span&gt; items = upload.parseRequest(request);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;then NoClassDefFoundError occurs&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt; 
java.lang.NoClassDefFoundError: org/apache/commons/io/output/DeferredFileOutputStream
 at org.apache.commons.fileupload.disk.DiskFileItemFactory.createItem(DiskFileItemFactory.java:196)
 at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:358)
 at org.apache.commons.fileupload.servlet.ServletFileUpload.parseRequest(ServletFileUpload.java:126)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The reason is that commons-fileupload artifact has &lt;b&gt;optional&lt;/b&gt; dependency to commons-io in its pom-file&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;commons-io&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;commons-io&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.3.2&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;optional&amp;gt;&lt;/span&gt;true&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/optional&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Which results in commons-io not being downloaded and added to the project by maven.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Maven 2.2.1&lt;/p&gt;</environment>
        <key id="12468814">FILEUPLOAD-183</key>
            <summary>commons-io dependency does not get loaded by maven if only dependency to commons-fileupload is specified</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="simone.tripodi">Simone Tripodi</assignee>
                                    <reporter username="coldserenity">Roman Arkadijovych Muntyanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Jul 2010 12:45:21 +0000</created>
                <updated>Tue, 6 Jun 2017 04:26:28 +0000</updated>
                            <resolved>Wed, 6 Mar 2013 19:17:48 +0000</resolved>
                                    <version>1.2.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13246450" author="dhartford" created="Wed, 4 Apr 2012 16:39:15 +0000"  >&lt;p&gt;Just recently ran into this exact issue with 1.2.2 as well.  Commons-io should not be optional.   The &apos;common usecases&apos; always need commons-io. &lt;/p&gt;

&lt;p&gt;EDIT: researched, there is an older ticket &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-172&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FILEUPLOAD-172&lt;/a&gt; that identifies that if you do not use DiskFileItem, then you do not need commons-io.&lt;/p&gt;

&lt;p&gt;Unfortunately, this is where maven dependency management and based-on-code-used dependencies fall apart.  Doesn&apos;t sound like a commons-fileupload issue as much as a Maven issue for them to be more verbose about showing/listing transitive optional dependencies (instead, you always have to dig to find them).&lt;/p&gt;

&lt;p&gt;Depending on commonality, maybe make this a compile dependency, but for users who do not want to have commons-io to instead exclude the dependency?&lt;/p&gt;</comment>
                            <comment id="13594989" author="simone.tripodi" created="Wed, 6 Mar 2013 19:08:26 +0000"  >&lt;p&gt;I agree with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dhartford&quot; class=&quot;user-hover&quot; rel=&quot;dhartford&quot;&gt;dhartford&lt;/a&gt;, it should be a compile dependency and users who do not want to have it have to exclude the dependency.&lt;/p&gt;

&lt;p&gt;I am going to apply that modification.&lt;/p&gt;</comment>
                            <comment id="13594998" author="simone.tripodi" created="Wed, 6 Mar 2013 19:17:48 +0000"  >&lt;p&gt;fixed in trunk, see r1453485&lt;/p&gt;</comment>
                            <comment id="16038111" author="chtompki" created="Tue, 6 Jun 2017 04:26:28 +0000"  >&lt;p&gt;1.3 released.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43050</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skin:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164801</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-180] If ServletFileUpload.setSizeMax() is set the values &quot;bytesRead&quot; and &quot;contentLength&quot; of the ProgressListeners update()-method are ZERO</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-180</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I wrote a ProgressListener to visualize the upload of a file.&lt;br/&gt;
The Listener works as expected as long as the sizeMax-value of the ServletFileUpload class is not explicitly set.&lt;br/&gt;
If it is set the update()-method of the ProgressListener has ZERO-values for bytesRead and contentLength ... whats wrong here?
&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;UploadServlet.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;...
FileItemFactory factory = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DiskFileItemFactory();
ServletFileUpload upload = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ServletFileUpload(factory);
upload.setHeaderEncoding(request.getCharacterEncoding());
upload.setFileSizeMax(DEFAULT_SIZE_MAX);
&lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; sizeMax is set the update()-method has ZERO values &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; bytesRead and contentLength
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//upload.setSizeMax(DEFAULT_SIZE_MAX);
&lt;/span&gt;FileUploadListener listener = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileUploadListener(request);
upload.setProgressListener(listener);
			
List items = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
   items = upload.parseRequest(request);
}
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;FileUploadListener.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;FileUploadListener &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; ProgressListener
{
   &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;volatile&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; 
   bytesRead = 0L,
   contentLength = -100L,
   tenKBRead = -1L,
   startTime = &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.currentTimeMillis();
		
   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; FileUploadListener(HttpServletRequest request) 
   {
      &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; HttpSession session = request.getSession();
      session.setAttribute(&lt;span class=&quot;code-quote&quot;&gt;&quot;FILE_UPLOAD_LISTENER&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;);			
   }
	    	
   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void update(&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; aBytesRead, &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; aContentLength, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; anItem)	    
   {
      &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; tenKB = aBytesRead / 10240;
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (tenKBRead == tenKB)
         &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
      tenKBRead = tenKB;
      bytesRead = aBytesRead;
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (contentLength != aContentLength)
         contentLength = aContentLength;
   }

   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; getBytesRead() 
   {
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; bytesRead;
   }

   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; getContentLength() 
   {
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; contentLength;
   }
	    
   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; getElapsedTimeInSeconds()
   {
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.currentTimeMillis() - startTime) / 1000;
   }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; </description>
                <environment>&lt;p&gt;Tomcat 6.0.24&lt;/p&gt;</environment>
        <key id="12456118">FILEUPLOAD-180</key>
            <summary>If ServletFileUpload.setSizeMax() is set the values &quot;bytesRead&quot; and &quot;contentLength&quot; of the ProgressListeners update()-method are ZERO</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="simone.tripodi">Simone Tripodi</assignee>
                                    <reporter username="hooorny">Bj&#246;rn Agel</reporter>
                        <labels>
                            <label>Zero</label>
                            <label>bytesRead</label>
                            <label>contentLength</label>
                            <label>fileupload</label>
                            <label>progress_listener</label>
                            <label>sizeMax</label>
                    </labels>
                <created>Fri, 12 Feb 2010 09:03:27 +0000</created>
                <updated>Mon, 5 Jun 2017 14:00:49 +0000</updated>
                            <resolved>Fri, 15 Mar 2013 15:18:34 +0000</resolved>
                                    <version>1.2.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13598208" author="tn" created="Sun, 10 Mar 2013 11:08:05 +0000"  >&lt;p&gt;I could not yet reproduce the problem, see my test case below:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    @Test
    public void testProgressListener()
            throws IOException, FileUploadException {
        final String request =
            &quot;-----1234\r\n&quot; +
            &quot;Content-Disposition: form-data; name=\&quot;file\&quot;; filename=\&quot;foo.tab\&quot;\r\n&quot; +
            &quot;Content-Type: text/whatever\r\n&quot; +
            &quot;Content-Length: 10\r\n&quot; +
            &quot;\r\n&quot; +
            &quot;This is the content of the file\n&quot; +
            &quot;\r\n&quot; +
            &quot;-----1234--\r\n&quot;;

        ServletFileUpload upload = new ServletFileUpload(new DiskFileItemFactory());
        upload.setFileSizeMax(Long.MAX_VALUE);
        HttpServletRequest req = new MockHttpServletRequest(request.getBytes(&quot;US-ASCII&quot;), CONTENT_TYPE);

        FileUploadListener listener = new FileUploadListener();
        upload.setProgressListener(listener);
        
        List&amp;lt;FileItem&amp;gt; fileItems = upload.parseRequest(req);
        assertEquals(1, fileItems.size());
        FileItem item = fileItems.get(0);
        assertEquals(&quot;This is the content of the file\n&quot;, new String(item.get()));
    }

    public class FileUploadListener implements ProgressListener
    {
       public void update(long aBytesRead, long aContentLength, int anItem)     
       {
           assertTrue(aBytesRead &amp;gt; 0);
           System.out.println(aBytesRead + &quot; &quot; + aContentLength + &quot; &quot; + anItem);
       }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The result is:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;174 -1 0
174 -1 1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This bytesRead in the update method is correctly set. Maybe it is related to your environment, could you come up with a very simple webapp test case to demonstrate this?&lt;/p&gt;</comment>
                            <comment id="13603448" author="simone.tripodi" created="Fri, 15 Mar 2013 15:18:34 +0000"  >&lt;p&gt;I tried with both 1.2.2 and 1.3-SNAPSHOT and cannot reproduce the issue - feel free to reopen it as soon as you can submit a testcase that demonstrates the issue&lt;/p&gt;</comment>
                            <comment id="16036992" author="chtompki" created="Mon, 5 Jun 2017 14:00:49 +0000"  >&lt;p&gt;can&apos;t reproduce.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43053</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skjb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164804</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-179] ProgressListener doesn&apos;t work on Streaming API</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-179</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;When using the Streaming API the update()-method of my ProgressListener is not being called. If I use the parseRequest()-method instead the update()-method is called as expected. Any hints?&lt;/p&gt;</description>
                <environment>&lt;p&gt;Tomcat 6.0.24&lt;/p&gt;</environment>
        <key id="12456114">FILEUPLOAD-179</key>
            <summary>ProgressListener doesn&apos;t work on Streaming API</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="simone.tripodi">Simone Tripodi</assignee>
                                    <reporter username="hooorny">Bj&#246;rn Agel</reporter>
                        <labels>
                            <label>fileupload</label>
                            <label>progress_listener</label>
                            <label>streaming_api</label>
                    </labels>
                <created>Fri, 12 Feb 2010 08:36:45 +0000</created>
                <updated>Mon, 5 Jun 2017 14:00:59 +0000</updated>
                            <resolved>Sun, 10 Mar 2013 20:08:03 +0000</resolved>
                                    <version>1.2.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13598213" author="tn" created="Sun, 10 Mar 2013 11:26:58 +0000"  >&lt;p&gt;I did a similar test as with your other example, this time using the streaming API:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    @Test
    public void testProgressListener()
            throws IOException, FileUploadException {
        final String request =
            &quot;-----1234\r\n&quot; +
            &quot;Content-Disposition: form-data; name=\&quot;file\&quot;; filename=\&quot;foo.tab\&quot;\r\n&quot; +
            &quot;Content-Type: text/whatever\r\n&quot; +
            &quot;Content-Length: 10\r\n&quot; +
            &quot;\r\n&quot; +
            &quot;This is the content of the file\n&quot; +
            &quot;\r\n&quot; +
            &quot;-----1234--\r\n&quot;;

        ServletFileUpload upload = new ServletFileUpload(new DiskFileItemFactory());
        upload.setFileSizeMax(Long.MAX_VALUE);
        HttpServletRequest req = new MockHttpServletRequest(request.getBytes(&quot;US-ASCII&quot;), CONTENT_TYPE);

        FileUploadListener listener = new FileUploadListener();
        upload.setProgressListener(listener);
        
        // Parse the request
        FileItemIterator iter = upload.getItemIterator(req);
        while (iter.hasNext()) {
            FileItemStream item = iter.next();
            String name = item.getFieldName();
            InputStream stream = item.openStream();
            if (item.isFormField()) {
                System.out.println(&quot;Form field &quot; + name + &quot; with value &quot;
                    + Streams.asString(stream) + &quot; detected.&quot;);
            } else {
                System.out.println(&quot;File field &quot; + name + &quot; with file name &quot;
                    + item.getName() + &quot; detected.&quot;);
                // Process the input stream
            }
        }
    }

    public class FileUploadListener implements ProgressListener
    {
       public void update(long aBytesRead, long aContentLength, int anItem)     
       {
           assertTrue(aBytesRead &amp;gt; 0);
           System.out.println(aBytesRead + &quot; &quot; + aContentLength + &quot; &quot; + anItem);
       }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The result is the same:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;174 -1 0
174 -1 1
File field file with file name foo.tab detected.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13598214" author="tn" created="Sun, 10 Mar 2013 11:31:37 +0000"  >&lt;p&gt;Testing with 1.2.2 I get:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;174 174 0
174 174 1
File field file with file name foo.tab detected.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;so there may be a regression wrt the contentLength parameter.&lt;/p&gt;</comment>
                            <comment id="13598215" author="tn" created="Sun, 10 Mar 2013 11:47:01 +0000"  >&lt;p&gt;This change is due to the fact that a new contentLength method has been introduced, which reads the Content-Length header. If none is present -1 is returned, so I guess it would be better that in this case the old &quot;request.getContentLength()&quot; is returned.&lt;/p&gt;</comment>
                            <comment id="13598364" author="simone.tripodi" created="Sun, 10 Mar 2013 19:57:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-228&quot; title=&quot;(Servlet|Portlet)RequestContext#contentLength() must return request.getContentLength() if Content-length header is not available&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-228&quot;&gt;&lt;del&gt;FILEUPLOAD-228&lt;/del&gt;&lt;/a&gt; reintroduces the expected behaviour, it now prints&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;174 174 0
174 174 1
File field `file` with file name `foo.tab` detected.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13598367" author="simone.tripodi" created="Sun, 10 Mar 2013 20:08:03 +0000"  >&lt;p&gt;Following the sample provided by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tn&quot; class=&quot;user-hover&quot; rel=&quot;tn&quot;&gt;tn&lt;/a&gt; will fixes the reporter&apos;s issue&lt;/p&gt;</comment>
                            <comment id="16036993" author="chtompki" created="Mon, 5 Jun 2017 14:00:59 +0000"  >&lt;p&gt;can&apos;t reproduce.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43054</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skjj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164805</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-178] Issue in File upload using commons fileupload</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-178</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I&apos;m facing problem while file uploading&lt;br/&gt;
the code snippet is here&lt;/p&gt;

&lt;p&gt;// Create a factory for disk-based file items&lt;br/&gt;
FileItemFactory factory = new DiskFileItemFactory();&lt;/p&gt;

&lt;p&gt;// Create a new file upload handler&lt;br/&gt;
ServletFileUpload upload = new ServletFileUpload(factory);&lt;/p&gt;

&lt;p&gt;// Parse the request&lt;br/&gt;
List items = upload.parseRequest(request);&lt;br/&gt;
The Item list size is always 0.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433570">FILEUPLOAD-178</key>
            <summary>Issue in File upload using commons fileupload</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jackline">Namrata</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Aug 2009 13:42:06 +0000</created>
                <updated>Sun, 27 Dec 2009 20:00:20 +0000</updated>
                            <resolved>Sun, 27 Dec 2009 20:00:20 +0000</resolved>
                                    <version>1.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="604800">168h</timeoriginalestimate>
                            <timeestimate seconds="604800">168h</timeestimate>
                                        <comments>
                            <comment id="12747132" author="martinc" created="Mon, 24 Aug 2009 23:12:18 +0000"  >&lt;p&gt;&lt;a href=&quot;http://commons.apache.org/fileupload/faq.html#empty-parse&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/fileupload/faq.html#empty-parse&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43055</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 11 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skjr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164806</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-176] &quot;Stream ended unexpectedly&quot;</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-176</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;we are getting below error log,  when i am trying to open uploaded  file from my screen.&lt;/p&gt;

&lt;p&gt;our screen is having three tab buttons like tab A,B,C . each tab having huge form data and calculate total button. &lt;br/&gt;
when i am click on A,C tab evering thing is working fine with files. &lt;br/&gt;
we are getting problem with C tab (not able to open file),this tab is having huge data,calculate total button and uploaded files data . when i am trying to open files this time i am getting below &quot;error log&quot;problem &quot;&lt;/p&gt;

&lt;p&gt;please can you give me your valuable sugession to resolve this problem.........&lt;/p&gt;

&lt;p&gt;2009-05-26 12:32:38 StandardWrapperValve&lt;span class=&quot;error&quot;&gt;&amp;#91;action&amp;#93;&lt;/span&gt;: Servlet.service() for servlet action threw exception&lt;br/&gt;
org.apache.commons.fileupload.FileUploadException: Processing of multipart/form-data request failed. Stream ended unexpectedly&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:429)&lt;br/&gt;
	at org.apache.struts.upload.CommonsMultipartRequestHandler.handleRequest(CommonsMultipartRequestHandler.java:193)&lt;br/&gt;
	at org.apache.struts.util.RequestUtils.populate(RequestUtils.java:443)&lt;br/&gt;
	at org.apache.struts.action.RequestProcessor.processPopulate(RequestProcessor.java:805)&lt;br/&gt;
	at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:203)&lt;br/&gt;
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1194)&lt;br/&gt;
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:432)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:709)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:237)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:157)&lt;br/&gt;
	at org.extremecomponents.table.filter.AbstractExportFilter.doFilter(AbstractExportFilter.java:49)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:186)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:157)&lt;br/&gt;
	at org.displaytag.filter.ResponseOverrideFilter.doFilter(ResponseOverrideFilter.java:125)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:186)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:157)&lt;br/&gt;
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:214)&lt;br/&gt;
	at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)&lt;br/&gt;
	at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)&lt;br/&gt;
	at org.apache.catalina.core.StandardContextValve.invokeInternal(StandardContextValve.java:198)&lt;br/&gt;
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:152)&lt;br/&gt;
	at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)&lt;br/&gt;
	at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)&lt;br/&gt;
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)&lt;br/&gt;
	at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)&lt;br/&gt;
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:118)&lt;br/&gt;
	at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:102)&lt;br/&gt;
	at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)&lt;br/&gt;
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)&lt;br/&gt;
	at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)&lt;br/&gt;
	at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)&lt;br/&gt;
	at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:929)&lt;br/&gt;
	at org.apache.coyote.tomcat5.CoyoteAdapter.service(CoyoteAdapter.java:160)&lt;br/&gt;
	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:799)&lt;br/&gt;
	at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:705)&lt;br/&gt;
	at org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:577)&lt;br/&gt;
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:683)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:534)&lt;/p&gt;</description>
                <environment>&lt;p&gt;struts1.1,spring1.2,common-fileupload1.0,jdk1.4.2,sqlserver2000&lt;/p&gt;</environment>
        <key id="12427092">FILEUPLOAD-176</key>
            <summary>&quot;Stream ended unexpectedly&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="venki6666">GVRao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Jun 2009 07:52:09 +0000</created>
                <updated>Mon, 5 Jun 2017 14:39:33 +0000</updated>
                            <resolved>Thu, 4 Jun 2009 08:04:50 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12716192" author="jochen@apache.org" created="Thu, 4 Jun 2009 08:04:20 +0000"  >&lt;p&gt;This is the third attempt to query for the same issue. I have stated twice that you need to contact the Struts mailing list.&lt;/p&gt;</comment>
                            <comment id="12716193" author="jochen@apache.org" created="Thu, 4 Jun 2009 08:04:50 +0000"  >&lt;p&gt;Duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-174&quot; title=&quot;Java.Lang.OutOfMemoryError while trying to post huge data with enctype=&amp;quot;multipart/form-data&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-174&quot;&gt;&lt;del&gt;FILEUPLOAD-174&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-175&quot; title=&quot;java.lang.outofmemoryerror (Processing of multipart/form-data request failed. Stream ended unexpectedly).&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-175&quot;&gt;&lt;del&gt;FILEUPLOAD-175&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16037050" author="chtompki" created="Mon, 5 Jun 2017 14:39:33 +0000"  >&lt;p&gt;invalid.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12427009">FILEUPLOAD-175</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43057</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skk7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164808</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-175] java.lang.outofmemoryerror (Processing of multipart/form-data request failed. Stream ended unexpectedly).</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-175</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>

&lt;p&gt;hanging the system some periodic time while posting huge form data with files upload by using struts1.1 commons-fileupload , after some time its getting Java.Lang.OutOfMmeoryError.&lt;/p&gt;

&lt;p&gt;2009-05-26 12:32:43 StandardWrapperValve&lt;span class=&quot;error&quot;&gt;&amp;#91;action&amp;#93;&lt;/span&gt;: Servlet.service() for servlet action threw exception&lt;br/&gt;
org.apache.commons.fileupload.FileUploadException: Processing of multipart/form-data request failed. Stream ended unexpectedly&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:429)&lt;br/&gt;
	at org.apache.struts.upload.CommonsMultipartRequestHandler.handleRequest(CommonsMultipartRequestHandler.java:193)&lt;br/&gt;
	at org.apache.struts.util.RequestUtils.populate(RequestUtils.java:443)&lt;br/&gt;
	at org.apache.struts.action.RequestProcessor.processPopulate(RequestProcessor.java:805)&lt;br/&gt;
	at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:203)&lt;br/&gt;
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1194)&lt;br/&gt;
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:432)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:709)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:237)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:157)&lt;br/&gt;
	at org.extremecomponents.table.filter.AbstractExportFilter.doFilter(AbstractExportFilter.java:49)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:186)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:157)&lt;br/&gt;
	at org.displaytag.filter.ResponseOverrideFilter.doFilter(ResponseOverrideFilter.java:125)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:186)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:157)&lt;br/&gt;
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:214)&lt;br/&gt;
	at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)&lt;br/&gt;
	at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)&lt;br/&gt;
	at org.apache.catalina.core.StandardContextValve.invokeInternal(StandardContextValve.java:198)&lt;br/&gt;
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:152)&lt;br/&gt;
	at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)&lt;br/&gt;
	at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)&lt;br/&gt;
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)&lt;br/&gt;
	at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)&lt;br/&gt;
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:118)&lt;br/&gt;
	at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:102)&lt;br/&gt;
	at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)&lt;br/&gt;
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)&lt;br/&gt;
	at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)&lt;br/&gt;
	at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)&lt;br/&gt;
	at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:929)&lt;br/&gt;
	at org.apache.coyote.tomcat5.CoyoteAdapter.service(CoyoteAdapter.java:160)&lt;br/&gt;
	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:799)&lt;br/&gt;
	at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:705)&lt;br/&gt;
	at org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:577)&lt;br/&gt;
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:683)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:534)&lt;/p&gt;</description>
                <environment>&lt;p&gt;jdk1.4.2_09,jsp,servlets,strust1.1,spring jdbc,sqlserver2000,&lt;/p&gt;</environment>
        <key id="12427009">FILEUPLOAD-175</key>
            <summary>java.lang.outofmemoryerror (Processing of multipart/form-data request failed. Stream ended unexpectedly).</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="venki6666">GVRao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Jun 2009 07:17:41 +0000</created>
                <updated>Tue, 6 Jun 2017 04:29:46 +0000</updated>
                            <resolved>Wed, 3 Jun 2009 18:30:54 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12716022" author="jochen@apache.org" created="Wed, 3 Jun 2009 18:30:54 +0000"  >&lt;p&gt;Commons FileUpload provides a streaming API, which allows to process an arbitrary number of items with arbitrary size. The problem is obviously, that Struts in general or at least your application in particular doesn&apos;t make use of that API. Please contact the Struts mailing lists.&lt;/p&gt;</comment>
                            <comment id="16038117" author="chtompki" created="Tue, 6 Jun 2017 04:29:46 +0000"  >&lt;p&gt;invalid.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12427092">FILEUPLOAD-176</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43058</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skkf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164809</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-174] Java.Lang.OutOfMemoryError while trying to post huge data with enctype=&quot;multipart/form-data&quot;</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-174</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;1: I am getting java.lang.OutOfMemoryError when the form in my jsp code is as below. &lt;/p&gt;

&lt;p&gt;&amp;lt;html:form action=&quot;/actnMpng&quot; enctype=&quot;multipart/form-data&quot; method =&quot;post&quot; &amp;gt; &lt;br/&gt;
&amp;#8211; JSP code ? containing very huge data (hidden parameters) with file upload attachment facility (&amp;lt;html:file/&amp;gt;). &lt;/p&gt;

&lt;p&gt;&amp;lt;/html:form&amp;gt; &lt;/p&gt;

&lt;p&gt;This is throwing OutOfMemoryError eventhough I am not attaching/uploading any files.&lt;/p&gt;

&lt;p&gt;2:***  The same data is getting posted successfully if the form is submitted with out &lt;br/&gt;
enctype=&quot;multipart/form-data&quot; and without providing the attachment facility. &lt;/p&gt;

&lt;p&gt;3: Also if the data (number of items which are dynamic) is less, the form is not throwing Out of memory exception even though we are submitting with enctype=&quot;multipart/form-data&quot; with file upload attachment fecility. &lt;/p&gt;

&lt;p&gt;Please find the below log generated in Tomcat.&lt;/p&gt;

&lt;p&gt;2009-06-02 16:51:42 StandardWrapperValve&lt;span class=&quot;error&quot;&gt;&amp;#91;action&amp;#93;&lt;/span&gt;: Servlet.service() for servlet action threw exception&lt;br/&gt;
java.lang.OutOfMemoryError&lt;/p&gt;


&lt;p&gt;plese let me know if anybody came across this problem. &lt;/p&gt;</description>
                <environment>&lt;p&gt;Tomcat 5.0, JDK 1.4.2_09, SQLServer 2000, Struts 1.1, Spring 1.2.4&lt;/p&gt;</environment>
        <key id="12426930">FILEUPLOAD-174</key>
            <summary>Java.Lang.OutOfMemoryError while trying to post huge data with enctype=&quot;multipart/form-data&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="developersam">Sambasiva Rao J</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Jun 2009 14:39:32 +0000</created>
                <updated>Sat, 3 Jun 2017 17:18:41 +0000</updated>
                            <resolved>Tue, 2 Jun 2009 14:57:51 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12715546" author="jochen@apache.org" created="Tue, 2 Jun 2009 14:57:51 +0000"  >&lt;p&gt;Commons FileUpload provides a streaming API, which allows to process an arbitrary number of items with arbitrary size. The problem is obviously, that Struts in general or at least your application in particular doesn&apos;t make use of that API. Please contact the Struts mailing lists.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43059</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skkn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164810</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-173] Manifest for OSGi has invalid syntax</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-173</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;This is the manfest file for version 1.2.1 of fileupload;&lt;/p&gt;

&lt;p&gt;Manifest-Version: 1.0&lt;br/&gt;
Archiver-Version: Plexus Archiver&lt;br/&gt;
Created-By: Apache Maven&lt;br/&gt;
Built-By: jwi&lt;br/&gt;
Build-Jdk: 1.6.0_03&lt;br/&gt;
Bundle-License: &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0.txt&lt;/a&gt;&lt;br/&gt;
Bundle-ManifestVersion: 2&lt;br/&gt;
Bundle-Name: Apache Commons FileUpload Bundle&lt;br/&gt;
Bundle-SymbolicName: org.apache.commons.fileupload&lt;br/&gt;
Bundle-Vendor: The Apache Software Foundation&lt;br/&gt;
Bundle-Version: 1.2.1&lt;br/&gt;
DynamicImport-Package: javax.portlet&lt;br/&gt;
Export-Package: org.apache.commons.fileupload;version=1.2.1,&lt;br/&gt;
 org.apache.commons.fileupload.disk;version=1.2.1,&lt;br/&gt;
 org.apache.commons.fileupload.portlet;version=1.2.1,&lt;br/&gt;
 org.apache.commons.fileupload.servlet;version=1.2.1,&lt;br/&gt;
 org.apache.commons.fileupload.util;version=1.2.1&lt;br/&gt;
Implementation-Title: Commons FileUpload&lt;br/&gt;
Implementation-Vendor: The Apache Software Foundation&lt;br/&gt;
Implementation-Vendor-Id: org.apache&lt;br/&gt;
Implementation-Version: 1.2.1&lt;br/&gt;
Import-Package: org.apache.commons.fileupload;version=1.2.1,&lt;br/&gt;
 org.apache.commons.fileupload.disk;version=1.2.1,&lt;br/&gt;
 org.apache.commons.fileupload.portlet;version=1.2.1,&lt;br/&gt;
 org.apache.commons.fileupload.servlet;version=1.2.1,&lt;br/&gt;
 org.apache.commons.fileupload.util;version=1.2.1,&lt;br/&gt;
 org.apache.commons.io,&lt;br/&gt;
 org.apache.commons.io.output,&lt;br/&gt;
 javax.servlet,&lt;br/&gt;
 javax.servlet.http&lt;br/&gt;
Specification-Title: Commons FileUpload&lt;br/&gt;
Specification-Vendor: The Apache Software Foundation&lt;br/&gt;
Specification-Version: 1.2.1&lt;br/&gt;
X-Compile-Source-JDK: 1.3&lt;br/&gt;
X-Compile-Target-JDK: 1.3&lt;/p&gt;

&lt;p&gt;The version attributes on export-package / import-package should have quotes around them.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12425055">FILEUPLOAD-173</key>
            <summary>Manifest for OSGi has invalid syntax</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="simone.tripodi">Simone Tripodi</assignee>
                                    <reporter username="bjornharvold">Bjorn Harvold</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 May 2009 03:30:10 +0000</created>
                <updated>Tue, 6 Jun 2017 04:48:15 +0000</updated>
                            <resolved>Wed, 6 Mar 2013 19:03:03 +0000</resolved>
                                    <version>1.2.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="12707919" author="jochen@apache.org" created="Mon, 11 May 2009 07:25:31 +0000"  >&lt;p&gt;Bjorn, I have absolutely no idea about OSGI. So, do you have a pointer to some specification extract or some other evidence that allows me to confirm your claim?&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="12708051" author="bjornharvold" created="Mon, 11 May 2009 14:31:00 +0000"  >&lt;p&gt;Hi Jochen,&lt;/p&gt;

&lt;p&gt;Take a look at this post:&lt;br/&gt;
&lt;a href=&quot;http://blog.springsource.com/2008/11/22/diagnosing-osgi-uses-conflicts/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://blog.springsource.com/2008/11/22/diagnosing-osgi-uses-conflicts/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13594984" author="simone.tripodi" created="Wed, 6 Mar 2013 19:03:03 +0000"  >&lt;p&gt;Fixed in trunk - latest version of bundle-plugin produces the right version, for current development version we have&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Manifest-Version: 1.0
Bnd-LastModified: 1362594108541
Build-Jdk: 1.6.0_37
Built-By: stripodi
Bundle-Description: The FileUpload component provides a simple yet flexi
 ble means of adding support for multipart    file upload functionality 
 to servlets and web applications.
Bundle-DocURL: http://commons.apache.org/fileupload/
Bundle-License: http://www.apache.org/licenses/LICENSE-2.0.txt
Bundle-ManifestVersion: 2
Bundle-Name: Commons FileUpload
Bundle-SymbolicName: org.apache.commons.fileupload
Bundle-Vendor: The Apache Software Foundation
Bundle-Version: 1.3.0.SNAPSHOT
Created-By: Apache Maven Bundle Plugin
DynamicImport-Package: javax.portlet
Export-Package: org.apache.commons.fileupload.util;version=&quot;1.3.0.SNAPSH
 OT&quot;,org.apache.commons.fileupload.disk;version=&quot;1.3.0.SNAPSHOT&quot;,org.apa
 che.commons.fileupload;version=&quot;1.3.0.SNAPSHOT&quot;,org.apache.commons.file
 upload.servlet;version=&quot;1.3.0.SNAPSHOT&quot;,org.apache.commons.fileupload.p
 ortlet;version=&quot;1.3.0.SNAPSHOT&quot;
Import-Package: javax.servlet,javax.servlet.http,org.apache.commons.io,o
 rg.apache.commons.io.output
Include-Resource: META-INF/LICENSE.txt=LICENSE.txt,META-INF/NOTICE.txt=N
 OTICE.txt
Tool: Bnd-1.50.0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16038141" author="chtompki" created="Tue, 6 Jun 2017 04:48:15 +0000"  >&lt;p&gt;1.3 released.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43060</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164811</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-172] commons-io not an optional dependency</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-172</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;commons-io is declared an optional dependency in the pom file, while DiskFileItemFactory actually directly references FileCleaningTracker.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12413208">FILEUPLOAD-172</key>
            <summary>commons-io not an optional dependency</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jingxue">Jing Xue</reporter>
                        <labels>
                    </labels>
                <created>Sun, 25 Jan 2009 17:35:50 +0000</created>
                <updated>Sun, 27 Dec 2009 20:18:21 +0000</updated>
                            <resolved>Sun, 27 Dec 2009 20:18:21 +0000</resolved>
                                    <version>1.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12794730" author="martinc" created="Sun, 27 Dec 2009 20:18:21 +0000"  >&lt;p&gt;The use of DiskFileItem is itself optional, which makes Commons IO optional as well.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43061</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 45 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skl3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164812</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-170] problem in parseRequest method of </title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-170</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I&apos;m facing problem to build progressbar while file uploading&lt;br/&gt;
the code snippet is here&lt;/p&gt;

&lt;p&gt;// Create a factory for disk-based file items&lt;br/&gt;
FileItemFactory factory = new DiskFileItemFactory();&lt;/p&gt;

&lt;p&gt;// Create a new file upload handler&lt;br/&gt;
ServletFileUpload upload = new ServletFileUpload(factory);&lt;/p&gt;

&lt;p&gt;// Parse the request&lt;br/&gt;
List   items = upload.parseRequest(request);&lt;br/&gt;
In items i&apos;m always getting null&lt;/p&gt;</description>
                <environment>&lt;p&gt;OS: fedora7&lt;br/&gt;
IDE:Netbeans&lt;/p&gt;</environment>
        <key id="12410680">FILEUPLOAD-170</key>
            <summary>problem in parseRequest method of </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="vaishalidolas">vaishali dolas</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Dec 2008 05:58:35 +0000</created>
                <updated>Sat, 3 Jun 2017 17:19:46 +0000</updated>
                            <resolved>Mon, 15 Dec 2008 07:31:01 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12656557" author="jochen@apache.org" created="Mon, 15 Dec 2008 06:32:45 +0000"  >&lt;p&gt;Looking through the code of FileUploadBase.parseRequest, I can think of no possibility how this could return null. Are you using another version than commons-fileupload 1.2.x?&lt;/p&gt;</comment>
                            <comment id="12656561" author="vaishalidolas" created="Mon, 15 Dec 2008 07:08:12 +0000"  >&lt;p&gt;I&apos;m using commons-fileupload 1.2.1 version&lt;br/&gt;
Some one told me that This most commonly happens when the request has already been parsed, or processed in some other way. Since the input stream has aleady been consumed by that earlier process, it is no longer available for parsing by Commons FileUpload.&lt;/p&gt;

&lt;p&gt;Am i required to write my own MultiPartRequest handler to get solution.But i&apos;m very new to this struts2.&lt;br/&gt;
Can you tell me is it will solve my problem.&amp;amp; if so then how to implement that class?&lt;/p&gt;</comment>
                            <comment id="12656563" author="jochen@apache.org" created="Mon, 15 Dec 2008 07:30:30 +0000"  >&lt;p&gt;I&apos;ll show you the code. (See below.) Assuming that there is no bug in the JVM (for which commons-fileupload cannot take responsibility), note that:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The variable &quot;items&quot; is initialized at the beginning. It is never changed.&lt;br/&gt;
  It can never be null.&lt;/li&gt;
	&lt;li&gt;There is only one &quot;return&quot; statement, which returns &quot;items&quot;. Hence it&lt;br/&gt;
  is impossible that null is returned.&lt;/li&gt;
	&lt;li&gt;The elements added to &quot;items&quot; are stored in the variable &quot;fileItem&quot;.&lt;/li&gt;
	&lt;li&gt;These elements can also never be null: Otherwise, you&apos;d get a NullPointerException&lt;br/&gt;
  when Streams.copy is invoked.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Please contact the Struts users mailing list for help. This is a bug tracker, not a support forum.&lt;/p&gt;




&lt;p&gt;    public List /* FileItem */ parseRequest(RequestContext ctx)&lt;br/&gt;
            throws FileUploadException {&lt;br/&gt;
        try {&lt;br/&gt;
            FileItemIterator iter = getItemIterator(ctx);&lt;br/&gt;
            List items = new ArrayList();&lt;br/&gt;
            FileItemFactory fac = getFileItemFactory();&lt;br/&gt;
            if (fac == null) &lt;/p&gt;
{
                throw new NullPointerException(
                    &quot;No FileItemFactory has been set.&quot;);
            }
&lt;p&gt;            while (iter.hasNext()) {&lt;br/&gt;
                FileItemStream item = iter.next();&lt;br/&gt;
                FileItem fileItem = fac.createItem(item.getFieldName(),&lt;br/&gt;
                        item.getContentType(), item.isFormField(),&lt;br/&gt;
                        item.getName());&lt;br/&gt;
                try &lt;/p&gt;
{
                    Streams.copy(item.openStream(), fileItem.getOutputStream(),
                            true);
                }
&lt;p&gt; catch (FileUploadIOException e) &lt;/p&gt;
{
                    throw (FileUploadException) e.getCause();
                }
&lt;p&gt; catch (IOException e) &lt;/p&gt;
{
                    throw new IOFileUploadException(
                            &quot;Processing of &quot; + MULTIPART_FORM_DATA
                            + &quot; request failed. &quot; + e.getMessage(), e);
                }
&lt;p&gt;                if (fileItem instanceof FileItemHeadersSupport) &lt;/p&gt;
{
                    final FileItemHeaders fih = item.getHeaders();
                    ((FileItemHeadersSupport) fileItem).setHeaders(fih);
                }
&lt;p&gt;                items.add(fileItem);&lt;br/&gt;
            }&lt;br/&gt;
            return items;&lt;br/&gt;
        } catch (FileUploadIOException e) &lt;/p&gt;
{
            throw (FileUploadException) e.getCause();
        }
&lt;p&gt; catch (IOException e) &lt;/p&gt;
{
            throw new FileUploadException(e.getMessage(), e);
        }
&lt;p&gt;    }&lt;/p&gt;</comment>
                            <comment id="12656564" author="jochen@apache.org" created="Mon, 15 Dec 2008 07:31:01 +0000"  >&lt;p&gt;As discussed in the previous comment.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43062</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 47 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sklb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164813</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-169] FileItemStreamImpl closes underlying stream on LimitedInputStream exception</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-169</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;FileUploadBase uses a LimitedInputStream to manage the fileSizeMax limit.  If the limit is exceeded the raiseError message closes the stream and throws a FileSizeLimitExceededException.&lt;/p&gt;

&lt;p&gt;Unfortunately the close method is called with true to close the underlying MultipartStream.  This means that additional calls to FileItemIteratorImpl will fail as findNextItem() throws a MalformedStreamException.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410488">FILEUPLOAD-169</key>
            <summary>FileItemStreamImpl closes underlying stream on LimitedInputStream exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="philw">Phillip Webb</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Dec 2008 16:08:53 +0000</created>
                <updated>Sat, 3 Jun 2017 17:19:55 +0000</updated>
                            <resolved>Sun, 18 Jan 2009 02:53:22 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12655681" author="philw" created="Thu, 11 Dec 2008 16:10:33 +0000"  >&lt;p&gt;Attached patch&lt;/p&gt;</comment>
                            <comment id="12664917" author="jochen@apache.org" created="Sun, 18 Jan 2009 02:53:22 +0000"  >&lt;p&gt;Phillip, I am sorry, but I won&apos;t do anything in that area.&lt;/p&gt;

&lt;p&gt;The limits are a security measure and designed to prevent DOS attacks. Obviously, your fear is not a DOS. But then you should question yourself, whether you need these limits at all and whether it wouldn&apos;t be just better to iterate over the parameters using the streaming API without throwing any exceptions, possibly discarding files, which become too large.&lt;/p&gt;</comment>
                            <comment id="12665080" author="philw" created="Mon, 19 Jan 2009 09:38:12 +0000"  >&lt;p&gt;I am actually not using FileUpload directly but instead relying on a MyFaces Tomahawk component that I am trying to fix up (see &lt;a href=&quot;https://issues.apache.org/jira/browse/TOMAHAWK-1381&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TOMAHAWK-1381&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;I am a little confused by the API, there is a setFileSizeMax and a setSizeMax.  sizeMax is the maximum total and fileSizeMax is the maximum per file?  Are you saying that if a FileSizeLimitExceededException is thrown then this exception should be considered fatal and further calls to the iterator will fail?  &lt;/p&gt;

&lt;p&gt;I that is the case perhaps some additional doc comments could be added to FileSizeLimitExceededException to indicate that the exception cannot be caught as part of any iterators?&lt;/p&gt;

&lt;p&gt;I will try and rework my Tomahawk patch to work as you suggest.&lt;/p&gt;

&lt;p&gt;Cheers.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12395844" name="FILEUPLOAD-169.patch" size="828" author="philw" created="Thu, 11 Dec 2008 16:10:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43063</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 42 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sklj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164814</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-167] Wrong .tmp file being passes by Internet Explorer (works fine in Firefox)</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-167</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;the tmp file name passed by the apache commons file upload library to my struts action is wrong only in IE.&lt;/p&gt;

&lt;p&gt;The .tmp file that is created in the temp directory in the tomcat server is different to what gets passed through to the action class. &lt;/p&gt;

&lt;p&gt;When using firefox , the correct .tmp file gets passed across.&lt;/p&gt;</description>
                <environment>&lt;p&gt;windows/linux&lt;/p&gt;</environment>
        <key id="12405675">FILEUPLOAD-167</key>
            <summary>Wrong .tmp file being passes by Internet Explorer (works fine in Firefox)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="manish_saroha">manish saroha</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Oct 2008 04:42:08 +0000</created>
                <updated>Sat, 3 Jun 2017 17:16:51 +0000</updated>
                            <resolved>Sun, 18 Jan 2009 01:29:57 +0000</resolved>
                                    <version>1.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12664895" author="jochen@apache.org" created="Sun, 18 Jan 2009 01:29:57 +0000"  >&lt;p&gt;This is most likely the same problem than &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-135&quot; title=&quot;InputStream created with Streaming API returns EOF on first read() for short files uploaded from FireFox over HTTPS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-135&quot;&gt;&lt;del&gt;FILEUPLOAD-135&lt;/del&gt;&lt;/a&gt;. Please upgrade.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43065</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sklz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164816</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-163] Temporary file soon got deleted before I can reference</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-163</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Here is the partial of codes I apply for Apache File upload&lt;/p&gt;

&lt;p&gt;diskFileItemFactory = new DiskFileItemFactory();&lt;br/&gt;
diskFileItemFactory.setRepository(new File(tmpDirectory));&lt;br/&gt;
diskFileItemFactory.setFileCleaningTracker(null);&lt;br/&gt;
fileUpload = new ServletFileUpload(diskFileItemFactory);  &lt;br/&gt;
items = fileUpload.parseRequest(httpServletRequest);&lt;/p&gt;

&lt;p&gt;This problem happens often but not always, sometimes it can be successfully run.&lt;/p&gt;

&lt;p&gt;The problem is when I attempt to reference the file object, the real data file stored in my temporary directory soon got deleted before I can reference. After some research on my own, I discovered that there could be a file cleaning tracker there to clean up the temporary file, but after disabling it it still didn&apos;t solve the bug.&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Windows Vista Home, Apache Tomcat 6.0&lt;/p&gt;</environment>
        <key id="12400622">FILEUPLOAD-163</key>
            <summary>Temporary file soon got deleted before I can reference</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="ktian">Kevin Tian</reporter>
                        <labels>
                    </labels>
                <created>Sun, 20 Jul 2008 14:54:03 +0000</created>
                <updated>Mon, 5 Jun 2017 13:52:35 +0000</updated>
                            <resolved>Sun, 18 Jan 2009 01:30:56 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12615226" author="jochen@apache.org" created="Mon, 21 Jul 2008 12:31:15 +0000"  >&lt;p&gt;What do you exactly mean by &quot;attempt to reference the file object&quot;? And at what point in time does that occur? Within the same HTTP request or deferred in another piece of code or another thread?&lt;/p&gt;
</comment>
                            <comment id="12664896" author="jochen@apache.org" created="Sun, 18 Jan 2009 01:30:56 +0000"  >&lt;p&gt;No response from user, closing.&lt;/p&gt;</comment>
                            <comment id="16036964" author="chtompki" created="Mon, 5 Jun 2017 13:52:35 +0000"  >&lt;p&gt;Invalid&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43069</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skmv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164820</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-162] NullPtr after object unserialized because file cleaned meanwhile</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-162</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;When I serialize DiskFileItem which are not &apos;inmemory&apos; and unserialize them back,&lt;br/&gt;
I get a crash in isInMemory, because the file cited in the serialized content have been deleted meanwhile.&lt;/p&gt;

&lt;p&gt;here is a patch I propose&lt;/p&gt;

&lt;p&gt;private void writeObject(ObjectOutputStream out) throws IOException &lt;/p&gt;
{
		// Read the data
		cachedContent=get();// get in mem before serialize en m&#233;moire
		// write out values
		out.defaultWriteObject();
                cachedContent=null;//clean mem... not so usefull since object will probably die soon, but...
	}
</description>
                <environment>&lt;p&gt;all&lt;/p&gt;</environment>
        <key id="12400038">FILEUPLOAD-162</key>
            <summary>NullPtr after object unserialized because file cleaned meanwhile</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="alain.coetmeur@caissedesdepots.fr">Alain Coetmeur</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Jul 2008 16:53:14 +0000</created>
                <updated>Tue, 6 Jun 2017 04:47:47 +0000</updated>
                            <resolved>Sun, 18 Jan 2009 01:32:57 +0000</resolved>
                                    <version>1.2</version>
                    <version>1.2.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="12664897" author="jochen@apache.org" created="Sun, 18 Jan 2009 01:32:57 +0000"  >&lt;p&gt;Serializable file items have been a design error right from the start. If you have issues like yours, please use a custom FileItemFactory.&lt;/p&gt;</comment>
                            <comment id="16038139" author="chtompki" created="Tue, 6 Jun 2017 04:47:47 +0000"  >&lt;p&gt;won&apos;t fix.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43070</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164821</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-161] Default headerEncoding should be ISO-8859-1</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-161</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;When the browser does not include an encoding, commons-fileupload is using the system default, but the standard says that it should be using ISO-8859-1:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://bugzilla.mozilla.org/show_bug.cgi?id=241540&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugzilla.mozilla.org/show_bug.cgi?id=241540&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The link includes links to the corresponding sections of the RFC. This issue is related to &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-56&quot; title=&quot;[FileUpload] uploading files with non-ASCII filenames&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-56&quot;&gt;&lt;del&gt;FILEUPLOAD-56&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-100&quot; title=&quot;[fileupload] Allow to set headerEncoding to other than platform default encoding for fall-back&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-100&quot;&gt;&lt;del&gt;FILEUPLOAD-100&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;To reproduce this bug, try to upload a file including special characters from a ISO-8859-1 browser (firefox or explorer on windows) to a UTF-8 server with tomcat. The file contents arrive fine, but any special characters in the filename get lost. &lt;/p&gt;

&lt;p&gt;A patch follows.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12397481">FILEUPLOAD-161</key>
            <summary>Default headerEncoding should be ISO-8859-1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="icoloma">Ignacio Coloma</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Jun 2008 14:52:09 +0000</created>
                <updated>Mon, 24 Nov 2008 15:16:21 +0000</updated>
                            <resolved>Mon, 24 Nov 2008 15:16:21 +0000</resolved>
                                    <version>1.2.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="10800">3h</timeoriginalestimate>
                            <timeestimate seconds="10800">3h</timeestimate>
                                        <comments>
                            <comment id="12650224" author="icoloma" created="Mon, 24 Nov 2008 15:16:21 +0000"  >&lt;p&gt;After further testing, the standard says that ISO-8859-1 is the default charset but also that the browser should use the same encoding of the last response received, which is what&apos;s happening. This is error prone, as the default charset used by the browser will be different upon this being the first request or not.&lt;/p&gt;

&lt;p&gt;Supposing a default ISO8859-1 is as wrong as using UTF-8. Instead, it&apos;s easier to set the default response encoding to UTF-8 (which is the official recommendation of the w3c, anyways), and by doing that the current implementation would be doing the right thing (parsing any other request as UTF-8).&lt;/p&gt;

&lt;p&gt;I&apos;m marking the patch as INVALID.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12383383" name="patch.txt" size="1038" author="icoloma" created="Wed, 4 Jun 2008 14:53:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43071</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 50 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sknb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164822</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-160] disk leak if multipart parse error</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-160</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;FleUploadBase.parseRequest() keeps files on disk if parser error occured. Patch&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;diff -r cf24bc636e09 -r f706d95f56b7 src/java/org/apache/commons/fileupload/FileUploadBase.java
--- a/src/java/org/apache/commons/fileupload/FileUploadBase.java	Wed May 28 22:25:00 2008 +0400
+++ b/src/java/org/apache/commons/fileupload/FileUploadBase.java	Thu May 29 15:40:04 2008 +0400
@@ -345,9 +345,10 @@
      */
     &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; List &lt;span class=&quot;code-comment&quot;&gt;/* FileItem */&lt;/span&gt; parseRequest(RequestContext ctx)
             &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; FileUploadException {
+        List items = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList();
+        &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; successful = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
         &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
             FileItemIterator iter = getItemIterator(ctx);
-            List items = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList();
             FileItemFactory fac = getFileItemFactory();
             &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (fac == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
                 &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; NullPointerException(
@@ -358,6 +359,7 @@
                 FileItem fileItem = fac.createItem(item.getFieldName(),
                         item.getContentType(), item.isFormField(),
                         item.getName());
+                items.add(fileItem);
                 &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
                     Streams.copy(item.openStream(), fileItem.getOutputStream(),
                             &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
@@ -372,13 +374,24 @@
                     &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileItemHeaders fih = item.getHeaders();
                     ((FileItemHeadersSupport) fileItem).setHeaders(fih);
                 }
-                items.add(fileItem);
             }
+            successful = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
             &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; items;
         } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (FileUploadIOException e) {
             &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; (FileUploadException) e.getCause();
         } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException e) {
             &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileUploadException(e.getMessage(), e);
+        } &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt; {
+            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!successful) {
+                &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (Iterator iterator = items.iterator(); iterator.hasNext();) {
+                    FileItem fileItem = (FileItem) iterator.next();
+                    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
+                        fileItem.delete();
+                    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Throwable e) {
+                        &lt;span class=&quot;code-comment&quot;&gt;// ignore it
&lt;/span&gt;+                    }
+                }
+            }
         }
     }
 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12397071">FILEUPLOAD-160</key>
            <summary>disk leak if multipart parse error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="yozh">Stepan Koltsov</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 May 2008 11:48:18 +0000</created>
                <updated>Mon, 5 Jun 2017 13:54:44 +0000</updated>
                            <resolved>Sun, 18 Jan 2009 01:40:33 +0000</resolved>
                                                    <fixVersion>1.2.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12633823" author="yozh" created="Tue, 23 Sep 2008 17:48:40 +0000"  >&lt;p&gt;Hello!&lt;/p&gt;</comment>
                            <comment id="12664899" author="jochen@apache.org" created="Sun, 18 Jan 2009 01:40:33 +0000"  >&lt;p&gt;Applied, thank you!&lt;/p&gt;</comment>
                            <comment id="16036972" author="chtompki" created="Mon, 5 Jun 2017 13:54:44 +0000"  >&lt;p&gt;1.2.2 Released.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12374366">FILEUPLOAD-141</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43072</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sknj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164823</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-158] MultipartStream javadoc example cannot be compiled</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-158</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        MultipartStream multipartStream = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MultipartStream(input,
                                                              boundary);
        &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; nextPart = multipartStream.skipPreamble();
        OutputStream output;
        &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt;(nextPart) {
            header = chunks.readHeader();
            &lt;span class=&quot;code-comment&quot;&gt;// process headers
&lt;/span&gt;            &lt;span class=&quot;code-comment&quot;&gt;// create some output stream
&lt;/span&gt;            multipartStream.readBodyPart(output);
            nextPart = multipartStream.readBoundary();
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&quot;chunks&quot; means &quot;multipartStream&quot;?&lt;/p&gt;

&lt;p&gt;&quot;readHeader&quot; means &quot;readHeaders&quot;?&lt;/p&gt;

&lt;p&gt;header variable should be declared&lt;/p&gt;

&lt;p&gt;&quot;readBodyPart&quot; means &quot;readBodyData&quot;?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12397002">FILEUPLOAD-158</key>
            <summary>MultipartStream javadoc example cannot be compiled</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="yozh">Stepan Koltsov</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 May 2008 15:58:49 +0000</created>
                <updated>Mon, 5 Jun 2017 13:51:35 +0000</updated>
                            <resolved>Sun, 18 Jan 2009 01:55:30 +0000</resolved>
                                                    <fixVersion>1.2.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12664903" author="jochen@apache.org" created="Sun, 18 Jan 2009 01:55:30 +0000"  >&lt;p&gt;Applied, thank you!&lt;/p&gt;</comment>
                            <comment id="16036958" author="chtompki" created="Mon, 5 Jun 2017 13:51:35 +0000"  >&lt;p&gt;Released&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43074</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sknz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164825</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-157] The ProgressListener isn&apos;t always notified about the total number of Items found in a MultipartStream.</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-157</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;A ProgressListener doesn&apos;t always get informed when a new part is found by the MultipartStream. This is most easily replicated by uploading small files (a few bytes in size). The listener will be correctly informed about the content length and the total bytes uploaded but it will be told that it is currently working on item 0. This causes an issue when this count is used to detect a form has been submitted with no file.&lt;/p&gt;

&lt;p&gt;This has a simple fix to the org.apache.commons.fileupload.MultipartStream (patch will be attached), when the items count is incremented the listener needs to be notified.&lt;/p&gt;
</description>
                <environment>&lt;p&gt;All.&lt;/p&gt;</environment>
        <key id="12396699">FILEUPLOAD-157</key>
            <summary>The ProgressListener isn&apos;t always notified about the total number of Items found in a MultipartStream.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="jdid">Paul Spurr</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 May 2008 10:25:19 +0000</created>
                <updated>Tue, 6 Jun 2017 04:28:40 +0000</updated>
                            <resolved>Sun, 18 Jan 2009 01:59:57 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.2.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="12599322" author="jdid" created="Fri, 23 May 2008 10:26:29 +0000"  >&lt;p&gt;Patch file&lt;/p&gt;</comment>
                            <comment id="12664904" author="jochen@apache.org" created="Sun, 18 Jan 2009 01:59:57 +0000"  >&lt;p&gt;Applied, thank you!&lt;/p&gt;</comment>
                            <comment id="16038114" author="chtompki" created="Tue, 6 Jun 2017 04:28:40 +0000"  >&lt;p&gt;1.2.2 released.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12382631" name="MultipartStream-item-listener-notification.patch" size="586" author="jdid" created="Fri, 23 May 2008 10:26:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43075</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sko7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164826</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-156] MultipartStream constructor requires package access to avoid deprecation warnings</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-156</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;All of the MulitipartStream constructor signatures are deprecated except one that requires a org.apache.commons.fileupload.MultipartStream.ProgressNotifier parameter.  However, the ProgressNotifier class has package access.  Thus, it is impossible for an application to make use of the MultipartStream class without using a deprecated constructor.&lt;/p&gt;</description>
                <environment>&lt;p&gt;All&lt;/p&gt;</environment>
        <key id="12395728">FILEUPLOAD-156</key>
            <summary>MultipartStream constructor requires package access to avoid deprecation warnings</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="faseidl">F. Andy Seidl</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 May 2008 16:45:45 +0000</created>
                <updated>Tue, 6 Jun 2017 04:47:59 +0000</updated>
                            <resolved>Sun, 18 Jan 2009 02:05:01 +0000</resolved>
                                    <version>1.2.1</version>
                                    <fixVersion>1.2.2</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12632663" author="mads_d" created="Fri, 19 Sep 2008 12:51:53 +0000"  >&lt;p&gt;If you instansiate the class via the deprecated constructors (which is the only possibility you have), you will run in to a NullPointerException the second you try to use it.&lt;/p&gt;

&lt;p&gt;The constuctors sets the notifyer-field to null during instansiation.&lt;/p&gt;</comment>
                            <comment id="12632702" author="martinc" created="Fri, 19 Sep 2008 14:38:17 +0000"  >&lt;p&gt;This class was never intended to be exposed as a public class. It was designed to be internal to FileUpload.&lt;/p&gt;</comment>
                            <comment id="12664906" author="jochen@apache.org" created="Sun, 18 Jan 2009 02:05:01 +0000"  >&lt;p&gt;It is, of course, a design error, that a ProgressNotifier is required. The class is now public, additionally a null value may be supplied.&lt;/p&gt;</comment>
                            <comment id="16038140" author="chtompki" created="Tue, 6 Jun 2017 04:47:59 +0000"  >&lt;p&gt;1.2.2 released.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43076</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164827</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-153] Cannot run unit tests from Ant 1.7.0 (Sun) Java 1.3.1</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-153</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Cannot run unit tests from Ant 1.7.0 (Sun) Java 1.3.1.&lt;/p&gt;

&lt;p&gt;&amp;gt; From: J&#246;rg Schaible &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;mailto:Joerg.Schaible@Elsag-Solutions.com&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Joerg.Schaible@Elsag-Solutions.com&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/mail_small.gif&quot; height=&quot;12&quot; width=&quot;13&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;br/&gt;
&amp;gt; Sent: Thursday, January 10, 2008 10:56 PM&lt;br/&gt;
&amp;gt; To: Jakarta Commons Developers List&lt;br/&gt;
&amp;gt; Subject: RE: &lt;span class=&quot;error&quot;&gt;&amp;#91;VOTE&amp;#93;&lt;/span&gt; Release commons-fileupload 1.2.1 (rc3)&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; Hi Gary,&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; Gary Gregory wrote:&lt;br/&gt;
&amp;gt; &amp;gt; Hello:&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; The ant build in this RC fails on Sun Java 1.3.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; because&lt;br/&gt;
&amp;gt; &amp;gt; the unit tests use the XML formatter which depend on W3C&lt;br/&gt;
&amp;gt; &amp;gt; code. The W3C code is in Java 1.4 but not 1.3. The ant build&lt;br/&gt;
&amp;gt; &amp;gt; also reports, apparently non-fatal errors &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; when attempting&lt;br/&gt;
&amp;gt; &amp;gt; to fetch non-existent files out of the maven repos.&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; Personally, I no longer care about 1.3.1 but I thought you might like&lt;br/&gt;
&amp;gt; &amp;gt; to know.&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; This can be fixed by adding Xalan 2.7.0 to Ant&apos;s lib, but you have to use the one&lt;br/&gt;
&amp;gt; from Apache&apos;s Maven repo, not the one from their distribution. Se&lt;br/&gt;
&amp;gt; &lt;a href=&quot;http://jira.codehaus.org/browse/HAUS-1572&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.codehaus.org/browse/HAUS-1572&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;That does not work for me, no matter what version of Xalan I put in ANT_HOME/lib, I always get:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; 
Using loader null on class org.apache.tools.ant.taskdefs.optional.junit.XMLJUnitResultFormatter: java.lang.NoClassDefFoundError: org/w3c/dom/Node
	at org.apache.tools.ant.taskdefs.optional.junit.FormatterElement.createFormatter(FormatterElement.java:241)
	at org.apache.tools.ant.taskdefs.optional.junit.FormatterElement.createFormatter(FormatterElement.java:214)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.transferFormatters(JUnitTestRunner.java:818)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:910)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
--- Nested Exception ---
java.lang.NoClassDefFoundError: org/w3c/dom/Node
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:115)
	at org.apache.tools.ant.taskdefs.optional.junit.FormatterElement.createFormatter(FormatterElement.java:232)
	at org.apache.tools.ant.taskdefs.optional.junit.FormatterElement.createFormatter(FormatterElement.java:214)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.transferFormatters(JUnitTestRunner.java:818)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:910)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 
&lt;p&gt;Then I read:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://ant.apache.org/faq.html#junit-no-runtime-xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ant.apache.org/faq.html#junit-no-runtime-xml&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This states that the only way to fix this is to fix one&apos;s build.xml file like so:&lt;br/&gt;
&quot;the easiest solution is to add&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;pathelement path=&lt;span class=&quot;code-quote&quot;&gt;&quot;${ant.home}/lib/xml-apis.jar:${ant.home}/lib/xercesImpl.jar&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;to your task&apos;s &amp;lt;classpath&amp;gt;.&quot;&lt;br/&gt;
I implemented this and the build succeeded. So I am submitting the attached patch to build.xml. This path element is ignored by Java versions &amp;gt;= 1.4 since one must use the override mechanism to use different XML libs than what is in the runtime.&lt;/p&gt;

&lt;p&gt;Thank you,&lt;br/&gt;
Gary&lt;/p&gt;</description>
                <environment>&lt;p&gt;java version &quot;1.3.1_15&quot;&lt;br/&gt;
Java(TM) 2 Runtime Environment, Standard Edition (build 1.3.1_15-b01)&lt;br/&gt;
Java HotSpot(TM) Client VM (build 1.3.1_15-b01, mixed mode)&lt;/p&gt;

&lt;p&gt;Windows XP 5.1 Service Pack 2 x86-32&lt;/p&gt;</environment>
        <key id="12386104">FILEUPLOAD-153</key>
            <summary>Cannot run unit tests from Ant 1.7.0 (Sun) Java 1.3.1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ggregory1">Gary Gregory</reporter>
                        <labels>
                    </labels>
                <created>Sat, 12 Jan 2008 01:53:42 +0000</created>
                <updated>Tue, 6 Jun 2017 04:48:34 +0000</updated>
                            <resolved>Sat, 12 Jan 2008 10:50:07 +0000</resolved>
                                    <version>1.2.1</version>
                                    <fixVersion>1.2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12558200" author="jochen@apache.org" created="Sat, 12 Jan 2008 04:57:42 +0000"  >&lt;p&gt;What classpath are you exactly referring to? The one defined in line 131? A patch would surely help.&lt;/p&gt;</comment>
                            <comment id="12558202" author="ggregory@seagullsw.com" created="Sat, 12 Jan 2008 06:11:41 +0000"  >&lt;p&gt;Oops, forgot to attach patch.&lt;/p&gt;</comment>
                            <comment id="12558219" author="jochen@apache.org" created="Sat, 12 Jan 2008 10:50:07 +0000"  >&lt;p&gt;Applied, thank you!&lt;/p&gt;</comment>
                            <comment id="16038142" author="chtompki" created="Tue, 6 Jun 2017 04:48:34 +0000"  >&lt;p&gt;1.2.1 released.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12373027" name="patch.txt" size="724" author="ggregory@seagullsw.com" created="Sat, 12 Jan 2008 06:11:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43079</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skp3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164830</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-152] Unit incompatibility betweenFileUpload.setFileSizeMax and FileUploadBase$FileItemIteratorImpl</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-152</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;FileUploadBase$FileItemIteratorImpl.FileItemStreamImpl&lt;br/&gt;
If we have too big file (binary, for example) and FileSizeLimitExceededException will be thrown you&apos;re always creating message: &quot;The field &quot; + fieldName + &quot; exceeds its maximum permitted &quot; + &quot; size of &quot; + pSizeMax + &quot; characters.&quot;&lt;br/&gt;
Size limit is setting using bytes, in this message user will have an information about too many characters... &lt;br/&gt;
Can you change message to use that same unit?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12385862">FILEUPLOAD-152</key>
            <summary>Unit incompatibility betweenFileUpload.setFileSizeMax and FileUploadBase$FileItemIteratorImpl</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="duzakropka">Duzakropka</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Jan 2008 13:03:55 +0000</created>
                <updated>Tue, 6 Jun 2017 04:55:21 +0000</updated>
                            <resolved>Sun, 18 Jan 2009 02:26:32 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.2.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12664911" author="jochen@apache.org" created="Sun, 18 Jan 2009 02:26:32 +0000"  >&lt;p&gt;You are right. Fixed.&lt;/p&gt;</comment>
                            <comment id="16038150" author="chtompki" created="Tue, 6 Jun 2017 04:55:21 +0000"  >&lt;p&gt;1.2.2 released.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43080</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skpb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164831</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-151] by using commonsfileupload.jar i am not able to upload the file</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-151</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description></description>
                <environment>&lt;p&gt;windows xp&lt;/p&gt;</environment>
        <key id="12384955">FILEUPLOAD-151</key>
            <summary>by using commonsfileupload.jar i am not able to upload the file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="challu">chalapathi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Dec 2007 12:14:07 +0000</created>
                <updated>Wed, 19 Dec 2007 19:20:32 +0000</updated>
                            <resolved>Wed, 19 Dec 2007 19:20:32 +0000</resolved>
                                    <version>1.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12553432" author="martinc" created="Wed, 19 Dec 2007 18:53:52 +0000"  >&lt;p&gt;There is absolutely nothing that we can do about this, given the amount of information provided (i.e. none).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43081</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 47 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skpj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164832</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-150] Text field containing an &#8364; (Euro) character will not be correctly evaluated, the character gets not recognized</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-150</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I have a multiline edit field in a multipart/form-data form.&lt;br/&gt;
In the same form I have an input field of type &quot;file&quot; to enable a file upload.&lt;/p&gt;

&lt;p&gt;When entering the &#8364; character into the multiline edit field and submitting the form the result of the &#8364;  is &#226;&#130;&#172; after the form contents got evaluated / extracted.&lt;/p&gt;

&lt;p&gt;The JSP page containing the form is defined with&lt;br/&gt;
&amp;lt;!-&lt;del&gt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&lt;/del&gt;-&amp;gt;;&lt;br/&gt;
and &lt;br/&gt;
&amp;lt;%@ page session=&quot;true&quot; language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&amp;gt;&lt;/p&gt;

&lt;p&gt;The form is defined with&lt;br/&gt;
&amp;lt;form name=&quot;DetailForm&quot; enctype=&quot;multipart/form-data&quot; action=&quot;xxServlet&quot; method=&quot;post&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;When processing the request within the servlet I create a new ServletFileUpload instance with&lt;br/&gt;
    ServletFileUpload upload = new ServletFileUpload(aDiskFileItemFactory);&lt;br/&gt;
    // set the encoding&lt;br/&gt;
    upload.setHeaderEncoding(req.getCharacterEncoding());&lt;/p&gt;

&lt;p&gt;Afterwards I let parse the request.&lt;br/&gt;
However, it seems to me that during the parsing the default code set ISO 8859-1 is used instead of the previously defined one - when trying to debug into a bit.&lt;br/&gt;
(ISO 8859-1 does not contain the &#8364; character.)&lt;/p&gt;

&lt;p&gt;Maybe an issue with Stream handling?&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows XP, AIX - JDK 1.4&lt;/p&gt;</environment>
        <key id="12383797">FILEUPLOAD-150</key>
            <summary>Text field containing an &#8364; (Euro) character will not be correctly evaluated, the character gets not recognized</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="pfiszter">Ralf Pfiszter</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Dec 2007 15:08:28 +0000</created>
                <updated>Tue, 4 Dec 2007 13:51:46 +0000</updated>
                            <resolved>Tue, 4 Dec 2007 13:51:46 +0000</resolved>
                                    <version>1.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12547961" author="jochen@apache.org" created="Mon, 3 Dec 2007 19:44:40 +0000"  >&lt;p&gt;Most likely, you are simply using&lt;/p&gt;

&lt;p&gt;    getString()&lt;/p&gt;

&lt;p&gt;rather than&lt;/p&gt;

&lt;p&gt;    getString(String encoding)&lt;/p&gt;

&lt;p&gt;on the server side or there is some similar error on your side.&lt;/p&gt;</comment>
                            <comment id="12548255" author="pfiszter" created="Tue, 4 Dec 2007 13:40:57 +0000"  >&lt;p&gt;H i Jochen,&lt;/p&gt;

&lt;p&gt;thank you for this pointer.&lt;br/&gt;
Obviously I debugged into the wrong area &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I tried your hint - it is working now well and as expected.&lt;/p&gt;

&lt;p&gt;Thank you&lt;br/&gt;
Ralf&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43082</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skpr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164833</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-149] Intermittent file corruption on upload</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-149</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I have been struggling for several weeks trying to track down the root cause&lt;br/&gt;
of a sporadic file corruption problem using File Upload.  I&apos;m really stumped&lt;br/&gt;
at this point and welcome any suggestions as to avenues of debugging&lt;br/&gt;
pursuit.&lt;/p&gt;

&lt;p&gt;Here&apos;s overview of the problem:&lt;/p&gt;

&lt;p&gt;I have eight Linux (CentOS) servers all running the same web application--a&lt;br/&gt;
set of Java servlets using Resin as a servlet runner under Apache.  All&lt;br/&gt;
servers were configured using the same script that installs jars,&lt;br/&gt;
config files, etc.&lt;/p&gt;

&lt;p&gt;On three of the servers, File Upload works reliably.  On five of the&lt;br/&gt;
servers, File Upload usually (but not always) leaves me with a corrupted file.&lt;/p&gt;

&lt;p&gt;Corrupted files are always the correct length but contain a relatively small&lt;br/&gt;
percentage of scrambled bytes.  I looked for obvious patterns like newlines&lt;br/&gt;
being altered or high-bit bytes being converted to or from UTF-8, but there&lt;br/&gt;
is no obvious (to me, anyway) pattern in the failure.&lt;/p&gt;

&lt;p&gt;I have also tested with IE, FireFox, and Safari on both Windows and MacOS.&lt;br/&gt;
The issue appears to be independent of client browser and OS.&lt;/p&gt;

&lt;p&gt;Looking at Java system properties, I notice that while the classpath and&lt;br/&gt;
bootclasspath have the same jars lists on all servers, they are not listed&lt;br/&gt;
in the same order (probably listed in directory order as the paths are&lt;br/&gt;
constructed by a script that inspects lib directories.)&lt;/p&gt;

&lt;p&gt;Is anyone aware of classpath order dependencies that could break File&lt;br/&gt;
Upload?&lt;/p&gt;

&lt;p&gt;Can anyone offer any suggestions about what &lt;b&gt;might&lt;/b&gt; be breaking File Upload?&lt;br/&gt;
Or what other questions I should be asking?  At the moment, I&apos;m feeling&lt;br/&gt;
rather stumped.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux (CentOS) server; all client platforms and browsers&lt;/p&gt;</environment>
        <key id="12381077">FILEUPLOAD-149</key>
            <summary>Intermittent file corruption on upload</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="faseidl">F. Andy Seidl</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Oct 2007 16:48:20 +0000</created>
                <updated>Sat, 3 Jun 2017 17:18:32 +0000</updated>
                            <resolved>Mon, 12 May 2008 13:33:04 +0000</resolved>
                                    <version>1.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12537358" author="faseidl" created="Wed, 24 Oct 2007 16:50:53 +0000"  >&lt;p&gt;I had placed this question to the mail list back in August.  Here is one message that includes some additional details as well as some test results.&lt;/p&gt;

&lt;p&gt;----&lt;del&gt;Original Message&lt;/del&gt;----&lt;br/&gt;
From: F. Andy Seidl &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;mailto:faseidl@myst-technology.com&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;faseidl@myst-technology.com&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/mail_small.gif&quot; height=&quot;12&quot; width=&quot;13&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;br/&gt;
Sent: Wednesday, August 22, 2007 11:25 AM&lt;br/&gt;
To: user@commons.apache.org&lt;br/&gt;
Subject: FW: File Upload Data Corruption Problem&lt;/p&gt;

&lt;p&gt;&amp;gt;From: Tahir Akhtar&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt;Do the files that are corrupted ends up same at each upload or there is&lt;br/&gt;
&amp;gt;some randomness in that too?&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;fas&amp;#93;&lt;/span&gt; There is randomness in how each file is corrupted.  See test results&lt;br/&gt;
below.&lt;/p&gt;

&lt;p&gt;&amp;gt;Could it be something outside the file upload component, like disk&lt;br/&gt;
&amp;gt;problem or another process corrupting the file after it has been written&lt;br/&gt;
&amp;gt;on the server?&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;fas&amp;#93;&lt;/span&gt; This seems unlikely.  This problem occurs on four different servers,&lt;br/&gt;
none of which are having any other signs of trouble.  As part of the tests&lt;br/&gt;
below, I uploaded a file and then (from a command line session) immediately&lt;br/&gt;
renamed the file.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;snip&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;TEST RESULTS&lt;br/&gt;
------------&lt;/p&gt;

&lt;p&gt;I uploaded a file, pincney_map.pdf, four times.  Immediately after each&lt;br/&gt;
upload, I renamed the file to 1.pdf, 2.pdf, etc.&lt;/p&gt;

&lt;p&gt;Diff reports that each of the uploaded files differ from all the others.&lt;/p&gt;

&lt;p&gt;I then downloaded the four uploaded pdf files (using WinSCP, which has&lt;br/&gt;
proven reliable for binary file transfer) to a Windows machine in order to&lt;br/&gt;
use the &quot;comp&quot; utility to determine where the first difference was between&lt;br/&gt;
each file using this simple script:&lt;/p&gt;

&lt;p&gt;@echo off&lt;/p&gt;

&lt;p&gt;comp pinckney_map.pdf 1.pdf&lt;br/&gt;
comp pinckney_map.pdf 2.pdf&lt;br/&gt;
comp pinckney_map.pdf 3.pdf&lt;br/&gt;
comp pinckney_map.pdf 4.pdf&lt;/p&gt;

&lt;p&gt;comp 1.pdf 2.pdf&lt;br/&gt;
comp 1.pdf 3.pdf&lt;br/&gt;
comp 1.pdf 4.pdf&lt;br/&gt;
comp 2.pdf 3.pdf&lt;br/&gt;
comp 2.pdf 4.pdf&lt;br/&gt;
comp 3.pdf 4.pd&lt;/p&gt;

&lt;p&gt;The output of that script follows:&lt;/p&gt;

&lt;p&gt;Comparing pinckney_map.pdf and 1.pdf...&lt;br/&gt;
Compare error at OFFSET 1946&lt;br/&gt;
file1 = 1&lt;br/&gt;
file2 = 54&lt;br/&gt;
Compare error at OFFSET 1947&lt;br/&gt;
file1 = 17&lt;br/&gt;
file2 = 61&lt;br/&gt;
Compare error at OFFSET 1948&lt;br/&gt;
file1 = 4&lt;br/&gt;
file2 = D3&lt;br/&gt;
Compare error at OFFSET 1949&lt;br/&gt;
file1 = 40&lt;br/&gt;
file2 = 10&lt;br/&gt;
Compare error at OFFSET 194A&lt;br/&gt;
file1 = 58&lt;br/&gt;
file2 = 54&lt;br/&gt;
Compare error at OFFSET 194B&lt;br/&gt;
file1 = AA&lt;br/&gt;
file2 = 55&lt;br/&gt;
Compare error at OFFSET 194C&lt;br/&gt;
file1 = EB&lt;br/&gt;
file2 = BD&lt;br/&gt;
Compare error at OFFSET 194D&lt;br/&gt;
file1 = 3&lt;br/&gt;
file2 = 7D&lt;br/&gt;
Compare error at OFFSET 194E&lt;br/&gt;
file1 = B&lt;br/&gt;
file2 = 35&lt;br/&gt;
Compare error at OFFSET 194F&lt;br/&gt;
file1 = C3&lt;br/&gt;
file2 = 33&lt;br/&gt;
10 mismatches - ending compare&lt;/p&gt;

&lt;p&gt;Comparing pinckney_map.pdf and 2.pdf...&lt;br/&gt;
Compare error at OFFSET 194C&lt;br/&gt;
file1 = EB&lt;br/&gt;
file2 = 55&lt;br/&gt;
Compare error at OFFSET 194D&lt;br/&gt;
file1 = 3&lt;br/&gt;
file2 = BD&lt;br/&gt;
Compare error at OFFSET 194E&lt;br/&gt;
file1 = B&lt;br/&gt;
file2 = 7D&lt;br/&gt;
Compare error at OFFSET 194F&lt;br/&gt;
file1 = C3&lt;br/&gt;
file2 = 35&lt;br/&gt;
Compare error at OFFSET 1950&lt;br/&gt;
file1 = 5C&lt;br/&gt;
file2 = 33&lt;br/&gt;
Compare error at OFFSET 1951&lt;br/&gt;
file1 = 15&lt;br/&gt;
file2 = 78&lt;br/&gt;
Compare error at OFFSET 1952&lt;br/&gt;
file1 = B4&lt;br/&gt;
file2 = 93&lt;br/&gt;
Compare error at OFFSET 1953&lt;br/&gt;
file1 = 77&lt;br/&gt;
file2 = 60&lt;br/&gt;
Compare error at OFFSET 1954&lt;br/&gt;
file1 = F&lt;br/&gt;
file2 = 16&lt;br/&gt;
Compare error at OFFSET 1955&lt;br/&gt;
file1 = 3&lt;br/&gt;
file2 = 99&lt;br/&gt;
10 mismatches - ending compare&lt;/p&gt;

&lt;p&gt;Comparing pinckney_map.pdf and 3.pdf...&lt;br/&gt;
Compare error at OFFSET 1940&lt;br/&gt;
file1 = 7D&lt;br/&gt;
file2 = 20&lt;br/&gt;
Compare error at OFFSET 1941&lt;br/&gt;
file1 = D9&lt;br/&gt;
file2 = 35&lt;br/&gt;
Compare error at OFFSET 1942&lt;br/&gt;
file1 = 38&lt;br/&gt;
file2 = 59&lt;br/&gt;
Compare error at OFFSET 1943&lt;br/&gt;
file1 = 6D&lt;br/&gt;
file2 = 61&lt;br/&gt;
Compare error at OFFSET 1944&lt;br/&gt;
file1 = 78&lt;br/&gt;
file2 = 2C&lt;br/&gt;
Compare error at OFFSET 1945&lt;br/&gt;
file1 = EA&lt;br/&gt;
file2 = 54&lt;br/&gt;
Compare error at OFFSET 1946&lt;br/&gt;
file1 = 1&lt;br/&gt;
file2 = 61&lt;br/&gt;
Compare error at OFFSET 1947&lt;br/&gt;
file1 = 17&lt;br/&gt;
file2 = D3&lt;br/&gt;
Compare error at OFFSET 1948&lt;br/&gt;
file1 = 4&lt;br/&gt;
file2 = 10&lt;br/&gt;
Compare error at OFFSET 1949&lt;br/&gt;
file1 = 40&lt;br/&gt;
file2 = 54&lt;br/&gt;
10 mismatches - ending compare&lt;/p&gt;

&lt;p&gt;Comparing pinckney_map.pdf and 4.pdf...&lt;br/&gt;
Compare error at OFFSET 1946&lt;br/&gt;
file1 = 1&lt;br/&gt;
file2 = 54&lt;br/&gt;
Compare error at OFFSET 1947&lt;br/&gt;
file1 = 17&lt;br/&gt;
file2 = 61&lt;br/&gt;
Compare error at OFFSET 1948&lt;br/&gt;
file1 = 4&lt;br/&gt;
file2 = D3&lt;br/&gt;
Compare error at OFFSET 1949&lt;br/&gt;
file1 = 40&lt;br/&gt;
file2 = 10&lt;br/&gt;
Compare error at OFFSET 194A&lt;br/&gt;
file1 = 58&lt;br/&gt;
file2 = 54&lt;br/&gt;
Compare error at OFFSET 194B&lt;br/&gt;
file1 = AA&lt;br/&gt;
file2 = 55&lt;br/&gt;
Compare error at OFFSET 194C&lt;br/&gt;
file1 = EB&lt;br/&gt;
file2 = BD&lt;br/&gt;
Compare error at OFFSET 194D&lt;br/&gt;
file1 = 3&lt;br/&gt;
file2 = 7D&lt;br/&gt;
Compare error at OFFSET 194E&lt;br/&gt;
file1 = B&lt;br/&gt;
file2 = 35&lt;br/&gt;
Compare error at OFFSET 194F&lt;br/&gt;
file1 = C3&lt;br/&gt;
file2 = 33&lt;br/&gt;
10 mismatches - ending compare&lt;/p&gt;

&lt;p&gt;Comparing 1.pdf and 2.pdf...&lt;br/&gt;
Compare error at OFFSET 1946&lt;br/&gt;
file1 = 54&lt;br/&gt;
file2 = 1&lt;br/&gt;
Compare error at OFFSET 1947&lt;br/&gt;
file1 = 61&lt;br/&gt;
file2 = 17&lt;br/&gt;
Compare error at OFFSET 1948&lt;br/&gt;
file1 = D3&lt;br/&gt;
file2 = 4&lt;br/&gt;
Compare error at OFFSET 1949&lt;br/&gt;
file1 = 10&lt;br/&gt;
file2 = 40&lt;br/&gt;
Compare error at OFFSET 194A&lt;br/&gt;
file1 = 54&lt;br/&gt;
file2 = 58&lt;br/&gt;
Compare error at OFFSET 194B&lt;br/&gt;
file1 = 55&lt;br/&gt;
file2 = AA&lt;br/&gt;
Compare error at OFFSET 194C&lt;br/&gt;
file1 = BD&lt;br/&gt;
file2 = 55&lt;br/&gt;
Compare error at OFFSET 194D&lt;br/&gt;
file1 = 7D&lt;br/&gt;
file2 = BD&lt;br/&gt;
Compare error at OFFSET 194E&lt;br/&gt;
file1 = 35&lt;br/&gt;
file2 = 7D&lt;br/&gt;
Compare error at OFFSET 194F&lt;br/&gt;
file1 = 33&lt;br/&gt;
file2 = 35&lt;br/&gt;
10 mismatches - ending compare&lt;/p&gt;

&lt;p&gt;Comparing 1.pdf and 3.pdf...&lt;br/&gt;
Compare error at OFFSET 1940&lt;br/&gt;
file1 = 7D&lt;br/&gt;
file2 = 20&lt;br/&gt;
Compare error at OFFSET 1941&lt;br/&gt;
file1 = D9&lt;br/&gt;
file2 = 35&lt;br/&gt;
Compare error at OFFSET 1942&lt;br/&gt;
file1 = 38&lt;br/&gt;
file2 = 59&lt;br/&gt;
Compare error at OFFSET 1943&lt;br/&gt;
file1 = 6D&lt;br/&gt;
file2 = 61&lt;br/&gt;
Compare error at OFFSET 1944&lt;br/&gt;
file1 = 78&lt;br/&gt;
file2 = 2C&lt;br/&gt;
Compare error at OFFSET 1945&lt;br/&gt;
file1 = EA&lt;br/&gt;
file2 = 54&lt;br/&gt;
Compare error at OFFSET 1946&lt;br/&gt;
file1 = 54&lt;br/&gt;
file2 = 61&lt;br/&gt;
Compare error at OFFSET 1947&lt;br/&gt;
file1 = 61&lt;br/&gt;
file2 = D3&lt;br/&gt;
Compare error at OFFSET 1948&lt;br/&gt;
file1 = D3&lt;br/&gt;
file2 = 10&lt;br/&gt;
Compare error at OFFSET 1949&lt;br/&gt;
file1 = 10&lt;br/&gt;
file2 = 54&lt;br/&gt;
10 mismatches - ending compare&lt;/p&gt;

&lt;p&gt;Comparing 1.pdf and 4.pdf...&lt;br/&gt;
Compare error at OFFSET 16CA6&lt;br/&gt;
file1 = 25&lt;br/&gt;
file2 = C3&lt;br/&gt;
Compare error at OFFSET 16CA7&lt;br/&gt;
file1 = 44&lt;br/&gt;
file2 = D1&lt;br/&gt;
Compare error at OFFSET 16CA8&lt;br/&gt;
file1 = B5&lt;br/&gt;
file2 = 8E&lt;br/&gt;
Compare error at OFFSET 16CA9&lt;br/&gt;
file1 = B6&lt;br/&gt;
file2 = 20&lt;br/&gt;
Compare error at OFFSET 16CAA&lt;br/&gt;
file1 = 9D&lt;br/&gt;
file2 = F2&lt;br/&gt;
Compare error at OFFSET 16CAB&lt;br/&gt;
file1 = C5&lt;br/&gt;
file2 = 6B&lt;br/&gt;
Compare error at OFFSET 16CAC&lt;br/&gt;
file1 = BA&lt;br/&gt;
file2 = 63&lt;br/&gt;
Compare error at OFFSET 16CAD&lt;br/&gt;
file1 = C5&lt;br/&gt;
file2 = ED&lt;br/&gt;
Compare error at OFFSET 16CAE&lt;br/&gt;
file1 = CD&lt;br/&gt;
file2 = 98&lt;br/&gt;
Compare error at OFFSET 16CAF&lt;br/&gt;
file1 = EE&lt;br/&gt;
file2 = 12&lt;br/&gt;
10 mismatches - ending compare&lt;/p&gt;

&lt;p&gt;Comparing 2.pdf and 3.pdf...&lt;br/&gt;
Compare error at OFFSET 1940&lt;br/&gt;
file1 = 7D&lt;br/&gt;
file2 = 20&lt;br/&gt;
Compare error at OFFSET 1941&lt;br/&gt;
file1 = D9&lt;br/&gt;
file2 = 35&lt;br/&gt;
Compare error at OFFSET 1942&lt;br/&gt;
file1 = 38&lt;br/&gt;
file2 = 59&lt;br/&gt;
Compare error at OFFSET 1943&lt;br/&gt;
file1 = 6D&lt;br/&gt;
file2 = 61&lt;br/&gt;
Compare error at OFFSET 1944&lt;br/&gt;
file1 = 78&lt;br/&gt;
file2 = 2C&lt;br/&gt;
Compare error at OFFSET 1945&lt;br/&gt;
file1 = EA&lt;br/&gt;
file2 = 54&lt;br/&gt;
Compare error at OFFSET 1946&lt;br/&gt;
file1 = 1&lt;br/&gt;
file2 = 61&lt;br/&gt;
Compare error at OFFSET 1947&lt;br/&gt;
file1 = 17&lt;br/&gt;
file2 = D3&lt;br/&gt;
Compare error at OFFSET 1948&lt;br/&gt;
file1 = 4&lt;br/&gt;
file2 = 10&lt;br/&gt;
Compare error at OFFSET 1949&lt;br/&gt;
file1 = 40&lt;br/&gt;
file2 = 54&lt;br/&gt;
10 mismatches - ending compare&lt;/p&gt;

&lt;p&gt;Comparing 2.pdf and 4.pdf...&lt;br/&gt;
Compare error at OFFSET 1946&lt;br/&gt;
file1 = 1&lt;br/&gt;
file2 = 54&lt;br/&gt;
Compare error at OFFSET 1947&lt;br/&gt;
file1 = 17&lt;br/&gt;
file2 = 61&lt;br/&gt;
Compare error at OFFSET 1948&lt;br/&gt;
file1 = 4&lt;br/&gt;
file2 = D3&lt;br/&gt;
Compare error at OFFSET 1949&lt;br/&gt;
file1 = 40&lt;br/&gt;
file2 = 10&lt;br/&gt;
Compare error at OFFSET 194A&lt;br/&gt;
file1 = 58&lt;br/&gt;
file2 = 54&lt;br/&gt;
Compare error at OFFSET 194B&lt;br/&gt;
file1 = AA&lt;br/&gt;
file2 = 55&lt;br/&gt;
Compare error at OFFSET 194C&lt;br/&gt;
file1 = 55&lt;br/&gt;
file2 = BD&lt;br/&gt;
Compare error at OFFSET 194D&lt;br/&gt;
file1 = BD&lt;br/&gt;
file2 = 7D&lt;br/&gt;
Compare error at OFFSET 194E&lt;br/&gt;
file1 = 7D&lt;br/&gt;
file2 = 35&lt;br/&gt;
Compare error at OFFSET 194F&lt;br/&gt;
file1 = 35&lt;br/&gt;
file2 = 33&lt;br/&gt;
10 mismatches - ending compare&lt;/p&gt;

&lt;p&gt;Comparing 3.pdf and 4.pdf...&lt;br/&gt;
Compare error at OFFSET 1940&lt;br/&gt;
file1 = 20&lt;br/&gt;
file2 = 7D&lt;br/&gt;
Compare error at OFFSET 1941&lt;br/&gt;
file1 = 35&lt;br/&gt;
file2 = D9&lt;br/&gt;
Compare error at OFFSET 1942&lt;br/&gt;
file1 = 59&lt;br/&gt;
file2 = 38&lt;br/&gt;
Compare error at OFFSET 1943&lt;br/&gt;
file1 = 61&lt;br/&gt;
file2 = 6D&lt;br/&gt;
Compare error at OFFSET 1944&lt;br/&gt;
file1 = 2C&lt;br/&gt;
file2 = 78&lt;br/&gt;
Compare error at OFFSET 1945&lt;br/&gt;
file1 = 54&lt;br/&gt;
file2 = EA&lt;br/&gt;
Compare error at OFFSET 1946&lt;br/&gt;
file1 = 61&lt;br/&gt;
file2 = 54&lt;br/&gt;
Compare error at OFFSET 1947&lt;br/&gt;
file1 = D3&lt;br/&gt;
file2 = 61&lt;br/&gt;
Compare error at OFFSET 1948&lt;br/&gt;
file1 = 10&lt;br/&gt;
file2 = D3&lt;br/&gt;
Compare error at OFFSET 1949&lt;br/&gt;
file1 = 54&lt;br/&gt;
file2 = 10&lt;br/&gt;
10 mismatches - ending compare&lt;/p&gt;

&lt;p&gt;---------------------------------------------------------------------&lt;br/&gt;
To unsubscribe, e-mail: user-unsubscribe@commons.apache.org&lt;br/&gt;
For additional commands, e-mail: user-help@commons.apache.org&lt;/p&gt;</comment>
                            <comment id="12538225" author="jochen@apache.org" created="Sat, 27 Oct 2007 16:39:13 +0000"  >&lt;p&gt;The only confirmed problem with the current release is &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-135&quot; title=&quot;InputStream created with Streaming API returns EOF on first read() for short files uploaded from FireFox over HTTPS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-135&quot;&gt;&lt;del&gt;FILEUPLOAD-135&lt;/del&gt;&lt;/a&gt;. There is also &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-144&quot; title=&quot;Parameters values are lost&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-144&quot;&gt;&lt;del&gt;FILEUPLOAD-144&lt;/del&gt;&lt;/a&gt;, which I suspect to be a duplicate. Please try to use a current snapshot, as available from&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;http://people.apache.org/repo/m2-snapshot-repository/org/apache/commons/fileupload/commons-fileupload/1.3-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://people.apache.org/repo/m2-snapshot-repository/org/apache/commons/fileupload/commons-fileupload/1.3-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12538226" author="jochen@apache.org" created="Sat, 27 Oct 2007 16:41:05 +0000"  >&lt;p&gt;I studied the mail from F. Andy Seidl you are quoting and I must admit that I simply don&apos;t believe it. If the problems were as extreme as he states (no successful upload at all), then commons fileupload would be completely useless. Which it is not, because quite a lot of people use it in the wild.&lt;/p&gt;</comment>
                            <comment id="12538229" author="faseidl" created="Sat, 27 Oct 2007 17:06:50 +0000"  >&lt;p&gt;Hi Jochen:&lt;/p&gt;

&lt;p&gt;&amp;gt;&amp;gt;I studied the mail from F. Andy Seidl you are quoting and I must admit that I simply don&apos;t believe it. &amp;lt;&amp;lt;&lt;br/&gt;
I can understand that, but I assure you, this is the case.  (If you are interested, I can arrange to provide you with credentials to a site you can experience this first-hand.)&lt;/p&gt;

&lt;p&gt;I have the same application deployed on eight Linux servers and one Widows server.  File uploading works flawlessly and reliably on three of the Linux servers and the Windows server.  On five of the Linux servers are the symptoms I documented above.&lt;/p&gt;

&lt;p&gt;I will try using the current snapshot as you recommend.  But in the mean time, if anyone can think of anything that might cause this server-dependent failure, I&apos;m eager for suggestions.  I&apos;ve been scratching my head over this one for quite some time.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12588754" author="faseidl" created="Mon, 14 Apr 2008 20:04:16 +0000"  >&lt;p&gt;Hi Jochen (and others): &lt;/p&gt;

&lt;p&gt;I recently re-tried FileUpload on the affected Linux servers after upgrading to the latest release version of commons-io, but the issues remain.  I realize that Jochen does not believe these results, but I remain stumped as to why the same code runs on most of my servers but corrupts files on others.  It must be some type of environmental issue, but like what? This is particularly nasty for me to debug (lacking any guidance or hypotheses) because I &lt;b&gt;only&lt;/b&gt; see failures on a small number of production machines.  I have not been able to reproduce these failures on a development system.  As such, it is a very slow debugging cycle to deploy debugging code and do bug hunting on a production server.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Any&lt;/b&gt; suggestions as to what might create the type of corruptions I am seeing (and I really am seeing them) would be greatly appreciated.&lt;/p&gt;

&lt;p&gt;Thank you,&lt;br/&gt;
  &amp;#8211; fas&lt;/p&gt;</comment>
                            <comment id="12594692" author="faseidl" created="Tue, 6 May 2008 20:15:28 +0000"  >&lt;p&gt;Hi All,&lt;/p&gt;

&lt;p&gt;I&apos;m back to debugging this FileUpload corruption issue.  I&apos;ve just installed commons-fileupload-1.2.1 and commons-io-1.4 and ran a simple test...&lt;/p&gt;

&lt;p&gt;I started with a local .jpg image, fileupload-test.jpg, and created two copies of that file: fileupload-test-copy.jpg and fileupload-test-copy-2.jpg.  I uploaded the first two using FileUpload here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://faseidl.com/docs/fileupload-test.jpg&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://faseidl.com/docs/fileupload-test.jpg&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://faseidl.com/docs/fileupload-test-copy.jpg&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://faseidl.com/docs/fileupload-test-copy.jpg&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I FTP-ed the third file here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://faseidl.com/docs/fileupload-test-copy-2.jpg&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://faseidl.com/docs/fileupload-test-copy-2.jpg&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;As you can see, the FileUpload-ed files are corrupted while the FTP-ed file is not.&lt;/p&gt;

&lt;p&gt;This situation occurs on five different servers while things work great on six others.  All hypotheses welcome.&lt;/p&gt;</comment>
                            <comment id="12594768" author="faseidl" created="Wed, 7 May 2008 04:09:41 +0000"  >&lt;p&gt;Very interesting results.  Does this trigger any ideas?&lt;/p&gt;

&lt;p&gt;My code writes uploaded files do disk by direclty copying the FileItem&apos;s&lt;br/&gt;
input stream to the final file location.  As an experiment to rule out a&lt;br/&gt;
problem in the this copy operation, I createed a small (1112 byte) .jpg&lt;br/&gt;
image file named fu-0.jpg.  Then I created nine exact copies of the&lt;br/&gt;
file: fu-1.jpg, fu-2.jpg, ..., fu-9.jpg.&lt;/p&gt;

&lt;p&gt;I FTP-ed fu-0.jpg to the server and I uploaded files 1-9 using&lt;br/&gt;
FileUpload in a single upload request with nine files attached in&lt;br/&gt;
numeric order.  All the files uploaded without error except files 4 and&lt;br/&gt;
5.&lt;/p&gt;

&lt;p&gt;Here is where it gets interesting...&lt;/p&gt;

&lt;p&gt;Look at the sizes of the uploaded files:&lt;/p&gt;

&lt;p&gt;fu-0.jpg: 1112&lt;br/&gt;
fu-1.jpg: 1112&lt;br/&gt;
fu-2.jpg: 1112&lt;br/&gt;
fu-3.jpg: 1112&lt;br/&gt;
fu-4.jpg: 1155   &amp;lt;=== wrong size&lt;br/&gt;
fu-5.jpg: 1069   &amp;lt;=== wrong size&lt;br/&gt;
fu-6.jpg: 1112&lt;br/&gt;
fu-7.jpg: 1112&lt;br/&gt;
fu-8.jpg: 1112&lt;br/&gt;
fu-9.jpg: 1112&lt;/p&gt;

&lt;p&gt;BUT... file 4 and 5 add up to 2224 bytes, which is exactly two times the&lt;br/&gt;
correct size of 1112 bytes.  Thus, a worthy hypothesis is that the code&lt;br/&gt;
that parsed the raw servlet request stream somehow missed the the&lt;br/&gt;
boundary between the 4th and 5th file items.&lt;/p&gt;

&lt;p&gt;To rule out an alternate hypothesis that this was a random glitch&lt;br/&gt;
unrelated to recognizing item boundaries, I repeated the test with ten&lt;br/&gt;
new files, fu-a.jpg, fu-b.jpg, ..., fu-i.jpg.  But this time, instead&lt;br/&gt;
FileUpload-ing nine files at once, I FileUploaded each file separately.&lt;br/&gt;
In this case, all ten files uploaded without error.&lt;/p&gt;</comment>
                            <comment id="12596061" author="faseidl" created="Mon, 12 May 2008 13:33:03 +0000"  >&lt;p&gt;While the symptoms were real, the cause was outside (below) FileUpload.   Specifically, within MultipartStream.makeAvailable() , the following function was violating its contract:&lt;/p&gt;

&lt;p&gt;int bytesRead = input.read(buffer, tail, bufSize- tail);&lt;/p&gt;

&lt;p&gt;Under certain not-understood but repeatable circumstances, the call to read() was acting as if tail==0 when it actually was non-zero (i.e., tail==pad).  When this occurred, new data was written to the front of the buffer instead of tail bytes into the buffer.  The result was tail bytes of data being dropped from the buffer, the new data being shifted to the front of the buffer, and tail bytes of garbage being re-used at the end of the buffer--in short, a corrupted file that retained its correct size (except for the even rarer occurrences when  the lost bytes contained a boundary separator.)&lt;/p&gt;

&lt;p&gt;Ultimately the problem was in the implementation of the input stream class, which in this case, was com.caucho.server.connection.ServletInputStreamImpl, which is supplied by Resin.&lt;/p&gt;

&lt;p&gt;I did not determine under what circumstances this stream implementation was failing, but noting that read() was always returning 1460 bytes (a TCP packet size), even though the buffer was 4K, suggested that this was not a buffered implementation. I wrapped the raw input stream in a BufferedInputStream (by overriding getInputStream in ServletRequestContext) and the problems disappeared.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43083</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 26 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skpz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164834</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-147] Incorrect Information in documentation.</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-147</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;&lt;a href=&quot;http://commons.apache.org/fileupload/using.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/fileupload/using.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The guide refers to functions not in the current API&apos;s for apache commons io and commons upload&lt;/p&gt;


&lt;p&gt;The specific section:&lt;/p&gt;

&lt;p&gt;        FileCleaningTracker fileCleaningTracker&lt;br/&gt;
            = FileCleanerCleanup.getFileCleaningTracker(context);&lt;br/&gt;
        return new DiskFileItemFactory(fileCleaningTracker,&lt;br/&gt;
                                       DiskFileItemFactory.DEFAULT_SIZE_THRESHOLD,&lt;br/&gt;
                                       repository);&lt;/p&gt;</description>
                <environment>&lt;p&gt;Firefox&lt;/p&gt;</environment>
        <key id="12379431">FILEUPLOAD-147</key>
            <summary>Incorrect Information in documentation.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="stevez">Steven Zimmer</reporter>
                        <labels>
                    </labels>
                <created>Mon, 1 Oct 2007 19:35:52 +0000</created>
                <updated>Tue, 6 Jun 2017 04:56:51 +0000</updated>
                            <resolved>Sun, 18 Jan 2009 02:21:15 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.2.2</fixVersion>
                                        <due></due>
                            <votes>2</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="12664909" author="jochen@apache.org" created="Sun, 18 Jan 2009 02:21:15 +0000"  >&lt;p&gt;Duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-155&quot; title=&quot;Fix documentation on resource clean up in conjunction with DiskFileItemFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-155&quot;&gt;&lt;del&gt;FILEUPLOAD-155&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16038158" author="chtompki" created="Tue, 6 Jun 2017 04:56:51 +0000"  >&lt;p&gt;dupplicate.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12395205">FILEUPLOAD-155</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43085</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164836</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-146] FileUpload I/O current, 1.2/1.3.2: charset problem surface again, appear to be unfixed</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-146</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Gotten garbage returned from a Chinese UTF-8 field returned from passing through FileUpload; but otherwise fine passed by normal Tomcat&apos;s request servlet variable.&lt;/p&gt;

&lt;p&gt;This issue need to reopen and closer examination on proper fix.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Apache Tomcat 5.5.17 on Windows XP&lt;/p&gt;</environment>
        <key id="12377332">FILEUPLOAD-146</key>
            <summary>FileUpload I/O current, 1.2/1.3.2: charset problem surface again, appear to be unfixed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="actsai">Andy Tsai</reporter>
                        <labels>
                    </labels>
                <created>Sun, 2 Sep 2007 20:00:55 +0000</created>
                <updated>Mon, 10 Sep 2007 17:29:50 +0000</updated>
                            <resolved>Mon, 10 Sep 2007 17:29:50 +0000</resolved>
                                    <version>1.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12525200" author="jochen@apache.org" created="Wed, 5 Sep 2007 19:52:39 +0000"  >&lt;p&gt;Do you actually believe, that you supplied sufficient information for me to understand what your problem is or what you refer to by &quot;This issue need to reopen&quot;?&lt;/p&gt;</comment>
                            <comment id="12526196" author="bayard" created="Mon, 10 Sep 2007 17:29:50 +0000"  >&lt;p&gt;Agreed - there&apos;s not enough info in this one to understand. Please reopen if you&apos;ve got more information Andy.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43086</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 9 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skqn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164837</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-145] setFileSizeMax validation is happening after ENTIRE file gets uploaded</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-145</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;The LimitedInputStream &lt;b&gt;IS&lt;/b&gt; correctly raising a FileUploadBase.FileSizeLimitExceededException in the event of a too-large file.  HOWEVER, the exception isn&apos;t getting &lt;b&gt;processed&lt;/b&gt; until AFTER all of the data is read.  This is because of what appears to be a bug in MultipartStream.ItemInputStream.close() (or a bug in close handling after the FileSizeLimitExceededException is raised).  After the LimitedInputStream correctly raises the file size exception, someone attempts to close the MultipartStream, but the close() method repeatedly calls &apos;makeAvailable()&apos; which ends up reading the rest of the file upload data anyways, REGARDLESS of the size limit exception being raised.&lt;/p&gt;</description>
                <environment>&lt;p&gt;All, however I mainly use Mac OSX&lt;/p&gt;</environment>
        <key id="12377199">FILEUPLOAD-145</key>
            <summary>setFileSizeMax validation is happening after ENTIRE file gets uploaded</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="zmonster">Eric Hermanson</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Aug 2007 23:53:56 +0000</created>
                <updated>Tue, 6 Jun 2017 04:21:41 +0000</updated>
                            <resolved>Sat, 22 Sep 2007 21:01:15 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="12527250" author="bayard" created="Thu, 13 Sep 2007 20:33:40 +0000"  >&lt;p&gt;Looking at the code, I agree with Eric&apos;s description above.&lt;/p&gt;

&lt;p&gt;The options would seem to be:&lt;/p&gt;

&lt;p&gt;1) Remove the eating of the stream from close() (presumably it&apos;s there for a reason).&lt;br/&gt;
2) Add a boolean to turn off the eating of the stream and set that when raising an error in checkLimit.&lt;br/&gt;
3) other ideas?&lt;/p&gt;</comment>
                            <comment id="12529554" author="jochen@apache.org" created="Fri, 21 Sep 2007 21:07:32 +0000"  >&lt;p&gt;Could you please verify, whether the attached patch works?&lt;/p&gt;</comment>
                            <comment id="12529560" author="zmonster" created="Fri, 21 Sep 2007 21:39:23 +0000"  >&lt;p&gt;The attached patch does appear to work in that the client (web browser) receives the desired file size max error after fileSizeMax bytes are uploaded (whereas before, the entire (size&amp;gt;fileSizeMax) had to be uploaded before the error was sent).  However, this is still not completely ideal.  It would be desireable for the server to check the file size immediately, before the upload starts, and throw the error in a pre-emptive fashion.  But maybe that information is not available at the fileupload level, and &apos;fileSizeMax&apos; bytes have to be read in all cases before any error can be thrown?  If so, that&apos;s fine.  This patch is one step better than we had before.  Please excuse my ignorance of the inner-workings of the fileupload code.&lt;/p&gt;</comment>
                            <comment id="12529697" author="jochen@apache.org" created="Sat, 22 Sep 2007 21:01:15 +0000"  >&lt;p&gt;A FileSizeLimitExceededException was deferred until the complete file has been uploaded. Additionally, the FileSizeLimitException is now thrown immediately, if the attachments headers contain a content-length value, which exceeds the configured limit. (It is unlikely, that browsers send such a header, but one can try.)&lt;/p&gt;
</comment>
                            <comment id="16038098" author="chtompki" created="Tue, 6 Jun 2017 04:21:41 +0000"  >&lt;p&gt;1.2.1 released.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12366387" name="FILEUPLOAD-145.patch" size="2956" author="jochen@apache.org" created="Fri, 21 Sep 2007 21:07:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43087</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164838</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-144] Parameters values are lost</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-144</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;When parsing a request with the streaming API, some parameters loose their values. I can easily reproduce the problem when a lot of parameters are submitted (about 400 in a table). My code is as follows :&lt;/p&gt;

&lt;p&gt;            final FileItemStream itemStream = anItemIterator.next();&lt;br/&gt;
            final String fieldName = itemStream.getFieldName();&lt;br/&gt;
            System.out.print(&quot;Field &quot; + fieldName);&lt;br/&gt;
            InputStream stream = itemStream.openStream();&lt;br/&gt;
            final String value = Streams.asString(stream, &quot;UTF-8&quot;);&lt;/p&gt;

&lt;p&gt;The last statement sometimes returns a value and sometimes not. Sometimes I can retreive all parameters, sometimes I loose 3 or 4 parameters. I reproduced the problem on two computers. I have a very small application with a servlet of 69 lines that reproduces the problem, the project is attached to this issue. &lt;/p&gt;</description>
                <environment>&lt;p&gt;JBoss 4 / XP / Servlet / both Firefox and IE&lt;/p&gt;</environment>
        <key id="12376723">FILEUPLOAD-144</key>
            <summary>Parameters values are lost</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="mvera@genigraph.fr">Vera Mickael</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Aug 2007 15:25:08 +0000</created>
                <updated>Sat, 3 Jun 2017 17:18:51 +0000</updated>
                            <resolved>Sun, 18 Jan 2009 02:29:35 +0000</resolved>
                                    <version>1.2</version>
                                                        <due></due>
                            <votes>2</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="12522177" author="mvera@genigraph.fr" created="Thu, 23 Aug 2007 15:31:12 +0000"  >&lt;p&gt;This project reproduces the problem on my platform on two computers. &lt;/p&gt;

&lt;p&gt;Just build the war with the build.xml ant file, the war is generated in the &apos;war&apos; directory. The deploy the war in tomcat or jboss with assertions activated.&lt;/p&gt;

&lt;p&gt;Access webapp with the url &lt;a href=&quot;http://loclahost:8080/test.fileupload&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://loclahost:8080/test.fileupload&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Click the submit button at the end of the page, most of times an assertion is thrown and it should not. &lt;/p&gt;</comment>
                            <comment id="12522178" author="mvera@genigraph.fr" created="Thu, 23 Aug 2007 15:32:46 +0000"  >&lt;p&gt;add attachment&lt;/p&gt;</comment>
                            <comment id="12527547" author="lgoncalves" created="Fri, 14 Sep 2007 15:56:10 +0000"  >&lt;p&gt;I think I&apos;ve found the problem :&lt;/p&gt;

&lt;p&gt;The browser sends the request slowly.&lt;/p&gt;

&lt;p&gt;There is a special case which leads to a bug in the MultipartStream$ItemInputStream.makeAvailable() method :&lt;br/&gt;
The buffer is filled with request&apos;s data ending on a part of the boundary. The end of the buffer only contains the begining of the boundary.&lt;br/&gt;
1.The findSeparator method can&apos;t see a boundary in the buffer (true because it is a part of the boundary), so it sets the &quot;pos&quot; to &quot;-1&quot;&lt;br/&gt;
2. Because there is no &quot;available&quot; byte in the buffer, the method makeAvailable() is called&lt;br/&gt;
3. The makeAvailable() method copy unread part of the end of the buffer at the begining and call a read on the input Stream.&lt;br/&gt;
here is the problem&lt;br/&gt;
4. Thus the browser sends data slowly, the read() method only returns 19 bytes. 19 in my case, but the bug appear if the read method doesn&apos;t returns enough bytes to complete the boundary.&lt;br/&gt;
5. The makeAvailable() method call the findSeparator() method which returns again pos=-1 because there isn&apos;t yet a complete boundary in the buffer&lt;br/&gt;
6. The makeAvailable() method call available() method which returns 0 because pos=-1 again&lt;br/&gt;
7. As makeAvailable() returns 0 the read() method returns -1 whereas it isn&apos;t the end of the stream !&lt;/p&gt;

&lt;p&gt;To correct the bug, I&apos;ve changed the makeAvailable() method to force a loop on the reading of the input stream in this case.&lt;br/&gt;
This is the new method :&lt;br/&gt;
        /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Attempts to read more data.&lt;/li&gt;
	&lt;li&gt;@return Number of available bytes&lt;/li&gt;
	&lt;li&gt;@throws IOException An I/O error occurred.&lt;br/&gt;
         */&lt;br/&gt;
        private int makeAvailable() throws IOException {&lt;br/&gt;
            if (pos != -1) 
{
                return 0;
            }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;            // Move the data to the beginning of the buffer.&lt;br/&gt;
            total += tail - head - pad;&lt;br/&gt;
            System.arraycopy(buffer, tail - pad, buffer, 0, pad);&lt;/p&gt;

&lt;p&gt;            // Refill buffer with new data.&lt;br/&gt;
            head = 0;&lt;br/&gt;
            // **************** correction : the read is in a do/while structure to loop&lt;br/&gt;
            int bytesRead = 0;&lt;br/&gt;
            do&lt;br/&gt;
            {&lt;br/&gt;
               bytesRead = input.read(buffer, pad, bufSize - pad);&lt;br/&gt;
            // **************** end of the first part of the correction&lt;br/&gt;
               if (bytesRead == -1) &lt;/p&gt;
{
                   // The last pad amount is left in the buffer.
                   // Boundary can&apos;t be in there so signal an error
                   // condition.
                   throw new MalformedStreamException(
                   &quot;Stream ended unexpectedly&quot;);
               }
&lt;p&gt;               notifier.noteBytesRead(bytesRead);&lt;br/&gt;
               tail = pad + bytesRead;&lt;br/&gt;
               findSeparator();&lt;br/&gt;
           // ****************  2nd part : the loop &lt;br/&gt;
               //separator was not found, it denotes a miss in the buffer&lt;br/&gt;
               // force other buffer&apos;s reading until end of stream or first separator found&lt;br/&gt;
            }&lt;br/&gt;
            while (pos == -1 &amp;amp;&amp;amp; bytesRead &amp;gt;= 0);&lt;br/&gt;
          // ****************  end of correction&lt;/p&gt;

&lt;p&gt;            return available();&lt;br/&gt;
        }&lt;/p&gt;</comment>
                            <comment id="12528296" author="lgoncalves" created="Tue, 18 Sep 2007 08:16:03 +0000"  >&lt;p&gt;After more unit testing, I&apos;ve found another bug with the pad attribute used in the input.read(...) method.&lt;br/&gt;
The pad is updated by the findSeparator() method with a maximum value given by keepRegion attribute.&lt;br/&gt;
The good approach is to use the tail attribute in the input.read(...) method and update it in the loop.&lt;br/&gt;
The final code of the makeAvailable() method must be :&lt;/p&gt;

&lt;p&gt;        private int makeAvailable() throws IOException {&lt;br/&gt;
            if (pos != -1) &lt;/p&gt;
{
                return 0;
            }

&lt;p&gt;            // Move the data to the beginning of the buffer.&lt;br/&gt;
            total += tail - head - pad;&lt;br/&gt;
            System.arraycopy(buffer, tail - pad, buffer, 0, pad);&lt;/p&gt;

&lt;p&gt;            // Refill buffer with new data.&lt;br/&gt;
            head = 0;&lt;br/&gt;
            tail = pad;&lt;br/&gt;
            int bytesRead = 0;&lt;br/&gt;
            do&lt;br/&gt;
            {&lt;br/&gt;
               bytesRead = input.read(buffer, tail, bufSize - tail);&lt;br/&gt;
               if (bytesRead != -1)&lt;/p&gt;
               {
                  notifier.noteBytesRead(bytesRead);
                  tail += bytesRead;
                  findSeparator();
               }
&lt;p&gt;               // separator was not found, it denotes a miss in the buffer&lt;br/&gt;
               // force other buffer&apos;s reading until end of stream or first separator found&lt;br/&gt;
            }&lt;br/&gt;
            while (pos == -1 &amp;amp;&amp;amp; bytesRead &amp;gt;= 0);&lt;/p&gt;

&lt;p&gt;            return available();&lt;br/&gt;
        }&lt;/p&gt;</comment>
                            <comment id="12528297" author="lgoncalves" created="Tue, 18 Sep 2007 08:17:37 +0000"  >&lt;p&gt;the modified class&lt;/p&gt;</comment>
                            <comment id="12528299" author="jochen@apache.org" created="Tue, 18 Sep 2007 08:22:26 +0000"  >&lt;p&gt;Laurent, what&apos;s even more important than an updated class: Could you supply a unit test, that demonstrates the problem (and, in particular, demonstrates that your updates fix it).&lt;/p&gt;</comment>
                            <comment id="12528335" author="lgoncalves" created="Tue, 18 Sep 2007 10:01:39 +0000"  >&lt;p&gt;Project modified containing unit tests for reproducing the problem.&lt;br/&gt;
Unit tests are in the test/src source folder.&lt;br/&gt;
Unit tests can be started from eclipse environment.&lt;br/&gt;
File upload modified sources are in the src_fileupload folder.&lt;br/&gt;
In this version the MultipartStream is modified, you can restore the old version of the makeAvailable() method, the old method is commented.&lt;br/&gt;
With the new version of MultipartStream, all test case are successfull, if you restore the old version of the makeAvailable() method you will see failures.&lt;/p&gt;</comment>
                            <comment id="12528340" author="jochen@apache.org" created="Tue, 18 Sep 2007 10:20:51 +0000"  >&lt;p&gt;Laurent, such Unit tests should be included into the commons-fileupload project. They should not be a separate project.&lt;/p&gt;</comment>
                            <comment id="12529161" author="lgoncalves" created="Thu, 20 Sep 2007 17:29:32 +0000"  >&lt;p&gt;&quot;correction_with_test_cases_in_distribution.zip&quot; =&amp;gt; Here is the modifications i&apos;ve done in the distribution.&lt;br/&gt;
Test case is included to reproduce the problem.&lt;br/&gt;
The old makeAvailable() method is commented.&lt;br/&gt;
I&apos;ve found and corrected a new bug with my previous correction, so makeAvailable() method has changed since my last post.&lt;/p&gt;

&lt;p&gt;Laurent&lt;/p&gt;</comment>
                            <comment id="12529529" author="jochen@apache.org" created="Fri, 21 Sep 2007 19:00:21 +0000"  >&lt;p&gt;I applied the src/test part of the correction_with_test_cases_in_distribution.zip, but not the src/java part.&lt;/p&gt;

&lt;p&gt;Yet, the tests are all working, including the testWithASlowInputStream()?&lt;/p&gt;</comment>
                            <comment id="12529552" author="jochen@apache.org" created="Fri, 21 Sep 2007 20:47:43 +0000"  >&lt;p&gt;Laurent, are you aware of the changes in the trunk, related to &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-135&quot; title=&quot;InputStream created with Streaming API returns EOF on first read() for short files uploaded from FireFox over HTTPS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-135&quot;&gt;&lt;del&gt;FILEUPLOAD-135&lt;/del&gt;&lt;/a&gt;? Is it possible, that these are fixing this issue as well?&lt;/p&gt;</comment>
                            <comment id="12531400" author="kazkun" created="Mon, 1 Oct 2007 02:22:58 +0000"  >&lt;p&gt;I got same problem last week on Tomcat in public service.&lt;/p&gt;

&lt;p&gt;It happens NOT only slow input stream.&lt;br/&gt;
I reproduced it on my local network.&lt;br/&gt;
I watched the size of read bytes, It was 37 or 39 sometimes.&lt;br/&gt;
It is enough to happen the Bug (because IE uses 40byte for boundary).&lt;br/&gt;
The reason why it happens, I think the LimitedInputStream.&lt;br/&gt;
There is no bug in the class, but it makes fragment.&lt;/p&gt;</comment>
                            <comment id="12531431" author="jochen@apache.org" created="Mon, 1 Oct 2007 07:52:18 +0000"  >&lt;p&gt;Is this reproducable? Did you try the latest snapshot? (With the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-135&quot; title=&quot;InputStream created with Streaming API returns EOF on first read() for short files uploaded from FireFox over HTTPS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-135&quot;&gt;&lt;del&gt;FILEUPLOAD-135&lt;/del&gt;&lt;/a&gt; applied?)&lt;/p&gt;</comment>
                            <comment id="12533626" author="jochen@apache.org" created="Wed, 10 Oct 2007 06:43:53 +0000"  >&lt;p&gt;I&apos;d like to repeat my question, whether your problems are reproducable and possibly fixed in the latest version of the trunk? In other words, whether this bug is in fact a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-135&quot; title=&quot;InputStream created with Streaming API returns EOF on first read() for short files uploaded from FireFox over HTTPS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-135&quot;&gt;&lt;del&gt;FILEUPLOAD-135&lt;/del&gt;&lt;/a&gt;? If I get no reply, then I intend to close this issue as a duplicate within two weeks or so.&lt;/p&gt;</comment>
                            <comment id="12533663" author="lgoncalves" created="Wed, 10 Oct 2007 09:02:03 +0000"  >&lt;p&gt;Jochen, you&apos;re right : with the latest version on the trunk, the bug seems to be fixed.&lt;/p&gt;</comment>
                            <comment id="12664913" author="jochen@apache.org" created="Sun, 18 Jan 2009 02:29:35 +0000"  >&lt;p&gt;Duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-135&quot; title=&quot;InputStream created with Streaming API returns EOF on first read() for short files uploaded from FireFox over HTTPS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-135&quot;&gt;&lt;del&gt;FILEUPLOAD-135&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12370108">FILEUPLOAD-135</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12366072" name="MultipartStream.java" size="34441" author="lgoncalves" created="Tue, 18 Sep 2007 08:17:37 +0000"/>
                            <attachment id="12366302" name="correction_with_test_cases_in_distribution.zip" size="17206" author="lgoncalves" created="Thu, 20 Sep 2007 17:29:32 +0000"/>
                            <attachment id="12366081" name="test.fileupload.zip" size="525327" author="lgoncalves" created="Tue, 18 Sep 2007 10:01:39 +0000"/>
                            <attachment id="12364434" name="test.fileupload.zip" size="232392" author="mvera@genigraph.fr" created="Thu, 23 Aug 2007 15:31:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43088</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164839</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-143] &quot;Stream ended unexpectedly&quot; when posting from a Flash client</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-143</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I setup an upload script under a JSP. I tested it by uploading a file via html form upload and it worked fine - the file was received.&lt;/p&gt;

&lt;p&gt;But when I tried uploading the file through a flash interface using the FileReference object I got a 500 error response. Flash&apos;s FileReference API was very vague, and I was unable to reproduce the error under another interface so I could see the error.... But I finnally did get something back by writing a catch and writing the error to a file. I don&apos;t know if this is accurate or not:&lt;/p&gt;

&lt;p&gt;&quot;Stream ended unexpectedly&quot;&lt;/p&gt;

&lt;p&gt;I do know that the error occurs when this line is ran:&lt;/p&gt;

&lt;p&gt;List items = upload.parseRequest(request);&lt;/p&gt;

&lt;p&gt;And here is some relevant code, but not all of it: (to show that I do have a factory set):&lt;/p&gt;

&lt;p&gt;DiskFileItemFactory factory = new DiskFileItemFactory();&lt;br/&gt;
factory.setSizeThreshold(524288000);&lt;br/&gt;
ServletFileUpload upload = new ServletFileUpload(factory);&lt;br/&gt;
upload.setSizeMax(524288000);&lt;br/&gt;
List items = upload.parseRequest(request);&lt;/p&gt;

&lt;p&gt;I am fairly sure that flash is doing something that is throwing commons-fileupload off. But it does work with apache &amp;amp; php...&lt;/p&gt;

&lt;p&gt;The biggest difference in the headers, or at least the initial headers, is flash passes a &quot;connection: close&quot; header.&lt;/p&gt;

&lt;p&gt;When searching I came up with some vague answers. This page shows some comments at the bottom by users with similar problems:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://livedocs.adobe.com/flash/8/main/wwhelp/wwhimpl/common/html/wwhelp.htm?context=LiveDocs_Parts&amp;amp;file=00002225.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://livedocs.adobe.com/flash/8/main/wwhelp/wwhimpl/common/html/wwhelp.htm?context=LiveDocs_Parts&amp;amp;file=00002225.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;One guy posts a solution to fix the problem, but it seems like it is severely out of date because where it says &quot;return items;&quot; I do not see items declared in the function of the line he mentions. Plus he mentions line 336, and it&apos;s now on 800 something. Tried his suggestion but instead returned &quot;true&quot; and &quot;false&quot; (tried both ways) but it didn&apos;t work... Also when I tried his catch line ant said it was invalid, so I had to put &quot;Exception e&quot; instead. You may notice that his post is in all caps (posts after his appear to be for some reason). I did make sure to use the proper case (i do know of case sensitivity).&lt;/p&gt;

&lt;p&gt;With further reading I read instances where flash did a &quot;test upload&quot; without sending the file. In other cases I read something about it not sending to blank lines after the header. Not sure what my current problem is.... I&apos;m sure once the problem is found, it should be fairly trivial to fix (i hope).&lt;/p&gt;

&lt;p&gt;Even though it may be flash&apos;s fault, it works in PHP and other instances... So it should work here &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks in advance,&lt;/p&gt;

&lt;p&gt;-Luke&lt;/p&gt;</description>
                <environment>&lt;p&gt;CentOS 4.4, Jetty running through Red5 (form of Flash Media Server), code under JSP&lt;/p&gt;</environment>
        <key id="12375379">FILEUPLOAD-143</key>
            <summary>&quot;Stream ended unexpectedly&quot; when posting from a Flash client</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="lukescott">Luke Scott</reporter>
                        <labels>
                    </labels>
                <created>Sun, 5 Aug 2007 06:31:00 +0000</created>
                <updated>Tue, 6 Jun 2017 04:47:05 +0000</updated>
                            <resolved>Mon, 11 Mar 2013 10:34:12 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="12517782" author="jochen@apache.org" created="Sun, 5 Aug 2007 19:11:58 +0000"  >&lt;p&gt;It&apos;s impossible to diagnose the problem without some sort of trace. Such a trace might be created by using tools like tcpmon, or wireshark.&lt;/p&gt;</comment>
                            <comment id="12517791" author="lukescott" created="Sun, 5 Aug 2007 21:20:48 +0000"  >&lt;p&gt;Other than the information I&apos;ve given you, I have no idea how to do that because of my lack of experience. I know that it does work with a standard html upload, just not the flash... I&apos;m trying to get the complete body of the post, but I&apos;m not sure how to do that with java.  I got the error message through e.getMessage() in a catch statement. Flash doesn&apos;t give me the whole response. I&apos;ll be happy to get you more information, but I may need some assistance in getting it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;</comment>
                            <comment id="12519472" author="lukescott" created="Mon, 13 Aug 2007 16:58:34 +0000"  >&lt;p&gt;Finnally figured out how to get a stack trace. Here it is:&lt;/p&gt;

&lt;p&gt;org.apache.commons.fileupload.FileUploadException: Stream ended unexpectedly&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:369)&lt;br/&gt;
	at org.apache.commons.fileupload.servlet.ServletFileUpload.parseRequest(ServletFileUpload.java:126)&lt;br/&gt;
	at org.apache.jsp.index_jsp._jspService(index_jsp.java:84)&lt;br/&gt;
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)&lt;br/&gt;
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:384)&lt;br/&gt;
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:320)&lt;br/&gt;
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:266)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:491)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:367)&lt;br/&gt;
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:185)&lt;br/&gt;
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)&lt;br/&gt;
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:689)&lt;br/&gt;
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:391)&lt;br/&gt;
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:146)&lt;br/&gt;
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)&lt;br/&gt;
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139)&lt;br/&gt;
	at org.mortbay.jetty.Server.handle(Server.java:285)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:457)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:765)&lt;br/&gt;
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:627)&lt;br/&gt;
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:203)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:357)&lt;br/&gt;
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:329)&lt;br/&gt;
	at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:475)&lt;br/&gt;
Caused by:&lt;br/&gt;
org.apache.commons.fileupload.MultipartStream$MalformedStreamException: Stream ended unexpectedly&lt;br/&gt;
	at org.apache.commons.fileupload.MultipartStream.readHeaders(MultipartStream.java:542)&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase$FileItemIteratorImpl.findNextItem(FileUploadBase.java:859)&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase$FileItemIteratorImpl.hasNext(FileUploadBase.java:916)&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:348)&lt;br/&gt;
	at org.apache.commons.fileupload.servlet.ServletFileUpload.parseRequest(ServletFileUpload.java:126)&lt;br/&gt;
	at org.apache.jsp.index_jsp._jspService(index_jsp.java:84)&lt;br/&gt;
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)&lt;br/&gt;
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:384)&lt;br/&gt;
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:320)&lt;br/&gt;
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:266)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:491)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:367)&lt;br/&gt;
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:185)&lt;br/&gt;
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)&lt;br/&gt;
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:689)&lt;br/&gt;
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:391)&lt;br/&gt;
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:146)&lt;br/&gt;
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)&lt;br/&gt;
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139)&lt;br/&gt;
	at org.mortbay.jetty.Server.handle(Server.java:285)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:457)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:765)&lt;br/&gt;
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:627)&lt;br/&gt;
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:203)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:357)&lt;br/&gt;
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:329)&lt;br/&gt;
	at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:475)&lt;/p&gt;</comment>
                            <comment id="12519493" author="jochen@apache.org" created="Mon, 13 Aug 2007 19:22:56 +0000"  >&lt;p&gt;That&apos;s not the trace I was thinking of. The stack trace only demonstrates, that commons fileupload believes that the input stream terminates prematurely. In other words, that the input stream is corrupt.&lt;/p&gt;

&lt;p&gt;My guess would be that the library is right and that, for example, the network connection broke or something similar. However, it is also possible that there&apos;s a bug in the library. To diagnose that, I&apos;d need a trace of the data, which the browser has sent. Such a trace can easily be obtained with tools like tcpmon or wireshark.&lt;/p&gt;</comment>
                            <comment id="12519500" author="lukescott" created="Mon, 13 Aug 2007 19:59:44 +0000"  >&lt;p&gt;I&apos;m fairly sure I figured out what&apos;s causing this. It turns out Flash 8 (not sure about 9) doesn&apos;t properly terminate the final boundary. The final boundary should end with a &quot;--&quot;, but it doesn&apos;t. Because of this, commons-fileupload is throwing an exception.&lt;/p&gt;

&lt;p&gt;Other interfaces like PHP catch the error, but allows the file to be uploaded anyway. Somehow commons-fileupload needs to do the same thing.&lt;/p&gt;

&lt;p&gt;Here are the headers, minus the data for obvious reasons:&lt;/p&gt;

&lt;p&gt;POST /index.html HTTP/1.1&lt;br/&gt;
Connection: close&lt;br/&gt;
User-Agent: Macromedia Flash Player 8&lt;br/&gt;
X-Flash-Version: 8,0,22,0&lt;br/&gt;
Accept-Types: text/*&lt;br/&gt;
Content-Type: multipart/form-data; boundary=----------gL6Ij5ei4gL6Ef1GI3gL6gL6KM7cH2&lt;br/&gt;
Content-Length: 35122482&lt;br/&gt;
Host: localhost:4242&lt;/p&gt;

&lt;p&gt;------------gL6Ij5ei4gL6Ef1GI3gL6gL6KM7cH2&lt;br/&gt;
Content-Disposition: form-data; name=&quot;Filename&quot;&lt;/p&gt;

&lt;p&gt;arewethereyet.mov&lt;br/&gt;
------------gL6Ij5ei4gL6Ef1GI3gL6gL6KM7cH2&lt;br/&gt;
Content-Disposition: form-data; name=&quot;Filedata&quot;; filename=&quot;arewethereyet.mov&quot;&lt;br/&gt;
Content-Type: application/octet-stream&lt;/p&gt;

&lt;p&gt;...DATA HERE...&lt;br/&gt;
------------gL6Ij5ei4gL6Ef1GI3gL6gL6KM7cH2&lt;br/&gt;
Content-Disposition: form-data; name=&quot;Upload&quot;&lt;br/&gt;
Submit Query&lt;br/&gt;
------------gL6Ij5ei4gL6Ef1GI3gL6gL6KM7cH2&lt;/p&gt;</comment>
                            <comment id="12519511" author="jochen@apache.org" created="Mon, 13 Aug 2007 20:14:26 +0000"  >&lt;p&gt;Unsure, whether this works, but you might try to use the streaming API. If you are lucky, you&apos;ll get all the items and can read them until you finally encounter the exception.&lt;/p&gt;</comment>
                            <comment id="12519513" author="jochen@apache.org" created="Mon, 13 Aug 2007 20:20:02 +0000"  >&lt;p&gt;I notice, that my suggestion is consistent with the following quote from&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://livedocs.adobe.com/flash/8/main/wwhelp/wwhimpl/common/html/wwhelp.htm?context=LiveDocs_Parts&amp;amp;file=00002225.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://livedocs.adobe.com/flash/8/main/wwhelp/wwhimpl/common/html/wwhelp.htm?context=LiveDocs_Parts&amp;amp;file=00002225.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt; AJKERR SAID ON JAN 11, 2006 AT 12:34 PM :&lt;/p&gt;

&lt;p&gt;    IN ORDER TO GET FILE UPLOADING TO WORK WITH FLASH PLAYER 8 AND JAKARTA COMMONS FILE UPLOAD ON THE SERVER, WE HAD TO PATCH THE FILE UPLOAD SERVER CODE TO IGNORE THE EXCEPTION THAT WAS (CORRECTLY) BEING THROWN ON THE SERVER WHEN THE LAST SECTION IS PROCESSED.&lt;/p&gt;

&lt;p&gt;    THE CLASS THAT NEEDS TO BE PATCHED IS ORG.APACHE.COMMONS.FILEUPLOAD.FILEUPLOADBASE.&lt;/p&gt;

&lt;p&gt;    YOU&apos;LL NEED TO REPLACE LINE 336:&lt;br/&gt;
    MAP HEADERS = PARSEHEADERS(MULTI.READHEADERS());&lt;/p&gt;

&lt;p&gt;    ...WITH THE FOLLOWING CODE:&lt;br/&gt;
    MAP HEADERS = NULL;&lt;br/&gt;
    TRY&lt;/p&gt;
    {
    HEADERS = PARSEHEADERS(MULTI.READHEADERS());
    }
&lt;p&gt;    CATCH (MULTIPARTSTREAM.MALFORMEDSTREAMEXCEPTION E)&lt;/p&gt;
    {
    RETURN ITEMS;
    }

&lt;p&gt;    NOT THE MOST ELEGANT FIX, BUT IT WORKS AS A STOPGAP UNTIL MACROMEDIA RELEASES AN UPDATE TO THE FLASH 8 PLAYER.&lt;/p&gt;</comment>
                            <comment id="12519522" author="lukescott" created="Mon, 13 Aug 2007 20:44:49 +0000"  >&lt;p&gt;For some reason that solution did not work for me. I&apos;ve tried it before.&lt;/p&gt;

&lt;p&gt;I&apos;m attempting to use the streaming method, but I am unclear how to write the file using this method.&lt;/p&gt;

&lt;p&gt;My other concern is, what if the file being uploaded is large?&lt;/p&gt;</comment>
                            <comment id="12519540" author="lukescott" created="Mon, 13 Aug 2007 22:10:31 +0000"  >&lt;p&gt;Well I got a standard upload to work with the streaming API finally, just like it was working for the standard method. Then when I attempted to upload the file via flash, it gives me an &quot;HTTP error&quot; invoked by &quot;onIOError&quot;.... This event doesn&apos;t return any error codes at all, so now I don&apos;t have any idea what&apos;s causing it to not work.&lt;/p&gt;</comment>
                            <comment id="12519550" author="lukescott" created="Mon, 13 Aug 2007 23:03:21 +0000"  >&lt;p&gt;Oh now I feel silly.. I had the wrong URL put into my flash app... Now it works, but it still throws the exception. At least I got the file to save this time &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;

&lt;p&gt;The guide needs to be updated... The regular interface has an example of how to write a file, but the Streaming API does not. The regular interface talks about streaming data, which could easily be confused with the streaming APi... They don&apos;t mean the same thing.&lt;/p&gt;

&lt;p&gt;With the right libraries included, this is my final code that works. It also takes into account certain flash plugins sending a &quot;test&quot;. I have yet to come across that, but it&apos;s better to be safe than sorry.&lt;/p&gt;

&lt;p&gt;if( request.getContentLength() &amp;gt; 0 )&lt;br/&gt;
{&lt;br/&gt;
	Boolean isMultipart = ServletFileUpload.isMultipartContent(request);&lt;/p&gt;

&lt;p&gt;	if( isMultipart )&lt;br/&gt;
	{&lt;br/&gt;
		ServletFileUpload upload = new ServletFileUpload();&lt;br/&gt;
		FileItemIterator iter = upload.getItemIterator(request);&lt;br/&gt;
		while( iter.hasNext() )&lt;br/&gt;
		{&lt;br/&gt;
			try&lt;br/&gt;
			{&lt;br/&gt;
    			FileItemStream item = iter.next();&lt;br/&gt;
    			InputStream stream = item.openStream();&lt;/p&gt;

&lt;p&gt;    			if( !item.isFormField() &amp;amp;&amp;amp; item.getFieldName().equals(&quot;Filedata&quot;) )&lt;/p&gt;
				{
					OutputStream outstream = new FileOutputStream(&quot;/opt/red5/webapps/test/uploaded/&quot; + item.getName());
					Streams.copy(stream,outstream,true);
    			}
&lt;p&gt;			}&lt;br/&gt;
		}	&lt;br/&gt;
	}&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;Question: Should I close input and output stream in a finally block? Is there anything else I&apos;m missing?&lt;/p&gt;</comment>
                            <comment id="12519876" author="jochen@apache.org" created="Wed, 15 Aug 2007 06:40:19 +0000"  >&lt;p&gt;I have added the following entry to the FAQ:&lt;/p&gt;


&lt;p&gt;  &amp;lt;part id=&quot;flash&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;title&amp;gt;FileUpload and Flash&amp;lt;/title&amp;gt;&lt;br/&gt;
    &amp;lt;faq id=&quot;missing-boundary-terminator&quot;&amp;gt;&lt;br/&gt;
      &amp;lt;question&amp;gt;&lt;br/&gt;
        I&apos;m using FileUpload to receive an upload from flash, but&lt;br/&gt;
        FileUpload will always throw an Exception &quot;Stream ended unexpectedly&quot;.&lt;br/&gt;
        What can I do?&lt;br/&gt;
      &amp;lt;/question&amp;gt;&lt;br/&gt;
      &amp;lt;answer&amp;gt;&lt;br/&gt;
        &amp;lt;p&amp;gt;&lt;br/&gt;
          At least as of version 8, Flash contains a known bug: The multipart&lt;br/&gt;
          stream it produces is broken, because the final boundary doesn&apos;t&lt;br/&gt;
          contain the suffix &quot;--&quot;, which ought to indicate, that no more&lt;br/&gt;
          items are following. Consequently, FileUpload waits for the next&lt;br/&gt;
          item (which it doesn&apos;t get) and throws an exception.&lt;br/&gt;
        &amp;lt;/p&amp;gt;&lt;br/&gt;
        &amp;lt;p&amp;gt;&lt;br/&gt;
          The problems details and a possible workaround are outlined in&lt;br/&gt;
          &amp;lt;a href=&quot;http://issues.apache.org/jira/browse/FILEUPLOAD-143&quot;&amp;gt;&lt;br/&gt;
          Bug 143&amp;lt;/a&amp;gt;. The workaround suggests to use the streaming API&lt;br/&gt;
          and catch the exception. The resulting code could look like&lt;br/&gt;
          this:&lt;br/&gt;
        &amp;lt;/p&amp;gt;&lt;br/&gt;
        &amp;lt;pre&amp;gt;&lt;br/&gt;
List items = new ArrayList();&lt;br/&gt;
FileItemIterator iter = fileUploadBase.getItemIterator(ctx);&lt;br/&gt;
try {&lt;br/&gt;
    while (iter.hasNext()) &lt;/p&gt;
{
        FileItemStream item = iter.next();
        FileItem fileItem = fileItemFactory.createItem(item.getFieldName(),
                        item.getContentType(), item.isFormField(),
                        item.getName());
        Streams.copy(item.openStream(), fileItem.getOutputStream(), true);
        items.add(fileItem);
    }
&lt;p&gt;} catch (MalformedStreamException e) {&lt;br/&gt;
    // Ignore this&lt;br/&gt;
}&lt;br/&gt;
        &amp;lt;/pre&amp;gt;&lt;br/&gt;
      &amp;lt;/answer&amp;gt;&lt;br/&gt;
    &amp;lt;/faq&amp;gt;&lt;br/&gt;
  &amp;lt;/part&amp;gt;&lt;/p&gt;</comment>
                            <comment id="12519982" author="lukescott" created="Wed, 15 Aug 2007 14:44:21 +0000"  >&lt;p&gt;&quot;ctx&quot; is not defined. Plus, I think the try block needs to be around iterator as well. And just in case I think the input stream needs to be closed with the finally block. I&apos;ve also included a fix where some flash versions will send a 0 byte test. Here is my final code:&lt;/p&gt;

&lt;p&gt;if( request.getContentLength() &amp;gt; 0 )&lt;br/&gt;
{&lt;br/&gt;
	Boolean isMultipart = ServletFileUpload.isMultipartContent(request);&lt;/p&gt;

&lt;p&gt;	if( isMultipart )&lt;br/&gt;
	{&lt;br/&gt;
		try&lt;br/&gt;
		{&lt;br/&gt;
			ServletFileUpload upload = new ServletFileUpload();&lt;br/&gt;
			FileItemIterator iter = upload.getItemIterator(request);&lt;br/&gt;
			while( iter.hasNext() )&lt;br/&gt;
			{&lt;br/&gt;
    			FileItemStream item = iter.next();&lt;br/&gt;
    			InputStream stream = item.openStream();&lt;/p&gt;

&lt;p&gt;    			if( !item.isFormField() &amp;amp;&amp;amp; item.getFieldName().equals(&quot;Filedata&quot;) )&lt;/p&gt;
				{
					String filename = item.getName();
					String tmpPath = &quot;/opt/red5/webapps/test/uploaded/.tmp.&quot; + filename;
					String finPath = &quot;/opt/red5/webapps/test/uploaded/&quot; + filename;
					
					OutputStream outstream = new FileOutputStream( tmpPath );
					Streams.copy(stream,outstream,true);
					
					File tmpFile = File( tmpPath );
					File finFile = File( finPath );
					
					tmpFile.renameTo( finFile );
    			}
&lt;p&gt;			}&lt;br/&gt;
		}&lt;br/&gt;
		catch( Exception e ) { }&lt;br/&gt;
		finally&lt;/p&gt;
		{
			stream.close();
		}	
&lt;p&gt;	}&lt;br/&gt;
}&lt;/p&gt;</comment>
                            <comment id="12892373" author="jsp1611" created="Mon, 26 Jul 2010 17:15:24 +0000"  >&lt;p&gt;I&apos;ve been getting a similar error. The stack trace for us, is as follows:&lt;/p&gt;

&lt;p&gt;2010-07-19 17:30:14,887 &lt;span class=&quot;error&quot;&gt;&amp;#91;TP-Processor7&amp;#93;&lt;/span&gt; ERROR vyre.publishing.portal.PortalFramework - Could not render portlet vyre.publishing.PortletInstance_628#46&lt;br/&gt;
org.exoplatform.services.portletcontainer.PortletProcessingException:&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.PortletApplicationHandler.processPortletException(PortletApplicationHandler.java:395)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.PortletApplicationHandler.process(PortletApplicationHandler.java:333)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.impl.servlet.ServletWrapper.service(ServletWrapper.java:139)&lt;br/&gt;
at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)&lt;br/&gt;
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)&lt;br/&gt;
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)&lt;br/&gt;
at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:630)&lt;br/&gt;
at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:535)&lt;br/&gt;
at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:472)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.PortletContainerDispatcher.dispatch(PortletContainerDispatcher.java:895)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.PortletContainerDispatcher.process(PortletContainerDispatcher.java:818)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.PortletContainerDispatcher.render(PortletContainerDispatcher.java:708)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.impl.PortletContainerServiceImpl.render(PortletContainerServiceImpl.java:569)&lt;br/&gt;
at vyre.publishing.portal.PortalFramework.render(PortalFramework.java:751)&lt;br/&gt;
at vyre.publishing.portal.PortalFramework.renderPortlet(PortalFramework.java:944)&lt;br/&gt;
at vyre.publishing.PortletInstance.render(PortletInstance.java:259)&lt;br/&gt;
at sun.reflect.GeneratedMethodAccessor405.invoke(Unknown Source)&lt;br/&gt;
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
at org.hibernate.proxy.pojo.cglib.CGLIBLazyInitializer.invoke(CGLIBLazyInitializer.java:157)&lt;br/&gt;
at vyre.publishing.PortletInstance$$EnhancerByCGLIB$$4a6f6a50.render(&amp;lt;generated&amp;gt;)&lt;br/&gt;
at org.apache.jsp.WEB_002dINF.jsp.pub_005fmodule.portlet.portlet_005frender_jsp._jspService(Unknown Source)&lt;br/&gt;
at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)&lt;br/&gt;
at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)&lt;br/&gt;
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)&lt;br/&gt;
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)&lt;br/&gt;
at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:630)&lt;br/&gt;
at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:535)&lt;br/&gt;
at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:472)&lt;br/&gt;
at vyre.publishing.ContentArea.render(ContentArea.java:352)&lt;br/&gt;
at org.apache.jsp.WEB_002dINF.jsp.pub_005fmodule.portlet.content_005farea_005frender_jsp._jspService(Unknown Source)&lt;br/&gt;
at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)&lt;br/&gt;
at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)&lt;br/&gt;
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)&lt;br/&gt;
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)&lt;br/&gt;
at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:630)&lt;br/&gt;
at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:535)&lt;br/&gt;
at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:472)&lt;br/&gt;
at vyre.publishing.taglibs.ContentAreaTag.doStartTag(ContentAreaTag.java:64)&lt;br/&gt;
at org.apache.jsp.WEB_002dINF.generated_005ffiles.pub_005fmodule.template.t47_005f23_jsp._jspx_meth_vyre_002dtemplate_005fcontent_002darea_005f0(t47_005f23_jsp.java:356)&lt;br/&gt;
at org.apache.jsp.WEB_002dINF.generated_005ffiles.pub_005fmodule.template.t47_005f23_jsp._jspService(t47_005f23_jsp.java:110)&lt;br/&gt;
at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)&lt;br/&gt;
at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)&lt;br/&gt;
at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:374)&lt;br/&gt;
at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:342)&lt;br/&gt;
at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:267)&lt;br/&gt;
at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)&lt;br/&gt;
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)&lt;br/&gt;
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)&lt;br/&gt;
at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:630)&lt;br/&gt;
at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:436)&lt;br/&gt;
at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:374)&lt;br/&gt;
at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:302)&lt;br/&gt;
at vyre.publishing.PathFilter.doFilter(PathFilter.java:240)&lt;br/&gt;
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)&lt;br/&gt;
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)&lt;br/&gt;
at vyre.content.search.permissions.ViewPermissionFilter.doFilter(ViewPermissionFilter.java:27)&lt;br/&gt;
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)&lt;br/&gt;
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)&lt;br/&gt;
at vyre.realms.GateKeeper.doFilter(GateKeeper.java:137)&lt;br/&gt;
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)&lt;br/&gt;
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)&lt;br/&gt;
at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:198)&lt;br/&gt;
at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)&lt;br/&gt;
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)&lt;br/&gt;
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)&lt;br/&gt;
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)&lt;br/&gt;
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)&lt;br/&gt;
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)&lt;br/&gt;
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)&lt;br/&gt;
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)&lt;br/&gt;
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)&lt;br/&gt;
at org.apache.jk.server.JkCoyoteHandler.invoke(JkCoyoteHandler.java:190)&lt;br/&gt;
at org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:283)&lt;br/&gt;
at org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:767)&lt;br/&gt;
at org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:697)&lt;br/&gt;
at org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:889)&lt;br/&gt;
at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)&lt;br/&gt;
at java.lang.Thread.run(Thread.java:619)&lt;br/&gt;
Caused by: javax.portlet.PortletException: Request processing failed&lt;br/&gt;
at org.springframework.web.portlet.FrameworkPortlet.processRequest(FrameworkPortlet.java:496)&lt;br/&gt;
at org.springframework.web.portlet.FrameworkPortlet.doDispatch(FrameworkPortlet.java:453)&lt;br/&gt;
at javax.portlet.GenericPortlet.render(GenericPortlet.java:233)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.PortletMethodCommand.render(PortletMethodCommand.java:62)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.BaseCommandUnit.execute(BaseCommandUnit.java:46)&lt;br/&gt;
at org.exoplatform.container.component.ExecutionContext.executeNextUnit(ExecutionContext.java:39)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.BaseCommandUnit.render(BaseCommandUnit.java:66)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.PortletSessionValidationCommand.render(PortletSessionValidationCommand.java:16)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.BaseCommandUnit.execute(BaseCommandUnit.java:46)&lt;br/&gt;
at org.exoplatform.container.component.ExecutionContext.executeNextUnit(ExecutionContext.java:39)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.PortletContentCommand.render(PortletContentCommand.java:28)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.BaseCommandUnit.execute(BaseCommandUnit.java:46)&lt;br/&gt;
at org.exoplatform.container.component.ExecutionContext.executeNextUnit(ExecutionContext.java:39)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.PortletCacheCommand.render(PortletCacheCommand.java:109)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.BaseCommandUnit.execute(BaseCommandUnit.java:46)&lt;br/&gt;
at org.exoplatform.container.component.ExecutionContext.executeNextUnit(ExecutionContext.java:39)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.PortletFilterCommand.render(PortletFilterCommand.java:71)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.BaseCommandUnit.execute(BaseCommandUnit.java:46)&lt;br/&gt;
at org.exoplatform.container.component.ExecutionContext.executeNextUnit(ExecutionContext.java:39)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.PortletSecurityCommand.render(PortletSecurityCommand.java:49)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.BaseCommandUnit.execute(BaseCommandUnit.java:46)&lt;br/&gt;
at org.exoplatform.container.component.ExecutionContext.executeNextUnit(ExecutionContext.java:39)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.BaseCommandUnit.render(BaseCommandUnit.java:66)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.BaseCommandUnit.execute(BaseCommandUnit.java:46)&lt;br/&gt;
at org.exoplatform.container.component.ExecutionContext.execute(ExecutionContext.java:32)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.PortletCommandChain.doRender(PortletCommandChain.java:61)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.PortletApplicationHandler.process(PortletApplicationHandler.java:300)&lt;br/&gt;
... 77 more&lt;br/&gt;
Caused by: java.lang.RuntimeException: org.apache.commons.fileupload.FileUploadBase$IOFileUploadException: Processing of multipart/form-data request failed. null&lt;br/&gt;
at vyre.util.params.PortletForm.getMap(PortletForm.java:109)&lt;br/&gt;
at vyre.util.params.PortletForm.&amp;lt;init&amp;gt;(PortletForm.java:28)&lt;br/&gt;
at vyre.util.params.ParameterManager.getParameters(ParameterManager.java:48)&lt;br/&gt;
at vyre.portlets.items.templateEdit.ViewController.handleActionRequestInternal(ViewController.java:105)&lt;br/&gt;
at vyre.portlets.items.templateEdit.ViewController.handleActionRequestInternal(ViewController.java:99)&lt;br/&gt;
at org.springframework.web.portlet.mvc.AbstractController.handleActionRequest(AbstractController.java:196)&lt;br/&gt;
at org.springframework.web.portlet.mvc.SimpleControllerHandlerAdapter.handleAction(SimpleControllerHandlerAdapter.java:46)&lt;br/&gt;
at org.springframework.web.portlet.DispatcherPortlet.doActionService(DispatcherPortlet.java:694)&lt;br/&gt;
at org.springframework.web.portlet.FrameworkPortlet.processRequest(FrameworkPortlet.java:480)&lt;br/&gt;
at org.springframework.web.portlet.FrameworkPortlet.processAction(FrameworkPortlet.java:462)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.PortletMethodCommand.processAction(PortletMethodCommand.java:89)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.BaseCommandUnit.execute(BaseCommandUnit.java:57)&lt;br/&gt;
at org.exoplatform.container.component.ExecutionContext.executeNextUnit(ExecutionContext.java:39)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.BaseCommandUnit.processAction(BaseCommandUnit.java:93)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.BaseCommandUnit.execute(BaseCommandUnit.java:57)&lt;br/&gt;
at org.exoplatform.container.component.ExecutionContext.executeNextUnit(ExecutionContext.java:39)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.BaseCommandUnit.processAction(BaseCommandUnit.java:93)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.BaseCommandUnit.execute(BaseCommandUnit.java:57)&lt;br/&gt;
at org.exoplatform.container.component.ExecutionContext.executeNextUnit(ExecutionContext.java:39)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.PortletCacheCommand.processAction(PortletCacheCommand.java:288)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.BaseCommandUnit.execute(BaseCommandUnit.java:57)&lt;br/&gt;
at org.exoplatform.container.component.ExecutionContext.executeNextUnit(ExecutionContext.java:39)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.PortletFilterCommand.processAction(PortletFilterCommand.java:108)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.BaseCommandUnit.execute(BaseCommandUnit.java:57)&lt;br/&gt;
at org.exoplatform.container.component.ExecutionContext.executeNextUnit(ExecutionContext.java:39)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.PortletSecurityCommand.processAction(PortletSecurityCommand.java:68)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.BaseCommandUnit.execute(BaseCommandUnit.java:57)&lt;br/&gt;
at org.exoplatform.container.component.ExecutionContext.executeNextUnit(ExecutionContext.java:39)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.BaseCommandUnit.processAction(BaseCommandUnit.java:93)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.BaseCommandUnit.execute(BaseCommandUnit.java:57)&lt;br/&gt;
at org.exoplatform.container.component.ExecutionContext.execute(ExecutionContext.java:32)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.aop.PortletCommandChain.doProcessAction(PortletCommandChain.java:75)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.PortletApplicationHandler.process(PortletApplicationHandler.java:284)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.impl.servlet.ServletWrapper.service(ServletWrapper.java:139)&lt;br/&gt;
at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)&lt;br/&gt;
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)&lt;br/&gt;
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)&lt;br/&gt;
at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:630)&lt;br/&gt;
at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:535)&lt;br/&gt;
at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:472)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.PortletContainerDispatcher.dispatch(PortletContainerDispatcher.java:895)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.PortletContainerDispatcher.process(PortletContainerDispatcher.java:818)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.plugins.pc.PortletContainerDispatcher.processAction(PortletContainerDispatcher.java:670)&lt;br/&gt;
at org.exoplatform.services.portletcontainer.impl.PortletContainerServiceImpl.processAction(PortletContainerServiceImpl.java:509)&lt;br/&gt;
at vyre.publishing.portal.PortalFramework.processAction(PortalFramework.java:684)&lt;br/&gt;
at vyre.publishing.portal.PortalFramework.preRenderProcessing(PortalFramework.java:893)&lt;br/&gt;
at vyre.publishing.deployment.PageGenerator.prepareForRender(PageGenerator.java:328)&lt;br/&gt;
at vyre.publishing.deployment.PageGenerator.prepareForRender(PageGenerator.java:211)&lt;br/&gt;
at vyre.publishing.deployment.PageGenerator.prepareForRender(PageGenerator.java:200)&lt;br/&gt;
at vyre.publishing.PathFilter.doFilter(PathFilter.java:193)&lt;br/&gt;
... 25 more&lt;br/&gt;
Caused by: org.apache.commons.fileupload.FileUploadBase$IOFileUploadException: Processing of multipart/form-data request failed. null&lt;br/&gt;
at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:367)&lt;br/&gt;
at org.apache.commons.fileupload.portlet.PortletFileUpload.parseRequest(PortletFileUpload.java:119)&lt;br/&gt;
at vyre.util.params.PortletForm.getMap(PortletForm.java:69)&lt;br/&gt;
... 74 more&lt;br/&gt;
Caused by: java.io.IOException&lt;br/&gt;
at org.apache.jk.common.JkInputStream.receive(JkInputStream.java:199)&lt;br/&gt;
at org.apache.jk.common.JkInputStream.refillReadBuffer(JkInputStream.java:258)&lt;br/&gt;
at org.apache.jk.common.JkInputStream.doRead(JkInputStream.java:177)&lt;br/&gt;
at org.apache.coyote.Request.doRead(Request.java:428)&lt;br/&gt;
at org.apache.catalina.connector.InputBuffer.realReadBytes(InputBuffer.java:304)&lt;br/&gt;
at org.apache.tomcat.util.buf.ByteChunk.substract(ByteChunk.java:405)&lt;br/&gt;
at org.apache.catalina.connector.InputBuffer.read(InputBuffer.java:327)&lt;br/&gt;
at org.apache.catalina.connector.CoyoteInputStream.read(CoyoteInputStream.java:193)&lt;br/&gt;
at org.apache.commons.fileupload.MultipartStream$ItemInputStream.makeAvailable(MultipartStream.java:977)&lt;br/&gt;
at org.apache.commons.fileupload.MultipartStream$ItemInputStream.read(MultipartStream.java:887)&lt;br/&gt;
at java.io.InputStream.read(InputStream.java:85)&lt;br/&gt;
at org.apache.commons.fileupload.util.Streams.copy(Streams.java:94)&lt;br/&gt;
at org.apache.commons.fileupload.util.Streams.copy(Streams.java:64)&lt;br/&gt;
at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:362)&lt;br/&gt;
... 76 more&lt;/p&gt;

&lt;p&gt;This happens regularly with very large files. &lt;/p&gt;

&lt;p&gt;MultipartStream appears to be causing problems here. The code that throws the Exception is as follows: &lt;/p&gt;

&lt;p&gt;lines 963 through 1006 in release 1.2.1&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;MultipartStream.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;       &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; makeAvailable() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (pos != -1) {
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0;
            }

            &lt;span class=&quot;code-comment&quot;&gt;// Move the data to the beginning of the buffer.
&lt;/span&gt;            total += tail - head - pad;
            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.arraycopy(buffer, tail - pad, buffer, 0, pad);

            &lt;span class=&quot;code-comment&quot;&gt;// Refill buffer with &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; data.
&lt;/span&gt;            head = 0;
            tail = pad;

            &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; ( ; ; ) {
                &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; bytesRead = input.read(buffer, tail, bufSize - tail);
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (bytesRead == -1) {
                    &lt;span class=&quot;code-comment&quot;&gt;// The last pad amount is left in the buffer.
&lt;/span&gt;                    &lt;span class=&quot;code-comment&quot;&gt;// Boundary can&apos;t be in there so signal an error
&lt;/span&gt;                    &lt;span class=&quot;code-comment&quot;&gt;// condition.
&lt;/span&gt;                    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; msg = &lt;span class=&quot;code-quote&quot;&gt;&quot;Stream ended unexpectedly&quot;&lt;/span&gt;;
                    &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MalformedStreamException(msg);
                }
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (notifier != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
                    notifier.noteBytesRead(bytesRead);
                }
                tail += bytesRead;

                findSeparator();
                &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; av = available();

                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (av &amp;gt; 0 || pos != -1) {
                    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; av;
                }
            }
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When input.read() is called it returns -1 indicating that there is no more data to be read. For some reason this is considered to be an error, and an Exception is thrown. &lt;/p&gt;

&lt;p&gt;I&apos;ve had a look at previous versions of FileUpload, and more or less the same thing has been done for a while. I was wondering if anyone could explain to me why an Exception is thrown in this instance?&lt;/p&gt;


&lt;p&gt;References&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://commons.apache.org/fileupload/apidocs/org/apache/commons/fileupload/MultipartStream.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/fileupload/apidocs/org/apache/commons/fileupload/MultipartStream.html&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/io/InputStream.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://java.sun.com/javase/6/docs/api/java/io/InputStream.html&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="12892380" author="lukescott" created="Mon, 26 Jul 2010 17:31:49 +0000"  >&lt;p&gt;It&apos;s been quite a long time since I posted this issue... So I don&apos;t remember the specifics. It is indeed a problem with Flash and how it uploads files. I ended up using a servlet with the streaming API. Below is a block of code from my class. Much of it is stripped down to include the important stuff. It won&apos;t work as-is, but hopefully will be of some help:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;UploadServlet &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; HttpServlet {

	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void service(HttpServletRequest request, HttpServletResponse response) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; ServletException, IOException {

		&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] session = request.getParameterValues(&lt;span class=&quot;code-quote&quot;&gt;&quot;s&quot;&lt;/span&gt;);
		&lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt; isMultipart = ServletFileUpload.isMultipartContent(request);
		
		&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;( request.getContentLength() &amp;gt; 0 &amp;amp;&amp;amp; isMultipart &amp;amp;&amp;amp; session != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; session.length &amp;gt; 0 )
		{
			&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
			{
				ServletFileUpload upload = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ServletFileUpload();
				FileItemIterator iter = upload.getItemIterator(request);
				
				&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt;( iter.hasNext() )
				{
	   				FileItemStream item = iter.next();
	   				InputStream stream = item.openStream();

	   				&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;( !item.isFormField() &amp;amp;&amp;amp; item.getFieldName().equals(&lt;span class=&quot;code-quote&quot;&gt;&quot;Filedata&quot;&lt;/span&gt;) )
					{
						&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; filename = &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;.toString(&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.currentTimeMillis(), 36);
						&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; tmpPath = &lt;span class=&quot;code-quote&quot;&gt;&quot;.&quot;&lt;/span&gt; + filename + &lt;span class=&quot;code-quote&quot;&gt;&quot;.tmp&quot;&lt;/span&gt;;
						&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; finPath = filename;
						OutputStream outstream = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileOutputStream( tmpPath );
						Streams.copy(stream,outstream,&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
						
						stream.close();
						outstream.close();

						File tmpFile = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File( tmpPath );
						File finFile = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File( finPath );
							
						tmpFile.renameTo( finFile );
   					}
				}
			}
			&lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt;( Exception e ) { }
		}

	} 
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12974172" author="visumagic" created="Wed, 22 Dec 2010 12:23:52 +0000"  >&lt;p&gt;Hi&lt;/p&gt;

&lt;p&gt;I&apos;m also having same issue. Uploading is failing at 40%. Even after trying many trials , still struck in the problem.&lt;/p&gt;

&lt;p&gt;Any workarounds please.&lt;/p&gt;

&lt;p&gt;-raghu&lt;/p&gt;</comment>
                            <comment id="13598693" author="simone.tripodi" created="Mon, 11 Mar 2013 10:34:12 +0000"  >&lt;p&gt;Workaround (re)included in r1455085, FAQ will be republished as soon as the site will be redeployed&lt;/p&gt;</comment>
                            <comment id="14381216" author="taromaru" created="Thu, 26 Mar 2015 02:03:28 +0000"  >&lt;p&gt;If the reproduction rate isn&apos;t 100%, I think &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-135&quot; title=&quot;InputStream created with Streaming API returns EOF on first read() for short files uploaded from FireFox over HTTPS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-135&quot;&gt;&lt;del&gt;FILEUPLOAD-135&lt;/del&gt;&lt;/a&gt; is related to this phenomenon.&lt;/p&gt;</comment>
                            <comment id="16038138" author="chtompki" created="Tue, 6 Jun 2017 04:47:05 +0000"  >&lt;p&gt;1.3 released.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43089</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skrb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164840</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-139] [fileupload] separator of boundary doesnt match rfc1867 examples</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-139</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;fileupload&amp;#93;&lt;/span&gt;&lt;br/&gt;
in class :&lt;br/&gt;
package org.apache.commons.fileupload;&lt;br/&gt;
public abstract class FileUploadBase {&lt;/p&gt;

&lt;p&gt;    protected byte[] getBoundary(String contentType) {&lt;br/&gt;
        ParameterParser parser = new ParameterParser();&lt;br/&gt;
        parser.setLowerCaseNames(true);&lt;br/&gt;
        // Parameter parser can handle null input&lt;br/&gt;
        Map params = parser.parse(contentType, &apos;;&apos;);&lt;br/&gt;
        String boundaryStr = (String) params.get(&quot;boundary&quot;);&lt;/p&gt;

&lt;p&gt;        if (boundaryStr == null) &lt;/p&gt;
{
            return null;
        }
&lt;p&gt;        byte[] boundary;&lt;br/&gt;
        try &lt;/p&gt;
{
            boundary = boundaryStr.getBytes(&quot;ISO-8859-1&quot;);
        }
&lt;p&gt; catch (UnsupportedEncodingException e) &lt;/p&gt;
{
            boundary = boundaryStr.getBytes();
        }
&lt;p&gt;        return boundary;&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;String :  Map params = parser.parse(contentType, &apos;;&apos;);&lt;br/&gt;
doesn&apos;t match &lt;a href=&quot;http://www.ietf.org/rfc/rfc1867.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.ietf.org/rfc/rfc1867.txt&lt;/a&gt; document&lt;br/&gt;
because in all examples:&lt;br/&gt;
Content-type: multipart/form-data , boundary=AaB03x&lt;br/&gt;
Content-type: multipart/form-data, boundary=AaB03x&lt;br/&gt;
Content-type: multipart/mixed, boundary=BbC04y&lt;/p&gt;

&lt;p&gt;boundary separated by comma (but not semicolon)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12372872">FILEUPLOAD-139</key>
            <summary>[fileupload] separator of boundary doesnt match rfc1867 examples</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="martynas">martynas</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Jul 2007 06:26:21 +0000</created>
                <updated>Wed, 5 Sep 2007 09:21:51 +0000</updated>
                            <resolved>Wed, 5 Sep 2007 09:21:51 +0000</resolved>
                                                    <fixVersion>1.2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12522098" author="bayard" created="Thu, 23 Aug 2007 11:21:54 +0000"  >&lt;p&gt;&lt;a href=&quot;http://www.ietf.org/rfc/rfc1521.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.ietf.org/rfc/rfc1521.txt&lt;/a&gt; uses semi-colons &lt;span class=&quot;error&quot;&gt;&amp;#91;the mime spec&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;I guess we need to figure out whether browsers are sending semi-colons or commas. Maybe this part of the spec gets ignored.&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Completely odd fact... the Habsburgs ruled Hungary from 1521 to 1867&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="12522130" author="martynas" created="Thu, 23 Aug 2007 13:07:17 +0000"  >&lt;p&gt;&quot;FileUpload parses HTTP requests which conform to RFC 1867, &quot;Form-based File Upload in HTML&quot;. That is, if an HTTP request is submitted using the POST method, and with a content type of &quot;multipart/form-data&quot;, then FileUpload can parse that request, and make the results available in a manner easily used by the caller. &quot;&lt;/p&gt;

&lt;p&gt;this text is copied from &lt;a href=&quot;http://commons.apache.org/fileupload/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/fileupload/&lt;/a&gt; first paragraph&lt;br/&gt;
So as i understand phrase &quot;conform to RFC 1867&quot; it means that all spec written in this RFC should be supported.&lt;/p&gt;

&lt;p&gt;As i see this is simple task to support both commas and semi-colons.&lt;/p&gt;</comment>
                            <comment id="12522584" author="bayard" created="Fri, 24 Aug 2007 17:28:40 +0000"  >&lt;p&gt;Why continue to support semi-colons? The spec doesn&apos;t seem to mention them.&lt;/p&gt;

&lt;p&gt;Do browsers tend to send ; and not , as the spec says?&lt;/p&gt;</comment>
                            <comment id="12522936" author="martynas" created="Mon, 27 Aug 2007 06:29:16 +0000"  >&lt;p&gt;Yes, as i looked browsers tend to send semi-colons.But not only web browsers can submit files to server using this method. For example I made some embedded device witch is sending some generated files to Server. File upload part I done using  RFC 1867.I didn&apos;t look  at others rfc looking if there is some mistake in this one. So i have done device which is sending files to some server. If my written script is good I tested on simple php script. There was no problem. So we produced a lot of these devices (i can&apos;t change soft in them). Then I began making server on Java using this library . So occurred a problem. At moment i use some decorator witch replaces commas to semi-colons. But as I suppose it should be fixed in library because i may be not only one who is writing simple code using this rfc without checking if its conflicting with other rfc documents.&lt;/p&gt;</comment>
                            <comment id="12523013" author="bayard" created="Mon, 27 Aug 2007 14:15:00 +0000"  >&lt;p&gt;Makes sense. Assigning to 1.2.1.&lt;/p&gt;</comment>
                            <comment id="12524683" author="bayard" created="Tue, 4 Sep 2007 11:37:44 +0000"  >&lt;p&gt;Attaching a patch which adds a new parse method to ParameterParser that can take multiple separators. It looks for the earliest one that occurs in the string to be parsed, and uses that. &lt;/p&gt;

&lt;p&gt;Unit test also patched, as is the getBoundary method to use this new parse(String, char[]) method.&lt;/p&gt;</comment>
                            <comment id="12524692" author="bayard" created="Tue, 4 Sep 2007 11:41:20 +0000"  >&lt;p&gt;Any thoughts on the patch?&lt;/p&gt;</comment>
                            <comment id="12524848" author="jochen@apache.org" created="Tue, 4 Sep 2007 20:05:49 +0000"  >&lt;p&gt;After reviewing, I can&apos;t fight the feeling, that the ParameterParser could use some refactoring in order to reduce the number of similar methods. However, IMO, we should reuse mime4j in the next version anyways, so that can be ignored for now. Go on, Henri!&lt;/p&gt;</comment>
                            <comment id="12525029" author="bayard" created="Wed, 5 Sep 2007 09:21:51 +0000"  >&lt;p&gt;svn ci -m &quot;Applying the patch from &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-139&quot; title=&quot;[fileupload] separator of boundary doesnt match rfc1867 examples&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-139&quot;&gt;&lt;del&gt;FILEUPLOAD-139&lt;/del&gt;&lt;/a&gt; so that comma separators are supported (as per rfc1867) as well as semi-colons&quot;&lt;/p&gt;

&lt;p&gt;Sending        src/java/org/apache/commons/fileupload/FileUploadBase.java&lt;br/&gt;
Sending        src/java/org/apache/commons/fileupload/ParameterParser.java&lt;br/&gt;
Sending        src/test/org/apache/commons/fileupload/ParameterParserTest.java&lt;br/&gt;
Transmitting file data ...&lt;br/&gt;
Committed revision 572918.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12365064" name="FILEUPLOAD-139.patch" size="4030" author="bayard" created="Tue, 4 Sep 2007 11:37:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43093</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 10 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sks7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164844</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-138] Fail to upload small files</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-138</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Upload for very small files failed. The size (of failing) is lass than 58/59 bytes.&lt;br/&gt;
It depends on the exact size of the keepRegion variable of the MultipartStream.&lt;/p&gt;

&lt;p&gt;Files less than this size contain no data at the target.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Tomcat 5.5 on Suse Linux 10.0&lt;/p&gt;</environment>
        <key id="12372501">FILEUPLOAD-138</key>
            <summary>Fail to upload small files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="mgroeger">Martin Gr&#246;ger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Jun 2007 12:58:13 +0000</created>
                <updated>Sat, 3 Jun 2017 17:17:26 +0000</updated>
                            <resolved>Thu, 28 Jun 2007 09:24:45 +0000</resolved>
                                                    <fixVersion>1.2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12508542" author="jochen@apache.org" created="Wed, 27 Jun 2007 13:29:37 +0000"  >&lt;p&gt;This is most likely a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-135&quot; title=&quot;InputStream created with Streaming API returns EOF on first read() for short files uploaded from FireFox over HTTPS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-135&quot;&gt;&lt;del&gt;FILEUPLOAD-135&lt;/del&gt;&lt;/a&gt;. Please check, whether you still have problems with the current snapshot, as available from &lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;http://people.apache.org/repo/m2-snapshot-repository/org/apache/commons/fileupload/commons-fileupload/1.3-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://people.apache.org/repo/m2-snapshot-repository/org/apache/commons/fileupload/commons-fileupload/1.3-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12508762" author="mgroeger" created="Thu, 28 Jun 2007 07:55:55 +0000"  >&lt;p&gt;Yes, with the current snapshot the problem disappears.&lt;/p&gt;

&lt;p&gt;I took also a current shanpshot from commons-io (otherwise it doesn&apos;t compile). The question for me was: How to know which version of commons-io is the related one ?!&lt;/p&gt;</comment>
                            <comment id="12508775" author="jochen@apache.org" created="Thu, 28 Jun 2007 09:24:45 +0000"  >&lt;p&gt;The question for the required version of commons-io is answered by the POM file, which is distributed together with the jar file.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12370108">FILEUPLOAD-135</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43094</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 20 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sksf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164845</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-137] MultipartStream public API broken</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-137</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;In commons-transaction 1.2 the MultipartStream class has 2 public constructors. Both are deprecated; however their implementation delegates to non-visible (package-private) constructors. There are two issues here:&lt;/p&gt;

&lt;p&gt;1. the deprecated, delegating constructors use a null pointer for the progress notifier, which in turn yield a NullPointerException when you try to use them&lt;br/&gt;
2. the non-deprecated constructors are not visible.&lt;/p&gt;

&lt;p&gt;Hence, I cannot really upgrade from 1.0 to 1.2.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Mark.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12371852">FILEUPLOAD-137</key>
            <summary>MultipartStream public API broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="marksinke">Mark Sinke</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Jun 2007 09:49:06 +0000</created>
                <updated>Tue, 6 Jun 2017 04:26:04 +0000</updated>
                            <resolved>Mon, 12 Aug 2013 13:30:55 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.2.1</fixVersion>
                    <fixVersion>1.3.1</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="12505818" author="jochen@apache.org" created="Mon, 18 Jun 2007 13:54:34 +0000"  >&lt;p&gt;How&apos;s that related to commons-transaction?&lt;/p&gt;</comment>
                            <comment id="12505819" author="jochen@apache.org" created="Mon, 18 Jun 2007 13:55:19 +0000"  >&lt;p&gt;Apart from that: Why do you use the MultipartStream class directly? Making it public was an error, which I am trying to fix in 1.2.&lt;/p&gt;</comment>
                            <comment id="12508611" author="marksinke" created="Wed, 27 Jun 2007 18:22:28 +0000"  >&lt;p&gt;Hi Jochen,&lt;/p&gt;

&lt;p&gt;We&apos;re using it to do SOAP with attachments.&lt;/p&gt;

&lt;p&gt;Mark. &lt;/p&gt;
</comment>
                            <comment id="12508621" author="bayard" created="Wed, 27 Jun 2007 18:59:54 +0000"  >&lt;p&gt;Still a problem. According to findbugs, there are still errors:&lt;/p&gt;

&lt;p&gt;&quot;Message:  Non-virtual method call in org.apache.commons.fileupload.MultipartStream.MultipartStream() passes null for unconditionally dereferenced parameter of org.apache.commons.fileupload.MultipartStream.MultipartStream(java.io.InputStream,byte[],MultipartStream)&quot;&lt;/p&gt;

&lt;p&gt;Looking at the code, the boundary parameter jumps out as one that will throw an NPE if you call new MultipartStream().&lt;/p&gt;</comment>
                            <comment id="12532128" author="jason.madden@riskmetrics.com" created="Wed, 3 Oct 2007 14:40:18 +0000"  >&lt;p&gt;I am also using MultiPartStream to do SOAP attachments. It&apos;s the lowest-level API that&apos;s available and seemed the most appropriate. I also cannot upgrade to 1.2 because of these NPEs.&lt;/p&gt;</comment>
                            <comment id="12532187" author="jochen@apache.org" created="Wed, 3 Oct 2007 18:35:42 +0000"  >&lt;p&gt;I&apos;d recommend that you give Mime4J a try.&lt;/p&gt;</comment>
                            <comment id="13598218" author="tn" created="Sun, 10 Mar 2013 12:06:30 +0000"  >&lt;p&gt;The calls to the notifier are now protected by a null check, so this should be safe.&lt;/p&gt;

&lt;p&gt;The default constructor MultipartStream() will still cause a NullPointerException.&lt;br/&gt;
I would suggest to throw something like a IllegalStateException in any case and document it in the javadoc.&lt;br/&gt;
It is deprecated anyway and will be removed.&lt;/p&gt;</comment>
                            <comment id="13598656" author="simone.tripodi" created="Mon, 11 Mar 2013 09:00:04 +0000"  >&lt;p&gt;even if the 0-arguments constructor is deprecated it should not break the backward compatibility - I am investigating if/how it can be still supported.&lt;/p&gt;

&lt;p&gt;If not, I&apos;m by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tn&quot; class=&quot;user-hover&quot; rel=&quot;tn&quot;&gt;tn&lt;/a&gt;&apos;s side on throwing an unchecked exception and document it in apidoc&lt;/p&gt;</comment>
                            <comment id="13598673" author="simone.tripodi" created="Mon, 11 Mar 2013 09:54:42 +0000"  >&lt;p&gt;while it would be possible to work around the NPE on &lt;tt&gt;boundary&lt;/tt&gt;, the adapted &lt;tt&gt;InputStream&lt;/tt&gt; reference cannot be set if not via the constructor since &lt;tt&gt;MultipartStream#input&lt;/tt&gt; is &lt;tt&gt;final&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Since it doesn&apos;t look like there is a fix for this, I&apos;d go for &lt;tt&gt;UnsupportedOperationException&lt;/tt&gt; in &lt;tt&gt;MultipartStream()&lt;/tt&gt; constructor and add a note in its javadoc.&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;</comment>
                            <comment id="13736856" author="jochen@apache.org" created="Mon, 12 Aug 2013 13:30:25 +0000"  >&lt;p&gt;Two parts:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;I fail to find any uses of &quot;notifier&quot;, that could trigger an NPE. Namely, checks for null are present in makeAvailable(), and readByte(). Please be more specific on that part.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;-The constructor     MultipartStream(InputStream, byte[], int, ProgressNotifier) is now public. This is an upwards compatible  change with no side effects.&lt;/p&gt;
</comment>
                            <comment id="13736858" author="mark.sinke@forcare.com" created="Mon, 12 Aug 2013 13:32:49 +0000"  >&lt;p&gt;I&apos;m enjoying a holiday, without access to e-mail. I will respond to mails on or after Aug 19th. Please contact &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;mailto:info@forcare.com&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;info@forcare.com&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/mail_small.gif&quot; height=&quot;12&quot; width=&quot;13&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; or &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;mailto:support@forcare.com&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;support@forcare.com&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/mail_small.gif&quot; height=&quot;12&quot; width=&quot;13&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; for specific questions. Regards, Mark Sinke, CTO, Forcare BV.&lt;/p&gt;</comment>
                            <comment id="13867903" author="robmcdougall" created="Fri, 10 Jan 2014 15:24:47 +0000"  >&lt;p&gt;If the constructor MultipartStream(InputStream, byte[], int, ProgressNotifier) is public, is there any reason not to make the convenience function MultipartStream(InputStream input, byte[] boundary, ProgressNotifier pNotifier) public as well?  They are both mentioned in the comments for the deprecated constructors but only one is actually public.&lt;/p&gt;</comment>
                            <comment id="16038109" author="chtompki" created="Tue, 6 Jun 2017 04:26:04 +0000"  >&lt;p&gt;1.3.1 released.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43095</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sksn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164846</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-136] FileUpload race condition with used with Jetty 6</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-136</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;When running commons file upload with Jetty 6, ServletFileUpload.parseRequest spins and never returns when the user clicks the &quot;stop&quot; button in their browser while an upload is in progress.&lt;/p&gt;

&lt;p&gt;Reproduction Steps:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Create a simple servlet / html form which accepts a file upload using commons file upload (or use the example code below).&lt;/li&gt;
	&lt;li&gt;Upload a sufficiently large file that you have time to click the stop button before the upload completes.&lt;/li&gt;
	&lt;li&gt;Observe that the thread is now stuck within file upload.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Other Information:&lt;/p&gt;

&lt;p&gt;Using jstack, I was able to get the following trace of where it is blocking. It looks like it is on a read() call that file upload is making.&lt;/p&gt;

&lt;p&gt;    at org/mortbay/jetty/HttpParser$Input.blockForContent(HttpParser.java:922)&lt;br/&gt;
    at org/mortbay/jetty/HttpParser$Input.read(HttpParser.java:897)&lt;br/&gt;
    at org/apache/commons/fileupload/MultipartStream$ItemInputStream.makeAvailable(MultipartStream.java:959)&lt;br/&gt;
    at org/apache/commons/fileupload/MultipartStream$ItemInputStream.close(MultipartStream.java:910)&lt;br/&gt;
    at org/apache/commons/fileupload/util/Streams.copy(Streams.java:119)&lt;br/&gt;
    at org/apache/commons/fileupload/util/Streams.copy(Streams.java:64)&lt;br/&gt;
    at org/apache/commons/fileupload/FileUploadBase.parseRequest(FileUploadBase.java:354)&lt;br/&gt;
    at org/apache/commons/fileupload/servlet/ServletFileUpload.parseRequest(ServletFileUpload.java:126)&lt;br/&gt;
    at test/Main$1.handle(Main.java:43)&lt;br/&gt;
    at org/mortbay/jetty/handler/HandlerWrapper.handle(HandlerWrapper.java:139)&lt;br/&gt;
    at org/mortbay/jetty/Server.handle(Server.java:285)&lt;br/&gt;
    at org/mortbay/jetty/HttpConnection.handleRequest(HttpConnection.java:502)&lt;br/&gt;
    at org/mortbay/jetty/HttpConnection$RequestHandler.content(HttpConnection.java:835)&lt;br/&gt;
    at org/mortbay/jetty/HttpParser.parseNext(HttpParser.java:641)&lt;br/&gt;
    at org/mortbay/jetty/HttpParser.parseAvailable(HttpParser.java:208)&lt;br/&gt;
    at org/mortbay/jetty/HttpConnection.handle(HttpConnection.java:378)&lt;br/&gt;
    at org/mortbay/jetty/bio/SocketConnector$Connection.run(SocketConnector.java:226)&lt;br/&gt;
    at org/mortbay/thread/BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:442)&lt;br/&gt;
    at jrockit/vm/RNI.c2java(IIII)V(Native Method)&lt;br/&gt;
    &amp;#8211; end of trac&lt;/p&gt;

&lt;p&gt;Originally I thought this was an issue with our code, however, I have since isolated it to a simple test case. Bellow is a class file called Main which when run will instantiate an instance of Jetty on port 8080 and an HTML document that will post a file upload to the servlet. When the stop button is pressed, you will see that the line &quot;Starting processing&quot; is printed, but neither the &quot;Exception occured in processing&quot; or &quot;Processing completed&quot; are printed. I have a full eclipse project (jars and all) on my machine that I was planning on uploading with this ticket, however, I don&apos;t see a way to attach a file. Therefore, I have copied and pasted the two files bellow. Let me know if you want the full project.&lt;/p&gt;

&lt;p&gt;=== Main.java ===&lt;br/&gt;
/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;p&gt; */&lt;br/&gt;
package test;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;import java.io.IOException;&lt;br/&gt;
import java.util.List;&lt;/p&gt;

&lt;p&gt;import javax.servlet.ServletException;&lt;br/&gt;
import javax.servlet.http.HttpServletRequest;&lt;br/&gt;
import javax.servlet.http.HttpServletResponse;&lt;/p&gt;

&lt;p&gt;import org.apache.commons.fileupload.FileItem;&lt;br/&gt;
import org.apache.commons.fileupload.disk.DiskFileItemFactory;&lt;br/&gt;
import org.apache.commons.fileupload.servlet.ServletFileUpload;&lt;br/&gt;
import org.mortbay.jetty.Handler;&lt;br/&gt;
import org.mortbay.jetty.Server;&lt;br/&gt;
import org.mortbay.jetty.handler.AbstractHandler;&lt;/p&gt;

&lt;p&gt;/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;@author Keith Kowalczykowski&lt;/li&gt;
	&lt;li&gt;&lt;p&gt; */&lt;br/&gt;
public class Main {&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;	public static void main(String[] args) {&lt;br/&gt;
		Handler handler = new AbstractHandler() {&lt;/p&gt;

&lt;p&gt;			public void handle(String arg0, HttpServletRequest arg1,&lt;br/&gt;
					HttpServletResponse arg2, int arg3) throws IOException,&lt;br/&gt;
					ServletException &lt;br/&gt;
			{&lt;br/&gt;
				System.out.println(&quot;Starting processing&quot;);&lt;br/&gt;
				try&lt;br/&gt;
				{&lt;br/&gt;
					 // Create a factory for disk-based file items&lt;br/&gt;
		            DiskFileItemFactory factory = new DiskFileItemFactory();&lt;/p&gt;

&lt;p&gt;		            // Create a new file upload handler&lt;br/&gt;
		            ServletFileUpload upload = new ServletFileUpload(factory);&lt;/p&gt;

&lt;p&gt;		            // Parse the request&lt;br/&gt;
		            List items = upload.parseRequest(arg1);&lt;/p&gt;

&lt;p&gt;		            for (int i = 0; i &amp;lt; items.size(); i++)&lt;/p&gt;
		            {
		                FileItem file_item = (FileItem) items.get(i);
		                
		                System.out.println(&quot;Field Name: &quot; + file_item.getFieldName());
		            }
&lt;p&gt;				}&lt;br/&gt;
				catch (Exception e)&lt;/p&gt;
				{
					e.printStackTrace();
					System.out.println(&quot;Exception occured in processing&quot;);
				}
&lt;p&gt;				finally&lt;/p&gt;
				{
					System.out.println(&quot;Processing completed&quot;);
				}
&lt;p&gt;			}&lt;/p&gt;

&lt;p&gt;		};&lt;/p&gt;

&lt;p&gt;		try&lt;/p&gt;
		{
			Server server = new Server(8080);
			server.setHandler(handler);
			server.start();
		}
&lt;p&gt;		catch (Exception e)&lt;br/&gt;
		{&lt;/p&gt;

&lt;p&gt;		}&lt;br/&gt;
	}&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;=== HTML Document ===&lt;br/&gt;
&amp;lt;html&amp;gt;&lt;br/&gt;
    &amp;lt;head&amp;gt;&lt;br/&gt;
    &amp;lt;/head&amp;gt;&lt;br/&gt;
    &amp;lt;body&amp;gt;&lt;br/&gt;
        &amp;lt;form name=&quot;test&quot; action=&quot;http://localhost:8080/&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;input type=&quot;file&quot; name=&quot;fileupload&quot;/&amp;gt;&lt;br/&gt;
            &amp;lt;input type=&quot;submit&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;/form&amp;gt;&lt;br/&gt;
    &amp;lt;/body&amp;gt;&lt;br/&gt;
&amp;lt;/html&amp;gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Running on Windows XP SP2 with Jetty 6 embedded and Firefox 2.0.0.4&lt;/p&gt;</environment>
        <key id="12371436">FILEUPLOAD-136</key>
            <summary>FileUpload race condition with used with Jetty 6</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="keithpk">Keith Kowalczykowski</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Jun 2007 04:23:51 +0000</created>
                <updated>Sat, 3 Jun 2017 17:19:30 +0000</updated>
                            <resolved>Tue, 17 Jul 2007 22:48:49 +0000</resolved>
                                    <version>1.2</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="12503722" author="keithpk" created="Tue, 12 Jun 2007 04:25:19 +0000"  >&lt;p&gt;Here is a full zip of the eclipse project. &lt;/p&gt;</comment>
                            <comment id="12513100" author="mcodik" created="Mon, 16 Jul 2007 23:33:41 +0000"  >&lt;p&gt;I&apos;m seeing this issue as well-- threads taking up 100% of CPU spinning in a loop, with jstack showing that same stack trace. &lt;/p&gt;

&lt;p&gt;is there any indication that this is a fileupload bug? its possible that its Jetty&apos;s fault... especially with the last few lines in that stack trace being in Jetty code.&lt;/p&gt;
</comment>
                            <comment id="12513123" author="pbenedict" created="Tue, 17 Jul 2007 01:04:29 +0000"  >&lt;p&gt;Could it be related to this? &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-140&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FILEUPLOAD-140&lt;/a&gt;. The ticket describes about the socket blocking on read.&lt;/p&gt;</comment>
                            <comment id="12513129" author="keithpk" created="Tue, 17 Jul 2007 01:53:23 +0000"  >&lt;p&gt;&amp;gt;is there any indication that this is a fileupload bug? its possible that its Jetty&apos;s fault... especially with the last few lines in that stack trace being in Jetty code. &lt;/p&gt;

&lt;p&gt;Maurice,&lt;/p&gt;

&lt;p&gt;I&apos;m not sure who&apos;s fault it is. When I originally posted this issue,  I took a look at the file upload code and it is quite complex, so I couldn&apos;t really figure out what was going on. They perform a lot of hard for-loops that are supposed to break out if some condition occurs, but obviously it is not occurring in this case. Therefore, I&apos;m not sure whether the file upload code is incorrect, and they were just lucky that it worked correctly under (presumably) tomcat. Or if it truly is a bug in Jetty.  I was hoping that someone here could confirm that it is a Jetty bug before passing it on to them, as I have no way to describe the problem to the jetty guys, or proof that it is even their problem.&lt;/p&gt;</comment>
                            <comment id="12513308" author="mcodik" created="Tue, 17 Jul 2007 18:04:19 +0000"  >&lt;p&gt;I&apos;ve tracked this down a little better: &lt;/p&gt;

&lt;p&gt;FileUpload&apos;s MultipartStream.Input class attempts to read from the underlying input stream in it&apos;s close() method. If close() is being called because the stream threw an exception, then this last close can have unpredictable results.&lt;/p&gt;

&lt;p&gt;In particular, Jetty&apos;s inputstream seems to go into an infinite loop if it gets read from after it throws EofException. The attached program reproduces this error condition. &lt;/p&gt;

&lt;p&gt;The output is as following:&lt;/p&gt;

&lt;p&gt;2007-07-17 10:50:48.999::INFO:  Logging to STDERR via org.mortbay.log.StdErrLog&lt;br/&gt;
2007-07-17 10:50:49.000::INFO:  jetty-6.1.3&lt;br/&gt;
2007-07-17 10:50:49.039::INFO:  Started SocketConnector @ 0.0.0.0:10000&lt;br/&gt;
sending data&lt;br/&gt;
input stream is a org.mortbay.jetty.HttpParser$Input&lt;br/&gt;
caught exception: org.mortbay.jetty.EofException&lt;br/&gt;
trying to read again&lt;/p&gt;

&lt;p&gt;Notice that the &quot;last read returned ..&quot; line is never printed. At this point, my CPU is pegged to 100% and jstack shows the following stack trace: &lt;/p&gt;

&lt;p&gt;Thread 30265: (state = IN_JAVA)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;org.mortbay.jetty.HttpParser.parseNext() @bci=423, line=281 (Compiled frame; information may be imprecise)&lt;/li&gt;
	&lt;li&gt;org.mortbay.jetty.HttpParser$Input.blockForContent() @bci=88, line=925 (Compiled frame)&lt;/li&gt;
	&lt;li&gt;org.mortbay.jetty.HttpParser$Input.read(byte[], int, int) @bci=4, line=897 (Interpreted frame)&lt;/li&gt;
	&lt;li&gt;java.io.InputStream.read(byte[]) @bci=5, line=89 (Interpreted frame)&lt;/li&gt;
	&lt;li&gt;TestJetty$1.handle(java.lang.String, javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse, int) @bci=132, line=42 (Interpreted frame)&lt;/li&gt;
	&lt;li&gt;org.mortbay.jetty.handler.HandlerWrapper.handle(java.lang.String, javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse, int) @bci=23, line=139 (Interpreted frame)&lt;/li&gt;
	&lt;li&gt;org.mortbay.jetty.Server.handle(org.mortbay.jetty.HttpConnection) @bci=110, line=285 (Interpreted frame)&lt;/li&gt;
	&lt;li&gt;org.mortbay.jetty.HttpConnection.handleRequest() @bci=131, line=502 (Interpreted frame)&lt;/li&gt;
	&lt;li&gt;org.mortbay.jetty.HttpConnection$RequestHandler.content(org.mortbay.io.Buffer) @bci=23, line=835 (Interpreted frame)&lt;/li&gt;
	&lt;li&gt;org.mortbay.jetty.HttpParser.parseNext() @bci=2633, line=641 (Interpreted frame)&lt;/li&gt;
	&lt;li&gt;org.mortbay.jetty.HttpParser.parseAvailable() @bci=44, line=208 (Interpreted frame)&lt;/li&gt;
	&lt;li&gt;org.mortbay.jetty.HttpConnection.handle() @bci=122, line=378 (Interpreted frame)&lt;/li&gt;
	&lt;li&gt;org.mortbay.jetty.bio.SocketConnector$Connection.run() @bci=130, line=226 (Interpreted frame)&lt;/li&gt;
	&lt;li&gt;org.mortbay.thread.BoundedThreadPool$PoolThread.run() @bci=45, line=442 (Interpreted frame)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;At this point, I would call this both a file upload bug and a jetty bug. I&apos;ll file an issue in Jetty&apos;s JIRA, but leaving this open so that the read() during close() thing gets fixed.&lt;/p&gt;</comment>
                            <comment id="12513313" author="mcodik" created="Tue, 17 Jul 2007 18:15:22 +0000"  >&lt;p&gt;filed &lt;a href=&quot;http://jira.codehaus.org/browse/JETTY-393&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.codehaus.org/browse/JETTY-393&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12513329" author="jochen@apache.org" created="Tue, 17 Jul 2007 18:59:14 +0000"  >&lt;p&gt;I do not think, that it&apos;s the task of the InputStream user to track whether an InputStream is still usable. In other words, if your diagnosis is right, then I wouldn&apos;t consider this a FileUpload bug.&lt;/p&gt;</comment>
                            <comment id="12513339" author="mcodik" created="Tue, 17 Jul 2007 19:35:57 +0000"  >&lt;p&gt;I do agree in general, but it seems odd that MultipartStream is trying to read from the underlying stream during it&apos;s close() operation. &lt;/p&gt;

&lt;p&gt;Is there a reason why that method doesnt simply delegate to the inner stream&apos;s close()? Just glancing at the code now, it seems that the underlying stream is never even closed.&lt;/p&gt;</comment>
                            <comment id="12513345" author="jochen@apache.org" created="Tue, 17 Jul 2007 20:05:16 +0000"  >&lt;p&gt;I assume, you are referring to the ItemInputStream, are you?&lt;/p&gt;

&lt;p&gt;The ItemInputStream is returned to the user, if he or she iterates over the multipart streams parts. The user &lt;b&gt;may&lt;/b&gt; close this InputStream, but there&apos;s no requirement that he &lt;b&gt;must&lt;/b&gt; close it. Even more, the user is not required to consume the InputStream&apos;s contents. For example, the user might read the first line, detects that he is not interested in this item and calls FileItemIterator.next().&lt;/p&gt;

&lt;p&gt;At that point, we are in the middle of a part&apos;s body. In order to skip this body, we need to find the next boundary, which is exactly what ItemInputStream.close() does for us.&lt;/p&gt;
</comment>
                            <comment id="12513359" author="mcodik" created="Tue, 17 Jul 2007 21:10:25 +0000"  >&lt;p&gt;Ah, I see. That does make sense, but I would argue that its likely safer to do that &quot;scan to the next item&quot; when you call FileItemIterator.next(), not when you attempt to close an item&apos;s stream. &lt;/p&gt;

&lt;p&gt;Since a programmer is probably using close() inside a finally block, its possible to run into situations like the above: an exception is thrown, you say &quot;close&quot;, and then you actually read some more in the background, which can cause unpredictable results. However, doing it when trying to iterate to the next item completely avoid this issue, since a developer is unlikely to be doing this after an exception is thrown.&lt;/p&gt;

&lt;p&gt;Just my 2c... I do agree that its certainly much more of a problem with jetty &amp;#8211; code should never be able to go into wacky busy loops.&lt;/p&gt;</comment>
                            <comment id="12513387" author="jochen@apache.org" created="Tue, 17 Jul 2007 22:48:49 +0000"  >&lt;p&gt;I can follow your arguments, but I do not intend to change the code for that reason.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12359461" name="FileUploadTest.zip" size="1551916" author="keithpk" created="Tue, 12 Jun 2007 04:25:19 +0000"/>
                            <attachment id="12361995" name="TestJetty.java" size="2369" author="mcodik" created="Tue, 17 Jul 2007 18:04:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43096</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 17 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sksv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164847</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-135] InputStream created with Streaming API returns EOF on first read() for short files uploaded from FireFox over HTTPS</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-135</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;This problem happens only with files shorer then boundary string generated by browser and only with Firefox using HTTPS protocol.&lt;br/&gt;
For some reason in this particular environment inputStream.read() in MultipartStream.ItemInputStream.makeAvailable() reads not whole HTTP response body, but only file content before boundary string. &lt;br/&gt;
I&apos;ve created a patch fixing this issue.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows XP&lt;br/&gt;
Browser: Firefox 1.5.0.11&lt;br/&gt;
Protocol: HTTPS&lt;/p&gt;
</environment>
        <key id="12370108">FILEUPLOAD-135</key>
            <summary>InputStream created with Streaming API returns EOF on first read() for short files uploaded from FireFox over HTTPS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="bird_owl">Alexander Sova</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 May 2007 02:09:45 +0000</created>
                <updated>Tue, 6 Jun 2017 04:22:09 +0000</updated>
                            <resolved>Wed, 27 Jun 2007 01:03:31 +0000</resolved>
                                    <version>1.2</version>
                    <version>1.2.1</version>
                                    <fixVersion>1.2.1</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="12498456" author="bird_owl" created="Thu, 24 May 2007 02:12:05 +0000"  >&lt;p&gt;reading from inputStream until we get enough content to fit boundary string&lt;/p&gt;</comment>
                            <comment id="12499220" author="bird_owl" created="Fri, 25 May 2007 20:31:07 +0000"  >&lt;p&gt;my previous patch has a bug. please use new one&lt;/p&gt;</comment>
                            <comment id="12499448" author="jochen@apache.org" created="Sun, 27 May 2007 21:13:34 +0000"  >&lt;p&gt;Before applying your patch, I&apos;d like to understand the problem. Would it be possible for you to provide a test case, which fails with 1.2 and works with your patch? Preferrably a patch against the test suite, but a sample http body should do.&lt;/p&gt;</comment>
                            <comment id="12499862" author="bird_owl" created="Tue, 29 May 2007 17:46:03 +0000"  >&lt;p&gt;The problem is not with content of HTTP response, but with original InputStream behavior. InputStream.read() may read not whole buffer or whole content of input stream, but just part of it. If this part is shorter then boundary string (but still greater then 0) ItemInputStream.read() returns -1.&lt;/p&gt;

&lt;p&gt;I was able to reproduce it only with small file (10 bytes) using FireFox 1.5.0.11 and HTTPS. I think I can simulate this by developing custom InputStream, but it could take some time.&lt;/p&gt;

&lt;p&gt;Here is fragment of my code where I test the upload:&lt;/p&gt;

&lt;p&gt;    protected byte[] getBoundary(String contentType) &lt;br/&gt;
    {&lt;br/&gt;
        ParameterParser parser = new ParameterParser();&lt;br/&gt;
        parser.setLowerCaseNames(true);&lt;br/&gt;
        // Parameter parser can handle null input&lt;br/&gt;
        Map params = parser.parse(contentType, &apos;;&apos;);&lt;br/&gt;
        String boundaryStr = (String) params.get(&quot;boundary&quot;);&lt;/p&gt;

&lt;p&gt;        if (boundaryStr == null) &lt;/p&gt;
{
            return null;
        }
&lt;p&gt;        byte[] boundary;&lt;br/&gt;
        try &lt;/p&gt;
{
            boundary = boundaryStr.getBytes(&quot;ISO-8859-1&quot;);
        }
&lt;p&gt; catch (UnsupportedEncodingException e) &lt;/p&gt;
{
            boundary = boundaryStr.getBytes();
        }
&lt;p&gt;        return boundary;&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;    private void testFileUpload(HttpServletRequest req)&lt;br/&gt;
    {&lt;br/&gt;
        try &lt;br/&gt;
        {&lt;br/&gt;
            byte[] boundary = getBoundary(req.getHeader(&quot;Content-Type&quot;));&lt;br/&gt;
            System.out.println(&quot;Boundary: &quot; + new String(boundary));&lt;br/&gt;
            MultipartStream multipartStream = new MultipartStream(req.getInputStream(), boundary);&lt;br/&gt;
            boolean nextPart = multipartStream.skipPreamble();&lt;br/&gt;
            OutputStream output = System.out;&lt;br/&gt;
            while(nextPart) &lt;/p&gt;
            {
                //header = chunks.readHeader();
                System.out.println(&quot;!&quot; + multipartStream.readHeaders() + &quot;!&quot;);

                multipartStream.readBodyData(output);
                nextPart = multipartStream.readBoundary();
            }
&lt;p&gt;        }&lt;br/&gt;
        catch(Exception e) &lt;/p&gt;
        {
            e.printStackTrace();
        }
&lt;p&gt;    }&lt;/p&gt;</comment>
                            <comment id="12502147" author="jochen@apache.org" created="Wed, 6 Jun 2007 23:42:08 +0000"  >&lt;p&gt;This test case doesn&apos;t help me understand the problem. The important part is the multipart document, which triggers the problem. We&apos;d need a code sample that creates such a multipart document (compare, for example, the methid StreamingTest.newRequest; btw, note that this method creates file items which are clearly smaller than the boundary) or at least the multipart document itself, which you can catch with tools like tcpmon or Wireshark.&lt;/p&gt;</comment>
                            <comment id="12502527" author="bird_owl" created="Thu, 7 Jun 2007 21:17:26 +0000"  >&lt;p&gt;I&apos;ve added new test case to StreamingTest class. The key thing here is defining custom InputStream on top of ByteArrayInputStream which never read more then 3 bytes per call. If you change this number to something bigger then 10, the test will pass.&lt;/p&gt;

&lt;p&gt;BTW, with  MockHttpServletRequest.MyServletInputStream.read(byte[],int,int) method defined properly testIOException() start failing. Without this change the second read() method defined in testIOException() never been called.&lt;/p&gt;
</comment>
                            <comment id="12507942" author="rob.slifka@voltage.com" created="Mon, 25 Jun 2007 18:07:30 +0000"  >&lt;p&gt;Hello Jira,&lt;/p&gt;

&lt;p&gt;I&apos;ve run into this issue as well, very much looking forward to the&lt;br/&gt;
patch, thanks &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Rob Slifka&lt;/p&gt;
</comment>
                            <comment id="12507943" author="rslifka" created="Mon, 25 Jun 2007 18:13:35 +0000"  >&lt;p&gt;&quot;Hello Jira&quot; yikes &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Anyway, is there a way to see the progress on this issue?  I.e. if it&apos;s been submitted, scheduled, etc.?&lt;/p&gt;

&lt;p&gt;Just to verify, it is indeed a Firefox-only issue, and not reproducible on any other browser (IE6, IE7, Opera, Safari).&lt;/p&gt;</comment>
                            <comment id="12508373" author="jochen@apache.org" created="Wed, 27 Jun 2007 01:03:31 +0000"  >&lt;p&gt;Applied, thank you!&lt;/p&gt;</comment>
                            <comment id="12511187" author="rslifka" created="Mon, 9 Jul 2007 17:32:26 +0000"  >&lt;p&gt;Many thanks Jochen!  I see that another has verified the fix in &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-138&quot; title=&quot;Fail to upload small files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-138&quot;&gt;&lt;del&gt;FILEUPLOAD-138&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Any idea when we&apos;ll see 1.2.1 released?&lt;/p&gt;</comment>
                            <comment id="12553191" author="cpopetz" created="Wed, 19 Dec 2007 01:35:43 +0000"  >&lt;p&gt;I&apos;d like to note that this is actually browser independent and not just an issue with short files...when data is coming via AJP (coyote / mod_jk) in tomcat, it comes in chunks, and if a chunk falls on a boundary, it triggers this bug (which it does for my web site a &lt;em&gt;lot&lt;/em&gt; and I&apos;ve been chasing it for weeks)  because the first read will just return what&apos;s left in that chunk (not enough for a boundary) and the second read would return the rest of the boundary.&lt;/p&gt;</comment>
                            <comment id="13187325" author="mgessel" created="Tue, 17 Jan 2012 00:05:53 +0000"  >&lt;p&gt;Incidentally, I started triggering this bug after updating to JRE 1.7 u1 on the &lt;b&gt;client&lt;/b&gt;. I have a standalone Java application that is uploading files to a Tomcat container via HTTPS/SSL. &lt;/p&gt;

&lt;p&gt;Reproduction requires: &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;HTTPS/SSL transmission&lt;/li&gt;
	&lt;li&gt;jdk1.7.0_u1 or later&lt;/li&gt;
	&lt;li&gt;commons-fileupload-1.2.0 or previous&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Fixed with commons-fileupload-1.2.1 or later&lt;/p&gt;</comment>
                            <comment id="16038100" author="chtompki" created="Tue, 6 Jun 2017 04:22:09 +0000"  >&lt;p&gt;1.2.1 released.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12376723">FILEUPLOAD-144</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12372501">FILEUPLOAD-138</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12359214" name="FILEUPLOAD135.patch" size="5759" author="bird_owl" created="Thu, 7 Jun 2007 21:17:26 +0000"/>
                            <attachment id="12358053" name="commons-fileupload-1.1-bug-short-file-eof.patch" size="2558" author="bird_owl" created="Thu, 24 May 2007 02:12:05 +0000"/>
                            <attachment id="12358277" name="commons-fileupload-1.2-bug-short-file-eof.patch" size="3018" author="bird_owl" created="Fri, 25 May 2007 20:31:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43097</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skt3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164848</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-134] A factory-created DiskFileItem does not have an initialized dfos, causing NullPointerExceptions if getOutputStream() is not called.</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-134</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;When upgrading the Turbine code to commons-fileupload 1.2, I got NPEs in Unit tests dealing with DiskFileItems. In that special case, a FileItem was created like this:&lt;/p&gt;

&lt;p&gt;        ParameterParser pp = new DefaultParameterParser();&lt;br/&gt;
        DiskFileItemFactory factory = new DiskFileItemFactory(10240, new File(&quot;.&quot;));&lt;/p&gt;

&lt;p&gt;        FileItem test = factory.createItem(&quot;upload-field&quot;, &quot;application/octet-stream&quot;, false, null);&lt;/p&gt;

&lt;p&gt;        pp.add(&quot;upload-field&quot;, test);&lt;/p&gt;

&lt;p&gt;        assertTrue(pp.toString().startsWith(&quot;{upload-field=[name=null&quot;));&lt;/p&gt;

&lt;p&gt;pp.toString() causes a call to test.toString() which (among other things) calls dfos.getFile(). This fails because dfos is not initialized before getOutputStream() is called.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12366902">FILEUPLOAD-134</key>
            <summary>A factory-created DiskFileItem does not have an initialized dfos, causing NullPointerExceptions if getOutputStream() is not called.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tv">Thomas Vandahl</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Apr 2007 15:46:06 +0000</created>
                <updated>Tue, 6 Jun 2017 04:29:13 +0000</updated>
                            <resolved>Thu, 7 Jun 2007 00:06:00 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="12502154" author="jochen@apache.org" created="Thu, 7 Jun 2007 00:06:00 +0000"  >&lt;p&gt;The method DiskFileItem.getStorageLocation() is now checking for dfos == null.&lt;/p&gt;</comment>
                            <comment id="12760262" author="miek" created="Mon, 28 Sep 2009 14:42:18 +0000"  >&lt;p&gt;Jochen, it turns out the resolution you described only affects the sympton and not the original problem. The dfos is not initialized at all unless getOutputStream() is manually invoked. As I see it, the fix would be to initialize the dfos as soon as the object is created.&lt;/p&gt;

&lt;p&gt;I came across this problem when trying to wrap a newly created DiskFileItem in a MultipartFile, which causes getSize() to be called, which ultimately leads to a call of dfos.isInMemory() (line 306 in DiskFileItem.java), which results to an NPE.&lt;/p&gt;</comment>
                            <comment id="16038116" author="chtompki" created="Tue, 6 Jun 2017 04:29:13 +0000"  >&lt;p&gt;1.2.1 released.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12505046">FILEUPLOAD-190</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43098</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sktb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164849</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-131] MultipartStream always assumes transfer encoding to be BINARY</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-131</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;MultipartStream always assumes transfer encoding to be BINARY and does not handle &apos;Content-Transfer-Encoding&apos; header at all.&lt;/p&gt;</description>
                <environment>&lt;p&gt;N/A&lt;/p&gt;</environment>
        <key id="12365631">FILEUPLOAD-131</key>
            <summary>MultipartStream always assumes transfer encoding to be BINARY</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="walco">Walco van Loon</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Mar 2007 07:41:28 +0000</created>
                <updated>Wed, 6 Mar 2013 18:55:39 +0000</updated>
                                            <version>1.2.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12483451" author="walco" created="Fri, 23 Mar 2007 07:43:54 +0000"  >&lt;p&gt;Also see &lt;a href=&quot;https://issues.apache.org/struts/browse/STR-1528&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://issues.apache.org/struts/browse/STR-1528&lt;/a&gt; for a more extensive explanation.&lt;/p&gt;</comment>
                            <comment id="12485460" author="jochen@apache.org" created="Fri, 30 Mar 2007 09:45:18 +0000"  >&lt;p&gt;It is questionable, whether anyone is ready to add support for transfer encoding to the current framework. In other words, this issue can only be solved if someone takes the job to rewrite the parser to use an external library like Jakarta httpcore.&lt;/p&gt;</comment>
                            <comment id="12485914" author="walco" created="Sun, 1 Apr 2007 19:27:31 +0000"  >&lt;p&gt;If I understand correctly MIME is not in scope of httpcore, but I would think commons-mime would be a great idea!&lt;/p&gt;</comment>
                            <comment id="12485970" author="olegk" created="Mon, 2 Apr 2007 08:27:45 +0000"  >&lt;p&gt;Folks,&lt;/p&gt;

&lt;p&gt;I doubt HttpCore would be of any use here, as it does not (and is not supposed to) provide any content codecs.  You probably may want to take a closer look at Commons Codec, which provides two content transfer codecs mentioned in RFC1521: quoted-printable and base64. Some efforts will have to spent on getting those codecs to work with I/O streams, though.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="12487376" author="jochen@apache.org" created="Sat, 7 Apr 2007 02:20:55 +0000"  >&lt;p&gt;Question posted to httpcomponents-dev@jakarta, see &lt;a href=&quot;http://www.nabble.com/Handling-content-transfer-encoding-encoding-and-multipart-requests-with-httpcomponents-tf3539561.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.nabble.com/Handling-content-transfer-encoding-encoding-and-multipart-requests-with-httpcomponents-tf3539561.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13008635" author="infosec812" created="Fri, 18 Mar 2011 21:23:37 +0000"  >&lt;p&gt;I was just running into this problem myself today. I checked out the SVN HEAD and see that the header object is now being returned properly, but here&apos;s an idea:&lt;/p&gt;

&lt;p&gt;When the code retrieves the InputStream for the FileItem, have it return an appropriate InputStream which is based on the content-transport-encoding. For example, if the encoding is Base64, return a Base64InputStream. That way, the implementing developer can be completely ignorant of the underlying encoding and still get valid data. We could also provide a path to access a raw InputStream for &quot;Power Users&quot;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43101</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 33 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sktz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164852</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-127] distribution mirrors looking for commons-fileupload-1.2.tar.gz but file is named commons-fileupload-1.2-bin.tar.gz</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-127</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Distribution mirrors looking for &quot;commons-fileupload-1.2.tar.gz&quot; but file is named &quot;commons-fileupload-1.2-bin.tar.gz&quot;&lt;/p&gt;</description>
                <environment>&lt;p&gt;all&lt;/p&gt;</environment>
        <key id="12364258">FILEUPLOAD-127</key>
            <summary>distribution mirrors looking for commons-fileupload-1.2.tar.gz but file is named commons-fileupload-1.2-bin.tar.gz</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rridgely">Ron Ridgely</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 Mar 2007 17:37:22 +0000</created>
                <updated>Fri, 9 Mar 2007 20:32:12 +0000</updated>
                            <resolved>Wed, 7 Mar 2007 00:33:11 +0000</resolved>
                                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12478615" author="jochen@apache.org" created="Tue, 6 Mar 2007 22:46:09 +0000"  >&lt;p&gt;Are you referring to a broken link? If so, on what page?&lt;/p&gt;</comment>
                            <comment id="12478653" author="niallp" created="Wed, 7 Mar 2007 00:33:11 +0000"  >&lt;p&gt;Fixed thanks&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=515366&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=515366&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43105</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 36 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skuv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164856</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-126] Documentation StreamUtil</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-126</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;The web documentation for the Streaming API still contains an example that uses StreamUtil. I was told that the function was movet to org.apache.commons.fileupload.util.Streams.&lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://jakarta.apache.org/commons/fileupload/streaming.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jakarta.apache.org/commons/fileupload/streaming.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Spencer Elliott&lt;/p&gt;</description>
                <environment>&lt;p&gt;Eclipse&lt;/p&gt;</environment>
        <key id="12363631">FILEUPLOAD-126</key>
            <summary>Documentation StreamUtil</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sol400">Spencer Elliott</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 Feb 2007 17:10:53 +0000</created>
                <updated>Tue, 27 Feb 2007 17:01:27 +0000</updated>
                            <resolved>Tue, 27 Feb 2007 17:01:27 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12476224" author="bayard" created="Tue, 27 Feb 2007 17:01:27 +0000"  >&lt;p&gt;svn ci -m &quot;Fixing classname in example as per &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-126&quot; title=&quot;Documentation StreamUtil&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-126&quot;&gt;&lt;del&gt;FILEUPLOAD-126&lt;/del&gt;&lt;/a&gt;&quot; xdocs/streaming.&lt;br/&gt;
xml &lt;br/&gt;
Sending        xdocs/streaming.xml&lt;br/&gt;
Transmitting file data .&lt;br/&gt;
Committed revision 512324.&lt;/p&gt;

&lt;p&gt;(and modified on the deployed website manually, should show in an hour)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43106</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 37 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164857</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-125] new FileCleanerCleanup may lead to problems [PATCH]</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-125</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;This is a follow-up on &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-120&quot; title=&quot;memory leak due to classloader leak (in commons.io)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-120&quot;&gt;&lt;del&gt;FILEUPLOAD-120&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;As described in using.html#resourceCleanup, stopping the IO&apos;s reaper thread when commons-io is in the container&apos;s classpath will impact other running applications. The solution to this is to test if the FileCleaner class was loaded by the application&apos;s ClassLoader (i.e. commons-io.jar is in WEB-INF/lib/):&lt;/p&gt;

&lt;p&gt;    public void contextDestroyed(ServletContextEvent sce) {&lt;br/&gt;
        if (FileCleaner.class.getClassLoader() == Thread.currentThread().getContextClassLoader()) &lt;/p&gt;
{
            FileCleaner.exitWhenFinished();
        }
&lt;p&gt;    }&lt;/p&gt;

&lt;p&gt;This is, if users don&apos;t forget to put FileCleanerCleanup as a servlet listener, of course...&lt;/p&gt;</description>
                <environment></environment>
        <key id="12363407">FILEUPLOAD-125</key>
            <summary>new FileCleanerCleanup may lead to problems [PATCH]</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cedrik.lime@gmail.com">C&#233;drik LIME</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Feb 2007 15:18:31 +0000</created>
                <updated>Fri, 9 Mar 2007 20:32:12 +0000</updated>
                            <resolved>Wed, 28 Feb 2007 13:28:29 +0000</resolved>
                                    <version>1.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12476582" author="jochen@apache.org" created="Wed, 28 Feb 2007 13:28:29 +0000"  >&lt;p&gt;Understanding your suggestion, I nevertheless decided against picking it up as a recommendation:&lt;/p&gt;

&lt;p&gt;While the idea to compare classloaders works in your case, I wouldn&apos;t assume that it will work always. For example, I see no reason, why Thread.currentThread().getContextClassLoader() must differ among threads: For example, I could imagine that a J2EE server uses the very same ClassLoader for all threads, which holds a ThreadLocal instance internally. A recommendation should work in all cases.&lt;/p&gt;

&lt;p&gt;IMO, the ball is still in the field of commons-io, which should allow to create and destroy the thread as a local object, which can be bound, for example, to the ServletContextListener.&lt;/p&gt;</comment>
                            <comment id="12476979" author="cedrik.lime@gmail.com" created="Thu, 1 Mar 2007 16:20:31 +0000"  >&lt;p&gt;Jochen,&lt;/p&gt;

&lt;p&gt;Thanks for your answer. I agree that ultimately commons-io should enable us to manage this thread more finely... Until that time, we&apos;ll have to cope with it.&lt;/p&gt;

&lt;p&gt;Thread.currentThread().getContextClassLoader() represents the current web application&apos;s ClassLoader, not the current Thread ClassLoader (which we could get with Thread.currentThread().getClass().getClassLoader()). A Thread&apos;s ContextClassLoader /will/ change at runtime by the J2EE container to the served webapp&apos;s ClassLoader (that is: the same Thread will serve many different webapps during its lifetime).&lt;/p&gt;

&lt;p&gt;I have mixed feelings about some piece of code in a web application affecting other non-related web applications. While the fault is on the shoulders of commons-io, I think we shouldn&apos;t allow the possibility to impact the other running webapps. Hence the aforementioned patch which I honestly believe works in all cases and for every application servers.&lt;/p&gt;

&lt;p&gt;Anyway, this problem only arises when commons-io is in the container classpath, which hopefully will not be the case in a typical J2EE configuration.&lt;/p&gt;</comment>
                            <comment id="12478015" author="jochen@apache.org" created="Mon, 5 Mar 2007 12:17:23 +0000"  >&lt;p&gt;C&#233;drik, I understand your concerns. In order to get things done, I have opened &lt;a href=&quot;https://issues.apache.org/jira/browse/IO-116&quot; title=&quot;Replace static FileCleaner methods&quot; class=&quot;issue-link&quot; data-issue-key=&quot;IO-116&quot;&gt;&lt;del&gt;IO-116&lt;/del&gt;&lt;/a&gt; and added a patch that improves the situation with commons-io. Nevertheless, I&apos;ll leave this bug as &quot;WONTFIX&quot;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12363950">IO-116</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43107</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 36 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skvb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164858</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-124] Error while uploading the file - in Clusterd in Environment</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-124</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;This happens once in a while, We use the WebLogic proxy itself for loadbalancing. &lt;br/&gt;
The Weblogic servers are configured in Clustered mode.&lt;br/&gt;
I have made my Deployments on a machine &apos;A&apos;.&lt;br/&gt;
But how and why do the files end up on other servers &apos;B&apos;.&lt;br/&gt;
( The logs are from machine &apos;B&apos; ).&lt;/p&gt;

&lt;p&gt;Exception :&lt;br/&gt;
=========&lt;/p&gt;

&lt;p&gt;org.apache.commons.fileupload.FileUploadException: Processing of multipart/form-data request failed. Stream ended unexpectedly&lt;br/&gt;
at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:429)&lt;br/&gt;
at com.nol.core.RequestParameterValue.&amp;lt;init&amp;gt;(RequestParameterValue.java:110)&lt;br/&gt;
at com.nol.core.servlet.NolFrontController.doService(NolFrontController.java:187)&lt;br/&gt;
at com.nol.core.servlet.NolFrontController.doPost(NolFrontController.java:177)&lt;br/&gt;
at javax.servlet.http.HttpServlet.service(HttpServlet.java:760)&lt;br/&gt;
at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)&lt;br/&gt;
at weblogic.servlet.internal.ServletStubImpl$ServletInvocationAction.run(ServletStubImpl.java:1072)&lt;br/&gt;
at weblogic.servlet.internal.ServletStubImpl.invokeServlet(ServletStubImpl.java:465)&lt;br/&gt;
at weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:28)&lt;br/&gt;
at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:27)&lt;br/&gt;
at com.nol.core.servlet.UserFilter.doFilter(UserFilter.java:300)&lt;br/&gt;
at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:27)&lt;br/&gt;
at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:6987)&lt;br/&gt;
at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)&lt;br/&gt;
at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)&lt;br/&gt;
at weblogic.servlet.internal.WebAppServletContext.invokeServlet(WebAppServletContext.java:3892)&lt;br/&gt;
at weblogic.servlet.internal.ServletRequestImpl.execute(ServletRequestImpl.java:2766)&lt;br/&gt;
at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:224)&lt;br/&gt;
at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:183)&lt;/p&gt;</description>
                <environment>&lt;p&gt;In the Integration Environment&lt;/p&gt;</environment>
        <key id="12360343">FILEUPLOAD-124</key>
            <summary>Error while uploading the file - in Clusterd in Environment</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="deepak_cs2k">Ramdeepak</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Jan 2007 06:29:54 +0000</created>
                <updated>Fri, 26 Jan 2007 16:10:25 +0000</updated>
                            <resolved>Fri, 26 Jan 2007 16:10:25 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12464117" author="jochen@apache.org" created="Fri, 12 Jan 2007 08:23:53 +0000"  >
&lt;p&gt;&amp;gt; org.apache.commons.fileupload.FileUploadException: Processing of multipart/form-data request failed. Stream ended unexpectedly&lt;br/&gt;
&amp;gt; at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:429)&lt;/p&gt;

&lt;p&gt;This error message can be cause by&lt;/p&gt;

&lt;p&gt;a) An aborted input stream. For example, the client browsers user may have pressed &quot;Stop&quot; or&lt;br/&gt;
    switched to another URL. In your case, it might also occur that the load balancer switched&lt;br/&gt;
    the cluster machine. (Which would, of course, be an error in the cluster, so that&apos;s unlikely.)&lt;br/&gt;
b) An error in the multipart/form-data parser of commons-fileupload. This is also unlikely.&lt;br/&gt;
     Nevertheless, it is possible. However, for obvious reasons, this cannot be analyzed&lt;br/&gt;
     without you providing an example of the data causing the problem. For example, you might&lt;br/&gt;
     use Wireshark or a similar tool to catch network traffic. Or, if possible, extend your logging&lt;br/&gt;
     to trace the clients input stream.&lt;/p&gt;

&lt;p&gt;&amp;gt; But how and why do the files end up on other servers &apos;B&apos;. &lt;/p&gt;

&lt;p&gt;This is a question, which is completely unrelated to the commons-fileupload library. Ask your clusters vendor or whoever might know the cluster.&lt;/p&gt;


&lt;p&gt;I&apos;ll wait for some weeks, whether you are able to provide more data. If not, I&apos;ll intend to close this bug as &quot;Invalid&quot;.&lt;/p&gt;
</comment>
                            <comment id="12467850" author="bayard" created="Fri, 26 Jan 2007 16:10:25 +0000"  >&lt;p&gt;Closing as Invaid &lt;span class=&quot;error&quot;&gt;&amp;#91;2 weeks later&amp;#93;&lt;/span&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43108</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 41 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skvj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164859</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-123] NullPointerException in FileUploadBase.createItem(FileUploadBase.java:500) when no factory was set in FileUpload</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-123</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;The following code produces a NPE, a more descriptive exception (and exception message) would be helpful.&lt;/p&gt;

&lt;p&gt;ServletFileUpload upload = new ServletFileUpload();&lt;br/&gt;
try {&lt;br/&gt;
    List&amp;lt;FileItem&amp;gt; items = upload.parseRequest(request);&lt;br/&gt;
    /* ... */&lt;br/&gt;
} catch (Exception e) {&lt;br/&gt;
    e.printStackTrace();&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;The exception is:&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase.createItem(FileUploadBase.java:500)&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:367)&lt;br/&gt;
	at org.apache.commons.fileupload.servlet.ServletFileUpload.parseRequest(ServletFileUpload.java:116)&lt;br/&gt;
	...&lt;/p&gt;</description>
                <environment></environment>
        <key id="12360066">FILEUPLOAD-123</key>
            <summary>NullPointerException in FileUploadBase.createItem(FileUploadBase.java:500) when no factory was set in FileUpload</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="struppi">David Tanzer</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Jan 2007 10:12:37 +0000</created>
                <updated>Fri, 9 Mar 2007 20:32:12 +0000</updated>
                            <resolved>Tue, 9 Jan 2007 21:55:15 +0000</resolved>
                                    <version>1.1.1</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12463413" author="jochen@apache.org" created="Tue, 9 Jan 2007 21:55:15 +0000"  >&lt;p&gt;Done.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43109</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skvr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164860</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-122] Filename may contain a full path</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-122</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;The filename extracted from the content disposition may contain a full path (i.e. as submitted by the Internet Explorer for example).&lt;/p&gt;

&lt;p&gt;It&apos;s is important to check for this and strip the path information accordingly as the upload fails if you use FileItem#getName() to build your destination path.&lt;/p&gt;

&lt;p&gt;I patched the abstract class FileUploadBase#getFileName(...) with a few lines of code inspired by COS&apos; MultiPartParser &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Starting on line 447 (after fileName = fileName.trim(); )&lt;/p&gt;

&lt;p&gt;                        // The filename may contain a full path.  Cut to just the filename.&lt;br/&gt;
                        int slash = Math.max(fileName.lastIndexOf(&apos;/&apos;), fileName.lastIndexOf(&apos;&lt;br class=&quot;atl-forced-newline&quot; /&gt;&apos;)); // check for Unix AND Win separator&lt;br/&gt;
                        if (slash &amp;gt; -1) &lt;/p&gt;
{
                          fileName = fileName.substring(slash + 1);  // past last slash
                        }
</description>
                <environment></environment>
        <key id="12358528">FILEUPLOAD-122</key>
            <summary>Filename may contain a full path</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sbeigel">Sebastian Beigel</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Dec 2006 15:32:31 +0000</created>
                <updated>Thu, 11 Jul 2013 02:28:27 +0000</updated>
                            <resolved>Thu, 14 Dec 2006 21:02:43 +0000</resolved>
                                    <version>1.1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12458162" author="niallp" created="Wed, 13 Dec 2006 15:39:50 +0000"  >&lt;p&gt;Duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-17&quot; title=&quot;[fileupload] FileItem.getName() returns filename plus path from Windows/IE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-17&quot;&gt;&lt;del&gt;FILEUPLOAD-17&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12458179" author="bayard" created="Wed, 13 Dec 2006 16:27:32 +0000"  >&lt;p&gt;Gotta watch the licensing on COS&apos; multiparser too.&lt;/p&gt;</comment>
                            <comment id="12458549" author="bayard" created="Thu, 14 Dec 2006 17:01:36 +0000"  >&lt;p&gt;See:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://jakarta.apache.org/commons/fileupload/faq.html#whole-path-from-IE&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jakarta.apache.org/commons/fileupload/faq.html#whole-path-from-IE&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Though the need to check windows and unix separators is a good one and FilenamUtils probably doesn&apos;t (as it expects to be run client side). So the FAQ example needs an upgrade.&lt;/p&gt;

&lt;p&gt;Even if that part is inspired by COS, it&apos;s a trivial piece of code.&lt;/p&gt;</comment>
                            <comment id="12458552" author="martinc" created="Thu, 14 Dec 2006 17:10:57 +0000"  >&lt;p&gt;From the Javadocs for FilenameUtils.getName:&lt;/p&gt;

&lt;p&gt;&quot;This method will handle a file in either Unix or Windows format.&quot;&lt;/p&gt;

&lt;p&gt;It does this regardless of which OS it is running on. I checked this before adding the FAQ item. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12458606" author="jochen@apache.org" created="Thu, 14 Dec 2006 21:02:43 +0000"  >&lt;p&gt;I was initially thinking that the request made some sense, but after reading the various comments in this bug as well as &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-17&quot; title=&quot;[fileupload] FileItem.getName() returns filename plus path from Windows/IE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-17&quot;&gt;&lt;del&gt;FILEUPLOAD-17&lt;/del&gt;&lt;/a&gt; (or &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-68&quot; title=&quot;[fileupload] Bug in FileUploadBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-68&quot;&gt;&lt;del&gt;FILEUPLOAD-68&lt;/del&gt;&lt;/a&gt; for that matter), I do wholeheartly agree with the current behaviour to leave the filename as it is sent by the browser. If the user actually wants to remove preceding path components then he can do so quite easily. The converse wouldn&apos;t be true, if we&apos;d attempt to &quot;sanitize&quot; the name.&lt;/p&gt;

&lt;p&gt;As this topic has been discussed now in at least three cases and all developers agree on it, I am closing the bug.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12340593">FILEUPLOAD-17</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12657191">FILEUPLOAD-235</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43110</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 47 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164861</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-120] memory leak due to classloader leak (in commons.io)</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-120</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;commons.io opens a thread that is never stopped. The result is that a reference from a container class (jboss threads pool) to my webapp classloader is never released and my webapp classloader is never garbaged. After serveral deploy/undeploy cycles I experience an &quot;OutOfMemoryError : PermGen&quot;.&lt;/p&gt;

&lt;p&gt;I did open an issue in commons.io : &lt;a href=&quot;https://issues.apache.org/jira/browse/IO-99&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/IO-99&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I also open an issue here as I think commons.fileupload have concerns about webapp environnements&lt;/p&gt;</description>
                <environment>&lt;p&gt;JBoss portal&lt;/p&gt;</environment>
        <key id="12355970">FILEUPLOAD-120</key>
            <summary>memory leak due to classloader leak (in commons.io)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mvera">Vera Micka&#235;l</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Nov 2006 10:27:47 +0000</created>
                <updated>Fri, 9 Mar 2007 20:32:11 +0000</updated>
                            <resolved>Tue, 2 Jan 2007 20:08:05 +0000</resolved>
                                    <version>1.1.1</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12450690" author="jochen@apache.org" created="Fri, 17 Nov 2006 10:36:27 +0000"  >&lt;p&gt;As you have found not only the problem, but the reason as well, I believe that there doesn&apos;t remain any work for the FILEUPLOAD team. Consequently, I am resolving this as &quot;Invalid&quot; (must be fixed externally). Thanks for reporting this.&lt;/p&gt;</comment>
                            <comment id="12450746" author="mvera" created="Fri, 17 Nov 2006 14:15:55 +0000"  >&lt;p&gt;I don&apos;t feel like my issue is invalid. &lt;/p&gt;

&lt;p&gt;This is really a commons.fileupload bug as commons.fileupload depends on a lib that isn&apos;t designed to be embeded in a webapp.&lt;/p&gt;

&lt;p&gt;I did open an issue in commons.fileupload because I expected developpers of fileuploads to be concerned by hot deploy in web servers more than commons.io Could someone of the commons.fileupload support my issue in commons.io by voting for it in commons.io, and add a comment supporting my description of the problem. &lt;/p&gt;

&lt;p&gt;This a complex problem with a very simple solution, any support for the commons.io team is welcome.&lt;/p&gt;

</comment>
                            <comment id="12451230" author="bayard" created="Mon, 20 Nov 2006 05:55:12 +0000"  >&lt;p&gt;Reopening - it seems to me that if the IO feature is added, then we&apos;ll need to make sure FileUpload use it. So this seems like a good issue to record the need for FileUpload to use the IO bit &lt;span class=&quot;error&quot;&gt;&amp;#91;see Martin&amp;#39;s comments in IO-99&amp;#93;&lt;/span&gt;.&lt;/p&gt;</comment>
                            <comment id="12451381" author="mvera" created="Mon, 20 Nov 2006 17:44:07 +0000"  >&lt;p&gt;I proposed a solution on commons.io, an API using the classloader to release resources. I thought that maybe commons.fileupload may offer the same service and delegate a part of it to commons.io. As I don&apos;t use directly commons.io, I&apos;d prefer to ask commons.fileupload to release its resources better than to commons.io&lt;/p&gt;

&lt;p&gt;Thanks for reopening this issue, IMHO the new status reflects better the situation.&lt;/p&gt;
</comment>
                            <comment id="12455460" author="bayard" created="Mon, 4 Dec 2006 23:50:09 +0000"  >&lt;p&gt;Sounds like FileUpload 1.2 is waiting on IO 1.3 so it can fix this. As far as I understand, FileUpload will need a small amount of code change&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;</comment>
                            <comment id="12455524" author="jochen@apache.org" created="Tue, 5 Dec 2006 06:48:42 +0000"  >
&lt;p&gt;&amp;gt; Sounds like FileUpload 1.2 is waiting on IO 1.3 so it can fix this. As far as I understand, FileUpload will need a small amount of code change&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;

&lt;p&gt;Dunno. My intention was to wait for 1.3, then change the POM&apos;s (Maven 1 and 2) and see what happens. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12455812" author="bayard" created="Wed, 6 Dec 2006 00:02:49 +0000"  >&lt;p&gt;I think we need to get it in FileUpload earlier than that so we can be happy releasing 1.3.&lt;/p&gt;</comment>
                            <comment id="12455820" author="bayard" created="Wed, 6 Dec 2006 00:12:09 +0000"  >&lt;p&gt;I&apos;m being dumb. So Vera needs to grab the latest nightly IO and add a call to FileCleaner.exitWhenFinished in javax.servlet.ServletContextListener#contextDestroyed().&lt;/p&gt;

&lt;p&gt;Such a thing is attached. I don&apos;t know if we want to ship that in FileUpload or not.&lt;/p&gt;</comment>
                            <comment id="12455823" author="bayard" created="Wed, 6 Dec 2006 00:17:06 +0000"  >&lt;p&gt;Here&apos;s the web.xml, to save anyone reading this from having to look it up.&lt;/p&gt;

&lt;p&gt;&amp;lt;web-app&amp;gt;&lt;br/&gt;
	&amp;lt;listener&amp;gt;&lt;br/&gt;
		&amp;lt;listener-class&amp;gt;&lt;br/&gt;
		    org.apache.commons.fileupload.FileCleanerCleanup&lt;br/&gt;
		&amp;lt;/listener-class&amp;gt;&lt;br/&gt;
	&amp;lt;/listener&amp;gt;&lt;/p&gt;

&lt;p&gt;.....&lt;/p&gt;</comment>
                            <comment id="12455910" author="jochen@apache.org" created="Wed, 6 Dec 2006 07:58:31 +0000"  >&lt;p&gt;I agree with you, Henri, that it makes sense to provide a servletcontextlistener. Question: I would assume that there is a similar thing for portlets, is it? Can anyone provide an implementation for that as well?&lt;/p&gt;</comment>
                            <comment id="12461779" author="bayard" created="Tue, 2 Jan 2007 18:26:26 +0000"  >
&lt;p&gt;Looking at &lt;a href=&quot;http://portals.apache.org/pluto/pluto-container/apidocs/index.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://portals.apache.org/pluto/pluto-container/apidocs/index.html&lt;/a&gt; - I don&apos;t see any obvious Listener classes. I figure we can just release FileUpload and let someone contribute a portlet listener if it&apos;s important to them.&lt;/p&gt;</comment>
                            <comment id="12461808" author="jochen@apache.org" created="Tue, 2 Jan 2007 20:08:05 +0000"  >&lt;p&gt;Ok, &lt;a href=&quot;https://issues.apache.org/jira/browse/IO-99&quot; title=&quot;FileCleaner thread never ends and cause memory leak in AS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;IO-99&quot;&gt;&lt;del&gt;IO-99&lt;/del&gt;&lt;/a&gt; is resolved, Henri&apos;s patch is in, so I am now resolving this issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12355892">IO-99</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12346498" name="FileCleanerCleanup.java" size="418" author="bayard" created="Wed, 6 Dec 2006 00:17:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43112</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skwf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164863</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-118] Maven pom has invalid parent</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-118</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;The correct parent for commons seems to be artifactId=commons-parent, but the pom has artifactId=commons.  This prevents building with m2.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12354227">FILEUPLOAD-118</key>
            <summary>Maven pom has invalid parent</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dain">Dain Sundstrom</reporter>
                        <labels>
                    </labels>
                <created>Sun, 29 Oct 2006 18:37:55 +0000</created>
                <updated>Mon, 4 Dec 2006 23:52:34 +0000</updated>
                            <resolved>Mon, 4 Dec 2006 23:52:34 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12445639" author="bayard" created="Mon, 30 Oct 2006 16:26:37 +0000"  >&lt;p&gt;Yup, can&apos;t say I understand why it&apos;s commons-parent and not commons. All of the components within Commons with pom.xml&apos;s that refer to the parent pom say &apos;commons&apos;. I&apos;m +1 to changing it back.&lt;/p&gt;

&lt;p&gt;&apos;commons-parent/&apos; is also not in the svn:externals for trunks-proper.&lt;/p&gt;

&lt;p&gt;There are also pom.xml&apos;s that do not reference the parent (scxml, logging).&lt;/p&gt;</comment>
                            <comment id="12445718" author="bayard" created="Mon, 30 Oct 2006 21:35:33 +0000"  >&lt;p&gt;&lt;b&gt;ping&lt;/b&gt;. The notification for fileupload was turned off, so I&apos;ve turned it back on and am making sure this issue hits the list.&lt;/p&gt;</comment>
                            <comment id="12445720" author="jochen@apache.org" created="Mon, 30 Oct 2006 21:48:04 +0000"  >&lt;p&gt;The change to commons-parent was discussed in&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;http://marc.theaimsgroup.com/?l=jakarta-commons-dev&amp;amp;m=116012264831061&amp;amp;w=2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://marc.theaimsgroup.com/?l=jakarta-commons-dev&amp;amp;m=116012264831061&amp;amp;w=2&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The main reason for using &quot;commons-parent&quot; and not &quot;commons&quot; is that the module is now located at&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;http://svn.apache.org/repos/asf/jakarta/commons/proper/commons-parent/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/jakarta/commons/proper/commons-parent/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;and no longer at&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;http://svn.apache.org/repos/asf/jakarta/commons/trunks-proper/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/jakarta/commons/trunks-proper/&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="12455463" author="bayard" created="Mon, 4 Dec 2006 23:52:34 +0000"  >&lt;p&gt;All commons children poms should now point to commons-parent.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43114</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 49 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skwv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164865</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-116] max headers size is checked but improperly handled</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-116</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;MultipartStream enforces a maximum headers section size limit to prevent abuse. However, when the limit is reached, it silently discards the rest of the headers block, and returns an invalid partial headers string back to FileUploadBase. There it may, depending on the data and location of the cutoff, either return partial headers, return among them an invalid header, or throw an undocumented IllegalStateException.&lt;br/&gt;
Instead, it should inform the caller that the headers are not properly processed - whether or not the oversized headers are due to a malformed stream or not, after cutting them off they certainly become malformed.&lt;/p&gt;

&lt;p&gt;The attached patch fixes this by having MultipartStream throw a MalformedStreamException when the limit is reached, as it does if other errors occur. This both leaves existing error handling (whomever catches such an exception) unchanged, and seems right since an extremely oversized header block is likely due to a malformed stream. This change further guarantees that if the exception is not thrown, the returned headers string must be valid, which simplifies processing in FileUploadBase (also included in the patch).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12348889">FILEUPLOAD-116</key>
            <summary>max headers size is checked but improperly handled</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="amichai">Amichai Rothman</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 Aug 2006 23:36:45 +0000</created>
                <updated>Tue, 6 Jun 2017 04:53:44 +0000</updated>
                            <resolved>Sat, 7 Apr 2007 02:05:07 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="12487374" author="jochen@apache.org" created="Sat, 7 Apr 2007 02:05:07 +0000"  >&lt;p&gt;Applied, thank you.&lt;/p&gt;</comment>
                            <comment id="16038148" author="chtompki" created="Tue, 6 Jun 2017 04:53:44 +0000"  >&lt;p&gt;1.2.1 released.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12339819" name="ASF.LICENSE.NOT.GRANTED--commons-fileupload-1.2-bug-max-header-size.patch" size="2915" author="amichai" created="Tue, 29 Aug 2006 23:36:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43116</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skxb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164867</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-115] Filupload does no validation of accept attribute nor maxFileSize defined for the ExtensionFilter</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-115</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;inputFileUpload does no validation check and so no messages are issued to the client when the mime-type does not match (accept-attribute) nor when the file size exceeds maxFileSize defined for the ExtensionFilter. I implemented a test using the information from &lt;a href=&quot;http://wiki.apache.org/myfaces/Setup_For_File_Uploads&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.apache.org/myfaces/Setup_For_File_Uploads&lt;/a&gt;. The code looks like that:&lt;/p&gt;

&lt;p&gt;&amp;#8212;&lt;br/&gt;
&amp;lt;h:form enctype=&quot;multipart/form-data&quot; id=&quot;upload&quot;&amp;gt;&lt;br/&gt;
		&amp;lt;t:inputFileUpload &lt;br/&gt;
		  id=&quot;file&quot; &lt;br/&gt;
		  storage=&quot;file&quot; &lt;br/&gt;
                  accept=&quot;image/*&quot;  &lt;br/&gt;
		  value=&quot;#&lt;/p&gt;
{FileUploader.uploadedFile}
&lt;p&gt;&quot;/&amp;gt;&lt;br/&gt;
    	        &amp;lt;h:message for=&quot;file&quot; showDetail=&quot;true&quot; /&amp;gt;&lt;br/&gt;
		&amp;lt;h:commandButton id=&quot;uploadButton&quot; action=&quot;#&lt;/p&gt;
{FileUploader.upload}
&lt;p&gt;&quot;/&amp;gt;&lt;br/&gt;
	&amp;lt;/h:form&amp;gt;&lt;br/&gt;
&amp;#8212;&lt;/p&gt;

&lt;p&gt;No error messages are displayed and so a client is able to upload any files he wants. I also tested this behaviour with the latest tomahawk-examples-1.1.5-NIGHTLY (fileupload-example) and got the same behaviour there.&lt;/p&gt;</description>
                <environment>&lt;p&gt;jboss-4.0.4&lt;br/&gt;
tomahawk-1.1.3 (also tested with 1.1.5 nigthly from today)&lt;br/&gt;
commons-fileupload-1.1.1&lt;/p&gt;</environment>
        <key id="12347303">FILEUPLOAD-115</key>
            <summary>Filupload does no validation of accept attribute nor maxFileSize defined for the ExtensionFilter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="noltec">Christian Nolte</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Aug 2006 11:00:17 +0000</created>
                <updated>Fri, 9 Mar 2007 20:32:11 +0000</updated>
                            <resolved>Tue, 9 Jan 2007 21:59:11 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12426020" author="jochen@apache.org" created="Sun, 6 Aug 2006 03:57:13 +0000"  >&lt;p&gt;Are you sure you filed your issue against the right component? Commons-Fileupload neither knows something like &quot;accept-attribute&quot; nor &quot;maxFileSize&quot;. My impression is that you are referring to some MyFaces component.&lt;/p&gt;</comment>
                            <comment id="12463415" author="jochen@apache.org" created="Tue, 9 Jan 2007 21:59:11 +0000"  >&lt;p&gt;No response by user, closing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43117</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164868</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-113] uncomment ServletFileUpload.isMultipartContent()</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-113</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;ServletFileUpload.isMultipartContent() is commented out. The comment says &quot;This method cannot be enabled until the one in FileUploadBase is removed, since it is not possible to override a static method.&quot; That&apos;s wrong. It IS possible to override a static method, but it is NOT possible to override a &lt;b&gt;final&lt;/b&gt; method. The two FileUploadBase.isMultipartContent() methods are not only static, they are &lt;b&gt;final&lt;/b&gt;.&lt;/p&gt;

&lt;p&gt;-&amp;gt; remove the final modifier from the FileUploadBase.isMultipartContent() methods, comment in ServletFileUpload.isMultipartContent() - voila.&lt;/p&gt;

&lt;p&gt;P.S.: to be precise, you cannot &apos;override&apos; a static method, but you can &apos;hide&apos; it... See &lt;a href=&quot;http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.4.8.2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.4.8.2&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12344771">FILEUPLOAD-113</key>
            <summary>uncomment ServletFileUpload.isMultipartContent()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="jcsahnwaldt">Christopher Sahnwaldt</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Jun 2006 16:13:16 +0000</created>
                <updated>Fri, 9 Mar 2007 20:32:11 +0000</updated>
                            <resolved>Sat, 5 Aug 2006 21:49:42 +0000</resolved>
                                    <version>1.0 Final</version>
                    <version>1.1 Final</version>
                    <version>1.1.1</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="12426002" author="jochen@apache.org" created="Sat, 5 Aug 2006 21:49:42 +0000"  >&lt;p&gt;Fixed in SVN.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43119</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 14 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164870</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-111] Folded HTTP headers are not properly handled</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-111</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;The RFC regarding HTTP headers allows for header folding, i.e. breaking a long header into several lines. This is not currently supported by FileUpload, which may cause some header parameters (such as filename) to be lost during header parsing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12343266">FILEUPLOAD-111</key>
            <summary>Folded HTTP headers are not properly handled</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="amichai">Amichai Rothman</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 May 2006 19:30:42 +0000</created>
                <updated>Fri, 9 Mar 2007 20:32:11 +0000</updated>
                            <resolved>Mon, 7 Aug 2006 00:14:24 +0000</resolved>
                                    <version>1.1 Final</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12412517" author="amichai" created="Fri, 19 May 2006 19:33:05 +0000"  >&lt;p&gt;The fix includes proper header handling (includes the patch from bug 108), as well as a test for folded headers.&lt;/p&gt;</comment>
                            <comment id="12415685" author="martinc" created="Sun, 11 Jun 2006 00:21:57 +0000"  >&lt;p&gt;This will be fixed when FileUpload is changed to build upon HttpCore, which already handles this properly.&lt;/p&gt;</comment>
                            <comment id="12426097" author="jochen@apache.org" created="Mon, 7 Aug 2006 00:14:24 +0000"  >&lt;p&gt;Thanks, in particular for considering a test case. Applied.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12334339" name="commons-fileupload-1.1-bug-111.patch" size="7819" author="amichai" created="Fri, 19 May 2006 19:33:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43121</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 14 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skyf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164872</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-110] MultipartStream&apos;s keep region padding is either unnecessary or untested (and undocumented)</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-110</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;MultipartStream has logic and constants related to a &quot;keep region&quot; which, according to the docs, is&lt;br/&gt;
&quot;The amount of data, in bytes, that must be kept in the buffer in order to detect delimiters reliably.&quot;&lt;/p&gt;

&lt;p&gt;However, why that region is needed, why the padding is set to 3, and what makes it more reliable, is undocumented. Furthermore, when setting KEEP_REGION_PAD to zero (which effectively bypasses the extra keep region padding mechanism - it simply uses the boundary delimiter size, which makes sense), all tests pass successfully. &lt;/p&gt;

&lt;p&gt;so... either the extra padding is required but whatever it is required for is untested and undocumented, which should be corrected, or it is indeed unneeded, in which case all the keep region related code and constants can be deleted, and the code where the actual delimiters are searched for can be modified to simply use the boundary length instead of keepRegion.&lt;/p&gt;

&lt;p&gt;Note: I suspect the keep region pad may be a patch to compensate for the skipPreamble() patch which modifies the global boundary, calls a method which uses it, and the restores the global variable. If this is the case, this can all be reorganized in a clear and straightforward manner (with no awkward patches) by using an internal utility method that simply reads data into a given outputstream until a given delimiter is reached. this can then be used by readHeaders, readBodyData, discardBodyData, and skipPreamble, all of which require this same basic underlying functionality. I&apos;d be happy to provide this code change, if this seems like a correct analysis to you...&lt;/p&gt;</description>
                <environment></environment>
        <key id="12343257">FILEUPLOAD-110</key>
            <summary>MultipartStream&apos;s keep region padding is either unnecessary or untested (and undocumented)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="amichai">Amichai Rothman</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 May 2006 17:21:36 +0000</created>
                <updated>Tue, 5 Feb 2019 14:12:12 +0000</updated>
                            <resolved>Wed, 27 Jun 2007 01:07:17 +0000</resolved>
                                    <version>1.1 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12426323" author="jochen@apache.org" created="Mon, 7 Aug 2006 21:00:53 +0000"  >&lt;p&gt;I must admit, that it is unclear to me, whether you are right or not. This may be the case.&lt;/p&gt;

&lt;p&gt;In any way, feel free to submit patches. Cleaning up the code will rarely hurt.&lt;/p&gt;</comment>
                            <comment id="12431428" author="amichai" created="Wed, 30 Aug 2006 00:49:59 +0000"  >&lt;p&gt;the patch removes the keep region related code. If anyone finds a test case which can confirm any usefulness of the removed code, pls revert the patch and add the test case &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12508374" author="jochen@apache.org" created="Wed, 27 Jun 2007 01:07:17 +0000"  >&lt;p&gt;The extra bytes are no longer used. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12339824" name="commons-fileupload-1.1-bug-removed-keep-region.patch" size="1656" author="amichai" created="Wed, 30 Aug 2006 00:49:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43122</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 20 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skyn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164873</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-107] website issue tracking link points to Bugzilla instead of JIRA</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-107</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;the FileUpload website &quot;issue tracking&quot; link points to Bugzilla instead of JIRA. Took me a while to find it and to be able to post this very issue &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12343240">FILEUPLOAD-107</key>
            <summary>website issue tracking link points to Bugzilla instead of JIRA</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="niallp">Niall Pemberton</assignee>
                                    <reporter username="amichai">Amichai Rothman</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 May 2006 06:27:11 +0000</created>
                <updated>Fri, 9 Mar 2007 20:32:10 +0000</updated>
                            <resolved>Sun, 28 May 2006 20:09:39 +0000</resolved>
                                                    <fixVersion>1.1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12413624" author="niallp" created="Sun, 28 May 2006 20:09:39 +0000"  >&lt;p&gt;Fixed in revisions 409050 and 409406&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=409050&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=409050&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=409406&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=409406&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43125</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 24 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skzb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164876</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-106] parseRequest randomly throws Stream ended unexpectedly</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-106</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Hello, I have an application using FileUpload which intermittently encounters&lt;br/&gt;
this error as well, about once every 100 uploads.  It&apos;s a simple servlet that&lt;br/&gt;
writes posted files to disk.  The client application that is posting to this&lt;br/&gt;
FileUpload servlet is using Jakarta Commons HttpClient 3.0.1 with features such&lt;br/&gt;
as MultipartRequestEntity and MultiThreadedHttpConnectionManager.&lt;/p&gt;

&lt;p&gt;Typically the posts contain two to three FileParts, a few 20KB audio/x-wav&lt;br/&gt;
files accompanied by a 15KB application/voicexml+xml file.&lt;/p&gt;

&lt;p&gt;The servlet is actually running on two different servers, and the single client&lt;br/&gt;
posts to both of them, this occasional &quot;Stream ended unexpectedly&quot; error will&lt;br/&gt;
occur on one server and still succeed on the other.&lt;/p&gt;

&lt;p&gt;The client and server environments are all Solaris 9, Java 1.4.2_05, JBoss&lt;br/&gt;
3.2.5 running Tomcat 5.0.26 using the default 8080 connector, and separated by&lt;br/&gt;
a few LANs with very low latency (2ms).&lt;/p&gt;

&lt;p&gt;It&apos;s interesting to note that the FileUpload servlet catches the &quot;Stream ended&lt;br/&gt;
unexpectedly&quot; exception during parseRequest and is still able to&lt;br/&gt;
HttpServletResponse.send(500, e.getMessage()), which the client receives and&lt;br/&gt;
there are no other errors leading me to indicating the socket connection was&lt;br/&gt;
ganked.&lt;/p&gt;

&lt;p&gt;I&apos;ve applied a patch to the latest FileUpload 1.2-SNAPSHOT in SVN for including&lt;br/&gt;
the root cause in exceptions, e.g.:&lt;/p&gt;

&lt;p&gt;+++ src/java/org/apache/commons/fileupload/FileUploadBase.java&lt;br/&gt;
@@ -381,9 +381,9 @@&lt;br/&gt;
           } catch (IOException e) &lt;/p&gt;
{
-            throw new FileUploadException(
-                &quot;Processing of &quot; + MULTIPART_FORM_DATA
-                    + &quot; request failed. &quot; + e.getMessage());
+            throw (FileUploadException) new FileUploadException(
+                &quot;Processing of &quot; + MULTIPART_FORM_DATA
+                    + &quot; request failed. &quot; + e.getMessage()).initCause(e);
         }

&lt;p&gt;Here is a stacktrace of one of the random &quot;Stream ended unexpectedly&quot;&lt;br/&gt;
exceptions:&lt;/p&gt;

&lt;p&gt;2006-05-16 16:59:03,947 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;com.xo.nextgen.fileupload.FileUploadServlet&amp;#93;&lt;/span&gt; doPost: Failed to parse uploads from request: Processing of multipart/form-data request failed. Stream ended unexpectedly&lt;br/&gt;
org.apache.commons.fileupload.FileUploadException: Processing of multipart/form-data request failed. Stream ended unexpectedly&lt;br/&gt;
        at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:384)&lt;br/&gt;
        at com.xo.nextgen.fileupload.FileUploadServlet.doPost(FileUploadServlet.java:278)&lt;br/&gt;
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:760)&lt;br/&gt;
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)&lt;br/&gt;
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:237)&lt;br/&gt;
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:157)&lt;br/&gt;
        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:214)&lt;br/&gt;
        at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)&lt;br/&gt;
        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)&lt;br/&gt;
        at org.apache.catalina.core.StandardContextValve.invokeInternal(StandardContextValve.java:198)&lt;br/&gt;
        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:152)&lt;br/&gt;
        at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)&lt;br/&gt;
        at org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:72)&lt;br/&gt;
        at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:102)&lt;br/&gt;
        at org.jboss.web.tomcat.security.JBossSecurityMgrRealm.invoke(JBossSecurityMgrRealm.java:275)&lt;br/&gt;
        at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:102)&lt;br/&gt;
        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)&lt;br/&gt;
        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)&lt;br/&gt;
        at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)&lt;br/&gt;
        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)&lt;br/&gt;
        at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:102)&lt;br/&gt;
        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)&lt;br/&gt;
        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)&lt;br/&gt;
        at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)&lt;br/&gt;
        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)&lt;br/&gt;
        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:929)        at org.apache.coyote.tomcat5.CoyoteAdapter.service(CoyoteAdapter.java:160)&lt;br/&gt;
        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:799)&lt;br/&gt;
        at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:705)&lt;br/&gt;
        at org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:577)&lt;br/&gt;
        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:683)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:534)&lt;br/&gt;
Caused by: org.apache.commons.fileupload.MultipartStream$MalformedStreamException: Stream ended unexpectedly&lt;br/&gt;
        at org.apache.commons.fileupload.MultipartStream.readBodyData(MultipartStream.java:540)&lt;br/&gt;
        at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:371)&lt;br/&gt;
        ... 31 more&lt;/p&gt;


&lt;p&gt;The other server happily accepted the same upload:&lt;/p&gt;

&lt;p&gt;2006-05-16 16:59:03,929 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;com.xo.nextgen.fileupload.FileUploadServlet&amp;#93;&lt;/span&gt; doPost: Received file /NTI/9992/voice/test/Voice/4vg85qUY.wav (size=25182)&lt;br/&gt;
2006-05-16 16:59:03,932 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;com.xo.nextgen.fileupload.FileUploadServlet&amp;#93;&lt;/span&gt; doPost: Wrote file /web/voiceweb/htdocs/NTI/9992/voice/test/Voice/4vg85qUY.wav&lt;br/&gt;
2006-05-16 16:59:03,933 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;com.xo.nextgen.fileupload.FileUploadServlet&amp;#93;&lt;/span&gt; doPost: Received file /NTI/9992/voice/test/Voice/8AyWrP3j.wav (size=37168)&lt;br/&gt;
2006-05-16 16:59:03,936 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;com.xo.nextgen.fileupload.FileUploadServlet&amp;#93;&lt;/span&gt; doPost: Wrote file /web/voiceweb/htdocs/NTI/9992/voice/test/Voice/8AyWrP3j.wav&lt;br/&gt;
2006-05-16 16:59:03,937 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;com.xo.nextgen.fileupload.FileUploadServlet&amp;#93;&lt;/span&gt; doPost: Received file /NTI/9992/xml/JUnit-4ubjoyNf-0.vxml (size=11120)&lt;br/&gt;
2006-05-16 16:59:03,939 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;com.xo.nextgen.fileupload.FileUploadServlet&amp;#93;&lt;/span&gt; doPost: Wrote file /web/voiceweb/htdocs/NTI/9992/xml/JUnit-4ubjoyNf-0.vxml&lt;br/&gt;
2006-05-16 16:59:03,940 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;com.xo.nextgen.fileupload.FileUploadServlet&amp;#93;&lt;/span&gt; doPost: Stored 3 files from 3 request content parts in 0:00:00.135&lt;/p&gt;
</description>
                <environment>&lt;p&gt;The client and server environments are all Solaris 9, Java 1.4.2_05, JBoss&lt;br/&gt;
3.2.5 running Tomcat 5.0.26 using the default 8080 connector, and separated by&lt;br/&gt;
a few LANs with very low latency (2ms).&lt;/p&gt;</environment>
        <key id="12343138">FILEUPLOAD-106</key>
            <summary>parseRequest randomly throws Stream ended unexpectedly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="gturner">Gerald Turner</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 May 2006 08:05:00 +0000</created>
                <updated>Sun, 6 Aug 2006 04:05:08 +0000</updated>
                            <resolved>Sun, 6 Aug 2006 04:05:08 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12412081" author="gturner" created="Wed, 17 May 2006 08:08:08 +0000"  >&lt;p&gt;Patch which adds Throwable.initCause to various rethrows in FileUploadBase and MultipartStream in order to debug the root cause of which &quot;Stream ended unexpecedly&quot; was thrown.&lt;/p&gt;</comment>
                            <comment id="12412207" author="gturner" created="Wed, 17 May 2006 23:41:36 +0000"  >&lt;p&gt;User error!&lt;/p&gt;

&lt;p&gt;The client was running two threads sharing instances of HttpClient FilePart[] while uploading to two FileUpload servlet servers.  Changed it so each upload thread instantiates it&apos;s own FilePart[] and the error no longer randomly occurs.&lt;/p&gt;

&lt;p&gt;Please close the bug.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12334213" name="commons-fileupload-1.2-SNAPSHOT-initCause.patch" size="1830" author="gturner" created="Wed, 17 May 2006 08:08:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43126</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0skzj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164877</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-72] Java docs bug</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-72</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;You have published this code in the javadocs main page of the FileUpload and &lt;br/&gt;
the last line of the code isn&apos;t right &quot;fi.write(&quot;/www/uploads/&quot; + fileName);&quot; &lt;br/&gt;
because the method write() doesn&apos;t accept Strings as parameters. Bye and thanks &lt;br/&gt;
for the excelent library that you are sharing.&lt;/p&gt;



&lt;p&gt;public void doPost(HttpServletRequest req, HttpServletResponse res)&lt;/p&gt;
    {
        DiskFileUpload fu = new DiskFileUpload();
        // maximum size before a FileUploadException will be thrown
        fu.setSizeMax(1000000);
        // maximum size that will be stored in memory
        fu.setSizeThreshold(4096);
        // the location for saving data that is larger than getSizeThreshold()
        fu.setRepositoryPath(&quot;/tmp&quot;);

        List fileItems = fu.parseRequest(req);
        // assume we know there are two files. The first file is a small
        // text file, the second is unknown and is written to a file on
        // the server
        Iterator i = fileItems.iterator();
        String comment = ((FileItem)i.next()).getString();
        FileItem fi = (FileItem)i.next();
        // filename on the client
        String fileName = fi.getName();
        // save comment and filename to database
        ...
        // write the file
        fi.write(&quot;/www/uploads/&quot; + fileName);
    }</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12340922">FILEUPLOAD-72</key>
            <summary>Java docs bug</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pjlmas@yahoo.com">Pablo</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Aug 2003 04:12:24 +0000</created>
                <updated>Fri, 9 Mar 2007 20:32:03 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:32:03 +0000</resolved>
                                    <version>1.0 Alpha</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12404915" author="jmcnally" created="Tue, 13 Jan 2004 14:43:08 +0000"  >&lt;p&gt;Modified to use File object&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22643</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118328</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sl73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164911</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-71] [fileupload] FileUploadException: Processing of multipart/form-data request failed. Read timed out</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-71</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Commons file upload is used bu the struts to upload the files from the disk. I&lt;br/&gt;
got the following error. I think this happens when the size of file is bit&lt;br/&gt;
large. I have tried to upload xml files with size 8-9 KB. Sometimes I was able&lt;br/&gt;
to upload and sometimes it failed.&lt;br/&gt;
Details:&lt;br/&gt;
Platform: Fedora core 3&lt;br/&gt;
Version used: commons-fileupload-1.0-rc1.jar&lt;br/&gt;
Please checkout this link also&lt;br/&gt;
(&lt;a href=&quot;http://www.jroller.com/page/gstamp?entry=file_upload_problem_read_timed&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.jroller.com/page/gstamp?entry=file_upload_problem_read_timed&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;org.apache.commons.fileupload.FileUploadException: Processing of&lt;br/&gt;
multipart/form-data request failed. Read timed out&lt;br/&gt;
        at&lt;br/&gt;
org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:429)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.struts.upload.CommonsMultipartRequestHandler.handleRequest(CommonsMultipartRequestHandler.java:195)&lt;br/&gt;
        at org.apache.struts.util.RequestUtils.populate(RequestUtils.java:445)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.struts.action.RequestProcessor.processPopulate(RequestProcessor.java:798)&lt;br/&gt;
        at&lt;br/&gt;
com.valista.core.node.ui.system.StrutsRequestProcessor.process(Unknown Source)&lt;br/&gt;
        at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1164)&lt;br/&gt;
        at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:415)&lt;br/&gt;
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:760)&lt;br/&gt;
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)&lt;br/&gt;
        at&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342502">FILEUPLOAD-71</key>
            <summary>[fileupload] FileUploadException: Processing of multipart/form-data request failed. Read timed out</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="amila_nava@yahoo.com">amila navarathna</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Aug 2005 13:04:41 +0000</created>
                <updated>Tue, 6 Jun 2017 04:41:38 +0000</updated>
                            <resolved>Sun, 18 Jan 2009 02:42:48 +0000</resolved>
                                    <version>1.0 Final</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>4</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="12410227" author="martinc" created="Mon, 28 Nov 2005 05:38:17 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-54&quot; title=&quot;[fileupload] Read timed out when a lengthy xml file to be uploaded&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-54&quot;&gt;&lt;del&gt;COM-2302&lt;/del&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12410228" author="martinc" created="Mon, 28 Nov 2005 08:30:29 +0000"  >&lt;p&gt;Are you seeing this with the browser pointing directly at Tomcat, or do you have&lt;br/&gt;
something like JK2 / ISAPI_redirector2 in between? Every time this issue has&lt;br/&gt;
come up, it has been because of something in between the browser and FileUpload.&lt;br/&gt;
As stated in the link you provided, fixes have been made to JK2 /&lt;br/&gt;
ISAPI_redirector2 that resolve this issue.&lt;/p&gt;</comment>
                            <comment id="12410229" author="amila_nava@yahoo.com" created="Mon, 28 Nov 2005 10:10:31 +0000"  >&lt;p&gt;We do not use Tomcat, instead, we use bea weblogic server to deploy our web &lt;br/&gt;
apps. We use struts for our web UIs.&lt;/p&gt;</comment>
                            <comment id="12415294" author="chester75" created="Thu, 8 Jun 2006 15:39:40 +0000"  >&lt;p&gt;I have exactly same problem with file-upload (weblogic, struts, commons-fileupload1.0). Is there any solution available?&lt;/p&gt;</comment>
                            <comment id="12420406" author="mgpayne" created="Wed, 12 Jul 2006 02:12:26 +0000"  >&lt;p&gt;I am seeing a similar issue on weblogic 8, commons-fileupload 1.1. We do not use a framework. When submitting a multipart request with no file data, we get the following exception:&lt;/p&gt;

&lt;p&gt;org.apache.commons.fileupload.FileUploadException: Processing of multipart/form-data request failed. Read timed out&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:384)&lt;br/&gt;
	at org.apache.commons.fileupload.servlet.ServletFileUpload.parseRequest(ServletFileUpload.java:116)&lt;/p&gt;

&lt;p&gt;In IE, the user sees a file download box because of the error, which is highly undesirable. If the form is resubmitted a second time, it works. &lt;/p&gt;</comment>
                            <comment id="12420670" author="bayard" created="Wed, 12 Jul 2006 23:38:43 +0000"  >&lt;p&gt;Does anyone have a test case? I&apos;ve got access to Weblogic servers at work (and some ex-BEA people) so could do some investigating. Much easier/quicker if someone can attach a simple test case showing the problem.&lt;/p&gt;</comment>
                            <comment id="12426024" author="jochen@apache.org" created="Sun, 6 Aug 2006 04:11:59 +0000"  >&lt;p&gt;I do believe, that such errors aren&apos;t in the scope of commons-fileupload. We do a read on the ServletInputStream or whatever we receive and trust that it works.&lt;/p&gt;

&lt;p&gt;The only thing I can see that we could do is to provide more information by returning the cause to the user.&lt;/p&gt;</comment>
                            <comment id="12426096" author="jochen@apache.org" created="Sun, 6 Aug 2006 23:24:55 +0000"  >&lt;p&gt;This issue makes me rethink our error handling. It is much better to throw an IOException, rather than masking it with a FileUploadException. That allows us to clearly distinguish between environmental problems like this and errors in our own libraries or user errors (invalid multipart data), where the FileUploadException is proper.&lt;/p&gt;</comment>
                            <comment id="12454411" author="smachin" created="Wed, 29 Nov 2006 19:01:53 +0000"  >&lt;p&gt;I am also getting this problem occasionally when trying to upload images approx. 8MB in size.  This is with Tomcat 5.5.20 on a Fedora Core 5 machine, no connectors, using the latest commons-fileupload-1.1.1.jar.  Is there any known solution or work around?&lt;/p&gt;

&lt;p&gt; 29 Nov 09:32:13 ERROR http-80-Processor24 org.apache.catalina.core.ContainerBase.&lt;span class=&quot;error&quot;&gt;&amp;#91;Catalina&amp;#93;&lt;/span&gt;.&lt;span class=&quot;error&quot;&gt;&amp;#91;localhost&amp;#93;&lt;/span&gt;.&lt;span class=&quot;error&quot;&gt;&amp;#91;/hsmgmt&amp;#93;&lt;/span&gt;.&lt;span class=&quot;error&quot;&gt;&amp;#91;uploadrelease&amp;#93;&lt;/span&gt; - Servlet.service() for servlet uploadrelease threw exception&lt;br/&gt;
 org.apache.commons.fileupload.FileUploadException: Processing of multipart/form-data request failed. Read timed out&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:384)&lt;br/&gt;
	at org.apache.commons.fileupload.servlet.ServletFileUpload.parseRequest(ServletFileUpload.java:116)&lt;br/&gt;
	at com.thresholdcorp.hsmgmt.UploadRelease.doPost(UploadRelease.java:67)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:709)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)&lt;br/&gt;
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)&lt;br/&gt;
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)&lt;br/&gt;
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:524)&lt;br/&gt;
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)&lt;br/&gt;
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)&lt;br/&gt;
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)&lt;br/&gt;
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)&lt;br/&gt;
	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:869)&lt;br/&gt;
	at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:664)&lt;br/&gt;
	at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)&lt;br/&gt;
	at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)&lt;br/&gt;
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:595)&lt;/p&gt;</comment>
                            <comment id="12676246" author="hauser@acm.org" created="Tue, 24 Feb 2009 11:15:33 +0000"  >&lt;p&gt;we are having the same error message with 53082 Feb 14  2007 WEB-INF/lib/commons-fileupload-1.2.jar&lt;/p&gt;

&lt;p&gt;In order to better debug, it would be great to include in the exception thrown&lt;/p&gt;

&lt;p&gt;1) the starting time, exception time, elapsed time inbetween&lt;br/&gt;
2) the user-agent used to upload - e.g. black-berries had problems with multipart in the past&lt;br/&gt;
3) the amount of bytes uploaded until the exception was thrown&lt;/p&gt;


&lt;p&gt;(CommonsMultipartRequestHandler.java:193) - Failed to parse multipart request&lt;br/&gt;
org.apache.commons.fileupload.FileUploadException: Read timed out&lt;br/&gt;
        at&lt;br/&gt;
org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:369)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:302)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.struts.upload.CommonsMultipartRequestHandler.handleRequest(CommonsMultipartRequestHandler.java:185)&lt;br/&gt;
        at org.apache.struts.util.RequestUtils.populate(RequestUtils.java:405)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.struts.chain.commands.servlet.PopulateActionForm.populate(PopulateActionForm.java:50)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.struts.chain.commands.AbstractPopulateActionForm.execute(AbstractPopulateActionForm.java:60)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)&lt;br/&gt;
        at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)&lt;br/&gt;
        at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)&lt;/p&gt;</comment>
                            <comment id="12676767" author="jochen@apache.org" created="Wed, 25 Feb 2009 20:39:44 +0000"  >&lt;p&gt;Ralf, simply log the required information before starting the file upload. If Struts doesn&apos;t do this for you, subclass the CommonsMultipartRequestHandler, or do something similar. You don&apos;t need changes in FileUpload for that.&lt;/p&gt;</comment>
                            <comment id="13730493" author="edp2721" created="Tue, 6 Aug 2013 07:55:28 +0000"  >&lt;p&gt;&#50724;&#47448;&#44032; &#48156;&#49373;&#54616;&#45716; &#54588;&#49884;&#51032; temp internet&#49444;&#51221;&#51032; &#54260;&#45908; &#50948;&#52824;&#47749;&#51060; &#45320;&#47924; &#44600;&#44221;&#50864; &#48156;&#49373;&#54632;&#51012; &#54869;&#51064; &#54664;&#49845;&#45768;&#45796;.&lt;br/&gt;
&#54872;&#44221;&#48320;&#49688;&#50640;&#49436; pc&#51032; temp &#50948;&#52824;&#47484; &#51687;&#51008; &#54260;&#45908;&#50948;&#52824;&#47196; &#48320;&#44221;&#54644; &#48372;&#49464;&#50836;.&lt;/p&gt;

&lt;p&gt;change your pc&apos;s temp folder location in environment variable.&lt;br/&gt;
Your temp location is too long to process.&lt;/p&gt;</comment>
                            <comment id="16038120" author="chtompki" created="Tue, 6 Jun 2017 04:33:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jochen.wiedmann%40softwareag.com&quot; class=&quot;user-hover&quot; rel=&quot;jochen.wiedmann@softwareag.com&quot;&gt;jochen.wiedmann@softwareag.com&lt;/a&gt; - Should this be marked as invalid?&lt;/p&gt;</comment>
                            <comment id="16038124" author="chtompki" created="Tue, 6 Jun 2017 04:36:17 +0000"  >&lt;p&gt;Maybe related to &lt;a href=&quot;https://github.com/apache/commons-fileupload/commit/684984971e95ac0dff142934323d02df77168126&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-fileupload/commit/684984971e95ac0dff142934323d02df77168126&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16038133" author="chtompki" created="Tue, 6 Jun 2017 04:41:38 +0000"  >&lt;p&gt;In 1.2 tag which has been released.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36312</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118327</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sl7b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164912</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-70] DefaultFileItem should not catch Exception</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-70</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;There are several places in DefaultFileItem that catch Exception instead of the &lt;br/&gt;
specific exceptions thrown by the surrounded code.  A better approach would be &lt;br/&gt;
to catch the specific exceptions (which I suspect will be IOException).&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12340622">FILEUPLOAD-70</key>
            <summary>DefaultFileItem should not catch Exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dgraham@apache.org">David Graham</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Mar 2003 13:03:26 +0000</created>
                <updated>Fri, 9 Mar 2007 20:32:03 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:32:03 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12403923" author="mohankishore@yahoo.com" created="Mon, 14 Apr 2003 23:06:33 +0000"  >&lt;p&gt;Created an attachment (id=5823)&lt;br/&gt;
Minor exception-handling changes&lt;/p&gt;</comment>
                            <comment id="12403924" author="dgraham@apache.org" created="Mon, 14 Apr 2003 23:11:16 +0000"  >&lt;p&gt;The proposed patch swallows IOExceptions in a &quot;catch (Exception)&quot; block.  The &lt;br/&gt;
IOException should propagate out of the method.&lt;/p&gt;</comment>
                            <comment id="12403925" author="mohankishore@yahoo.com" created="Mon, 14 Apr 2003 23:27:08 +0000"  >&lt;p&gt;Any particular one in mind or all of them? Am swallowing all exceptions for the &lt;br/&gt;
xxx.close() methods. Otherwise, these may hide other more relevant exceptions. &lt;br/&gt;
Alternative might be something like this:&lt;/p&gt;

&lt;p&gt;IOException ex = null;&lt;br/&gt;
try {&lt;br/&gt;
    fout = new FileOutputStream(file);&lt;br/&gt;
    fout.write(get());&lt;br/&gt;
} catch (IOException ioe) {&lt;br/&gt;
    ex = ioe;&lt;br/&gt;
} finally {&lt;br/&gt;
    try &lt;/p&gt;
{
        if (fout != null) fout.close();
    }
&lt;p&gt; catch (IOException ioe) &lt;/p&gt;
{
        if (ex != null) ex = ioe;
    }
&lt;p&gt;}&lt;br/&gt;
if (ex != null) throw ex;&lt;/p&gt;</comment>
                            <comment id="12403926" author="dgraham@apache.org" created="Mon, 14 Apr 2003 23:30:24 +0000"  >&lt;p&gt;There should be no &quot;catch Exception&quot; blocks.  Just let any IOException propagate &lt;br/&gt;
out of the method.  An exception thrown during close() will not hide any other &lt;br/&gt;
exception because they would have been thrown first anyways.&lt;/p&gt;</comment>
                            <comment id="12403927" author="mohankishore@yahoo.com" created="Mon, 14 Apr 2003 23:53:01 +0000"  >&lt;p&gt;i think i see what you are saying.. am attaching a patch without all those &lt;br/&gt;
finally clauses. Have left in one IOexception swallowing block in the get() &lt;br/&gt;
method, which would necessiate changing the multiple public method &lt;br/&gt;
signatures... Other changes are backwards compatible.&lt;/p&gt;</comment>
                            <comment id="12403928" author="mohankishore@yahoo.com" created="Mon, 14 Apr 2003 23:53:44 +0000"  >&lt;p&gt;Created an attachment (id=5824)&lt;br/&gt;
Removed the finally clauses for close() methods&lt;/p&gt;</comment>
                            <comment id="12403929" author="martinc" created="Mon, 28 Apr 2003 07:07:34 +0000"  >&lt;p&gt;Fixed in the 20030428 nightly build.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332207" name="ASF.LICENSE.NOT.GRANTED--Patch.txt" size="4167" author="mohankishore@yahoo.com" created="Mon, 14 Apr 2003 23:53:44 +0000"/>
                            <attachment id="12332206" name="ASF.LICENSE.NOT.GRANTED--Patch.txt" size="3141" author="mohankishore@yahoo.com" created="Mon, 14 Apr 2003 23:06:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18265</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118326</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 29 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sl7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164913</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-69] HTTPClient MultiPartPostMethod inconsistent behaviour compared to standard form upload</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-69</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;please consult &lt;br/&gt;
&lt;a href=&quot;http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20744&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20744&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The bug was originally reported to Commons HTTPClient, but apparently goes back&lt;br/&gt;
to you guys.  Oleg Kalnichevski did some test with the latest release of File&lt;br/&gt;
Upload (1.0RC1) which does not seem to have the problem (any more). Could this&lt;br/&gt;
be confirmed ?&lt;/p&gt;

&lt;p&gt;The same bug will reported to the guys from Struts, especially regarding Oleg&lt;br/&gt;
last remark on which FileUPload version they use.&lt;/p&gt;

&lt;p&gt;regards&lt;br/&gt;
dirkp&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12340793">FILEUPLOAD-69</key>
            <summary>HTTPClient MultiPartPostMethod inconsistent behaviour compared to standard form upload</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dputzeys@cognicase.be">Dirk Putzeys</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Jun 2003 18:09:39 +0000</created>
                <updated>Fri, 9 Mar 2007 20:32:03 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:32:03 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12404499" author="olegk" created="Mon, 16 Jun 2003 18:34:56 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;*** Bug 20744 has been marked as a duplicate of this bug. *** has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12404500" author="martinc" created="Wed, 18 Jun 2003 13:08:49 +0000"  >&lt;p&gt;The original bug report was from someone using Struts 1.0.2, which does not use &lt;br/&gt;
Commons FileUpload at all. The multipart handling in Struts 1.0.2 was known to &lt;br/&gt;
be more than a little buggy, which is why Struts now uses Commons FileUpload.&lt;/p&gt;

&lt;p&gt;If there is still a problem with Struts 1.1-RC2 and/or Commons FileUpload 1.0-&lt;br/&gt;
RC1, please file a &lt;b&gt;NEW&lt;/b&gt; bug report against the relevant component, with as &lt;br/&gt;
much detail as possible, so that we can fix it before a Final release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118325</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sl7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164914</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-68] [fileupload] Bug in FileUploadBase</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-68</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;The file name is sometimes just the name and sometimes the absolute file path&lt;br/&gt;
(e.g. in IE).  Consistency of output can be gardnered by adding:&lt;/p&gt;

&lt;p&gt;    if(fileName != null) &lt;/p&gt;
{
      fileName = new java.io.File(fileName).getName();
    }

&lt;p&gt;to the &quot;protected String getFileName(Map headers)&quot; method in FileUploadBase.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342174">FILEUPLOAD-68</key>
            <summary>[fileupload] Bug in FileUploadBase</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dakota.jack@gmail.com">Dakota Jack</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Apr 2005 13:43:08 +0000</created>
                <updated>Fri, 9 Mar 2007 20:32:03 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:32:03 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12409109" author="martinc" created="Tue, 12 Apr 2005 12:27:33 +0000"  >&lt;p&gt;It&apos;s not the role of FileUpload to interpret the result of parsing an uploaded &lt;br/&gt;
request; its role is only to pass on to the client the results obtained.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 17794 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34393</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118324</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sl7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164915</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-67] possible typo in fileupload docs on commons site</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-67</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I think there is a typo in the using docs for the fileupload component &lt;br/&gt;
(&lt;a href=&quot;http://jakarta.apache.org/commons/fileupload/using.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jakarta.apache.org/commons/fileupload/using.html&lt;/a&gt;)&lt;br/&gt;
. In the section &apos;Parsing the request&apos; and then &apos;The simplest case&apos;, the &lt;br/&gt;
listing &lt;br/&gt;
FileUpload upload = new DiskFileUpload(); &lt;br/&gt;
I think should read: &lt;br/&gt;
FileUpload upload = new FileUpload(); &lt;/p&gt;

&lt;p&gt;A minor point, but it might confuse novices (like myself). &lt;br/&gt;
Apologies if I&apos;m in error on this. &lt;/p&gt;


&lt;p&gt;Paul.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12340824">FILEUPLOAD-67</key>
            <summary>possible typo in fileupload docs on commons site</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="paul@p3d.co.uk">Paul Dalton</reporter>
                        <labels>
                    </labels>
                <created>Sat, 28 Jun 2003 17:43:36 +0000</created>
                <updated>Fri, 9 Mar 2007 20:32:03 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:32:03 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12404633" author="martinc" created="Sun, 29 Jun 2003 01:15:34 +0000"  >&lt;p&gt;You&apos;re correct that there&apos;s a typo. The correct code, however, should be:&lt;/p&gt;

&lt;p&gt;DiskFileUpload upload = new DiskFileUpload();&lt;/p&gt;

&lt;p&gt;Fixed in CVS; will be included in next site update.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>21161</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118323</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 20 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sl87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164916</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-66] DefaultFileItem issues</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-66</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;DefaultFileItem uses &quot;/&quot; instead of File.separator in newInstance(...). &lt;br/&gt;
Additionally, (path != null) should be required in addition to the&lt;br/&gt;
(requestSize &amp;gt; threshold) condition before attempting to create a&lt;br/&gt;
temporary File for the upload data.  A feature enhancement would be&lt;br/&gt;
to create temporary files &lt;em&gt;only&lt;/em&gt; for file upload data.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12340598">FILEUPLOAD-66</key>
            <summary>DefaultFileItem issues</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="brent@rcfile.org">Brent Verner</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Mar 2003 20:57:19 +0000</created>
                <updated>Fri, 9 Mar 2007 20:32:01 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:32:01 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12403830" author="ernest.argetsinger@usbank.com" created="Wed, 2 Apr 2003 00:10:46 +0000"  >&lt;p&gt;Created an attachment (id=5587)&lt;br/&gt;
DefaultFileItem changes, null check, exception&lt;/p&gt;</comment>
                            <comment id="12403831" author="ernest.argetsinger@usbank.com" created="Wed, 2 Apr 2003 00:15:40 +0000"  >&lt;p&gt;Added a patch to address File.separator, null path issues.  Throws an exception &lt;br/&gt;
if the path is null.  Alternative to exception approach would be to use &lt;br/&gt;
File.createTempFile method.  Not sure which way the committers want to go.&lt;/p&gt;</comment>
                            <comment id="12403832" author="dgraham@apache.org" created="Wed, 2 Apr 2003 00:28:53 +0000"  >&lt;p&gt;Why was &quot;throws Exception&quot; added to the method signature?  You&apos;re throwing a &lt;br/&gt;
RuntimeException so you don&apos;t need to declare it in the signature.&lt;/p&gt;</comment>
                            <comment id="12403833" author="martinc" created="Wed, 2 Apr 2003 04:58:52 +0000"  >&lt;p&gt;Fixes to these issues already exist in the modified code base I am in the &lt;br/&gt;
process of finishing up.&lt;/p&gt;</comment>
                            <comment id="12403834" author="martinc" created="Mon, 28 Apr 2003 07:10:27 +0000"  >&lt;p&gt;Fixed in the 20030428 nightly build.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332180" name="ASF.LICENSE.NOT.GRANTED--patch.txt" size="1804" author="ernest.argetsinger@usbank.com" created="Wed, 2 Apr 2003 00:10:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17872</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118322</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 29 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sl8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164917</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-65] Problems uploading image file using multipart form request</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-65</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I am using the FormFile object that comes with Jakarta Struts to upload an &lt;br/&gt;
image file as part of a multipart request form. The FormFile class in turn uses &lt;br/&gt;
the FileItem interface (DefaultFileItem implementation) of the commons-&lt;br/&gt;
fileupload package. My poking around seems to indicate that the issue resides &lt;br/&gt;
in the MultipartStream class, hence this bug report. Let me explain the problem:&lt;/p&gt;

&lt;p&gt;I have been experiencing problems wherein image files uploaded using the &lt;br/&gt;
FormFile class seem to get &apos;corrupted&apos;. My first step in looking into this &lt;br/&gt;
issue was to get the byte array from the FormFile and compare it byte by byte &lt;br/&gt;
with the byte array obtained by openning the file directly using a &lt;br/&gt;
FileInputStream. Doing so I determined two facts: 1) the length of the byte &lt;br/&gt;
arrays were different, the one obtained from the FormFile was smaller by &lt;br/&gt;
exactly the &apos;keepRegion&apos; variable amount in the &apos;MultipartStream&apos; class in the &lt;br/&gt;
commons-fileupload package. 2) The contents of the byte arrays would differ at &lt;br/&gt;
either the first or second boundary written to the output buffer in &lt;br/&gt;
the &apos;readBodyData&apos; method of the &apos;MultipartStream&apos; class. In other words, the &lt;br/&gt;
bytes were identical up to the value of &apos;tail - head - pad&apos; of either the first &lt;br/&gt;
iteration through the loop in the &apos;readBodyData&apos; method, or the second &lt;br/&gt;
iteration. In my case it happened to be at either byte 3777 (4096 - 276 - 43) &lt;br/&gt;
or byte 7282 (3777 + (3548 - 0 - 43)), respectively. This problem does not &lt;br/&gt;
occur with every image file I try to upload, but once I find an image file it &lt;br/&gt;
does occur with, it is reliably reproducable every time. I have verified that &lt;br/&gt;
the image is not corrupt, and I am able to open the file and successfully &lt;br/&gt;
process the file by opening it directly using a FileInputStream, so I am fairly &lt;br/&gt;
confident the issue is not directly related to the file itself.&lt;/p&gt;

&lt;p&gt;I will continue to work through this issue to see if I can provide any &lt;br/&gt;
additional information, but this is what I know now.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341715">FILEUPLOAD-65</key>
            <summary>Problems uploading image file using multipart form request</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="davew@financenter.com">David Winterbourne</reporter>
                        <labels>
                    </labels>
                <created>Sat, 11 Sep 2004 14:30:12 +0000</created>
                <updated>Fri, 9 Mar 2007 20:32:01 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:32:01 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12407536" author="martinc" created="Thu, 14 Oct 2004 12:40:57 +0000"  >&lt;p&gt;I have not been able to reproduce this problem, despite testing with numerous &lt;br/&gt;
binary files as input to the file upload process, and testing with multiple &lt;br/&gt;
applications that make use of Commons FileUpload.&lt;/p&gt;

&lt;p&gt;Feel free to reopen if you have a concrete example application that exhibits &lt;br/&gt;
the broken behaviour.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31175</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118321</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 4 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sl8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164918</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-64] FileUpload default constructor doesn&apos;t work</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-64</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;The default constructor of org.apache.commons.fileupload.FileUpload doesn&apos;t &lt;br/&gt;
set fileItemFactory, which leads to a NullPointerException when trying to use &lt;br/&gt;
it. The default constructor should create a new DefaultFileItemFactory.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12340909">FILEUPLOAD-64</key>
            <summary>FileUpload default constructor doesn&apos;t work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mikael.staldal@home.se">Mikael St&#229;ldal</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Aug 2003 19:24:16 +0000</created>
                <updated>Fri, 9 Mar 2007 20:32:01 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:32:01 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12404872" author="martinc" created="Fri, 15 Aug 2003 10:50:27 +0000"  >&lt;p&gt;If you want to use the default constructor, you need to call setFileItemFactory&lt;br/&gt;
() to set the factory before using it. It&apos;s more common to use the constructor &lt;br/&gt;
that takes a factory as a parameter, though.&lt;/p&gt;

&lt;p&gt;The point is that FileUpload can not and should not make assumptions about the &lt;br/&gt;
particular factory that it uses. Initialising to DefaultFileItemFactory would &lt;br/&gt;
violate that. DefaultFileItemFactory is intended to be used with &lt;br/&gt;
DiskFileUpload, which is a specialisation based on storing uploaded files to &lt;br/&gt;
disk. (The &quot;Default&quot; in the name is for historic reasons - it should really be &lt;br/&gt;
DiskFileItemFactory, and will most likely be changed to that in a 2.0 release.)&lt;/p&gt;</comment>
                            <comment id="12404873" author="mikael.staldal@home.se" created="Fri, 15 Aug 2003 13:28:57 +0000"  >&lt;p&gt;In that case I think you should remove the default constructor. Or at least &lt;br/&gt;
modify its Javadoc, the current &lt;/p&gt;

&lt;p&gt;&quot;Constructs an instance of this class which uses the default factory to create &lt;br/&gt;
FileItem instances.&quot; &lt;/p&gt;

&lt;p&gt;is quite misleading.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22414</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118320</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 13 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sl8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164919</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-63] [fileupload] NativeHeap saturation with DeleteOnExit</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-63</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;In a long running jvm (ie: application on WEBSPHERE Application server), use of &lt;br/&gt;
FileUpload (DefaultFileItem.gettempfile) consume native heap via DeleteOnExit&lt;br/&gt;
when running request in multi-part data with STRUTS. &lt;/p&gt;

&lt;p&gt;We got some crash due to native heap saturation (512 MO Max of Heap Native when &lt;br/&gt;
running with 2G0 Heap and memory model specific to IBM JVM 1.3). &lt;/p&gt;

&lt;p&gt;Only workaroud for us are:&lt;br/&gt;
-Reducing use of DefaultFileItem.getTempFile in application&lt;br/&gt;
-Stop / Restart Application Server every night&lt;/p&gt;

&lt;p&gt;Same problem not already solve (since 2001) at SUN Bug database&lt;br/&gt;
&lt;a href=&quot;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4513817&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4513817&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: AIX&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342584">FILEUPLOAD-63</key>
            <summary>[fileupload] NativeHeap saturation with DeleteOnExit</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="alain.duval1@mpsa.com">Duval Alain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Sep 2005 22:08:12 +0000</created>
                <updated>Fri, 9 Mar 2007 20:32:00 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:32:00 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12410483" author="niallp" created="Wed, 28 Sep 2005 22:30:31 +0000"  >

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 27477 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36843</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118319</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 7 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sl93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164920</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-62] [fileupload] Fails to apply fieldname</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-62</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Fileupload fails when parsing this example multipart request from RFC 1867. It&lt;br/&gt;
appears that the attachmements &quot;file1.txt&quot; and &quot;file2.gif&quot; are associateed with&lt;br/&gt;
the same form field name, &quot;pics&quot;. However, since the name &quot;pics&quot; is specified in&lt;br/&gt;
the content-disposition header on line &lt;span class=&quot;error&quot;&gt;&amp;#91;08&amp;#93;&lt;/span&gt;, it is lost when the&lt;br/&gt;
content-disposition header on lines &lt;span class=&quot;error&quot;&gt;&amp;#91;12&amp;#93;&lt;/span&gt; and &lt;span class=&quot;error&quot;&gt;&amp;#91;17&amp;#93;&lt;/span&gt; are parsed. The attachments&lt;br/&gt;
are returned in the FileItem but the fieldName properties are null.&lt;/p&gt;

&lt;p&gt;I believe the name property from line &lt;span class=&quot;error&quot;&gt;&amp;#91;8&amp;#93;&lt;/span&gt; should be persisted and applied to&lt;br/&gt;
both file parts (file1.txt and file2.gif).&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;01&amp;#93;&lt;/span&gt; Content-type: multipart/form-data, boundary=AaB03x&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;02&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;03&amp;#93;&lt;/span&gt; --AaB03x&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;04&amp;#93;&lt;/span&gt; content-disposition: form-data; name=&quot;field1&quot;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;05&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;06&amp;#93;&lt;/span&gt; Joe Blow&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;07&amp;#93;&lt;/span&gt; --AaB03x&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;08&amp;#93;&lt;/span&gt; content-disposition: form-data; name=&quot;pics&quot;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;09&amp;#93;&lt;/span&gt; Content-type: multipart/mixed, boundary=BbC04y&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;10&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;11&amp;#93;&lt;/span&gt; --BbC04y&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;12&amp;#93;&lt;/span&gt; Content-disposition: attachment; filename=&quot;file1.txt&quot;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13&amp;#93;&lt;/span&gt; Content-Type: text/plain&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;15&amp;#93;&lt;/span&gt; ... contents of file1.txt ...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;16&amp;#93;&lt;/span&gt; --BbC04y&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;17&amp;#93;&lt;/span&gt; Content-disposition: attachment; filename=&quot;file2.gif&quot;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;18&amp;#93;&lt;/span&gt; Content-type: image/gif&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;19&amp;#93;&lt;/span&gt; Content-Transfer-Encoding: binary&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;20&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;21&amp;#93;&lt;/span&gt; ...contents of file2.gif...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;22&amp;#93;&lt;/span&gt; -&lt;del&gt;BbC04y&lt;/del&gt;-&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;23&amp;#93;&lt;/span&gt; -&lt;del&gt;AaB03x&lt;/del&gt;-&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342934">FILEUPLOAD-62</key>
            <summary>[fileupload] Fails to apply fieldname</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="greg@evetts.org">Greg Evetts</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Feb 2006 05:06:51 +0000</created>
                <updated>Fri, 9 Mar 2007 20:32:00 +0000</updated>
                            <resolved>Sun, 6 Aug 2006 02:15:12 +0000</resolved>
                                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12426014" author="jochen@apache.org" created="Sun, 6 Aug 2006 02:14:48 +0000"  >&lt;p&gt;I have added the following test to the latest version. The test works fine, so I assume that your issue no longer applies:&lt;/p&gt;


&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Test for &amp;lt;a href=&quot;http://issues.apache.org/jira/browse/FILEUPLOAD-62&quot;&amp;gt;FILEUPLOAD&amp;lt;/a&amp;gt;&lt;br/&gt;
     */&lt;br/&gt;
    public void testFILEUPLOAD62() throws Exception 
{
    	final String contentType = &quot;multipart/form-data; boundary=AaB03x&quot;;
    	final String request =
    		&quot;--AaB03x\r\n&quot; +
    		&quot;content-disposition: form-data; name=\&quot;field1\&quot;\r\n&quot; +
    		&quot;\r\n&quot; +
    		&quot;Joe Blow\r\n&quot; +
    		&quot;--AaB03x\r\n&quot; +
    		&quot;content-disposition: form-data; name=\&quot;pics\&quot;\r\n&quot; +
    		&quot;Content-type: multipart/mixed; boundary=BbC04y\r\n&quot; +
    		&quot;\r\n&quot; +
    		&quot;--BbC04y\r\n&quot; +
    		&quot;Content-disposition: attachment; filename=\&quot;file1.txt\&quot;\r\n&quot; +
    		&quot;Content-Type: text/plain\r\n&quot; +
    		&quot;\r\n&quot; +
    		&quot;... contents of file1.txt ...\r\n&quot; +
    		&quot;--BbC04y\r\n&quot; +
    		&quot;Content-disposition: attachment; filename=\&quot;file2.gif\&quot;\r\n&quot; +
    		&quot;Content-type: image/gif\r\n&quot; +
    		&quot;Content-Transfer-Encoding: binary\r\n&quot; +
    		&quot;\r\n&quot; +
    		&quot;...contents of file2.gif...\r\n&quot; +
    		&quot;--BbC04y--\r\n&quot; +
    		&quot;--AaB03x--&quot;;
    	List fileItems = parseUpload(request.getBytes(&quot;US-ASCII&quot;), contentType);
        assertEquals(3, fileItems.size());
        FileItem item0 = (FileItem) fileItems.get(0);
        assertEquals(&quot;field1&quot;, item0.getFieldName());
        assertNull(item0.getName());
        assertEquals(&quot;Joe Blow&quot;, new String(item0.get()));
        FileItem item1 = (FileItem) fileItems.get(1);
        assertEquals(&quot;pics&quot;, item1.getFieldName());
        assertEquals(&quot;file1.txt&quot;, item1.getName());
        assertEquals(&quot;... contents of file1.txt ...&quot;, new String(item1.get()));
        FileItem item2 = (FileItem) fileItems.get(2);
        assertEquals(&quot;pics&quot;, item2.getFieldName());
        assertEquals(&quot;file2.gif&quot;, item2.getName());
        assertEquals(&quot;...contents of file2.gif...&quot;, new String(item2.get()));
    }&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38742</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118318</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 14 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sl9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164921</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-61] Temporary upload files are not being deleted</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-61</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;In my multipart form I have one simple form parameter and 3 &quot;file&quot; type&lt;br/&gt;
parameters.&lt;br/&gt;
When I upload and parse it with Fileupload, 4 files get created.&lt;/p&gt;

&lt;p&gt;After I&apos;m done with the request,&lt;br/&gt;
I&apos;m calling FileItem.delete() for all of them, but only three files get&lt;br/&gt;
deleted: the one that contains the simple form&lt;br/&gt;
parameter doesn&apos;t get deleted. When I try to delete it manually, I get&lt;br/&gt;
&quot;Sharing violation error&quot;, which means&lt;br/&gt;
that there is another process who has the file open. Only after I&lt;br/&gt;
shutdown the JVM I can delete the file.&lt;/p&gt;

&lt;p&gt;In order to solve the problem, all I did was to add fis.close() in the&lt;br/&gt;
DefaultFileItem.get():&lt;br/&gt;
                 try&lt;/p&gt;
                 {
                     FileInputStream fis = new FileInputStream(storeLocation);
                     fis.read(content);
                     ---&amp;gt;fis.close();&amp;lt;---
                 }
&lt;p&gt;                 catch (Exception e)&lt;/p&gt;
                 {
                     content = null;
                 }</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12340552">FILEUPLOAD-61</key>
            <summary>Temporary upload files are not being deleted</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="faustas.zilinskas@wachovia.com">Faustas Zilinskas</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Feb 2003 23:04:10 +0000</created>
                <updated>Fri, 9 Mar 2007 20:32:00 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:32:00 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12403633" author="dgraham1980@hotmail.com" created="Wed, 26 Feb 2003 03:53:19 +0000"  >&lt;p&gt;I&apos;m not too familiar with this code but it seems like the suggested fis.close() &lt;br/&gt;
call should be in the finally block, not the try block.&lt;/p&gt;</comment>
                            <comment id="12403634" author="martinc" created="Sun, 2 Mar 2003 05:20:00 +0000"  >&lt;p&gt;Fixed in the 20030302 nightly build.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17043</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118317</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 37 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sl9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164922</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-60] [fileupload] Cannot set Repository location for DiskFileItemFactory</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-60</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Using DiskFileItemFactory and ServletFileUpload seem pretty simple.  Their APIs&lt;br/&gt;
are easy to understand.&lt;/p&gt;

&lt;p&gt;But the DiskFileItemFactory&apos;s method, setRepository(File dir) does not seem to&lt;br/&gt;
be working.  I am using the class in a servlet, and the only repository location&lt;br/&gt;
it uses, no matter what you specify, is the c:\tomcat directory.&lt;/p&gt;

&lt;p&gt;This is a big problem!&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows 2000&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12342565">FILEUPLOAD-60</key>
            <summary>[fileupload] Cannot set Repository location for DiskFileItemFactory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ryancwarren@gmail.com">ryan warren</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Sep 2005 20:59:49 +0000</created>
                <updated>Fri, 9 Mar 2007 20:32:00 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:32:00 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12410427" author="martinc" created="Mon, 28 Nov 2005 07:06:29 +0000"  >&lt;p&gt;This works just fine for me. Remember that you need to set the repository&lt;br/&gt;
location before you parse the input stream, since the repository location is set&lt;br/&gt;
on each FileItem instance as it is created. For example:&lt;/p&gt;

&lt;p&gt;    File tempDir = new File(&quot;&amp;lt;wherever&amp;gt;&quot;);&lt;br/&gt;
    DiskFileItemFactory factory = new DiskFileItemFactory();&lt;br/&gt;
    factory.setRepository(tempDir);&lt;br/&gt;
    FileUpload upload = new ServletFileUpload(factory);&lt;br/&gt;
    List /* FileItem */ items = upload.parseRequest(request);&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36760</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118316</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 50 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sl9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164923</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-59] [fileupload] Memory Issue</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-59</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;The reason for out of memory exception is that a FileItem object is created for &lt;br/&gt;
each request parameter whether it is file or an ordinary string parameter. the &lt;br/&gt;
FileItem object has a field of type DeferredFileStream which is initialized to &lt;br/&gt;
262144 bytes (256 Kb) so if there are around 1000 request parameters, around &lt;br/&gt;
256 MB of space will be required to hold the request parameters even though &lt;br/&gt;
most parameters may require only 8 to 10 bytes of memory for storage.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342624">FILEUPLOAD-59</key>
            <summary>[fileupload] Memory Issue</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="vimilsaju_varghese@infosys.com">Vimil Saju</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Oct 2005 22:36:38 +0000</created>
                <updated>Tue, 16 Dec 2008 11:21:45 +0000</updated>
                            <resolved>Tue, 16 Dec 2008 11:21:45 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12410608" author="martinc" created="Sun, 30 Oct 2005 04:21:43 +0000"  >&lt;p&gt;This was fixed some time ago in 1.1-dev.&lt;/p&gt;</comment>
                            <comment id="12508713" author="kaifu" created="Thu, 28 Jun 2007 02:22:28 +0000"  >&lt;p&gt;I could not find any release related to this change in fileupload.&lt;/p&gt;</comment>
                            <comment id="12508738" author="jochen@apache.org" created="Thu, 28 Jun 2007 06:06:19 +0000"  >&lt;p&gt;Apart from possible changes, a streaming API was added in 1.2. If you are sensitive for memory considerations, this is the way to go anyways.&lt;/p&gt;</comment>
                            <comment id="12508743" author="kaifu" created="Thu, 28 Jun 2007 06:32:27 +0000"  >&lt;p&gt;Since I am using Struts v1.1, when even there is multipart/form-data request, it use fileupload v1.0.  I am not sure if I put fileupload v1.2 together with Struts v1.1, will they work.&lt;/p&gt;

&lt;p&gt;I notice the code in fileupload v1.2 has changed FileUploadBase to use streaming, but will it save some memory for form fields in the case mentioned in this issue?&lt;/p&gt;</comment>
                            <comment id="12508745" author="jochen@apache.org" created="Thu, 28 Jun 2007 06:39:40 +0000"  >&lt;p&gt;I see absolutely no reason, why we should still support 1.1. This applies, in particular, to memory considerations and stuff like that. The streaming API was invented exactly for that purpose.&lt;/p&gt;</comment>
                            <comment id="12508755" author="kaifu" created="Thu, 28 Jun 2007 07:30:28 +0000"  >&lt;p&gt;It looks like that fileupload v1.2 plus io v1.31 should solve the problem.&lt;/p&gt;</comment>
                            <comment id="12622493" author="purushottam.nawle" created="Thu, 14 Aug 2008 09:32:42 +0000"  >&lt;p&gt;Attached is the zip file containing a sample application using commons file upload. The lib directory contains a jar file named &quot;commons-fileupload-ext.jar&quot; resolves the out of memory problem. The new version of FileItem treats the plain text form parameters and multipart parameter in different ways. The newer version uses StringBuffer for the plain text parameters. This FileItem also supports ajax based monitoring of the file upload.&lt;/p&gt;</comment>
                            <comment id="12622495" author="purushottam.nawle" created="Thu, 14 Aug 2008 09:35:33 +0000"  >&lt;p&gt;Along with this the jar provides a base servlet class which does the file uploading. The user needs to extend this class to add just business logic such as implementing validation, process the uploaded file etc.&lt;/p&gt;</comment>
                            <comment id="12656950" author="vaishalidolas" created="Tue, 16 Dec 2008 10:51:21 +0000"  >&lt;p&gt;I&apos;m using the jar which are given in above zip.When i&apos;m trying to run the same application in struts2 its giving problem for small file upload.&lt;br/&gt;
If file size is small it not uploading.&lt;/p&gt;</comment>
                            <comment id="12656960" author="jochen@apache.org" created="Tue, 16 Dec 2008 11:21:45 +0000"  >&lt;p&gt;Please don&apos;t use this bug tracker for support requests. Your best bet seems to be the Struts users mailing list.&lt;/p&gt;

&lt;p&gt;Apart from that, your problem might be related to &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-138&quot; title=&quot;Fail to upload small files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-138&quot;&gt;&lt;del&gt;FILEUPLOAD-138&lt;/del&gt;&lt;/a&gt;. If so, it should be fixed by upgrading to fileupload 1.2.1.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12388212" name="UploadTest.zip" size="319693" author="purushottam.nawle" created="Thu, 14 Aug 2008 09:32:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37042</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118315</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 47 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sl9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164924</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-58] useless deleteOnExit make shutdown endless</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-58</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;using DefaultFileItem, the method getTempFile() called from getOutputStream() &lt;br/&gt;
schedules a deleteOnExit for a temp file created (if needed)&lt;/p&gt;

&lt;p&gt;But the file is already deleted (somewhere, maybe from gc that invokes finalize &lt;br/&gt;
on the object) at the end of &quot;upload&quot; so:&lt;br/&gt;
1. this scheduling is useless&lt;br/&gt;
2. shutting down &quot;long running hard working&quot; VMs appears endless cause &lt;br/&gt;
searching of temp files to delete (unsuccessfully)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Sun&lt;/p&gt;</environment>
        <key id="12341344">FILEUPLOAD-58</key>
            <summary>useless deleteOnExit make shutdown endless</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="f_tringali@yahoo.it">Fabrizio Tringali</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Mar 2004 21:04:58 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:59 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:59 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12406260" author="noel" created="Wed, 17 Mar 2004 23:39:50 +0000"  >

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 27477 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>27738</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118314</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 35 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sla7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164925</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-57] [fileupload] Sample code is not working</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-57</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;the sample code should be updated because String fileName = fi.getFileName(); &lt;br/&gt;
has been replaced by String fileName = fi.getName();&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12340681">FILEUPLOAD-57</key>
            <summary>[fileupload] Sample code is not working</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="thierry.deleeuw@advalvas.be">Thierry De Leeuw</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Apr 2003 00:35:31 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:59 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:59 +0000</resolved>
                                    <version>1.0 Beta 1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12404163" author="martinc" created="Mon, 28 Apr 2003 07:25:05 +0000"  >&lt;p&gt;Where are you seeing this? I can&apos;t find any reference to the code you mention.&lt;/p&gt;</comment>
                            <comment id="12404164" author="mohankishore@yahoo.com" created="Tue, 29 Apr 2003 23:49:12 +0000"  >&lt;p&gt;The &apos;bug&apos; was in package.html file. It was fixed in rev1.2 (right after 1.0b1 &lt;br/&gt;
release).&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19366</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118313</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 29 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164926</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-56] [FileUpload] uploading files with non-ASCII filenames</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-56</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;FileUpload does not encode the filename. Uploading files like m&#252;nchen.jpeg&lt;br/&gt;
results in a bogus file names.&lt;br/&gt;
(added this to Sandbox component since FileUpload not listed)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12340391">FILEUPLOAD-56</key>
            <summary>[FileUpload] uploading files with non-ASCII filenames</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="joachim.gjesdal@ecomda.de">joachim.gjesdal</reporter>
                        <labels>
                    </labels>
                <created>Thu, 31 Oct 2002 18:03:16 +0000</created>
                <updated>Fri, 8 Mar 2013 15:32:38 +0000</updated>
                            <resolved>Mon, 30 Oct 2006 21:38:42 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>4</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="12403119" author="joachim.gjesdal@ecomda.de" created="Thu, 31 Oct 2002 18:07:18 +0000"  >&lt;p&gt;Created an attachment (id=3674)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;PATCH&amp;#93;&lt;/span&gt; encode file name with HTTP accept-charset header&lt;/p&gt;</comment>
                            <comment id="12403120" author="myohott@hotmail.com" created="Tue, 28 Jan 2003 17:11:27 +0000"  >&lt;p&gt;Created an attachment (id=4575)&lt;br/&gt;
Provide the request encoding to MultipartStream.&lt;/p&gt;</comment>
                            <comment id="12403121" author="myohott@hotmail.com" created="Tue, 28 Jan 2003 17:12:43 +0000"  >&lt;p&gt;Created an attachment (id=4576)&lt;br/&gt;
Change the header from byte to String with the request encoding&lt;/p&gt;</comment>
                            <comment id="12403122" author="myohott@hotmail.com" created="Tue, 28 Jan 2003 17:21:50 +0000"  >&lt;p&gt;Created an attachment (id=4577)&lt;br/&gt;
Sorry for send the above patch files directly,this time is the diff.&lt;/p&gt;</comment>
                            <comment id="12403123" author="martinc" created="Sun, 2 Mar 2003 13:40:19 +0000"  >&lt;p&gt;I do not see a problem here. Using FileUpload within the Struts file upload &lt;br/&gt;
example application (struts-upload.war, in the Jakarta Struts 1.1 RC1 &lt;br/&gt;
distribution), I can upload files with names such as m&#252;nchen.jpeg or Bj&#248;rn.txt &lt;br/&gt;
without any problems. The file names, with their non-ASCII characters, are &lt;br/&gt;
correctly preserved.&lt;/p&gt;

&lt;p&gt;Unless someone can convince me there&apos;s a problem, I&apos;m going to mark this bug &lt;br/&gt;
report as invalid.&lt;/p&gt;</comment>
                            <comment id="12403124" author="myohott@hotmail.com" created="Mon, 3 Mar 2003 19:38:20 +0000"  >&lt;p&gt;Hi,Martin&lt;/p&gt;


&lt;p&gt;I tried to upload a file which name is in japanese with the &lt;br/&gt;
struts-upload.war(Jakarta Struts 1.1 RC1 distribution) as you said,in the &lt;br/&gt;
display.jsp it still can not display the file&apos;s name correctly.&lt;/p&gt;




&lt;p&gt;My test environment:&lt;/p&gt;


&lt;p&gt;Windows2000 SP2 Japanese version&lt;/p&gt;


&lt;p&gt;tomcat4.1.12&lt;/p&gt;


&lt;p&gt;j2sdk1.4.1_01&lt;/p&gt;


&lt;p&gt;struts1.1 rc1&lt;/p&gt;




&lt;p&gt;I set the character encoding of the request to UTF8 by a filter,and write &lt;/p&gt;


&lt;p&gt;&amp;lt;%@ page language=&quot;java&quot;  contentType=&quot;text/html;charset=utf-8&quot; %&amp;gt;&lt;/p&gt;


&lt;p&gt;&amp;lt;head&amp;gt;&lt;/p&gt;


&lt;p&gt;&amp;lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&amp;gt;&lt;/p&gt;


&lt;p&gt;&amp;lt;/head&amp;gt;&lt;/p&gt;


&lt;p&gt;in the display.jsp,even with exchanging the fileName in the UploadAction by &lt;br/&gt;
fileName = new String(fileName.getBytes(), &quot;UTF-8&quot;) or not,but it failed in &lt;br/&gt;
displaying the correct file name.&lt;/p&gt;




&lt;p&gt;The problem maybe occurs when parsing the HTTP head from the request.&lt;/p&gt;


&lt;p&gt;Here is the file name character encoding changing flow.&lt;/p&gt;


&lt;p&gt;? The request character encoding has been set to UTF8 by the filter.&lt;/p&gt;


&lt;p&gt;? Before the operation head = baos.toString(); in MultipartStream the head &lt;br/&gt;
information is in a byte[] type.&lt;/p&gt;


&lt;p&gt;? The toString() method translates bytes into characters according to the &lt;br/&gt;
platform&apos;s default character encoding,in my case it&apos;s MS932 or you can say it &lt;br/&gt;
Windos-31J.For some reason(MS932 character encoding can not map each UTF8 &lt;br/&gt;
charset bytes) a part of bytes can not be translated to MS932 correctly,so java &lt;br/&gt;
use &apos;?&apos; to instead.It makes mistakes.&lt;/p&gt;


&lt;p&gt;? When the sample UploadAction use String fileName= file.getFileName(); to get &lt;br/&gt;
the file name,the result is a MS932 encoding String,when it is displayed by the &lt;br/&gt;
UTF-8 display.jsp,no surprises it becomes a bogus file name.&lt;/p&gt;


&lt;p&gt;? And if use fileName = new String(fileName.getBytes(), &quot;UTF-8&quot;) to translate &lt;br/&gt;
the file name back to UTF-8,since the untranslatable characters have already &lt;br/&gt;
been changed to &apos;?&apos; for instead,in display.jsp there is a file name like this &lt;br/&gt;
&apos;****&lt;b&gt;??&lt;/b&gt;&lt;b&gt;&apos;.(&lt;/b&gt; as the correct japanese character)&lt;/p&gt;




&lt;p&gt;So,i think you should test some two bytes character encoding sets one more &lt;br/&gt;
time,and baos.toString(charset) (charset is the character encoding name of the &lt;br/&gt;
request) is preferred.&lt;/p&gt;

</comment>
                            <comment id="12403125" author="shinsuke" created="Mon, 31 Mar 2003 20:48:21 +0000"  >&lt;p&gt;When is this bug fixed?&lt;br/&gt;
I encountered it when I used the different encoding between&lt;br/&gt;
the system default encoding and the web app. encoding.&lt;br/&gt;
For example, tomcat uses EUC-JP as the system default encoding, &lt;br/&gt;
and the web app. uses UTF-8 as the HTML page encoding. &lt;br/&gt;
In this case, we get &quot;???&quot; as the uploaded file name. &lt;br/&gt;
Because baos.toString() uses the default encoding, &lt;br/&gt;
to parse the file name should use HTML page encoding. &lt;br/&gt;
(If the system default encoding is the same as web app. one,&lt;br/&gt;
this bug is not reproduced.) &lt;/p&gt;

&lt;p&gt;I created the patch to add an encoding parameter.&lt;br/&gt;
It does not break the existing user&apos;s application using commons-fileupload.&lt;br/&gt;
Please evaluate and integrate this patch.&lt;br/&gt;
Multibyte users (including me) need this feature... &lt;/p&gt;</comment>
                            <comment id="12403126" author="shinsuke" created="Mon, 31 Mar 2003 20:49:22 +0000"  >&lt;p&gt;Created an attachment (id=5575)&lt;br/&gt;
patch to add the encoding parameter&lt;/p&gt;</comment>
                            <comment id="12403127" author="martinc" created="Tue, 1 Apr 2003 12:22:05 +0000"  >&lt;p&gt;It&apos;ll be fixed when I get to it. Right now, I&apos;m working on some other fixes &lt;br/&gt;
that affect a lot of the code base. Once that is done, I will be looking into &lt;br/&gt;
this one again. Please be patient. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12403128" author="claude@montpetit.net" created="Tue, 6 May 2003 05:08:59 +0000"  >&lt;p&gt;This is not only a problem with nono-ascii filenames. This bug applies to any &lt;br/&gt;
request parameter value coming from a non-default encoding. I use FileUpload &lt;br/&gt;
with Tomcat with forms encoded using UTF-8, an FileUpload does not load non-&lt;br/&gt;
ascii characters correctly.&lt;/p&gt;</comment>
                            <comment id="12403129" author="jihh@neusoft.com" created="Thu, 22 May 2003 05:10:16 +0000"  >&lt;p&gt;Created an attachment (id=6447)&lt;br/&gt;
change FileUploadBase and MultipartStream, add setEncoding method both&lt;/p&gt;</comment>
                            <comment id="12403130" author="martinc" created="Sun, 1 Jun 2003 07:22:39 +0000"  >&lt;p&gt;Fixed in the 20030601 nightly build.&lt;/p&gt;

&lt;p&gt;There is now a setHeaderEncoding() method in FileUploadBase,and hence available &lt;br/&gt;
via FileUpload and DiskFileUpload. If this method is not called, the platform &lt;br/&gt;
default encoding is used.&lt;/p&gt;</comment>
                            <comment id="12403131" author="kadota.nof@pfu.fujitsu.com" created="Fri, 20 Jun 2003 15:49:38 +0000"  >&lt;p&gt;I would like to know, when will this &apos;added interfaces&apos; refrect to Struts?&lt;br/&gt;
Now, &apos;Struts 1.1 Release Candidate 2 Released&apos; doesn&apos;t call &apos;setHeaderEncoding&lt;br/&gt;
()&apos;.&lt;/p&gt;</comment>
                            <comment id="12403132" author="martinc" created="Sat, 21 Jun 2003 11:20:46 +0000"  >&lt;p&gt;That&apos;s a question for the Struts team to decide. Asking it in a resolved bug &lt;br/&gt;
report against FileUpload is not going to get your question much visibility. &lt;br/&gt;
However, since I am also a Struts developer, I can at least partially answer &lt;br/&gt;
your question.&lt;/p&gt;

&lt;p&gt;At this time, as far as I am aware, no enhancement request has been opened &lt;br/&gt;
against Struts to add this capability. Until someone does that, such a change &lt;br/&gt;
is unlikely to happen. Assuming you, or some other interested person, open such &lt;br/&gt;
a request, my guess would be that it would be fixed in Struts 1.2, but that is &lt;br/&gt;
only a guess.&lt;/p&gt;</comment>
                            <comment id="13150307" author="kawabe" created="Tue, 15 Nov 2011 08:42:20 +0000"  >&lt;p&gt;I wonder why no one mentioned about RFC 2231 that is an scheme for&lt;br/&gt;
encoding non US-ASCII character sets in parameter values.&lt;br/&gt;
Does anybody tell me how to send my patches for FileUploadBase.java and ServletUploadTest.java ?&lt;/p&gt;</comment>
                            <comment id="13150388" author="jochen@apache.org" created="Tue, 15 Nov 2011 11:31:12 +0000"  >&lt;p&gt;Just add patches as attachments to this issue. Don&apos;t forget to accept the ASL for your contribution,  though.&lt;/p&gt;
</comment>
                            <comment id="13150913" author="kawabe" created="Tue, 15 Nov 2011 23:59:34 +0000"  >&lt;p&gt;I could not find &quot;attach&quot; button in the issue page since this issue has been closed.&lt;br/&gt;
Does anyone re-open it or should I create a new issue ?&lt;/p&gt;</comment>
                            <comment id="13152731" author="kawabe" created="Fri, 18 Nov 2011 09:08:25 +0000"  >&lt;p&gt;Please re-open the issue to attach patch files.&lt;/p&gt;</comment>
                            <comment id="13597224" author="hablutzel1" created="Fri, 8 Mar 2013 15:32:38 +0000"  >&lt;p&gt;Haruyi Kawabe I have realized this too, but you should consider that they are not implementing rfc2388 (which references  rfc2231), commons fileupload claims to implement rfc1867 as the home page says:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;FileUpload parses HTTP requests which conform to RFC 1867, &quot;Form-based File Upload in HTML&quot;. That is, if an HTTP request is submitted using the POST method, and with a content type of &quot;multipart/form-data&quot;, then FileUpload can parse that request, and make the results available in a manner easily used by the caller.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Anyway rfc1867 references rfc1522 for encoding &apos;filename&apos; parameter specifically (in 3.3):&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;The original local file name may be supplied as well, either as a &apos;filename&apos; parameter either of the &apos;content-disposition: form-data&apos; header or in the case of multiple files in a &apos;content-disposition: file&apos; header of the subpart. The client application should make best effort to supply the file name; if the file name of the client&apos;s operating system is not in US-ASCII, the file name might be approximated or encoded using the method of RFC 1522. This is a convenience for those cases where, for example, the uploaded files might contain references to each other, e.g., a TeX file and its .sty auxiliary style description.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;But, instead commons fileupload is just using a headerEncoding got from the http request, I don&apos;t even understand why are they doing this. &lt;/p&gt;

&lt;p&gt;Anyway they aren&apos;t the only doing this, Firefox (from a multipart/form-data) sends &apos;filename&apos; parameter encoded with the page encoding (or form accept-charset), and nothing about rfc1522 or rfc2231, I have asked in commons fileupload user mailing list and firefox mailing list waiting for an explanation, asked in a firefox support forum too: &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://support.mozilla.org/en-US/questions/952827&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://support.mozilla.org/en-US/questions/952827&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I think that maybe fixing commons fileupload could bring some interoperability problems, because browsers (at least firefox) seems to be sending the wrong thing according to specs. Or, maybe supporting the spec and if encoded-words encoding not found falling back to http request content type charset... not sure, anyway&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332060" name="ASF.LICENSE.NOT.GRANTED--FileUpload.java" size="26594" author="myohott@hotmail.com" created="Tue, 28 Jan 2003 17:11:27 +0000"/>
                            <attachment id="12332061" name="ASF.LICENSE.NOT.GRANTED--MultipartStream.java" size="27368" author="myohott@hotmail.com" created="Tue, 28 Jan 2003 17:12:43 +0000"/>
                            <attachment id="12332063" name="ASF.LICENSE.NOT.GRANTED--MultipartStream.java.patch" size="1843" author="shinsuke" created="Mon, 31 Mar 2003 20:49:22 +0000"/>
                            <attachment id="12332064" name="ASF.LICENSE.NOT.GRANTED--encoding.diff" size="1749" author="jihh@neusoft.com" created="Thu, 22 May 2003 05:10:16 +0000"/>
                            <attachment id="12332062" name="ASF.LICENSE.NOT.GRANTED--fileupload.txt" size="1498" author="myohott@hotmail.com" created="Tue, 28 Jan 2003 17:21:50 +0000"/>
                            <attachment id="12332059" name="ASF.LICENSE.NOT.GRANTED--fileupload_filenamencoding" size="2675" author="joachim.gjesdal@ecomda.de" created="Thu, 31 Oct 2002 18:07:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14120</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118312</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 34 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slan:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164927</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-55] [fileupload] The current code assumes the platforms default encoding is iso-8859-1</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-55</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Currently the jakarta commons File Upload assumes that the default platform &lt;br/&gt;
character encoding is iso-8859-1(or some variant), which is not always the case &lt;br/&gt;
causing it to operate incorrectly.  Below I have identified all classes that do &lt;br/&gt;
not support multiple types of encoding.  I have put together a solution below &lt;br/&gt;
that points out the majority of areas that require the encoding to be &lt;br/&gt;
specified.  I realize that this is not the most efficient code, but I leave &lt;br/&gt;
that up to you to implement it the best way.  Please let me know if this is an &lt;br/&gt;
acceptable solution and when a new release could be made.&lt;/p&gt;

&lt;p&gt; Class org.apache.commons.fileupload.FileUpload&lt;br/&gt;
 ----------------------------------------------&lt;br/&gt;
 Line 331:&lt;br/&gt;
 byte[] boundary = contentType.substring(contentType.indexOf(&quot;boundary=&quot;) + &lt;br/&gt;
9).getBytes();&lt;br/&gt;
 //Make sure the bytes match the servlets inputStream bytes&lt;br/&gt;
 &amp;gt;byte[] boundary = contentType.substring(contentType.indexOf(&quot;boundary=&quot;) +&lt;br/&gt;
 9).getBytes(req.getCharacterEncoding());&lt;/p&gt;

&lt;p&gt; Class org.apache.commons.fileupload.MultipartStream&lt;br/&gt;
 ---------------------------------------------&lt;br/&gt;
 Line 282&lt;br/&gt;
 this.boundary&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; = 0x0D;&lt;br/&gt;
 this.boundary&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; = 0x0A;&lt;br/&gt;
 this.boundary&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; = 0x2D;&lt;br/&gt;
 this.boundary&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; = 0x2D;&lt;/p&gt;

&lt;p&gt; &amp;gt;this.boundary&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; = new String(new byte[]&lt;/p&gt;
{Character.LINE_SEPARATOR}
&lt;p&gt;, &quot;iso-8859-&lt;br/&gt;
1&quot;).getBytes()&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;;&lt;/p&gt;

&lt;p&gt; &amp;gt;this.boundary&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; = new String(new byte[]&lt;/p&gt;
{Character.LETTER_NUMBER}
&lt;p&gt;, &quot;iso-8859-&lt;br/&gt;
1&quot;).getBytes()&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;;&lt;/p&gt;

&lt;p&gt; &amp;gt;this.boundary&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; = new String(new byte[]&lt;/p&gt;
{0x2D},&quot;iso-8859-1&quot;).getBytes()&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;;&lt;br/&gt;
 &amp;gt;this.boundary&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; = new String(new byte[]{0x2D}
&lt;p&gt;,&quot;iso-8859-1&quot;).getBytes()&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;;&lt;/p&gt;

&lt;p&gt; Line 293&lt;br/&gt;
 if (arrayequals(marker, STREAM_TERMINATOR, 2))&lt;br/&gt;
 &amp;gt;if (arrayequals(marker, new String(STREAM_TERMINATOR,&quot;iso-8859-1&quot; ).getBytes&lt;br/&gt;
(getHeaderEncoding()), 2))&lt;/p&gt;

&lt;p&gt; Line 396&lt;br/&gt;
 else if (arrayequals(marker, FIELD_SEPARATOR, 2))&lt;br/&gt;
 &amp;gt;else if (arrayequals(marker, new String(FIELD_SEPARATOR,&quot;iso-8859-1&quot;).getBytes&lt;br/&gt;
(getHeaderEncoding()), 2))&lt;/p&gt;

&lt;p&gt; Line 480&lt;br/&gt;
 if (b&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; == HEADER_SEPARATOR&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;)&lt;br/&gt;
 &amp;gt;if (b&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; == new String(HEADER_SEPARATOR,&quot;iso-8859-1&quot;).getBytes&lt;br/&gt;
(getHeaderEncoding())&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;)&lt;/p&gt;

&lt;p&gt; etc........&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341102">FILEUPLOAD-55</key>
            <summary>[fileupload] The current code assumes the platforms default encoding is iso-8859-1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="miller_daniel_c@cat.com">Dan Miller</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Nov 2003 12:47:01 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:58 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:58 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12405480" author="philippe.eymann@cie.etat.lu" created="Fri, 16 Jan 2004 22:33:10 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-4&quot; title=&quot;[fileupload] The common upload functions do not work on z/OS WebSphere&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-4&quot;&gt;&lt;del&gt;COM-1057&lt;/del&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12405481" author="martinc" created="Sun, 1 Feb 2004 14:31:09 +0000"  >&lt;p&gt;The problem is better described in &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-4&quot; title=&quot;[fileupload] The common upload functions do not work on z/OS WebSphere&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-4&quot;&gt;&lt;del&gt;COM-1057&lt;/del&gt;&lt;/a&gt;. In addition, the fixes in this &lt;br/&gt;
bug report will not work, for two reasons. One, getCharacterEncoding() returns &lt;br/&gt;
null more often than not, which won&apos;t help anything. Two, the byte constants &lt;br/&gt;
used in FileUpload are exactly that - byte values. There is no purpose in going &lt;br/&gt;
through hoops to create strings and then get the bytes when the MIME spec &lt;br/&gt;
defines the byte values in the first place.&lt;/p&gt;</comment>
                            <comment id="12405482" author="ralfhauser" created="Wed, 13 Apr 2005 22:08:18 +0000"  >&lt;p&gt;see also &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-100&quot; title=&quot;[fileupload] Allow to set headerEncoding to other than platform default encoding for fall-back&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-100&quot;&gt;&lt;del&gt;COM-2031&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24765</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118311</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 31 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164928</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-54] [fileupload] Read timed out when a lengthy xml file to be uploaded</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-54</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;When try to upload a lengthy xml file (using struts), the following error was&lt;br/&gt;
given and the application hold on.&lt;/p&gt;

&lt;p&gt;Root cause of ServletException.&lt;br/&gt;
org.apache.commons.fileupload.FileUploadException: Processing of&lt;br/&gt;
multipart/form-data request failed. Read timed out&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342454">FILEUPLOAD-54</key>
            <summary>[fileupload] Read timed out when a lengthy xml file to be uploaded</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="amila_nava@yahoo.com">amila navarathna</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Aug 2005 18:39:28 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:58 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:58 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12410059" author="martinc" created="Mon, 28 Nov 2005 05:38:16 +0000"  >

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 36312 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36114</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118310</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 50 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164929</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-53] UnknownSizeException with IE5.0 (due to IE5.0 bug)</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-53</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;When redirect is sent by application after POST of multipart/form-data form:&lt;/p&gt;

&lt;p&gt;HTTP/1.1 302 Moved Temporarily&lt;br/&gt;
Location: &lt;a href=&quot;http://karel:81/inzert/app?service=page/BulletinOrders&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://karel:81/inzert/app?service=page/BulletinOrders&lt;/a&gt;&lt;br/&gt;
Content-Type: text/plain&lt;br/&gt;
Content-Length: 0&lt;br/&gt;
Date: Wed, 31 Mar 2004 08:37:38 GMT&lt;br/&gt;
Server: Apache Coyote/1.0&lt;/p&gt;

&lt;p&gt;IE5.0 sends invalid header Content-type with its GET request:&lt;/p&gt;

&lt;p&gt;GET /inzert/app?service=page/BulletinOrders HTTP/1.1&lt;br/&gt;
Content-Type: multipart/form-data; boundary=---------------------------&lt;br/&gt;
7d43892c1c010e&lt;br/&gt;
User-Agent: Mozilla/4.0 (compatible; MSIE 5.01; Windows NT 5.0)&lt;br/&gt;
Host: karel:81&lt;br/&gt;
Connection: Keep-Alive&lt;br/&gt;
Cache-Control: no-cache&lt;/p&gt;

&lt;p&gt;Which will cause &lt;br/&gt;
org.apache.commons.fileupload.FileUploadBase$UnknownSizeException.&lt;/p&gt;

&lt;p&gt;Solution:&lt;/p&gt;

&lt;p&gt;FileUploadBase.isMultipartContent(HttpServletRequest req) should ensure that &lt;br/&gt;
the request method was POST and not only see the Content-type header:&lt;/p&gt;

&lt;p&gt;    public static final boolean isMultipartContent(HttpServletRequest req)&lt;br/&gt;
    {&lt;br/&gt;
        String contentType = req.getHeader(CONTENT_TYPE);&lt;br/&gt;
        if (contentType == null)&lt;/p&gt;
        {
            return false;
        }
&lt;p&gt;        if (contentType.startsWith(MULTIPART) &amp;amp;&amp;amp; &quot;POST&quot;.equals(req.getMethod&lt;br/&gt;
().toUpperCase()))&lt;/p&gt;
        {
            return true;
        }
&lt;p&gt;        return false;&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;Regars,&lt;br/&gt;
Karel&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341381">FILEUPLOAD-53</key>
            <summary>UnknownSizeException with IE5.0 (due to IE5.0 bug)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="karel.miarka@issa.cz">Karel Miarka</reporter>
                        <labels>
                    </labels>
                <created>Wed, 31 Mar 2004 18:45:04 +0000</created>
                <updated>Mon, 30 Oct 2006 21:53:10 +0000</updated>
                            <resolved>Mon, 30 Oct 2006 21:53:10 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12406390" author="martinc" created="Mon, 11 Oct 2004 12:08:46 +0000"  >&lt;p&gt;Fixed in the 10/11/04 nightly build.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>28085</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118309</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 5 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slbb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164930</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-52] [fileupload] setSizeThreshold not working as described in documentation</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-52</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I expected the setSizeThreshold option to work on the file size and not the &lt;br/&gt;
request size as the doc says &quot;Sets the size threshold beyond which &lt;em&gt;files&lt;/em&gt; are &lt;br/&gt;
written directly to disk.&quot;.&lt;/p&gt;

&lt;p&gt;However, I think a better approach would be to have two thresholds :&lt;br/&gt;
1. setRequestSizeThreshold : if the request size is greater than x bytes, save &lt;br/&gt;
every file to disk (could be disabled by specifying a size &amp;lt;= 0 for example)&lt;br/&gt;
2. setFileSizeThreshold : if the size of an individual file is greater then the &lt;br/&gt;
threshold, save the file to a temp file (again disabled if &amp;lt;= 0)&lt;/p&gt;

&lt;p&gt;If both sizes are specified, rule 1 is evalueted first. If the request size is &lt;br/&gt;
less than the threshold, rule 2 is evaluated on a file per file basis.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12340682">FILEUPLOAD-52</key>
            <summary>[fileupload] setSizeThreshold not working as described in documentation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="thierry.deleeuw@advalvas.be">Thierry De Leeuw</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Apr 2003 00:49:31 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:58 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:58 +0000</resolved>
                                    <version>1.0 Beta 1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12404165" author="martinc" created="Mon, 28 Apr 2003 07:04:14 +0000"  >

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 17044 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19367</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118308</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 29 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164931</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-51] browser still processing after exception</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-51</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;--set max upload size to 1MB&lt;br/&gt;
--write code to redirect code on FileUploadException &lt;/p&gt;

&lt;p&gt;Actions&lt;br/&gt;
--upload a file &amp;gt; 1MB&lt;br/&gt;
--FileUploadException thrown, &lt;br/&gt;
--however, browser STILL processing the file upload, no redirect&lt;br/&gt;
--ridirect after browser has finish processing.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341261">FILEUPLOAD-51</key>
            <summary>browser still processing after exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jeff_shadap@yahoo.com">Jeff Shadap</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Feb 2004 17:17:36 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:58 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:58 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12405985" author="martinc" created="Mon, 11 Oct 2004 11:42:58 +0000"  >&lt;p&gt;Unfortunately, this isn&apos;t a behaviour that FileUpload can change. There isn&apos;t a &lt;br/&gt;
way that FileUpload can tell the container to abandon the input stream (short &lt;br/&gt;
of failing the entire web app), so it continues to read it until it completes.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26883</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118307</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 5 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slbr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164932</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-50] [fileupload] FileItem implements Serializable incorrectly</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-50</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;org.apache.commons.fileupload.FileItem implements Serializable, but does not&lt;br/&gt;
honor the contract. It contains member field&lt;br/&gt;
org.apache.commons.fileupload.DeferredFileOutputStream, which is not&lt;br/&gt;
Serializable. Would prefer to have this class be truly Serializable but may not&lt;br/&gt;
be practical considering the nature of it. It should at least not define itself&lt;br/&gt;
as such, as it is misleading.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12341954">FILEUPLOAD-50</key>
            <summary>[fileupload] FileItem implements Serializable incorrectly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cris@dsnet.net">Cris Daniluk</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Dec 2004 11:26:03 +0000</created>
                <updated>Mon, 30 Oct 2006 21:45:07 +0000</updated>
                            <resolved>Mon, 30 Oct 2006 21:45:07 +0000</resolved>
                                                                        <due></due>
                            <votes>2</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12408367" author="kreiger" created="Wed, 22 Dec 2004 20:33:03 +0000"  >&lt;p&gt;Is there any hope that this will be fixed in the next release? This is the only&lt;br/&gt;
thing that makes my webapp sessions non-serializable.&lt;/p&gt;</comment>
                            <comment id="12408368" author="martinc" created="Mon, 28 Nov 2005 05:29:01 +0000"  >&lt;p&gt;I believe you are referring to DiskFileItem not being serialisable. I don&apos;t see&lt;br/&gt;
a way to fix this, as you say, because of the nature of the class. Note that it&lt;br/&gt;
is the FileItem interface that is serialisable, but this particular&lt;br/&gt;
implementation of that interface cannot be serialised. That doesn&apos;t mean that&lt;br/&gt;
all implementations will not be serialisable.&lt;/p&gt;

&lt;p&gt;As for comment #1, the simple solution is to not store FileItem instances in&lt;br/&gt;
your session.&lt;/p&gt;

&lt;p&gt;If anyone has any good ideas on how to make DiskFileItem serialisable, please&lt;br/&gt;
let me know ASAP. Otherwise I will mark this as WONTFIX.&lt;/p&gt;</comment>
                            <comment id="12408369" author="niallp" created="Mon, 28 Nov 2005 10:48:34 +0000"  >&lt;p&gt;Created an attachment (id=17057)&lt;br/&gt;
Patch to make DiskFileItem Serializable&lt;/p&gt;

&lt;p&gt;I&apos;m attaching a patch that makes DiskFileItem serializable. It works by making&lt;br/&gt;
the DeferredFileOutputStream transient and storing the file contents in a cache&lt;br/&gt;
during serialization and then re-writing them back out (if not in memory) to a&lt;br/&gt;
new file during de-serialization. Its not ideal, but maybe better than not&lt;br/&gt;
being serializabe.&lt;/p&gt;

&lt;p&gt;I also included a slight change to ensure cachedData is always used if exists.&lt;/p&gt;</comment>
                            <comment id="12408370" author="niallp" created="Mon, 28 Nov 2005 10:50:42 +0000"  >&lt;p&gt;Created an attachment (id=17058)&lt;br/&gt;
Serialization JUnit test for DiskFileItem&lt;/p&gt;</comment>
                            <comment id="12408371" author="martinc" created="Mon, 28 Nov 2005 11:26:12 +0000"  >&lt;p&gt;Unfortunately, this will almost certainly cause OutOfMemory exceptions when&lt;br/&gt;
large uploads are involved. This is because both writeObject and readObject rely&lt;br/&gt;
on the entire contents being loaded into memory. That&apos;s fine for typical form&lt;br/&gt;
fields, but if the item represents a 2GB upload, things don&apos;t look so good.&lt;/p&gt;

&lt;p&gt;Something along these lines that streams the content from or to a DFOS might&lt;br/&gt;
work, but I hate to think of the performance implications of serialisable&lt;br/&gt;
sessions that contain multiple gigabytes of data...&lt;/p&gt;</comment>
                            <comment id="12408372" author="niallp" created="Mon, 28 Nov 2005 11:52:09 +0000"  >&lt;p&gt;Created an attachment (id=17059)&lt;br/&gt;
Modified patch for DiskFileItem&lt;/p&gt;

&lt;p&gt;OK, how about copying the disk file to a new file during de-serialization&lt;br/&gt;
Instead?&lt;/p&gt;</comment>
                            <comment id="12408373" author="martinc" created="Mon, 28 Nov 2005 13:01:12 +0000"  >&lt;p&gt;That&apos;ll work. Thanks! Patch applied, with a simplification to readObject() and&lt;br/&gt;
some other minor changes.&lt;/p&gt;</comment>
                            <comment id="12408374" author="niallp" created="Mon, 28 Nov 2005 13:07:58 +0000"  >&lt;p&gt;Created an attachment (id=17060)&lt;br/&gt;
3rd Patch for DiskFileItem&lt;/p&gt;

&lt;p&gt;I guess the 2nd patch isn&apos;t a great idea either since its not v.efficient&lt;br/&gt;
copying a ton of data.&lt;/p&gt;

&lt;p&gt;Attaching a 3rd patch - if its not &quot;in memory&quot; this one caches the File that&lt;br/&gt;
DeferredFileOutputStream has written to when serializing. Everywhere that&lt;br/&gt;
referenced the DeferredFileOutputStream now checks to see if that File is there&lt;br/&gt;
first. If it is &quot;in memory&quot; it re-creates the DeferredFileOutputStream.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333287" name="ASF.LICENSE.NOT.GRANTED--DiskFileItemSerializeTest.java" size="8652" author="niallp" created="Mon, 28 Nov 2005 10:50:42 +0000"/>
                            <attachment id="12333288" name="ASF.LICENSE.NOT.GRANTED--FileUploadSerializeDiskFileItem.patch" size="3413" author="niallp" created="Mon, 28 Nov 2005 11:52:09 +0000"/>
                            <attachment id="12333286" name="ASF.LICENSE.NOT.GRANTED--FileUploadSerializeDiskFileItem.patch" size="2871" author="niallp" created="Mon, 28 Nov 2005 10:48:34 +0000"/>
                            <attachment id="12333289" name="ASF.LICENSE.NOT.GRANTED--FileUploadSerializeDiskFileItem3.patch" size="4874" author="niallp" created="Mon, 28 Nov 2005 13:07:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32785</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118306</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 50 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164933</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-49] [fileupload] source code do not comply with Sun standards</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-49</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Source code do not comply with Sun standards&lt;/p&gt;

&lt;p&gt;example :&lt;br/&gt;
        if (!dfos.isInMemory())&lt;/p&gt;
        {
            return new FileInputStream(dfos.getFile());
        }&lt;br/&gt;
&lt;br/&gt;
should be :&lt;br/&gt;
        if (!dfos.isInMemory()) {            return new FileInputStream(dfos.getFile());        }</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12340687">FILEUPLOAD-49</key>
            <summary>[fileupload] source code do not comply with Sun standards</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="thierry.deleeuw@advalvas.be">Thierry De Leeuw</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Apr 2003 06:36:54 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:58 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:58 +0000</resolved>
                                    <version>1.0 Beta 1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12404172" author="martinc" created="Mon, 28 Apr 2003 07:03:25 +0000"  >&lt;p&gt;You are correct that the code does not comply with the Sun coding conventions. &lt;br/&gt;
This code base complies with the Turbine coding conventions, as you can see in &lt;br/&gt;
the project.properties file.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19375</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118305</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 29 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164934</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-48] [fileupload] Memory leak in DefaultFileItem</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-48</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Scenario:&lt;br/&gt;
Use FileUpload library in a servlet implementation for multipart request &lt;br/&gt;
parsing.&lt;br/&gt;
Launch stress test in order to submit a lot of Post Http request with many &lt;br/&gt;
parameters and file to upload.&lt;br/&gt;
Environment: Windows (2000 or XP) with Sun JVM or IBM JVM 1.4.x&lt;/p&gt;

&lt;p&gt;Problem:&lt;br/&gt;
After few hours the server crash with an out of memory exception.&lt;br/&gt;
The HeapDump of the jvm at the crash time shows that a lot of memory is still &lt;br/&gt;
available in the java heap.&lt;br/&gt;
This out of memory is due to an out of memory of the java native heap.&lt;br/&gt;
Sample of exception message:&lt;br/&gt;
[Signaling in VM: java/lang/OutOfMemoryError, message: &lt;br/&gt;
JVMCI015:OutOfMemoryError, cannot create anymore threads due to memory or &lt;br/&gt;
resource constraints]&lt;/p&gt;

&lt;p&gt;Cause and solution:&lt;br/&gt;
The problem seems to be due to the File.deleteOnExit() call used in the &lt;br/&gt;
DefaultFileItem class.&lt;br/&gt;
This call is used in order to delete temporary file at the exit of the JVM.&lt;br/&gt;
This call seems to create memory leak in native heap on Windows OS (We didn&apos;t &lt;br/&gt;
test it on Linux or Unix)&lt;br/&gt;
Moreover this is not usefull to let file destruction on exit of the jvm on a &lt;br/&gt;
server.&lt;br/&gt;
In order to delete temporary file created by DefaultFileItem, a cleanup method &lt;br/&gt;
should be added,&lt;br/&gt;
or a cleanup of the temporary files should be provided, but not the &lt;br/&gt;
File.deleteOnExit() method.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows 2000&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12342172">FILEUPLOAD-48</key>
            <summary>[fileupload] Memory leak in DefaultFileItem</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sgrenier@triloggroup.com">Sandra Grenier</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Apr 2005 23:09:46 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:58 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:58 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12409107" author="martinc" created="Sat, 9 Apr 2005 02:14:12 +0000"  >&lt;p&gt;This has already been fixed, and is available in the latest source code in SVN, &lt;br/&gt;
and in recent nightly builds.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34373</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118304</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 31 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slcf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164935</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-47] [fileupload] Item Iterator found empty in second pass for the same request</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-47</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I am using common file upload version 1.1.&lt;/p&gt;

&lt;p&gt;I am parsing the reqyest object twice in a servlet.  I observed that during &lt;br/&gt;
first pass every thing works fine but during second pass the irerator object &lt;br/&gt;
is coming as empty.&lt;/p&gt;

&lt;p&gt;In other words it appears that you cannot parse the reqyest object for the &lt;br/&gt;
second time in a single pass. In second pass it is observed that the method &lt;br/&gt;
discardBodyData of MultipartStream class is throwing MalformedStreamException &lt;br/&gt;
exception .&lt;/p&gt;

&lt;p&gt;Following is the code snippet.&lt;br/&gt;
DiskFileItemFactory factory = new DiskFileItemFactory();&lt;br/&gt;
ServletFileUpload upload = new ServletFileUpload(factory);&lt;br/&gt;
List  items = upload.parseRequest(req);&lt;/p&gt;

&lt;p&gt;Iterator iter = items.iterator();&lt;br/&gt;
while (iter.hasNext()) &lt;/p&gt;
{
    // do some thing
 }

&lt;p&gt;I am not sure if this bug is fixed in subsequent release. If so please ignore &lt;br/&gt;
this bug and let me know the details.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342956">FILEUPLOAD-47</key>
            <summary>[fileupload] Item Iterator found empty in second pass for the same request</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="deepakbgaikwad@hotmail.com">Deepak</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Mar 2006 22:55:57 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:57 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:57 +0000</resolved>
                                    <version>1.1 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12411556" author="rahul@apache.org" created="Tue, 7 Mar 2006 23:09:36 +0000"  >&lt;p&gt;&lt;a href=&quot;http://jakarta.apache.org/commons/fileupload/faq.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jakarta.apache.org/commons/fileupload/faq.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(of particular interest may be question 1 under &quot;General&quot; section of the FAQ &amp;#8211;&lt;br/&gt;
 during the second parse, the request has already been &quot;consumed&quot;).&lt;/p&gt;

&lt;p&gt;Please ask questions on the user list unless you are reasonably sure it is a &lt;br/&gt;
bug.&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38881</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118303</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 36 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slcn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164936</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-46] [fileupload] Default encoding issue running Tomcat on z/os</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-46</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;There is a bug in the commons-fileupload code. On a multipart post, the boundary&lt;br/&gt;
string is converted to a byte array using the platform&apos;s default encoding&lt;br/&gt;
instead of using 8859-1. This was reported as Bugzilla &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-4&quot; title=&quot;[fileupload] The common upload functions do not work on z/OS WebSphere&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-4&quot;&gt;&lt;del&gt;COM-1057&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
(&lt;a href=&quot;http://issues.apache.org/bugzilla/show_bug.cgi?id=26194&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://issues.apache.org/bugzilla/show_bug.cgi?id=26194&lt;/a&gt;) and has been fixed in&lt;br/&gt;
the source code. However, there hasn&apos;t yet been an official release of the new&lt;br/&gt;
fileupload stuff, and it looks like the latest nightly build breaks other items&lt;br/&gt;
with multipart posts.&lt;/p&gt;

&lt;p&gt;This can be fixed with 1) a new stable release of commons-fileupload and 2)&lt;br/&gt;
updating Tomcat to that new stable release&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342199">FILEUPLOAD-46</key>
            <summary>[fileupload] Default encoding issue running Tomcat on z/os</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jeffreyc@wrq.com">Jeffrey Chin</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Apr 2005 05:51:51 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:57 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:57 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12409173" author="yoavs@computer.org" created="Tue, 3 May 2005 23:16:27 +0000"  >&lt;p&gt;Moving bug to commons-fileupload.  When a new stable release of that component&lt;br/&gt;
becomes available, we&apos;ll use it.&lt;/p&gt;</comment>
                            <comment id="12409174" author="martinc" created="Mon, 28 Nov 2005 08:24:29 +0000"  >&lt;p&gt;As noted in the bug report &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, this has already been fixed in FileUpload.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34506</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118302</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 50 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slcv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164937</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-45] [fileupload] Compiling a Portlet app requires the Servlet API</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-45</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Reminder to self:&lt;/p&gt;

&lt;p&gt;Compiling a Portlet app against FileUpload 1.1-dev requires that the Servlet &lt;br/&gt;
API be in the classpath. This is because PortletFileUpload extends FileUpload &lt;br/&gt;
which in turn extends FileUploadBase. For backwards compatibility reasons, &lt;br/&gt;
FileUploadBase still needs the Servlet API. We need to get the methods that &lt;br/&gt;
need the Servlet API out of the hierarchy for Portlets.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342152">FILEUPLOAD-45</key>
            <summary>[fileupload] Compiling a Portlet app requires the Servlet API</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="martinc">Martin Cooper</reporter>
                        <labels>
                    </labels>
                <created>Sat, 2 Apr 2005 16:02:21 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:57 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:57 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12409017" author="martinc" created="Mon, 28 Nov 2005 05:20:23 +0000"  >&lt;p&gt;This can&apos;t be fixed without breaking backwards compatibility, so marking LATER&lt;br/&gt;
for fixing in FileUpload 2.0.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34271</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118301</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 50 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sld3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164938</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-44] NPE with default FileUpload constructor</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-44</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;In version 1.23 a Null Pointer Exception is being thrown when the FileUploadBase&lt;br/&gt;
createItem method is used if the default constructor was used to instatiate&lt;br/&gt;
FileUpload.  The FileUpload default constructor does not create the&lt;br/&gt;
fileItemFactory.  I found adding the line:&lt;/p&gt;

&lt;p&gt;this.fileItemFactory = new DefaultFileItemFactory();&lt;/p&gt;

&lt;p&gt;to the default constructor for FileUpload fixed the problem.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12341383">FILEUPLOAD-44</key>
            <summary>NPE with default FileUpload constructor</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="garymcg@att.net">Gary McGlinn</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Apr 2004 04:24:06 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:57 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:57 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12406393" author="martinc" created="Fri, 2 Apr 2004 11:50:04 +0000"  >&lt;p&gt;The Javadoc for the default constructor clearly states that a factory needs to &lt;br/&gt;
be configured before attempting to parse requests.&lt;/p&gt;

&lt;p&gt;The DefaultFileItemFactory is intended for use with DiskFileUpload, and &lt;br/&gt;
includes disk-specific methods, so it would not be appropriate to use that as &lt;br/&gt;
the default for the (deliberately more generic) FileUpload class.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>28141</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118300</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 32 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sldb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164939</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-43] Fails when request doesn&apos;t end with boundary text</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-43</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Throws a FileUploadException:&lt;br/&gt;
Processing of multipart/form-data request failed.  Stream ended unexpectedly&lt;/p&gt;

&lt;p&gt;The POST has the right content-length&lt;br/&gt;
but doesn&apos;t end with boundary&lt;/p&gt;

&lt;p&gt;version:&lt;br/&gt;
commons-fileupload-20030115&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Linux&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12340495">FILEUPLOAD-43</key>
            <summary>Fails when request doesn&apos;t end with boundary text</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tschafer@hotmail.com">Tim Schafer</reporter>
                        <labels>
                    </labels>
                <created>Sat, 18 Jan 2003 00:43:25 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:57 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:57 +0000</resolved>
                                    <version>1.0 Alpha</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12403452" author="tschafer@hotmail.com" created="Tue, 21 Jan 2003 02:00:04 +0000"  >&lt;p&gt;Actually the boundary text is there at the end&lt;br/&gt;
but there are not two dashes following it&lt;/p&gt;

&lt;p&gt;so the end is something like&lt;br/&gt;
-----------------------8c48bac0d2d6e60&lt;/p&gt;

&lt;p&gt;instead of&lt;br/&gt;
----------------------&lt;del&gt;8c48bac0d2d6e60&lt;/del&gt;-&lt;/p&gt;
</comment>
                            <comment id="12403453" author="tschafer@hotmail.com" created="Tue, 21 Jan 2003 04:11:06 +0000"  >&lt;p&gt;This is a problem with the client&lt;br/&gt;
Reading the RFC I see that the extra dashes at the end are neccessary&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16216</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118299</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 43 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sldj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164940</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-42] [fileupload] fails with transfer-encoding: chunked</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-42</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I am using FileUpload, and when I tried using my applet from a file upload&lt;br/&gt;
operation from a SonyEricsson phone, I got this error:&lt;/p&gt;

&lt;p&gt;apache.commons.fileupload.FileUploadBase$UnknownSizeException: the request was&lt;br/&gt;
rejected because its size is unknown&lt;br/&gt;
       at&lt;br/&gt;
org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:305)&lt;br/&gt;
       at&lt;br/&gt;
org.apache.commons.fileupload.servlet.ServletFileUpload.parseRequest(ServletFileUpload.java:116)&lt;/p&gt;



&lt;p&gt;It is the exact same problem as described here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://issues.apache.org/bugzilla/show_bug.cgi?id=37794&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://issues.apache.org/bugzilla/show_bug.cgi?id=37794&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Here, copy/paste of the relevant issue:&lt;/p&gt;

&lt;p&gt;(Comment #2 From Arne Riiber  2005-12-05 19:45)&lt;/p&gt;

&lt;p&gt;It&apos;s correct that Content-Length was required for HTTP/1.0, but with HTTP/1.1&lt;br/&gt;
it&apos;s not required anymore according to RFC2616&lt;br/&gt;
&lt;a href=&quot;ftp://ftp.isi.edu/in-notes/rfc2616.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://ftp.isi.edu/in-notes/rfc2616.txt&lt;/a&gt; chapter 4.3:&lt;/p&gt;

&lt;p&gt;The presence of a message-body in a request is signaled by the&lt;br/&gt;
   inclusion of a Content-Length or Transfer-Encoding header field in&lt;br/&gt;
   the request&apos;s message-headers.&lt;/p&gt;

&lt;p&gt;RFC2616 chapter 19.4.6 &quot;Introduction of Transfer-Encoding&quot; also includes pseudo&lt;br/&gt;
code for determining the content-length from the chunks.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12343001">FILEUPLOAD-42</key>
            <summary>[fileupload] fails with transfer-encoding: chunked</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mqm@magma.ca">mqm</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 Mar 2006 12:32:44 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:57 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:57 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12411681" author="bayard" created="Sat, 1 Apr 2006 03:22:00 +0000"  >&lt;p&gt;I presume the code dies when there&apos;s no content length to stop people sending infinite length uploads to &lt;br/&gt;
the server (DOS attack).&lt;/p&gt;

&lt;p&gt;However; could we not have a specialized InputStream in place for these occasions that keeps a count of &lt;br/&gt;
the number of bytes that have come in and blows up when it passes the max?&lt;/p&gt;</comment>
                            <comment id="12411682" author="mqm@magma.ca" created="Sat, 1 Apr 2006 10:53:33 +0000"  >&lt;p&gt;I agree that there should be API where people can say the max size of an &lt;br/&gt;
upload they want. In PHP, for example, you define such value in PHP.INI. I &lt;br/&gt;
wouldn&apos;t mind having to pay this small price in exchange for the extra feature.&lt;/p&gt;

&lt;p&gt;Cell phones are so pervasive now, I think that the need to support this type &lt;br/&gt;
of encoding is very real. Well, I definitely need it for now &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;BTW, the O&apos;Reilly lib has the same problem &lt;br/&gt;
(com.oreilly.servlet.multipart.MultipartParser , at &lt;a href=&quot;http://servlets.com/cos/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://servlets.com/cos/&lt;/a&gt; )&lt;/p&gt;</comment>
                            <comment id="12411683" author="martinc" created="Sat, 1 Apr 2006 13:07:24 +0000"  >&lt;p&gt;The plan is to address this as part of a redesign for FileUpload 2.0 which will&lt;br/&gt;
address several other related enhancement requests.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 37395 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39162</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118298</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 32 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sldr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164941</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-41] unexpected memory usage on fileupload</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-41</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;In my eyes this is kind of unexpected behavoir:&lt;/p&gt;

&lt;p&gt;The FileUpload component reserves an byte[] which is &quot;maxThreshold&quot; large, for &lt;br/&gt;
every request item, even it is a form field, and even if the sent data is lots &lt;br/&gt;
smaller. This is kind of unexpected, as I though the maxThreshold parameter &lt;br/&gt;
simply deciedes whether uploaded files should stay in memory or not.&lt;/p&gt;

&lt;p&gt;The &quot;bug&quot; can be found in DeferedFileOutputstream.java:&lt;br/&gt;
(lines 126-133):&lt;br/&gt;
    public DeferredFileOutputStream(int threshold, File outputFile)&lt;/p&gt;
    {
        super(threshold);
        this.outputFile = outputFile;

(131)   memoryOutputStream = new ByteArrayOutputStream(threshold);
        currentOutputStream = memoryOutputStream;
    }

&lt;p&gt;In line 131, the ByteArrayOutputStream allocates an byte&lt;span class=&quot;error&quot;&gt;&amp;#91;threshold&amp;#93;&lt;/span&gt; for every &lt;br/&gt;
item no matter how large it is. I think this could be (should be)  changed to &lt;br/&gt;
a lots smaller constant value, because the given size is just the initial &lt;br/&gt;
size, so the byte[] the stream writes on, can still grow on demand, and the &lt;br/&gt;
maxThreshold parameter can still be used to determine if a file should be &lt;br/&gt;
written to memory, or to disk.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341807">FILEUPLOAD-41</key>
            <summary>unexpected memory usage on fileupload</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ahaufler@gmx.de">Andreas Haufler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Oct 2004 19:16:09 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:57 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:57 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12407797" author="martinc" created="Fri, 15 Oct 2004 23:41:43 +0000"  >&lt;p&gt;This was fixed recently. The fix is available in the nightly builds of Commons &lt;br/&gt;
FileUpload. You will also need a nightly build of the Commons IO component, &lt;br/&gt;
since the ByteArrayOutputStream implementation from that package was used to &lt;br/&gt;
fix this problem.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31728</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118297</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 4 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sldz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164942</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-40] FileUploadBase does not handle quoted boundary specification, which is required by RFC 1521</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-40</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;In FileUploadBase.parseRequest(), the boundary string is computed by:&lt;/p&gt;

&lt;p&gt;  int boundaryIndex = contentType.indexOf(&quot;boundary=&quot;);&lt;br/&gt;
  byte[] boundary = contentType.substring(boundaryIndex + 9).getBytes();&lt;/p&gt;

&lt;p&gt;This is OK if the boundary string is unquoted. But RFC 1521 states clearly &lt;br/&gt;
that boundary strings may, and in some cases must, be quoted.&lt;/p&gt;

&lt;p&gt;The consequence is that a request containing a quoted boundary string fails to &lt;br/&gt;
parse. The exact behaviour is that the parsing completes &quot;successfully&quot; but no &lt;br/&gt;
FileItems are found.&lt;/p&gt;

&lt;p&gt;The code should look for a leading quote and, if found, move on by one &lt;br/&gt;
character before reading the boundary string. Perhaps it should check for the &lt;br/&gt;
trailing quote, too. Your test suites should be extended to test this case.&lt;/p&gt;

&lt;p&gt;The examples in RFC 1521 show double quotes being used, and that is what &lt;br/&gt;
provoked the failure in the system I am trying to build. However, single &lt;br/&gt;
quotes may also be allowed (it probably says yes or no somewhere in the RFC).&lt;/p&gt;

&lt;p&gt;If confirmed to be correct, I think that this is quite a serious fault, &lt;br/&gt;
requiring rapid attention. I have not provided a proposed patch, at this &lt;br/&gt;
stage, but would be willing to do so, if asked.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12340833">FILEUPLOAD-40</key>
            <summary>FileUploadBase does not handle quoted boundary specification, which is required by RFC 1521</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="peter.chase@globalgraphics.com">Peter Chase</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Jul 2003 17:09:33 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:56 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:56 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12404652" author="kreiger" created="Tue, 16 Sep 2003 19:39:47 +0000"  >&lt;p&gt;I suggest using the ParameterParser checked in by Oleg Kalnichevski in &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-101&quot; title=&quot;[FileUpload] does not take &amp;#39;charset&amp;#39; parameter of the &amp;#39;Content-Type&amp;#39; header into consideration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-101&quot;&gt;&lt;del&gt;COM-643&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
to parse the boundary-parameter of the content-type-header.&lt;/p&gt;</comment>
                            <comment id="12404653" author="martinc" created="Wed, 22 Oct 2003 11:06:46 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-15&quot; title=&quot;the fileupload do not conform to the possible double quoting of the boundary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-15&quot;&gt;&lt;del&gt;COM-886&lt;/del&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12404654" author="rpieroni@dexem.com" created="Wed, 22 Oct 2003 18:53:13 +0000"  >&lt;p&gt;here is a patch that worked !!!&lt;/p&gt;


&lt;p&gt;            String boundaryString;&lt;br/&gt;
            byte[] boundary;&lt;br/&gt;
            if (contentType.charAt(boundaryIndex + 9) == &apos;&quot;&apos; &amp;amp;&amp;amp;&lt;br/&gt;
                contentType.charAt(contentType.length() - 1) == &apos;&quot;&apos;) &lt;br/&gt;
            &lt;/p&gt;
{
            	boundaryString = contentType.substring( boundaryIndex + 10,
            	    contentType.length() - 1);
            }
&lt;p&gt; else &lt;/p&gt;
{
            	boundaryString = contentType.substring(
                    boundaryIndex + 9);
            }
&lt;p&gt;            boundary = boundaryString.getBytes();&lt;/p&gt;</comment>
                            <comment id="12404655" author="jan.vervecken@pandora.be" created="Thu, 6 Nov 2003 06:04:29 +0000"  >&lt;p&gt;We are using a User-Agent that sends request like:&lt;/p&gt;

&lt;p&gt;-&lt;del&gt;8&amp;lt;&lt;/del&gt;--------- begin &amp;#8212;&lt;br/&gt;
POST /UploadTest/upload.do HTTP/1.0&lt;br/&gt;
Host: w2kp-jv:8888&lt;br/&gt;
User-Agent: IP*Works! V5 HTTP/S Component - by /n software - www.nsoftware.com&lt;br/&gt;
Content-Type: multipart/form-data; boundary=&quot;boundaryoazJlhY=&quot;&lt;br/&gt;
Content-Length: 230&lt;/p&gt;

&lt;p&gt;--boundaryoazJlhY=&lt;br/&gt;
Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;C:\myUploadTest.txt&quot;&lt;br/&gt;
Content-Type: text/plain&lt;/p&gt;

&lt;p&gt;a first line&lt;br/&gt;
a second line&lt;br/&gt;
-&lt;del&gt;boundaryoazJlhY=&lt;/del&gt;-&lt;/p&gt;

&lt;p&gt;-&lt;del&gt;8&amp;lt;&lt;/del&gt;---------  end  &amp;#8212;&lt;/p&gt;

&lt;p&gt;Note the quotes on the value for the boundary in the Content-Type field.&lt;/p&gt;

&lt;p&gt;I have made these code changes, they work for us:&lt;/p&gt;

&lt;p&gt;-&lt;del&gt;8&amp;lt;&lt;/del&gt;--------- begin &amp;#8212;&lt;br/&gt;
Index: FileUploadBase.java&lt;br/&gt;
===================================================================&lt;br/&gt;
RCS file: /home/cvspublic/jakarta-&lt;br/&gt;
commons/fileupload/src/java/org/apache/commons/fileupload/FileUploadBase.java,v&lt;br/&gt;
retrieving revision 1.4&lt;br/&gt;
diff -u -r1.4 FileUploadBase.java&lt;br/&gt;
&amp;#8212; FileUploadBase.java	9 Oct 2003 21:15:47 -0000	1.4&lt;br/&gt;
+++ FileUploadBase.java	5 Nov 2003 22:02:38 -0000&lt;br/&gt;
@@ -328,8 +328,17 @@&lt;br/&gt;
                         &quot;the request was rejected because &quot;&lt;br/&gt;
                         + &quot;no multipart boundary was found&quot;);&lt;br/&gt;
             }&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;byte[] boundary = contentType.substring(&lt;/li&gt;
	&lt;li&gt;boundaryIndex + 9).getBytes();&lt;br/&gt;
+            String boundaryBase = contentType.substring(boundaryIndex + 9);&lt;br/&gt;
+            byte[] boundary = null;&lt;br/&gt;
+            if (boundaryBase.startsWith(&quot;\&quot;&quot;) &amp;amp;&amp;amp; boundaryBase.endsWith(&quot;\&quot;&quot;))&lt;br/&gt;
+            
{
+                // removing quotes
+                boundary = boundaryBase.substring(1, (boundaryBase.length() - 
1)).getBytes();
+            }
&lt;p&gt;+            else&lt;br/&gt;
+            &lt;/p&gt;
{
+                boundary = boundaryBase.getBytes();
+            }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;             InputStream input = req.getInputStream();&lt;br/&gt;
-&lt;del&gt;8&amp;lt;&lt;/del&gt;---------  end  &amp;#8212;&lt;/p&gt;

&lt;p&gt;I&apos;m not an expert on the related RFCs, but check the &quot;WARNING TO IMPLEMENTORS&quot; &lt;br/&gt;
on page 30 of &lt;a href=&quot;http://www.ietf.org/rfc/rfc1521.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.ietf.org/rfc/rfc1521.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I hope this makes sense.&lt;/p&gt;</comment>
                            <comment id="12404656" author="jan.vervecken@pandora.be" created="Thu, 6 Nov 2003 06:06:46 +0000"  >&lt;p&gt;Created an attachment (id=8950)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;PATCH&amp;#93;&lt;/span&gt; removing the boundary quotes&lt;/p&gt;</comment>
                            <comment id="12404657" author="kreiger" created="Fri, 27 Feb 2004 19:24:10 +0000"  >&lt;p&gt;Jan: Note that String.getBytes() uses the system default encoding, which is&lt;br/&gt;
hardly correct outside western locales. Should probably use &quot;US-ASCII&quot; or&lt;br/&gt;
&quot;ISO-8859-1&quot;. &lt;br/&gt;
But, as i said earlier, it would probably be better to use Oleg&apos;s&lt;br/&gt;
ParameterParser (&lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-101&quot; title=&quot;[FileUpload] does not take &amp;#39;charset&amp;#39; parameter of the &amp;#39;Content-Type&amp;#39; header into consideration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-101&quot;&gt;&lt;del&gt;COM-643&lt;/del&gt;&lt;/a&gt; / attachment 8205) consistently in commons fileupload.&lt;/p&gt;</comment>
                            <comment id="12404658" author="martinc" created="Mon, 11 Oct 2004 09:03:14 +0000"  >&lt;p&gt;Fixed in the 10/11/04 nightly build.&lt;/p&gt;

&lt;p&gt;I followed Christoffer&apos;s suggestion and used ParameterParser.&lt;/p&gt;</comment>
                            <comment id="12404659" author="martinc" created="Thu, 4 Nov 2004 01:32:27 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-36&quot; title=&quot;[fileupload] It is not expected for boundary to have quoted-string value&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-36&quot;&gt;&lt;del&gt;COM-1698&lt;/del&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332402" name="ASF.LICENSE.NOT.GRANTED--FileUploadBasePatch.txt" size="1173" author="jan.vervecken@pandora.be" created="Thu, 6 Nov 2003 06:06:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>21269</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118296</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 2 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sle7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164943</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-39] [fileupload] Content-Type with quoted boundary doesn&apos;t work</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-39</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I am using a MIME framework that creates headers and bodies &lt;br/&gt;
for multiparts.  It creates the Content-Type as e.g. (this is &lt;br/&gt;
a single line in the original header): &lt;/p&gt;

&lt;p&gt;Content-Type: multipart/form-data; boundary=&quot;----- &lt;br/&gt;
=_N0U3NTVGRkNCOEQ4MEE3MTBDNzZDOEMyQjU0MkIyMDg=&quot;  &lt;/p&gt;

&lt;p&gt;Later the parts are separated by  &lt;/p&gt;

&lt;p&gt;------- =_N0U3NTVGRkNCOEQ4MEE3MTBDNzZDOEMyQjU0MkIyMDg=  &lt;/p&gt;

&lt;p&gt;The package doesn&apos;t recognise any fields in the request.   &lt;br/&gt;
If OTOH I remove the quotes from the Content-Type, it works. &lt;/p&gt;

&lt;p&gt;Inspection of the code in CVS seems to indicate that the &lt;br/&gt;
problem is that ParameterParser.parseQuotedToken() &lt;br/&gt;
recognises quotes but doesn&apos;t remove them from the value.   &lt;br/&gt;
So FileUploadBase.getBoundary() gets the boundary with the  &lt;br/&gt;
quotes and compares it to actual data without quotes.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342279">FILEUPLOAD-39</key>
            <summary>[fileupload] Content-Type with quoted boundary doesn&apos;t work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="benjamin.riefenstahl@epost.de">Benjamin Riefenstahl</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Jun 2005 20:29:03 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:56 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:56 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12409479" author="benjamin.riefenstahl@epost.de" created="Thu, 2 Jun 2005 20:41:39 +0000"  >&lt;p&gt;(In reply to comment #0) &lt;br/&gt;
&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt; ParameterParser.parseQuotedToken() recognises quotes &lt;br/&gt;
&amp;gt; but doesn&apos;t remove them from the value. &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;   &lt;/p&gt;

&lt;p&gt;Looking closer, it seems that ParameterParser.getToken() is &lt;br/&gt;
supposed to remove the quotes later in parseQuotedToken(). &lt;br/&gt;
Still the observation stands that there is a problem somewhere &lt;br/&gt;
in the scenario described. &lt;/p&gt;
</comment>
                            <comment id="12409480" author="benjamin.riefenstahl@epost.de" created="Sun, 5 Jun 2005 07:59:35 +0000"  >&lt;p&gt;Sorry about the noise.  I was looking at the CVS code, but testing&lt;br/&gt;
with 1.0.  When I actually &lt;b&gt;use&lt;/b&gt; the CVS code, the bug is fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35183</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118295</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 23 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164944</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-38] [fileupload] FileUploadException on processing multipart/form-data</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-38</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;This only happens when the upload is a pdf file of a scanned image and in our &lt;br/&gt;
production environment where we are using https proctocol. In test environment, &lt;br/&gt;
on same platform, using same file and http, we can uplaod the file without any &lt;br/&gt;
problems. Also, we can upload text based pdf files and any other file types in &lt;br/&gt;
our production environment(https) without any trouble. Below is a snapshot of &lt;br/&gt;
the exception stack trace...&lt;/p&gt;


&lt;p&gt;org.apache.commons.fileupload.FileUploadException: Processing of multipart/form-&lt;br/&gt;
data&lt;br/&gt;
request failed. client timeout&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase.parseRequest&lt;br/&gt;
(FileUploadBase.java:384)&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase.parseRequest&lt;br/&gt;
(FileUploadBase.java:268)&lt;br/&gt;
	at org.apache.struts.upload.CommonsMultipartRequestHandler.handleRequest&lt;br/&gt;
(CommonsMultipartRequestHandler.java:195)&lt;br/&gt;
	at org.apache.struts.util.RequestUtils.populate(RequestUtils.java:445)&lt;br/&gt;
	at org.apache.struts.action.RequestProcessor.processPopulate&lt;br/&gt;
(RequestProcessor.java:798)&lt;br/&gt;
	at org.apache.struts.action.RequestProcessor.process&lt;br/&gt;
(RequestProcessor.java:205)&lt;br/&gt;
	at org.apache.struts.action.ActionServlet.process&lt;br/&gt;
(ActionServlet.java:1164)&lt;br/&gt;
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:415)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:767)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:860)&lt;br/&gt;
	at com.caucho.server.dispatch.ServletFilterChain.doFilter&lt;br/&gt;
(ServletFilterChain.java:99)&lt;br/&gt;
	at com.caucho.server.cache.CacheFilterChain.doFilter&lt;br/&gt;
(CacheFilterChain.java:188)&lt;br/&gt;
	at com.caucho.server.webapp.WebAppFilterChain.doFilter&lt;br/&gt;
(WebAppFilterChain.java:163)&lt;br/&gt;
	at com.caucho.server.dispatch.ServletInvocation.service&lt;br/&gt;
(ServletInvocation.java:208)&lt;br/&gt;
	at com.caucho.server.http.HttpRequest.handleRequest&lt;br/&gt;
(HttpRequest.java:259)&lt;br/&gt;
	at com.caucho.server.port.TcpConnection.run(TcpConnection.java:363)&lt;br/&gt;
	at com.caucho.util.ThreadPool.runTasks(ThreadPool.java:490)&lt;br/&gt;
	at com.caucho.util.ThreadPool.run(ThreadPool.java:423)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:595)&lt;/p&gt;


&lt;p&gt;--------------------------------------------------------------------------------&lt;br/&gt;
Resin Professional 3.0.14 (built Tue, 05 Jul 2005 11:05:36 PDT)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Linux&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12343018">FILEUPLOAD-38</key>
            <summary>[fileupload] FileUploadException on processing multipart/form-data</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="jochen@apache.org">Jochen Wiedmann</assignee>
                                    <reporter username="c.hillier@nf.sympatico.ca">Colin</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Apr 2006 07:45:56 +0000</created>
                <updated>Mon, 6 Nov 2006 20:58:52 +0000</updated>
                            <resolved>Mon, 6 Nov 2006 20:58:53 +0000</resolved>
                                    <version>1.1 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12411717" author="bayard" created="Tue, 11 Apr 2006 01:07:51 +0000"  >&lt;p&gt;Sounds very odd. Any obvious relationship between size of file and whether or not it works? &lt;/p&gt;

&lt;p&gt;The error of an IOException of &apos;client timeout&apos; being thrown when reading the stream suggests its &lt;br/&gt;
something environment based rather than fileupload-based. &lt;/p&gt;

&lt;p&gt;I&apos;d:&lt;/p&gt;

&lt;p&gt;a) See if it fails under HTTPS in the test environment.&lt;br/&gt;
b) See if failure in the production environment is tied to file size.&lt;/p&gt;</comment>
                            <comment id="12411718" author="c.hillier@nf.sympatico.ca" created="Tue, 11 Apr 2006 01:18:51 +0000"  >&lt;p&gt;It is not the size of the file and it works in production environment when &lt;br/&gt;
using http.&lt;/p&gt;
</comment>
                            <comment id="12411719" author="martinc" created="Tue, 11 Apr 2006 01:29:36 +0000"  >&lt;p&gt;Are you using IIS with the Isapi_Redirector? There are known problems with&lt;br/&gt;
certain versions of that. Check the mailing list archives for details.&lt;/p&gt;</comment>
                            <comment id="12411720" author="c.hillier@nf.sympatico.ca" created="Wed, 19 Apr 2006 23:21:38 +0000"  >&lt;p&gt;No, we are just using resin-pro 3.0.14. No apache, no IIS.&lt;/p&gt;</comment>
                            <comment id="12411721" author="martinc" created="Thu, 20 Apr 2006 03:44:20 +0000"  >&lt;p&gt;Have you disabled Resin&apos;s built-in multipart handling? That is enabled by&lt;br/&gt;
default, and will interfere with your use of Commons FileUpload. In fact, if&lt;br/&gt;
you&apos;re using Resin, why are you also using Commons FileUpload?&lt;/p&gt;</comment>
                            <comment id="12425869" author="jochen@apache.org" created="Fri, 4 Aug 2006 21:30:16 +0000"  >&lt;p&gt;Colin, you didn&apos;t reply to Martins question within more than five months. If you are still interested in this issue, please attach a file that allows to reproduce it. Otherwise I&apos;ll intend to close the issue before the release of 1.2.&lt;/p&gt;</comment>
                            <comment id="12447533" author="jochen@apache.org" created="Mon, 6 Nov 2006 20:58:52 +0000"  >&lt;p&gt;Missing reply by user.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39257</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118294</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 1 week, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164945</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-37] [fileupload] Two typos in the manual page of MultipartStream</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-37</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;1) &quot;Here is an exaple of usage of this class&quot; (should be example)&lt;br/&gt;
2) (within the code block) &quot;boolean nextPart = malitPartStream.skipPreamble&lt;br/&gt;
();&quot; (should be multipartStream.skipPreamble()&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;wrong code examples are annoying to readers&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342023">FILEUPLOAD-37</key>
            <summary>[fileupload] Two typos in the manual page of MultipartStream</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yawara_cass@hotmail.com">Vincent Chow</reporter>
                        <labels>
                    </labels>
                <created>Mon, 31 Jan 2005 19:24:51 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:56 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:56 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12408636" author="martinc" created="Mon, 11 Apr 2005 13:45:16 +0000"  >&lt;p&gt;Fixed in the 20050411 nightly build.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33311</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118293</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164946</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-36] [fileupload] It is not expected for boundary to have quoted-string value</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-36</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I&apos;ve encountered bug while using commons-FileUpload. I&apos;m trying to upload some &lt;br/&gt;
files onto server using POST with &apos;multipart/form-data&apos; encoding. When I use &lt;br/&gt;
MSIE 6.0 everything works very good, but in my browser none of files stored. &lt;br/&gt;
File &apos;send.jsp&apos; (it is used to store files on server) recieves NO PARAMETERS as &lt;br/&gt;
I use my browser.&lt;br/&gt;
Additional investigation showed that my browser is using quoted-string as &lt;br/&gt;
boundary delimiter:&lt;/p&gt;

&lt;p&gt;  Content-Type: multipart/form-data; boundary=&quot;boundary-=-&lt;br/&gt;
hfdDhaidRTHTYI4N_ljVRVipnPMx&quot;&lt;/p&gt;


&lt;p&gt;And then it separate parameters:&lt;/p&gt;

&lt;p&gt;  --boundary_=_hfdDhaidRTHTYI4NPljVRVipnPMx&lt;br/&gt;
  Content-Disposition: form-data; name=&quot;server&quot;&lt;/p&gt;

&lt;p&gt;  my.server.com&lt;br/&gt;
  --boundary_=_hfdDhaidRTHTYI4NPljVRVipnPMx&lt;br/&gt;
  Content-Disposition: form-data; name=&quot;filename1&quot;&lt;/p&gt;

&lt;p&gt;  snd1.wav&lt;br/&gt;
  --boundary_=_hfdDhaidRTHTYI4NPljVRVipnPMx&lt;br/&gt;
  Content-Type: Application/Octet-stream&lt;br/&gt;
  Content-Transfer-Encoding: binary&lt;br/&gt;
  Content-Disposition: form-data; name=&quot;file1&quot;; filename=&quot;C:/Documents and &lt;br/&gt;
Settings/Default User/Local Settings/Temporary Internet &lt;br/&gt;
Files/Content.IE5/W0URU3HB/CA0RKW31.rec&quot;&lt;/p&gt;

&lt;p&gt;  &amp;lt;binary-data&amp;gt;&lt;/p&gt;


&lt;p&gt;As stated in RFC1521 on page 9 (&lt;a href=&quot;http://www.ietf.org/rfc/rfc1521.txt):&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.ietf.org/rfc/rfc1521.txt):&lt;/a&gt;&lt;br/&gt;
  content  :=   &quot;Content-Type&quot;  &quot;:&quot;  type  &quot;/&quot;  subtype  *(&quot;;&quot; parameter)&lt;br/&gt;
  parameter := attribute &quot;=&quot; value&lt;br/&gt;
  value := token / quoted-string&lt;/p&gt;


&lt;p&gt;And it seems from your code, nothing was provided to determine and process such &lt;br/&gt;
case.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341850">FILEUPLOAD-36</key>
            <summary>[fileupload] It is not expected for boundary to have quoted-string value</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="32167@ua.fm">Sergey</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Nov 2004 01:21:10 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:56 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:56 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12407951" author="martinc" created="Thu, 4 Nov 2004 01:32:26 +0000"  >&lt;p&gt;This was fixed in the 20041011 nightly build.&lt;/p&gt;


&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 21269 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32046</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118292</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 2 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164947</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-35] file upload can be very slow</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-35</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;very slow file uploads - massive performance boost by increasing 4096 to &lt;br/&gt;
something much bigger eg * 100 or * 1000&lt;/p&gt;

&lt;p&gt;Problem only occurs in some network locations - and only effects file upload - &lt;br/&gt;
not other network operations.&lt;/p&gt;

&lt;p&gt;FIX:&lt;/p&gt;

&lt;p&gt;public class MultipartStream&lt;/p&gt;

&lt;p&gt;    protected static final int DEFAULT_BUFSIZE = 4096;&lt;/p&gt;

&lt;p&gt;This fix need not be done as the problem isn&apos;t common - but the information on &lt;br/&gt;
what to do might help someone else !&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12340918">FILEUPLOAD-35</key>
            <summary>file upload can be very slow</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="richg">rich gooding</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Aug 2003 16:31:51 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:56 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:56 +0000</resolved>
                                    <version>1.0 Beta 2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12404905" author="richg" created="Thu, 2 Sep 2004 20:32:36 +0000"  >&lt;p&gt;found that mozilla did not have any problem and then found ms kb article which&lt;br/&gt;
has fixed the problem for us:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://support.microsoft.com/default.aspx?scid=kb;en-us;329781&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://support.microsoft.com/default.aspx?scid=kb;en-us;329781&lt;/a&gt;&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22578</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118291</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 10 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slfb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164948</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-34] Requires field name of a part to be a quoted string - goes against HTTP specification</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-34</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;The FileUpload library requires that the field name from the Content-&lt;br/&gt;
Disposition header be a quoted string.  E.g.&lt;/p&gt;

&lt;p&gt;Content-Disposition: form-data; name=&quot;my_message&quot;&lt;/p&gt;

&lt;p&gt;The HTTP specification states that quoted strings are only required in this &lt;br/&gt;
field when certain special characters appear in the string.  &lt;/p&gt;

&lt;p&gt;This causes the parsing of requests from any clients that don&apos;t quote these &lt;br/&gt;
name fields to not work - the FileUpload library says that it can&apos;t find any &lt;br/&gt;
file items in the request, and the message cannot be dealt with.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341836">FILEUPLOAD-34</key>
            <summary>Requires field name of a part to be a quoted string - goes against HTTP specification</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="anthony.bull@bcsoft.co.nz">Ants Bull</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Oct 2004 12:25:45 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:56 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:56 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12407896" author="martinc" created="Fri, 29 Oct 2004 08:39:45 +0000"  >&lt;p&gt;This problem has already been fixed. The fix is available in recent nightly &lt;br/&gt;
builds, and will be included in the next release of FileUpload.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31932</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118290</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164949</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-33] [fileupload] FileUploadException, Stream ended unexpectedly</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-33</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I have Tomcat5.1.27 + struts + linux server running. I got the following error &lt;br/&gt;
when I upload some *.zip file. However, for others *.zip file during upload, I &lt;br/&gt;
did not catch the error. And I also try the latest nighty build for common-&lt;br/&gt;
fileupload, the same thing happened.&lt;/p&gt;

&lt;p&gt;Error message:&lt;/p&gt;

&lt;p&gt;2004-12-09 12:21:07 2004-12-09 12:21:07,925 &lt;span class=&quot;error&quot;&gt;&amp;#91;http-80-Processor60&amp;#93;&lt;/span&gt; ERROR &lt;br/&gt;
org.apache.struts.upload.CommonsMultipartRequestHandler - Failed to parse &lt;br/&gt;
multipart request&lt;br/&gt;
org.apache.commons.fileupload.FileUploadException: Processing of &lt;br/&gt;
multipart/form-data request failed. Stream ended unexpectedly&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase.parseRequest&lt;br/&gt;
(FileUploadBase.java:429)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.struts.upload.CommonsMultipartRequestHandler.handleRequest&lt;br/&gt;
(CommonsMultipartRequestHandler.java:233)&lt;br/&gt;
	at org.apache.struts.util.RequestUtils.populate(RequestUtils.java:1209)&lt;br/&gt;
	at org.apache.struts.action.RequestProcessor.processPopulate&lt;br/&gt;
(RequestProcessor.java:821)&lt;br/&gt;
	at org.apache.struts.action.RequestProcessor.process&lt;br/&gt;
(RequestProcessor.java:254)&lt;br/&gt;
	at org.apache.struts.action.ActionServlet.process&lt;br/&gt;
(ActionServlet.java:1482)&lt;br/&gt;
	at org.apache.struts.action.ActionServlet.doPost&lt;br/&gt;
(ActionServlet.java:525)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:709)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter&lt;br/&gt;
(ApplicationFilterChain.java:237)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.doFilter&lt;br/&gt;
(ApplicationFilterChain.java:157)&lt;/p&gt;

&lt;p&gt;It seems a kind of server error. And different browser have the same result.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12341936">FILEUPLOAD-33</key>
            <summary>[fileupload] FileUploadException, Stream ended unexpectedly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="fzhuang@epalscorp.com">fzhuang</reporter>
                        <labels>
                    </labels>
                <created>Sat, 11 Dec 2004 06:55:47 +0000</created>
                <updated>Sat, 8 Feb 2020 15:41:55 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:56 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12408314" author="david.testud@ledl.com" created="Fri, 11 Feb 2005 19:59:38 +0000"  >&lt;p&gt;Hi,&lt;br/&gt;
I&apos;ve exactly the same problem on Sybase EAServer 5.1 on Win2k Server.&lt;br/&gt;
It arrives 1/10 times on different file sizes and types.&lt;br/&gt;
Any idee ?&lt;br/&gt;
Thanks a lot,&lt;br/&gt;
David&lt;/p&gt;</comment>
                            <comment id="12408315" author="fischer@seitenbau.de" created="Tue, 8 Mar 2005 20:46:48 +0000"  >&lt;p&gt;I got a similar problem (Processing of multipart/form-data request failed. Read&lt;br/&gt;
timed out) in the same method, but somehow I am not sure this error (or any of&lt;br/&gt;
the other errors in this bug report) is a problem of FileUpload. To track down&lt;br/&gt;
the error, it would help very much to have a stacktrace of the original&lt;br/&gt;
Exception which was caught in parseRequest. One possibility for this would be to&lt;br/&gt;
write it to a log file, but FileUpload does not seem to use any logger. Another&lt;br/&gt;
possibility would be to use a NestableException out of the commons.lang library&lt;br/&gt;
(or use the code from there, if one does not want to depend on the commons.lang&lt;br/&gt;
library)&lt;/p&gt;</comment>
                            <comment id="12408316" author="mihobson" created="Thu, 17 Mar 2005 20:38:25 +0000"  >&lt;p&gt;I&apos;ve encountered the same exception when using an empty multipart form with&lt;br/&gt;
Opera 7.54u2 - it&apos;s fine with IE &amp;amp; FireFox.  See the attached Servlet for a&lt;br/&gt;
testcase which produces the following error:&lt;/p&gt;

&lt;p&gt;org.apache.commons.fileupload.FileUploadException: Processing of&lt;br/&gt;
multipart/form-data request failed. Stream ended unexpectedly&lt;br/&gt;
org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:429)&lt;br/&gt;
FileUploadBug.doPost(FileUploadBug.java:32)&lt;br/&gt;
javax.servlet.http.HttpServlet.service(HttpServlet.java:709)&lt;br/&gt;
javax.servlet.http.HttpServlet.service(HttpServlet.java:802)&lt;/p&gt;</comment>
                            <comment id="12408317" author="mihobson" created="Thu, 17 Mar 2005 20:39:54 +0000"  >&lt;p&gt;Created an attachment (id=14504)&lt;br/&gt;
Servlet testcase for bug with Opera&lt;/p&gt;</comment>
                            <comment id="12408318" author="mihobson" created="Thu, 17 Mar 2005 20:41:17 +0000"  >&lt;p&gt;I&apos;ve encountered the same exception when using an empty multipart form with&lt;br/&gt;
Opera 7.54u2 - it&apos;s fine with IE &amp;amp; FireFox.  See the attached Servlet for a&lt;br/&gt;
testcase which produces the following error:&lt;/p&gt;

&lt;p&gt;org.apache.commons.fileupload.FileUploadException: Processing of&lt;br/&gt;
multipart/form-data request failed. Stream ended unexpectedly&lt;br/&gt;
org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:429)&lt;br/&gt;
FileUploadBug.doPost(FileUploadBug.java:32)&lt;br/&gt;
javax.servlet.http.HttpServlet.service(HttpServlet.java:709)&lt;br/&gt;
javax.servlet.http.HttpServlet.service(HttpServlet.java:802)&lt;/p&gt;</comment>
                            <comment id="12408319" author="mikhail.krivoshein@gmail.com" created="Sat, 19 Mar 2005 04:42:53 +0000"  >&lt;p&gt;Hello all.&lt;/p&gt;

&lt;p&gt;Actually I&apos;m experiencing this problem too.&lt;br/&gt;
Looks like I should investigate the problem myself.&lt;br/&gt;
Did anybody find anything about cause of the problem?&lt;/p&gt;

&lt;p&gt;Best regards,&lt;br/&gt;
Mikhail Krivoshein&lt;br/&gt;
---------------------------------------&lt;br/&gt;
EBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;TP-Processor8&amp;#93;&lt;/span&gt; org.apache.struts.action.RequestProcessor&lt;br/&gt;
(processPopulate:787) -  Populating bean properties from this request&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;TP-Processor8&amp;#93;&lt;/span&gt; org.apache.struts.upload.CommonsMultipartRequestHandler&lt;br/&gt;
ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;TP-Processor8&amp;#93;&lt;/span&gt; org.apache.struts.upload.CommonsMultipartRequestHandler&lt;br/&gt;
(handleRequest:203) - Failed to parse multipart request&lt;br/&gt;
org.apache.commons.fileupload.FileUploadException: Processing of&lt;br/&gt;
multipart/form-data request failed. Stream ended unexpectedly&lt;br/&gt;
 at&lt;br/&gt;
org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:429)&lt;br/&gt;
 at&lt;br/&gt;
org.apache.struts.upload.CommonsMultipartRequestHandler.handleRequest(CommonsMultipartRequestHandler.java:195)&lt;br/&gt;
 at org.apache.struts.util.RequestUtils.populate(RequestUtils.java:445)&lt;br/&gt;
 at&lt;br/&gt;
org.apache.struts.action.RequestProcessor.processPopulate(RequestProcessor.java:798)&lt;br/&gt;
 at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:205)&lt;br/&gt;
 at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1164)&lt;br/&gt;
 at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:415)&lt;br/&gt;
 at javax.servlet.http.HttpServlet.service(HttpServlet.java:760)&lt;br/&gt;
 at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)&lt;br/&gt;
 at&lt;br/&gt;
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:247)&lt;br/&gt;
 at&lt;br/&gt;
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)&lt;br/&gt;
 at com.ops.web.TransactionsFilter.doFilter(TransactionsFilter.java:109)&lt;br/&gt;
 at&lt;br/&gt;
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:213)&lt;br/&gt;
 at&lt;br/&gt;
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)&lt;br/&gt;
 at com.ops.monitor.RequestFilter.doFilter(RequestFilter.java:83)&lt;br/&gt;
 at&lt;br/&gt;
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:213)&lt;br/&gt;
 at&lt;br/&gt;
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)&lt;br/&gt;
 at&lt;br/&gt;
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:256)&lt;br/&gt;
 at&lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)&lt;br/&gt;
 at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)&lt;br/&gt;
 at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)&lt;br/&gt;
 at&lt;br/&gt;
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)&lt;br/&gt;
 at&lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)&lt;br/&gt;
 at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)&lt;br/&gt;
 at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)&lt;br/&gt;
 at org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2422)&lt;br/&gt;
 at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:180)&lt;br/&gt;
 at&lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)&lt;br/&gt;
 at&lt;br/&gt;
org.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherValve.java:171)&lt;br/&gt;
 at&lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)&lt;br/&gt;
 at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:163)&lt;br/&gt;
 at&lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)&lt;br/&gt;
 at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)&lt;br/&gt;
 at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)&lt;br/&gt;
 at&lt;br/&gt;
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:174)&lt;br/&gt;
 at&lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)&lt;br/&gt;
 at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)&lt;br/&gt;
 at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)&lt;br/&gt;
 at org.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:199)&lt;br/&gt;
 at org.apache.jk.server.JkCoyoteHandler.invoke(JkCoyoteHandler.java:324)&lt;br/&gt;
 at org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:395)&lt;br/&gt;
 at org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:673)&lt;br/&gt;
 at org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:615)&lt;br/&gt;
 at org.apache.jk.common.SocketConnection.runIt(ChannelSocket.java:786)&lt;br/&gt;
 at&lt;br/&gt;
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:683)&lt;br/&gt;
 at java.lang.Thread.run(Thread.java:534)&lt;/p&gt;</comment>
                            <comment id="12408320" author="mikhail.krivoshein@gmail.com" created="Mon, 21 Mar 2005 00:12:59 +0000"  >&lt;p&gt;The investigation showed that the problem is outside FileUpload code (atleast in&lt;br/&gt;
my case).&lt;/p&gt;

&lt;p&gt;I found patch that is relevant to my case:&lt;br/&gt;
&lt;a href=&quot;http://issues.apache.org/bugzilla/show_bug.cgi?id=15278&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://issues.apache.org/bugzilla/show_bug.cgi?id=15278&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;m going to try it and then post results here.&lt;/p&gt;</comment>
                            <comment id="12408321" author="info@mikkri.com" created="Sat, 7 May 2005 01:33:32 +0000"  >&lt;p&gt;The testing showed that the problem is gone.&lt;br/&gt;
Considering that the problem is outside FileUpload I suggest to close this item.&lt;br/&gt;
Workaround is to downgrade JK from version 2 (officially unsupported!) to 1.2+.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333280" name="ASF.LICENSE.NOT.GRANTED--FileUploadBug.java" size="1383" author="markh" created="Thu, 17 Mar 2005 20:39:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32643</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118289</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 27 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slfr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164950</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-32] [fileupload] MultipartStream\IE 5.5 error</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-32</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;This was found in IE 5.5 SP2 using &lt;br/&gt;
commons-fileupload-1.0.jar (built on 12/17/2003  11:44a).&lt;/p&gt;

&lt;p&gt;The MultipartStream is throwing a &quot;Stream ended unexpectedly error&quot; in  IE 5.5. &lt;br/&gt;
It works fine in IE 6. It is the same code.&lt;/p&gt;

&lt;p&gt;The error is being generated from following code in &lt;br/&gt;
org.apache.commons.fileupload.MultipartStream:&lt;/p&gt;

&lt;p&gt;public int readBodyData(OutputStream output)&lt;br/&gt;
        throws MalformedStreamException,&lt;br/&gt;
               IOException&lt;br/&gt;
....&lt;br/&gt;
               head = 0;&lt;br/&gt;
                bytesRead = input.read(buffer, pad, bufSize - pad); //&lt;br/&gt;
(robert.priest says: this is returning -1 = end of file reached)&lt;/p&gt;

&lt;p&gt;                // &lt;span class=&quot;error&quot;&gt;&amp;#91;pprrrrrrr&amp;#93;&lt;/span&gt;&lt;br/&gt;
                if (bytesRead != -1)&lt;/p&gt;
                {
                 ...
                }
&lt;p&gt;	   else&lt;/p&gt;
                {
                    // The last pad amount is left in the buffer.
                    // Boundary can&apos;t be in there so write out the
                    // data you have and signal an error condition.
                    output.write(buffer, 0, pad);
                    output.flush();
                    total += pad;
                    throw new MalformedStreamException(
                            &quot;Stream ended unexpectedly&quot;);
                }
&lt;p&gt;            }&lt;br/&gt;
        }&lt;/p&gt;



&lt;p&gt;Is there something different in the form generation of IE 5.5. vs IE 6.0 that &lt;br/&gt;
is causing this issue?&lt;/p&gt;

&lt;p&gt;Is it possible the pad value is off in the input.read(buffer, pad, bufSize - &lt;br/&gt;
pad);  call?&lt;/p&gt;

&lt;p&gt;Any help would be appreciated. If need be, I can create a test package and ship &lt;br/&gt;
it to you...&lt;/p&gt;




&lt;p&gt;The following is the error I see in my logs:&lt;/p&gt;

&lt;p&gt;NDC:			&lt;br/&gt;
Category:	com.projectwise.web.server.lite.LiteServlet&lt;br/&gt;
Message:		Problem reading multipart file request&lt;br/&gt;
Location:	&lt;br/&gt;
Thrown:&lt;br/&gt;
org.apache.commons.fileupload.FileUploadException: Processing of multipart/form-&lt;br/&gt;
data request failed. Stream ended unexpectedly&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase.parseRequest&lt;br/&gt;
(FileUploadBase.java:429)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: Sun&lt;/p&gt;</environment>
        <key id="12341162">FILEUPLOAD-32</key>
            <summary>[fileupload] MultipartStream\IE 5.5 error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="robert.priest@bentley.com">Robert Priest</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Dec 2003 03:25:45 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:55 +0000</updated>
                            <resolved>Mon, 30 Oct 2006 21:39:35 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>4</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12405673" author="robert.priest@bentley.com" created="Thu, 18 Dec 2003 03:29:48 +0000"  >&lt;p&gt;The Following is a Network Trace performed using NetMon.&lt;br/&gt;
This is an example of a Multipart Form Post that resulted in the error &lt;br/&gt;
described in this bug report.&lt;/p&gt;

&lt;p&gt;Please contact me  if more information is needed.&lt;/p&gt;

&lt;p&gt;--------------------Begin Trace File -----------------------------&lt;/p&gt;

&lt;p&gt;Network Monitor trace  Wed 12/17/03 14:00:09  Captur 4.txt&lt;/p&gt;

&lt;p&gt;********************************************************************************&lt;br/&gt;
****************************************************************************&lt;br/&gt;
Frame    Time         Src MAC Addr    Dst MAC Addr    Protocol    &lt;br/&gt;
Description            Src Other Addr     Dst Other Addr     Type Other Addr&lt;br/&gt;
12       3.084435     00B0D0E728B7    000BDBC5C89F    HTTP        POST Request &lt;br/&gt;
(from client using port 1947)        WDEV-PRIEST1       WDEV-KELLERMANN    IP&lt;/p&gt;

&lt;p&gt;+ Frame: Base frame properties&lt;br/&gt;
+ ETHERNET: ETYPE = 0x0800 : Protocol = IP:  DOD Internet Protocol&lt;br/&gt;
+ IP: ID = 0xEEED; Proto = TCP; Len: 791&lt;br/&gt;
+ TCP: .AP..., len:  751, seq: 517708642-517709393, ack:4125315522, win:65248, &lt;br/&gt;
src: 1947  dst:   80 &lt;br/&gt;
  HTTP: POST Request (from client using port 1947)&lt;br/&gt;
      HTTP: Request Method = POST&lt;br/&gt;
      HTTP: Uniform Resource Identifier = /WEL/servlet/LiteServlet?&lt;br/&gt;
REQUEST_TYPE=DocumentCr&lt;br/&gt;
      HTTP: Protocol Version = HTTP/1.1&lt;br/&gt;
    + HTTP: Undocumented Header = Accept: image/gif, image/x-xbitmap, &lt;br/&gt;
image/jpeg, image/pjpeg, application/vnd.ms-powerpoint, application/vnd.ms-&lt;br/&gt;
excel, application/msword&lt;br/&gt;
    + HTTP: Undocumented Header = Content-Type: multipart/form-data; boundary=--&lt;br/&gt;
-------------------------7d326f8a0dd2&lt;br/&gt;
    + HTTP: Undocumented Header = Referer: &lt;a href=&quot;http://wdev-&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wdev-&lt;/a&gt;&lt;br/&gt;
kellermann/WEL/servlet/LiteServlet?REQUEST_TYPE=DocumentCreateForm&amp;amp;VaultId=50&lt;br/&gt;
    + HTTP: Undocumented Header = Accept-Language: en-us&lt;br/&gt;
    + HTTP: Undocumented Header = Accept-Encoding: gzip, deflate&lt;br/&gt;
    + HTTP: Undocumented Header = User-Agent: Mozilla/4.0 (compatible; MSIE &lt;br/&gt;
5.5; Windows NT 5.0; .NET CLR 1.1.4322)&lt;br/&gt;
    + HTTP: Undocumented Header = Host: wdev-kellermann&lt;br/&gt;
    + HTTP: Undocumented Header = Content-Length: 396&lt;br/&gt;
    + HTTP: Undocumented Header = Connection: Keep-Alive&lt;br/&gt;
    + HTTP: Undocumented Header = Cache-Control: no-cache&lt;br/&gt;
    + HTTP: Undocumented Header = Cookie: scrollToY=0; scrollToX=0; &lt;br/&gt;
JSESSIONID=945874E4988E4947994660268C07E1B4&lt;/p&gt;

&lt;p&gt;00000:  00 0B DB C5 C8 9F 00 B0 D0 E7 28 B7 08 00 45 00   ..&#195;&#155;&#195;&#133;&#195;&#136;&#194;&#159;.&#194;&#176;&#195;&#144;&#195;&#167;(&#194;&#183;..E.&lt;br/&gt;
00010:  03 17 EE ED 40 00 80 06 00 00 AC 12 08 9E AC 12   ..&#195;&#174;&#195;&#173;@.&#194;&#128;...&#194;&#172;..&#194;&#158;&#194;&#172;.&lt;br/&gt;
00020:  0A 84 07 9B 00 50 1E DB 9B 62 F5 E3 51 C2 50 18   .&#194;&#132;.&#194;&#155;.P.&#195;&#155;&#194;&#155;b&#195;&#181;&#195;&#163;Q&#195;&#130;P.&lt;br/&gt;
00030:  FE E0 6E 50 00 00 50 4F 53 54 20 2F 57 45 4C 2F   &#195;&#190;&#195;&#160;nP..POST /WEL/&lt;br/&gt;
00040:  73 65 72 76 6C 65 74 2F 4C 69 74 65 53 65 72 76   servlet/LiteServ&lt;br/&gt;
00050:  6C 65 74 3F 52 45 51 55 45 53 54 5F 54 59 50 45   let?REQUEST_TYPE&lt;br/&gt;
00060:  3D 44 6F 63 75 6D 65 6E 74 43 72 65 61 74 65 26   =DocumentCreate&amp;amp;&lt;br/&gt;
00070:  56 61 75 6C 74 49 64 3D 35 30 20 48 54 54 50 2F   VaultId=50 HTTP/&lt;br/&gt;
00080:  31 2E 31 0D 0A 41 63 63 65 70 74 3A 20 69 6D 61   1.1..Accept: ima&lt;br/&gt;
00090:  67 65 2F 67 69 66 2C 20 69 6D 61 67 65 2F 78 2D   ge/gif, image/x-&lt;br/&gt;
000A0:  78 62 69 74 6D 61 70 2C 20 69 6D 61 67 65 2F 6A   xbitmap, image/j&lt;br/&gt;
000B0:  70 65 67 2C 20 69 6D 61 67 65 2F 70 6A 70 65 67   peg, image/pjpeg&lt;br/&gt;
000C0:  2C 20 61 70 70 6C 69 63 61 74 69 6F 6E 2F 76 6E   , application/vn&lt;br/&gt;
000D0:  64 2E 6D 73 2D 70 6F 77 65 72 70 6F 69 6E 74 2C   d.ms-powerpoint,&lt;br/&gt;
000E0:  20 61 70 70 6C 69 63 61 74 69 6F 6E 2F 76 6E 64    application/vnd&lt;br/&gt;
000F0:  2E 6D 73 2D 65 78 63 65 6C 2C 20 61 70 70 6C 69   .ms-excel, appli&lt;br/&gt;
00100:  63 61 74 69 6F 6E 2F 6D 73 77 6F 72 64 2C 20 61   cation/msword, a&lt;br/&gt;
00110:  70 70 6C 69 63 61 74 69 6F 6E 2F 78 2D 73 68 6F   pplication/x-sho&lt;br/&gt;
00120:  63 6B 77 61 76 65 2D 66 6C 61 73 68 2C 20 2A 2F   ckwave-flash, */&lt;br/&gt;
00130:  2A 0D 0A 43 6F 6E 74 65 6E 74 2D 54 79 70 65 3A   *..Content-Type:&lt;br/&gt;
00140:  20 6D 75 6C 74 69 70 61 72 74 2F 66 6F 72 6D 2D    multipart/form-&lt;br/&gt;
00150:  64 61 74 61 3B 20 62 6F 75 6E 64 61 72 79 3D 2D   data; boundary=-&lt;br/&gt;
00160:  2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D   ----------------&lt;br/&gt;
00170:  2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 37 64 33 32 36 66   ----------7d326f&lt;br/&gt;
00180:  38 61 30 64 64 32 0D 0A 52 65 66 65 72 65 72 3A   8a0dd2..Referer:&lt;br/&gt;
00190:  20 68 74 74 70 3A 2F 2F 77 64 65 76 2D 6B 65 6C    &lt;a href=&quot;http://wdev-kel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wdev-kel&lt;/a&gt;&lt;br/&gt;
001A0:  6C 65 72 6D 61 6E 6E 2F 57 45 4C 2F 73 65 72 76   lermann/WEL/serv&lt;br/&gt;
001B0:  6C 65 74 2F 4C 69 74 65 53 65 72 76 6C 65 74 3F   let/LiteServlet?&lt;br/&gt;
001C0:  52 45 51 55 45 53 54 5F 54 59 50 45 3D 44 6F 63   REQUEST_TYPE=Doc&lt;/p&gt;

&lt;p&gt;page 1&lt;br/&gt;
&#65533;&lt;/p&gt;

&lt;p&gt;Network Monitor trace  Wed 12/17/03 14:00:09  Captur 4.txt&lt;/p&gt;

&lt;p&gt;001D0:  75 6D 65 6E 74 43 72 65 61 74 65 46 6F 72 6D 26   umentCreateForm&amp;amp;&lt;br/&gt;
001E0:  56 61 75 6C 74 49 64 3D 35 30 0D 0A 41 63 63 65   VaultId=50..Acce&lt;br/&gt;
001F0:  70 74 2D 4C 61 6E 67 75 61 67 65 3A 20 65 6E 2D   pt-Language: en-&lt;br/&gt;
00200:  75 73 0D 0A 41 63 63 65 70 74 2D 45 6E 63 6F 64   us..Accept-Encod&lt;br/&gt;
00210:  69 6E 67 3A 20 67 7A 69 70 2C 20 64 65 66 6C 61   ing: gzip, defla&lt;br/&gt;
00220:  74 65 0D 0A 55 73 65 72 2D 41 67 65 6E 74 3A 20   te..User-Agent: &lt;br/&gt;
00230:  4D 6F 7A 69 6C 6C 61 2F 34 2E 30 20 28 63 6F 6D   Mozilla/4.0 (com&lt;br/&gt;
00240:  70 61 74 69 62 6C 65 3B 20 4D 53 49 45 20 35 2E   patible; MSIE 5.&lt;br/&gt;
00250:  35 3B 20 57 69 6E 64 6F 77 73 20 4E 54 20 35 2E   5; Windows NT 5.&lt;br/&gt;
00260:  30 3B 20 2E 4E 45 54 20 43 4C 52 20 31 2E 31 2E   0; .NET CLR 1.1.&lt;br/&gt;
00270:  34 33 32 32 29 0D 0A 48 6F 73 74 3A 20 77 64 65   4322)..Host: wde&lt;br/&gt;
00280:  76 2D 6B 65 6C 6C 65 72 6D 61 6E 6E 0D 0A 43 6F   v-kellermann..Co&lt;br/&gt;
00290:  6E 74 65 6E 74 2D 4C 65 6E 67 74 68 3A 20 33 39   ntent-Length: 39&lt;br/&gt;
002A0:  36 0D 0A 43 6F 6E 6E 65 63 74 69 6F 6E 3A 20 4B   6..Connection: K&lt;br/&gt;
002B0:  65 65 70 2D 41 6C 69 76 65 0D 0A 43 61 63 68 65   eep-Alive..Cache&lt;br/&gt;
002C0:  2D 43 6F 6E 74 72 6F 6C 3A 20 6E 6F 2D 63 61 63   -Control: no-cac&lt;br/&gt;
002D0:  68 65 0D 0A 43 6F 6F 6B 69 65 3A 20 73 63 72 6F   he..Cookie: scro&lt;br/&gt;
002E0:  6C 6C 54 6F 59 3D 30 3B 20 73 63 72 6F 6C 6C 54   llToY=0; scrollT&lt;br/&gt;
002F0:  6F 58 3D 30 3B 20 4A 53 45 53 53 49 4F 4E 49 44   oX=0; JSESSIONID&lt;br/&gt;
00300:  3D 39 34 35 38 37 34 45 34 39 38 38 45 34 39 34   =945874E4988E494&lt;br/&gt;
00310:  37 39 39 34 36 36 30 32 36 38 43 30 37 45 31 42   7994660268C07E1B&lt;br/&gt;
00320:  34 0D 0A 0D 0A                                    4....           &lt;/p&gt;

&lt;p&gt;********************************************************************************&lt;br/&gt;
****************************************************************************&lt;br/&gt;
Frame    Time         Src MAC Addr    Dst MAC Addr    Protocol    &lt;br/&gt;
Description            Src Other Addr     Dst Other Addr     Type Other Addr&lt;br/&gt;
13       3.084435     00B0D0E728B7    000BDBC5C89F    HTTP        --------------&lt;br/&gt;
---------------7d326f8a0dd2&lt;br/&gt;
Conten WDEV-PRIEST1       WDEV-KELLERMANN    IP&lt;/p&gt;

&lt;p&gt;+ Frame: Base frame properties&lt;br/&gt;
+ ETHERNET: ETYPE = 0x0800 : Protocol = IP:  DOD Internet Protocol&lt;br/&gt;
+ IP: ID = 0xEEEE; Proto = TCP; Len: 436&lt;br/&gt;
+ TCP: .AP..., len:  396, seq: 517709393-517709789, ack:4125315522, win:65248, &lt;br/&gt;
src: 1947  dst:   80 &lt;br/&gt;
  HTTP: -----------------------------7d326f8a0dd2&lt;br/&gt;
Content-Disposition: Request (from c&lt;br/&gt;
      HTTP: Request Method = -----------------------------7d326f8a0dd2&lt;br/&gt;
Content-Dispositio&lt;br/&gt;
      HTTP: Uniform Resource Identifier = form-data;&lt;br/&gt;
      HTTP: Protocol Version = name=&quot;NewDocumentName&quot;&lt;br/&gt;
      HTTP: Data: Number of data bytes remaining = 295 (0x0127)&lt;/p&gt;

&lt;p&gt;00000:  00 0B DB C5 C8 9F 00 B0 D0 E7 28 B7 08 00 45 00   ..&#195;&#155;&#195;&#133;&#195;&#136;&#194;&#159;.&#194;&#176;&#195;&#144;&#195;&#167;(&#194;&#183;..E.&lt;br/&gt;
00010:  01 B4 EE EE 40 00 80 06 00 00 AC 12 08 9E AC 12   .&#194;&#180;&#195;&#174;&#195;&#174;@.&#194;&#128;...&#194;&#172;..&#194;&#158;&#194;&#172;.&lt;br/&gt;
00020:  0A 84 07 9B 00 50 1E DB 9E 51 F5 E3 51 C2 50 18   .&#194;&#132;.&#194;&#155;.P.&#195;&#155;&#194;&#158;Q&#195;&#181;&#195;&#163;Q&#195;&#130;P.&lt;br/&gt;
00030:  FE E0 6C ED 00 00 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D   &#195;&#190;&#195;&#160;l&#195;&#173;..----------&lt;br/&gt;
00040:  2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D   ----------------&lt;br/&gt;
00050:  2D 2D 2D 37 64 33 32 36 66 38 61 30 64 64 32 0D   ---7d326f8a0dd2.&lt;br/&gt;
00060:  0A 43 6F 6E 74 65 6E 74 2D 44 69 73 70 6F 73 69   .Content-Disposi&lt;br/&gt;
00070:  74 69 6F 6E 3A 20 66 6F 72 6D 2D 64 61 74 61 3B   tion: form-data;&lt;br/&gt;
00080:  20 6E 61 6D 65 3D 22 4E 65 77 44 6F 63 75 6D 65    name=&quot;NewDocume&lt;br/&gt;
00090:  6E 74 4E 61 6D 65 22 0D 0A 0D 0A 73 65 74 75 70   ntName&quot;....setup&lt;br/&gt;
000A0:  2E 6C 6F 67 0D 0A 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D   .log..----------&lt;br/&gt;
000B0:  2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D   ----------------&lt;br/&gt;
000C0:  2D 2D 2D 37 64 33 32 36 66 38 61 30 64 64 32 0D   ---7d326f8a0dd2.&lt;br/&gt;
000D0:  0A 43 6F 6E 74 65 6E 74 2D 44 69 73 70 6F 73 69   .Content-Disposi&lt;br/&gt;
000E0:  74 69 6F 6E 3A 20 66 6F 72 6D 2D 64 61 74 61 3B   tion: form-data;&lt;br/&gt;
000F0:  20 6E 61 6D 65 3D 22 4E 65 77 44 6F 63 75 6D 65    name=&quot;NewDocume&lt;/p&gt;

&lt;p&gt;page 2&lt;br/&gt;
&#65533;&lt;/p&gt;

&lt;p&gt;Network Monitor trace  Wed 12/17/03 14:00:09  Captur 4.txt&lt;/p&gt;

&lt;p&gt;00100:  6E 74 44 65 73 63 22 0D 0A 0D 0A 73 65 74 75 70   ntDesc&quot;....setup&lt;br/&gt;
00110:  2E 6C 6F 67 0D 0A 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D   .log..----------&lt;br/&gt;
00120:  2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D   ----------------&lt;br/&gt;
00130:  2D 2D 2D 37 64 33 32 36 66 38 61 30 64 64 32 0D   ---7d326f8a0dd2.&lt;br/&gt;
00140:  0A 43 6F 6E 74 65 6E 74 2D 44 69 73 70 6F 73 69   .Content-Disposi&lt;br/&gt;
00150:  74 69 6F 6E 3A 20 66 6F 72 6D 2D 64 61 74 61 3B   tion: form-data;&lt;br/&gt;
00160:  20 6E 61 6D 65 3D 22 49 6D 70 6F 72 74 46 69 6C    name=&quot;ImportFil&lt;br/&gt;
00170:  65 22 3B 20 66 69 6C 65 6E 61 6D 65 3D 22 44 3A   e&quot;; filename=&quot;D:&lt;br/&gt;
00180:  5C 44 6F 77 6E 6C 6F 61 64 73 5C 73 65 74 75 70   \Downloads\setup&lt;br/&gt;
00190:  2E 6C 6F 67 22 0D 0A 43 6F 6E 74 65 6E 74 2D 54   .log&quot;..Content-T&lt;br/&gt;
001A0:  79 70 65 3A 20 61 70 70 6C 69 63 61 74 69 6F 6E   ype: application&lt;br/&gt;
001B0:  2F 6F 63 74 65 74 2D 73 74 72 65 61 6D 0D 0A 0D   /octet-stream...&lt;br/&gt;
001C0:  0A 00                                             ..              &lt;/p&gt;


</comment>
                            <comment id="12405674" author="larsga@garshol.priv.no" created="Thu, 22 Jan 2004 22:53:22 +0000"  >&lt;p&gt;I&apos;ve observed this with MSIE 5.23 for Mac. Works fine with Mozilla for Mac &lt;br/&gt;
uploading the same file. I have the request bodies from both uploads, and both &lt;br/&gt;
seem perfectly fine according to spec.&lt;/p&gt;</comment>
                            <comment id="12405675" author="larsga@garshol.priv.no" created="Thu, 22 Jan 2004 23:51:21 +0000"  >&lt;p&gt;I&apos;ve created a test script in Jython (attached), which MultipartStream against &lt;br/&gt;
the stored message bodies, and this can parse the ones from Mozilla as well as &lt;br/&gt;
the ones from MSIE. This makes me suspect that it has to do with buffering, but &lt;br/&gt;
setting different buffer sizes like 100, 50, 51, and 99 makes no difference; it &lt;br/&gt;
still parses fine.&lt;/p&gt;</comment>
                            <comment id="12405676" author="larsga@garshol.priv.no" created="Thu, 22 Jan 2004 23:51:54 +0000"  >&lt;p&gt;Created an attachment (id=10056)&lt;br/&gt;
Jython test script&lt;/p&gt;</comment>
                            <comment id="12405677" author="martinc" created="Sun, 1 Feb 2004 13:11:48 +0000"  >&lt;p&gt;Lars, I don&apos;t think this is the same problem. The Mac problem is described in &lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-19&quot; title=&quot;File Upload Not Compatible With IE 5.2.3 MacOS X&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-19&quot;&gt;&lt;del&gt;COM-827&lt;/del&gt;&lt;/a&gt;. The NetMon trace that Robert included shows no sign of that &lt;br/&gt;
problem. (Actually, I don&apos;t see &lt;b&gt;any&lt;/b&gt; problems in that trace, so I&apos;m not quite &lt;br/&gt;
sure how to handle it. I don&apos;t have IE 5.5 installed anywhere either.)&lt;/p&gt;</comment>
                            <comment id="12405678" author="robert.priest@bentley.com" created="Mon, 2 Feb 2004 21:55:46 +0000"  >&lt;p&gt;Martin, &lt;/p&gt;

&lt;p&gt;Yes, you don&apos;t really see much from the trace. This is true, but there is a &lt;br/&gt;
problem if you use IE 5.5. Also, some fellow has figured out what you actually &lt;br/&gt;
need to run IE 5.5 on a box without un-installing your current version of IE.&lt;br/&gt;
Great, huh! His explanation of how to do so is here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.insert-title.com/web_design/?page=articles/dev/multi_IE&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.insert-title.com/web_design/?page=articles/dev/multi_IE&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;The version that I was testing with was IE 5.5 SP2. It can be found here (for &lt;br/&gt;
NT, 2000, XP, Server 2003):&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.skyzyx.com/downloads/ie55sp2_nt.zip&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.skyzyx.com/downloads/ie55sp2_nt.zip&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;BTW - I have found this problem running IE55 SP2 on Windows 2000 Server and &lt;br/&gt;
Windows 2000 Worskstation.&lt;/p&gt;


&lt;p&gt;and there is also a version for Win 95, 98, Me:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.skyzyx.com/downloads/ie55sp2_nt.zip&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.skyzyx.com/downloads/ie55sp2_nt.zip&lt;/a&gt;&lt;/p&gt;



&lt;p&gt;Let me know if you need any other information from me.&lt;/p&gt;


</comment>
                            <comment id="12405679" author="robert.priest@bentley.com" created="Mon, 2 Feb 2004 22:06:46 +0000"  >&lt;p&gt;Oh yes, when you run the IE 5.5. executable, if you go to the about box, it &lt;br/&gt;
will still say that it is whatever version you previously installed. However it &lt;br/&gt;
is IE 5.5. &lt;/p&gt;

&lt;p&gt;I do believe he mentions this in his document. He even show screens shots of &lt;br/&gt;
the IE 5.5  version returning a &quot;known CSS bug&quot;.&lt;/p&gt;

&lt;p&gt;See: &lt;a href=&quot;http://www.insert-title.com/web_design/articles/dev/sidebyside2.jpg&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.insert-title.com/web_design/articles/dev/sidebyside2.jpg&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12405680" author="shlomic@mercury.co.il" created="Wed, 11 Feb 2004 00:42:59 +0000"  >&lt;p&gt;it happened to me with IE6 also .&lt;br/&gt;
i don&apos;t think the browser has nothing to do with it.&lt;br/&gt;
it seems like network/server problem.&lt;/p&gt;</comment>
                            <comment id="12405681" author="martin.gritsch@fiducia.de" created="Thu, 19 Feb 2004 16:25:49 +0000"  >&lt;p&gt;It is a server problem. All works fine with tomcat 1.4 but with Websphere 4.0 I &lt;br/&gt;
get this error. I tested this with different OS (Windows 2000 and XP) and &lt;br/&gt;
different Browser (IE 5.5 IE 6.0 and Mozilla). But I have no luck with the &lt;br/&gt;
Websphere Server.&lt;/p&gt;</comment>
                            <comment id="12405682" author="shlomic@mercury.co.il" created="Thu, 19 Feb 2004 19:54:17 +0000"  >&lt;p&gt;we found out that the problem is with the Tomcat connector (Jakarta filter ) &lt;br/&gt;
we work with IIS and when we moved to the old connector the problem is gone.&lt;br/&gt;
i don&apos;t know for websphere but you might want to check the connector between &lt;br/&gt;
the Servlet container and the Web Server.&lt;/p&gt;</comment>
                            <comment id="12405683" author="martin.gritsch@fiducia.de" created="Thu, 22 Apr 2004 19:10:05 +0000"  >&lt;p&gt;After we have patched the WS 4.0 with the latest fixes the problem is solved.&lt;/p&gt;</comment>
                            <comment id="12405684" author="martinc" created="Sun, 17 Oct 2004 08:06:40 +0000"  >&lt;p&gt;This bug &lt;b&gt;may&lt;/b&gt; be fixed by the patch I&apos;ve just applied to fix &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-16&quot; title=&quot;[fileupload][PATCH] Workaround for IE5 Mac type=image bug&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-16&quot;&gt;&lt;del&gt;COM-1415&lt;/del&gt;&lt;/a&gt;, which &lt;br/&gt;
was a similar issue with IE5 on Mac OS9. If some people could test with the &lt;br/&gt;
20041017 nightly build, and report back, I&apos;d appreciate it.&lt;/p&gt;</comment>
                            <comment id="12405685" author="martinc" created="Mon, 28 Nov 2005 07:40:12 +0000"  >&lt;p&gt;Nobody has provided any feedback on this since I requested it over a year ago,&lt;br/&gt;
so I&apos;m closing this one out.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332661" name="ASF.LICENSE.NOT.GRANTED--chk.py" size="987" author="larsga@garshol.priv.no" created="Thu, 22 Jan 2004 23:51:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25598</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118288</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 50 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slfz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164951</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-31] [PATCH] Added some tests</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-31</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;We&apos;ve added a couple of tests for parsing multipart requests in FileUploadTest.&lt;br/&gt;
I&apos;ll attach a patch based on CVS.&lt;/p&gt;

&lt;p&gt;We also added the existing DefaultFileItemTest to TestAll, where it had&lt;br/&gt;
apparently been overlooked.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341566">FILEUPLOAD-31</key>
            <summary>[PATCH] Added some tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="justin@armory.com">Justin Sampson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Jul 2004 01:00:30 +0000</created>
                <updated>Mon, 30 Oct 2006 21:42:58 +0000</updated>
                            <resolved>Mon, 30 Oct 2006 21:42:58 +0000</resolved>
                                                                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12406994" author="justin@armory.com" created="Tue, 13 Jul 2004 01:01:23 +0000"  >&lt;p&gt;Created an attachment (id=12096)&lt;br/&gt;
Patch with added tests&lt;/p&gt;</comment>
                            <comment id="12406995" author="martinc" created="Thu, 14 Oct 2004 11:51:13 +0000"  >&lt;p&gt;Applied in the 20041014 nightly build. Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332977" name="ASF.LICENSE.NOT.GRANTED--fileupload-tests.patch" size="5196" author="justin@armory.com" created="Tue, 13 Jul 2004 01:01:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30059</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118287</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 4 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slg7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164952</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-30] [fileupload] filename drops case</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-30</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;When I&apos;m iterating over a set of FileItems, the getName method returns the&lt;br/&gt;
source filename in all lowercase.&lt;/p&gt;

&lt;p&gt;I did a little inner-class extension of the ServletFileUpload class as follows :&lt;/p&gt;

&lt;p&gt;FileUpload fu = new ServletFileUpload(factory) {&lt;br/&gt;
  protected java.lang.String getFileName(java.util.Map headers)&lt;/p&gt;
  {
    String fn = super.getFileName(headers);
    log(fn + &quot; :: &quot; + headers.toString());
    return fn;
  } 
&lt;p&gt;};&lt;/p&gt;

&lt;p&gt;in my tomcat (5.5) log, I get entries like this :&lt;/p&gt;

&lt;p&gt;c:\program files\samples\scrolling.fla] :: &lt;/p&gt;
{content-length=36864,
content-disposition=form-data; name=&quot;userfile[21]&quot;; filename=&quot;C:\Program
Files\Samples\Scrolling.fla&quot;, content-type=application/octet-stream}

&lt;p&gt;so it appears as if the filename in the headers is correctly case sensitive, but&lt;br/&gt;
the getFileName method is returning the filename in all lowercase... ?&lt;/p&gt;

&lt;p&gt;thanks in advance, and if there is anything else I can provide, please let me know.&lt;/p&gt;

&lt;p&gt;-daniel&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12342879">FILEUPLOAD-30</key>
            <summary>[fileupload] filename drops case</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dwood@digitaljiggery.com">Daniel Wood</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Feb 2006 02:21:39 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:55 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:55 +0000</resolved>
                                    <version>1.1 Final</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12411351" author="niallp" created="Fri, 3 Feb 2006 02:26:12 +0000"  >&lt;p&gt;I believe this was fixed recently:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewcvs.cgi?rev=367087&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi?rev=367087&amp;amp;view=rev&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12411352" author="martinc" created="Fri, 3 Feb 2006 02:27:10 +0000"  >&lt;p&gt;This was fixed on Jan 8. The fix is available in the nightly builds.&lt;/p&gt;</comment>
                            <comment id="12411353" author="dwood@digitaljiggery.com" created="Fri, 3 Feb 2006 02:43:11 +0000"  >&lt;p&gt;Sorry for the repeat report...&lt;/p&gt;

&lt;p&gt;This was my first time using the commons library and posting a bug.  I should&apos;ve&lt;br/&gt;
poked around a bit harded outside of bugzilla before posting.  In any event,&lt;br/&gt;
THANKS for the FAAAAST reply (5 minutes!), and I&apos;m up-n-running.&lt;/p&gt;

&lt;p&gt;-daniel&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38490</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118286</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 40 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164953</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-29] [fileupload] Remove Javadoc warnings</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-29</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;WRT: &lt;a href=&quot;http://jakarta.apache.org/commons/fileupload/javadoc-warnings-report.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jakarta.apache.org/commons/fileupload/javadoc-warnings-report.html&lt;/a&gt; &lt;br/&gt;
&lt;b&gt;time-sensitive URL&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Patch follows.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342762">FILEUPLOAD-29</key>
            <summary>[fileupload] Remove Javadoc warnings</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rahul@apache.org">Rahul Akolkar</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Nov 2005 11:46:16 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:55 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:55 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12410989" author="rahul@apache.org" created="Wed, 30 Nov 2005 11:47:08 +0000"  >&lt;p&gt;Created an attachment (id=17082)&lt;br/&gt;
Javadoc patch&lt;/p&gt;</comment>
                            <comment id="12410990" author="martinc" created="Thu, 1 Dec 2005 09:56:38 +0000"  >&lt;p&gt;Fixed in the 20051201 nightly build.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333931" name="ASF.LICENSE.NOT.GRANTED--fileupload_javadoc_warnings.patch" size="1888" author="rahul@apache.org" created="Wed, 30 Nov 2005 11:47:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37706</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118285</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slgn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164954</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-28] Cannot get FileUpload working with Tomcat 4.1</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-28</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I am using Tomcat 4.1 and Commons-FileUpload api. I cant get it working. I get &lt;br/&gt;
the following error:&lt;/p&gt;


&lt;p&gt;HTTP Status 500 - Internal Server Error&lt;/p&gt;

&lt;p&gt;--------------------------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;type Exception report&lt;/p&gt;

&lt;p&gt;message Internal Server Error&lt;/p&gt;

&lt;p&gt;description The server encountered an internal error (Internal Server Error) &lt;br/&gt;
that prevented it from fulfilling this request.&lt;/p&gt;

&lt;p&gt;exception &lt;/p&gt;

&lt;p&gt;javax.servlet.ServletException: Servlet execution threw an exception&lt;br/&gt;
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter&lt;br/&gt;
(ApplicationFilterChain.java:269)&lt;br/&gt;
        at org.apache.catalina.core.ApplicationFilterChain.doFilter&lt;br/&gt;
(ApplicationFilterChain.java:193)&lt;br/&gt;
        at org.apache.catalina.core.StandardWrapperValve.invoke&lt;br/&gt;
(StandardWrapperValve.java:256)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex&lt;br/&gt;
t(StandardPipeline.java:643)&lt;br/&gt;
        at org.apache.catalina.core.StandardPipeline.invoke&lt;br/&gt;
(StandardPipeline.java:480)&lt;br/&gt;
        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)&lt;br/&gt;
        at org.apache.catalina.core.StandardContextValve.invoke&lt;br/&gt;
(StandardContextValve.java:191)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex&lt;br/&gt;
t(StandardPipeline.java:643)&lt;br/&gt;
        at org.apache.catalina.valves.CertificatesValve.invoke&lt;br/&gt;
(CertificatesValve.java:246)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex&lt;br/&gt;
t(StandardPipeline.java:641)&lt;br/&gt;
        at org.apache.catalina.core.StandardPipeline.invoke&lt;br/&gt;
(StandardPipeline.java:480)&lt;br/&gt;
        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)&lt;br/&gt;
        at org.apache.catalina.core.StandardContext.invoke&lt;br/&gt;
(StandardContext.java:2417)&lt;br/&gt;
        at org.apache.catalina.core.StandardHostValve.invoke&lt;br/&gt;
(StandardHostValve.java:180)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex&lt;br/&gt;
t(StandardPipeline.java:643)&lt;br/&gt;
        at org.apache.catalina.valves.ErrorDispatcherValve.invoke&lt;br/&gt;
(ErrorDispatcherValve.java:171)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex&lt;br/&gt;
t(StandardPipeline.java:641)&lt;br/&gt;
        at org.apache.catalina.valves.ErrorReportValve.invoke&lt;br/&gt;
(ErrorReportValve.java:172)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex&lt;br/&gt;
t(StandardPipeline.java:641)&lt;br/&gt;
        at org.apache.catalina.core.StandardPipeline.invoke&lt;br/&gt;
(StandardPipeline.java:480)&lt;br/&gt;
        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)&lt;br/&gt;
        at org.apache.catalina.core.StandardEngineValve.invoke&lt;br/&gt;
(StandardEngineValve.java:174)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex&lt;br/&gt;
t(StandardPipeline.java:643)&lt;br/&gt;
        at org.apache.catalina.core.StandardPipeline.invoke&lt;br/&gt;
(StandardPipeline.java:480)&lt;br/&gt;
        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)&lt;br/&gt;
        at org.apache.catalina.connector.http.HttpProcessor.process&lt;br/&gt;
(HttpProcessor.java:1040)&lt;br/&gt;
        at org.apache.catalina.connector.http.HttpProcessor.run&lt;br/&gt;
(HttpProcessor.java:1151)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:479)&lt;br/&gt;
root cause &lt;/p&gt;

&lt;p&gt;java.lang.NoClassDefFoundError: javax/servlet/ServletInputStream&lt;br/&gt;
        at mehul.servlet.fileupload.FileUploadServlet.doPost&lt;br/&gt;
(FileUploadServlet.java:43)&lt;br/&gt;
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:760)&lt;br/&gt;
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)&lt;br/&gt;
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter&lt;br/&gt;
(ApplicationFilterChain.java:247)&lt;br/&gt;
        at org.apache.catalina.core.ApplicationFilterChain.doFilter&lt;br/&gt;
(ApplicationFilterChain.java:193)&lt;br/&gt;
        at org.apache.catalina.core.StandardWrapperValve.invoke&lt;br/&gt;
(StandardWrapperValve.java:256)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex&lt;br/&gt;
t(StandardPipeline.java:643)&lt;br/&gt;
        at org.apache.catalina.core.StandardPipeline.invoke&lt;br/&gt;
(StandardPipeline.java:480)&lt;br/&gt;
        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)&lt;br/&gt;
        at org.apache.catalina.core.StandardContextValve.invoke&lt;br/&gt;
(StandardContextValve.java:191)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex&lt;br/&gt;
t(StandardPipeline.java:643)&lt;br/&gt;
        at org.apache.catalina.valves.CertificatesValve.invoke&lt;br/&gt;
(CertificatesValve.java:246)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex&lt;br/&gt;
t(StandardPipeline.java:641)&lt;br/&gt;
        at org.apache.catalina.core.StandardPipeline.invoke&lt;br/&gt;
(StandardPipeline.java:480)&lt;br/&gt;
        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)&lt;br/&gt;
        at org.apache.catalina.core.StandardContext.invoke&lt;br/&gt;
(StandardContext.java:2417)&lt;br/&gt;
        at org.apache.catalina.core.StandardHostValve.invoke&lt;br/&gt;
(StandardHostValve.java:180)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex&lt;br/&gt;
t(StandardPipeline.java:643)&lt;br/&gt;
        at org.apache.catalina.valves.ErrorDispatcherValve.invoke&lt;br/&gt;
(ErrorDispatcherValve.java:171)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex&lt;br/&gt;
t(StandardPipeline.java:641)&lt;br/&gt;
        at org.apache.catalina.valves.ErrorReportValve.invoke&lt;br/&gt;
(ErrorReportValve.java:172)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex&lt;br/&gt;
t(StandardPipeline.java:641)&lt;br/&gt;
        at org.apache.catalina.core.StandardPipeline.invoke&lt;br/&gt;
(StandardPipeline.java:480)&lt;br/&gt;
        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)&lt;br/&gt;
        at org.apache.catalina.core.StandardEngineValve.invoke&lt;br/&gt;
(StandardEngineValve.java:174)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex&lt;br/&gt;
t(StandardPipeline.java:643)&lt;br/&gt;
        at org.apache.catalina.core.StandardPipeline.invoke&lt;br/&gt;
(StandardPipeline.java:480)&lt;br/&gt;
        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)&lt;br/&gt;
        at org.apache.catalina.connector.http.HttpProcessor.process&lt;br/&gt;
(HttpProcessor.java:1040)&lt;br/&gt;
        at org.apache.catalina.connector.http.HttpProcessor.run&lt;br/&gt;
(HttpProcessor.java:1151)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:479)&lt;/p&gt;

&lt;p&gt;--------------------------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Apache Tomcat/4.1.29&lt;/p&gt;


&lt;p&gt;================================================================================&lt;br/&gt;
=&lt;/p&gt;



&lt;p&gt;My HTML looks like:&lt;/p&gt;





&lt;p&gt;&amp;lt;HTML&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;HEAD&amp;gt;&amp;lt;/HEAD&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;BODY&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;BR&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;CENTER&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;P&amp;gt;&lt;/p&gt;

&lt;p&gt;UPLAOD A DOCUMENT FILE ON THE SERVER&lt;/p&gt;

&lt;p&gt;&amp;lt;/P&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;BR&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;FORM METHOD=&quot;POST&quot; ENCTYPE=&quot;MULTIPART/FORM-DATA&quot; ACTION=&quot;FileUploadServlet&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;!-- &amp;lt;FORM NAME=&quot;UPLOADFORM&quot; METHOD=&quot;POST&quot; ACTION=&quot;FileUploadServlet&quot;&amp;gt; --&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;INPUT TYPE=&quot;FILE&quot; NAME=&quot;UPLOADFILENAME&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;BR&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;INPUT TYPE=&quot;TEXT&quot; NAME=&quot;TEST&quot; VALUE=&quot;AAAAAAAAA&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;BR&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;BR&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;INPUT TYPE=&quot;SUBMIT&quot; VALUE=&quot;UPLOAD&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;/FORM&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;/CENTER&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;/BODY&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;/HTML&amp;gt;&lt;/p&gt;



&lt;p&gt;My code looks like:&lt;/p&gt;



&lt;p&gt;            public void doPost(HttpServletRequest request, HttpServletResponse &lt;br/&gt;
response)&lt;/p&gt;

&lt;p&gt;                                                            throws &lt;br/&gt;
ServletException, IOException {&lt;/p&gt;



&lt;p&gt;                        try {&lt;/p&gt;

&lt;p&gt;                                    boolean isMultipart = &lt;br/&gt;
FileUpload.isMultipartContent(request);&lt;/p&gt;



&lt;p&gt;                                    if(isMultipart == true) {&lt;/p&gt;



&lt;p&gt;                                                DiskFileUpload upload = new &lt;br/&gt;
DiskFileUpload();&lt;/p&gt;

&lt;p&gt;                                                List items = upload.parseRequest&lt;br/&gt;
(request, 1024*4, 1024*2000, &quot;c:&lt;br class=&quot;atl-forced-newline&quot; /&gt;temp&quot;);&lt;/p&gt;



&lt;p&gt;                                                Iterator iter = items.iterator&lt;br/&gt;
();&lt;/p&gt;



&lt;p&gt;                                                while (iter.hasNext()) {&lt;/p&gt;



&lt;p&gt;                                                            FileItem item = &lt;br/&gt;
(FileItem) iter.next();&lt;/p&gt;



&lt;p&gt;                                                            if (item.isFormField&lt;br/&gt;
()) &lt;/p&gt;
{

                                                                        String 
name = item.getFieldName();

                                                                        String 
value = item.getString();

                                                                        
System.out.println(&quot;Name = &quot; + name);

                                                                        
System.out.println(&quot;Value = &quot; + value);

                                                            }

&lt;p&gt;                                                            else &lt;/p&gt;
{

                                                                        String 
fieldName = item.getFieldName();

                                                                        String 
fileName = item.getName();

                                                                        String 
contentType = item.getContentType();

                                                                        boolean 
isInMemory = item.isInMemory();

                                                                        long 
sizeInBytes = item.getSize();

                                                                        File 
uploadedFile = new File(&quot;c:\\mehul\\ssl\\&quot; + fileName);

                                                                        
item.write(uploadedFile);

                                                            }

&lt;p&gt;                                                }&lt;/p&gt;

&lt;p&gt;                                    }&lt;/p&gt;



&lt;p&gt;                                    request.getRequestDispatcher&lt;br/&gt;
(&quot;UploadResponse&quot;).forward(request, response);&lt;/p&gt;

&lt;p&gt;                        }&lt;/p&gt;

&lt;p&gt;                        catch(Exception e) &lt;/p&gt;
{

                                    e.printStackTrace();

                        }

&lt;p&gt;            }&lt;/p&gt;





&lt;p&gt;The servlet.jar file is in server/lib directory. I am running on windows xp &lt;br/&gt;
machine.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12341122">FILEUPLOAD-28</key>
            <summary>Cannot get FileUpload working with Tomcat 4.1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mehulks@hotmail.com">Mehul Shah</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Nov 2003 06:50:18 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:55 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:55 +0000</resolved>
                                    <version>1.1 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12405545" author="martinc" created="Wed, 26 Nov 2003 07:37:27 +0000"  >&lt;p&gt;This is not a bug in Commons FileUpload, but in your application. FileUpload is &lt;br/&gt;
not even in the call stack when the exception is happening. The exception is &lt;br/&gt;
happening in your servlet, and is because of a missing class that is not part &lt;br/&gt;
of FileUpload.&lt;/p&gt;

&lt;p&gt;Make sure that the Commons FileUpload jar is in your WEB-INF/lib, as it should &lt;br/&gt;
be, and that your Tomcat installation is otherwise working. Most likely, the &lt;br/&gt;
problem is with your application deployment.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24995</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118284</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 51 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slgv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164955</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-27] Otiose Code in ParameterParser</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-27</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;The line &quot;paramValue = null&quot; is, I think, otiose in ParameterParser and&lt;br/&gt;
constitutes an operation that really does nothing except take up CPU space,&lt;br/&gt;
unless  the VM catches it, which I doubt, and ignores it.  Not sure if people&lt;br/&gt;
want to look at code this closely, but, if you do, then the code is:&lt;/p&gt;



&lt;p&gt;  public Map parse(final char[] chars,&lt;br/&gt;
                   int offset,&lt;br/&gt;
                   int length,&lt;br/&gt;
                   char separator) {&lt;br/&gt;
    if (chars == null) &lt;/p&gt;
{
      return new HashMap();
    }
&lt;p&gt;    HashMap params = new HashMap();&lt;br/&gt;
    this.chars = chars;&lt;br/&gt;
    this.pos = offset;&lt;br/&gt;
    this.len = length;&lt;/p&gt;

&lt;p&gt;    String paramName = null;&lt;br/&gt;
    String paramValue = null;&lt;br/&gt;
    while (hasChar()) {&lt;br/&gt;
      paramName = parseToken(new char[] &lt;/p&gt;
{ &apos;=&apos;, separator }
&lt;p&gt;);&lt;br/&gt;
      paramValue = null;&lt;br/&gt;
      if (hasChar() &amp;amp;&amp;amp; (chars&lt;span class=&quot;error&quot;&gt;&amp;#91;pos&amp;#93;&lt;/span&gt; == &apos;=&apos;)) {&lt;br/&gt;
        pos++; // skip &apos;=&apos;&lt;br/&gt;
        paramValue = parseQuotedToken(new char[] &lt;/p&gt;
{ separator }
&lt;p&gt;);&lt;br/&gt;
      }&lt;br/&gt;
      if (hasChar() &amp;amp;&amp;amp; (chars&lt;span class=&quot;error&quot;&gt;&amp;#91;pos&amp;#93;&lt;/span&gt; == separator)) &lt;/p&gt;
{
        pos++; // skip separator
      }
&lt;p&gt;      if ((paramName != null) &amp;amp;&amp;amp; (paramName.length() &amp;gt; 0)) {&lt;br/&gt;
        if (this.lowerCaseNames) &lt;/p&gt;
{
          paramName = paramName.toLowerCase();
        }
&lt;p&gt;        params.put(paramName, paramValue);&lt;br/&gt;
      }&lt;br/&gt;
    }&lt;br/&gt;
    return params;&lt;br/&gt;
  }&lt;/p&gt;

&lt;p&gt;Michael McGrady&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341823">FILEUPLOAD-27</key>
            <summary>Otiose Code in ParameterParser</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="michael@michaelmcgrady.com">Michael McGrady</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Oct 2004 00:37:26 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:55 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:55 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12407861" author="michael@michaelmcgrady.com" created="Fri, 22 Oct 2004 00:46:39 +0000"  >&lt;p&gt;I think this was a mistake.  My apologies.  Please nuke this bug.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31831</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118283</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 3 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slh3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164956</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-26] [fileupload] write() method can be invoked only once.</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-26</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;the way &quot;write()&quot; is implemented looks a bit dangerous to me. File.renameTo &lt;br/&gt;
currently seems to not update the &quot;internal&quot; filename. So your original file &lt;br/&gt;
is &quot;/tmp/upload_00000000.tmp&quot;, after the renameTo(&quot;/usr/test.jar&quot;) the File &lt;br/&gt;
object still contains &quot;/tmp/upload_00000000.tmp&quot; (which I&apos;m not sure it is &lt;br/&gt;
valid, I would expect to &quot;follow&quot; the file. But this is Sun implementation).&lt;/p&gt;

&lt;p&gt;    if (storeLocation != null &amp;amp;&amp;amp; storeLocation.exists()) &lt;/p&gt;
{
        storeLocation.delete();
    }

&lt;p&gt;This means that if Sun decide to change their implementation and the way &lt;br/&gt;
RenameTo works (to &quot;follow&quot; the underlying file), you will actually delete the &lt;br/&gt;
file that the user tried to save. &lt;br/&gt;
It also means that you can call (with the current Sun implementation) write() &lt;br/&gt;
method only once (the source file &quot;disapears&quot; after the first rename). If Sun &lt;br/&gt;
changes the implementation, you will be able to call it more than once but then &lt;br/&gt;
you will only have one copy of the file (where I would expect to have multiple &lt;br/&gt;
copies).&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12340684">FILEUPLOAD-26</key>
            <summary>[fileupload] write() method can be invoked only once.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="thierry.deleeuw@advalvas.be">Thierry De Leeuw</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Apr 2003 00:58:19 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:55 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:55 +0000</resolved>
                                    <version>1.0 Beta 1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12404168" author="martinc" created="Mon, 12 May 2003 12:38:22 +0000"  >&lt;p&gt;I have documented the fact that write() is only guaranteed to succeed the first &lt;br/&gt;
time it is invoked for a given file item. This allows the implementation to use &lt;br/&gt;
file renaming, or an equivalent, while the only restriction is that the item &lt;br/&gt;
cannot be written more than once, which is not a likely requirement in any case.&lt;/p&gt;

&lt;p&gt;There really isn&apos;t a viable alternative to this restriction without imposing &lt;br/&gt;
the requirement that the data always be copied by write(), which itself could &lt;br/&gt;
impose a significant performance penalty on implementations.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19369</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118282</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 27 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slhb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164957</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-25] [fileupload] all filenames are lowercased</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-25</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Since updating to version 1.1 the filenames of all files that are uploaded via&lt;br/&gt;
Commons FileUpload are lowercased. I guess it has something to do with &amp;lt;a&lt;br/&gt;
href=&quot;http://issues.apache.org/bugzilla/show_bug.cgi?id=34497&quot;&amp;gt;&lt;a href=&quot;http://issues.apache.org/bugzilla/show_bug.cgi?id=34497&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://issues.apache.org/bugzilla/show_bug.cgi?id=34497&lt;/a&gt;&amp;lt;/a&amp;gt;&lt;br/&gt;
but I&apos;m not sure though.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12343063">FILEUPLOAD-25</key>
            <summary>[fileupload] all filenames are lowercased</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="d.de.wit@wis.nl">Daan de Wit</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 May 2006 20:04:45 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:55 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:55 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12411842" author="dennisl@apache.org" created="Thu, 4 May 2006 21:10:01 +0000"  >&lt;p&gt;This has already been fixed in SVN:&lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/viewcvs?rev=367087&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs?rev=367087&amp;amp;view=rev&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39482</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118281</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slhj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164958</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-24] Size Threshold in Commons Upload not Working</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-24</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;When I upload a file size of 0 even though the size threshold is set at 4096,&lt;br/&gt;
commons upload still uploads the file.  FileUploadBase&lt;br/&gt;
parseRequest(HttpServletRequest) appears not to interface the the threshold setting.&lt;/p&gt;

&lt;p&gt;Michael McGrady&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12341822">FILEUPLOAD-24</key>
            <summary>Size Threshold in Commons Upload not Working</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="michael@michaelmcgrady.com">Michael McGrady</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Oct 2004 20:54:33 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:54 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:54 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12407854" author="martinc" created="Fri, 22 Oct 2004 01:42:19 +0000"  >&lt;p&gt;The threshold has nothing to do with whether or not something gets uploaded. &lt;br/&gt;
FileUpload has no control over that, since the browser determines what to send. &lt;br/&gt;
The threshold is used to determine whether the content of the item, once &lt;br/&gt;
uploaded, should be retained in memory or written to disk. That is, if your &lt;br/&gt;
threshold is 4096 bytes, then anything smaller than that will be retained in &lt;br/&gt;
memory, and anything larger will be written to disk.&lt;/p&gt;</comment>
                            <comment id="12407855" author="michael@michaelmcgrady.com" created="Sat, 23 Oct 2004 19:50:05 +0000"  >&lt;p&gt;This bug was based on your following comment, Martin.&lt;/p&gt;

&lt;p&gt;&quot;This isn&apos;t completely accurate. The fact that the FileItem exists&lt;br/&gt;
means that the client (usually a browser) submitted a multipart part&lt;br/&gt;
for it. If the size is zero, as determined by getSize(), then the&lt;br/&gt;
client submitted a zero-length part (i.e. submitted no data for that&lt;br/&gt;
part).&lt;/p&gt;

&lt;p&gt;Recall that a FileItem may or may not be backed by a file in the file&lt;br/&gt;
system. That is determined by the particular FileItem implementation.&lt;br/&gt;
The default implementation stores file item data on disk only if the&lt;br/&gt;
size exceeds a configurable threshold, which all but precludes empty&lt;br/&gt;
files.&lt;/p&gt;

&lt;p&gt;&amp;#8211;&lt;br/&gt;
Martin Cooper&quot;&lt;/p&gt;

&lt;p&gt;Is this not the case?&lt;/p&gt;</comment>
                            <comment id="12407856" author="michael@michaelmcgrady.com" created="Sat, 23 Oct 2004 19:52:45 +0000"  >&lt;p&gt;What I am saying, Martin, is that if your intended behavior is that &quot;if your &lt;br/&gt;
threshold is 4096 bytes, then anything smaller than that will be retained in &lt;br/&gt;
memory, and anything larger will be written to disk&quot;, then there is a bug,&lt;br/&gt;
because files of 0 size are written to disk even if the threshold is set to 5096&lt;/p&gt;

&lt;p&gt;Michael McGrady&lt;/p&gt;</comment>
                            <comment id="12407857" author="michael@michaelmcgrady.com" created="Sat, 23 Oct 2004 22:03:26 +0000"  >&lt;p&gt;What happens with this, Martin, is that even if you don&apos;t use the default file&lt;br/&gt;
item implementation you have to carry all the default code because it, rather&lt;br/&gt;
than the FileItem interface, is referenced in the DiskFileUpload class.  You&lt;br/&gt;
might think about changing the architecture to something like the following for&lt;br/&gt;
FileItem, because it looks as if you are treating the implementations of&lt;br/&gt;
FileItem like providers:&lt;/p&gt;

&lt;p&gt;public abstract class FileItem&lt;br/&gt;
    implements Serializable {&lt;br/&gt;
  private static Map implementations = null;&lt;/p&gt;

&lt;p&gt;  private static synchronized void init() {&lt;br/&gt;
    if(implementations == null) &lt;/p&gt;
{
      implementations = new HashMap();

      // load implementation class names and keys
      // from a Properties file, translate names
      // into Class objects using Class.forName and
      // store mappings.
    }
&lt;p&gt;  }&lt;/p&gt;

&lt;p&gt;  public static FileItem getInstance(String  key,&lt;br/&gt;
                                     String  fieldName,&lt;br/&gt;
                                     String  contentType,&lt;br/&gt;
                                     boolean isFormField,&lt;br/&gt;
                                     String  fileName,&lt;br/&gt;
                                     File    repository) {&lt;br/&gt;
    init();&lt;br/&gt;
    Class fileItem = (Class)implementations.get(key);&lt;/p&gt;

&lt;p&gt;    if(fileItem == null) &lt;/p&gt;
{
      return new
DefaultFileItem(fieldName,contentType,isFormField,fileName,repository);
    }

&lt;p&gt;    FileItem fi = null;&lt;/p&gt;

&lt;p&gt;    try &lt;/p&gt;
{
      fi = (FileItem)fileItem.newInstance();
    }
&lt;p&gt; catch (InstantiationException ie) &lt;/p&gt;
{
      // Fill in as desired
    } catch (IllegalAccessException iae) {      // Fill in as desired    }


&lt;p&gt;    fi.setContentType(contentType);&lt;br/&gt;
    fi.setFieldName(fieldName);&lt;br/&gt;
    fi.setName(fileName);&lt;br/&gt;
    fi.setFormField(isFormField);&lt;/p&gt;

&lt;p&gt;    return fi;&lt;br/&gt;
  }&lt;/p&gt;

&lt;p&gt;  public abstract byte[]       get();&lt;br/&gt;
  public abstract String       getContentType();&lt;br/&gt;
  public abstract String       getFieldName();&lt;br/&gt;
  public abstract InputStream  getInputStream() throws IOException;&lt;br/&gt;
  public abstract String       getName();&lt;br/&gt;
  public abstract OutputStream getOutputStream() throws IOException;&lt;br/&gt;
  public abstract long         getSize();&lt;br/&gt;
  public abstract String       getString();&lt;br/&gt;
  public abstract String       getString(String encoding) throws&lt;br/&gt;
UnsupportedEncodingException;&lt;/p&gt;

&lt;p&gt;  public abstract void         setContentType(String name);&lt;br/&gt;
  public abstract void         setFieldName(String name);&lt;br/&gt;
  public abstract void         setName(String name);&lt;br/&gt;
  public abstract void         setFormField(boolean state);&lt;br/&gt;
  public abstract void         delete();&lt;br/&gt;
  public abstract boolean      isFormField();&lt;br/&gt;
  public abstract boolean      isInMemory();&lt;br/&gt;
  public abstract void         write(File file) throws Exception;&lt;br/&gt;
}&lt;/p&gt;


&lt;p&gt;This way you can have your default implementation but not use it when you desire&lt;br/&gt;
to have a different implementation.  Then you can just change implementations at&lt;br/&gt;
will.  This is, of course, just a start and would affect the use of factories,&lt;br/&gt;
etc. for file item.&lt;/p&gt;

&lt;p&gt;What do you think?&lt;/p&gt;

&lt;p&gt;Michael McGrady&lt;/p&gt;
</comment>
                            <comment id="12407858" author="michael@michaelmcgrady.com" created="Sat, 23 Oct 2004 22:15:05 +0000"  >&lt;p&gt;Martin,&lt;/p&gt;

&lt;p&gt;Just to finish up with the prior comments.  This would then result in something&lt;br/&gt;
like changing the abstract class FileUploadBase to simply a class FileUpload and&lt;br/&gt;
setting FileItem accordingly with FileItem.getInstance(blah,blah,...,blah). &lt;br/&gt;
This would greatly simplify the architecture, would be consistent with past&lt;br/&gt;
implementations, and would allow people to use alternative implementations&lt;br/&gt;
without having in addition to use the default implementation.&lt;/p&gt;

&lt;p&gt;Michael McGrady &lt;/p&gt;</comment>
                            <comment id="12407859" author="martinc" created="Sun, 24 Oct 2004 01:48:57 +0000"  >&lt;p&gt;All my testing shows that zero-length files are not written to disk unless you &lt;br/&gt;
choose to do that after they have been uploaded. If you can provide a test case &lt;br/&gt;
that demonstrates that I am wrong, then I&apos;ll be happy to fix the bug.&lt;/p&gt;

&lt;p&gt;As for the comments on the design of FileUpload, they really have nothing to do &lt;br/&gt;
with this bug, and so have no business here. However, note that (a) you can use &lt;br/&gt;
your own FileItem implementation with DiskFileUpload as long as your factory &lt;br/&gt;
extends DefaultFileItemFactory, and (b) you can use the FileUpload class to &lt;br/&gt;
provide your own implementation that is not related to DiskFileUpload (e.g. if &lt;br/&gt;
you wanted to store the file items in a database).&lt;/p&gt;</comment>
                            <comment id="12407860" author="michael@michaelmcgrady.com" created="Sun, 24 Oct 2004 04:46:15 +0000"  >&lt;p&gt;Martin,&lt;/p&gt;

&lt;p&gt;Thanks for your insights.  I have just a couple of things to say and then I&lt;br/&gt;
guess I will just go off and try my own implementation as you suggest.&lt;/p&gt;

&lt;p&gt;First, do you think that you may be getting your results because you are only&lt;br/&gt;
using the default implementation?  I suspect this is so.  Anyway, I am clearly&lt;br/&gt;
getting the result I stated.&lt;/p&gt;


&lt;p&gt;Second, what I was trying to say is that you have tied the&lt;br/&gt;
DefaultFileItemFactory to the application in a way more consistent with a&lt;br/&gt;
provider than a factory.  So, I was suggesting you might want to have a provider&lt;br/&gt;
setup which then would not require implementations to adapt all of your ideas. &lt;br/&gt;
This would increase flexibility a &quot;zillion&quot; percent, since there is really none&lt;br/&gt;
at the moment.  Where would you prefer this discussion take place?&lt;/p&gt;


&lt;p&gt;Thanks, again,&lt;/p&gt;

&lt;p&gt;Michael McGrady&lt;/p&gt;

</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31828</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118280</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 3 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slhr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164959</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-23] [fileupload] Opera-Fileupload-Items are not recognized if empty</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-23</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Defining a fileupload-control on a webpage:&lt;br/&gt;
&amp;lt;input type=&quot;file&quot; name=&quot;File1&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;Then I parse the request by FileUpload:&lt;br/&gt;
org.apache.commons.fileupload.DiskFileUpload fileUpload = new &lt;br/&gt;
org.apache.commons.fileupload.DiskFileUpload();&lt;br/&gt;
...some initialization&lt;/p&gt;

&lt;p&gt;//Process request:&lt;br/&gt;
java.util.List list = fileUpload.parseRequest( request );&lt;/p&gt;

&lt;p&gt;//Loop through the fields:&lt;br/&gt;
for (int i = 0; i &amp;lt; list.size(); i++)&lt;br/&gt;
{&lt;br/&gt;
  org.apache.commons.fileupload.FileItem fileItem = &lt;br/&gt;
(org.apache.commons.fileupload.FileItem) list.get&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/information.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;;&lt;/p&gt;

&lt;p&gt;  //Check type:&lt;br/&gt;
  if (fileItem.isFormField() == true)&lt;/p&gt;
  {
     //Form-Field:
     System.out.println ( &quot;IsFormField: &quot; + fileItem.isFormField() + &quot;, 
FieldName: &quot; + fileItem.getFieldName() + &quot;: &quot; + fileItem.getString(&quot;ISO-8859-
1&quot;)  );
   }
&lt;p&gt;   else&lt;/p&gt;
   {
     //File !
     System.out.println ( &quot;IsFormField: &quot; + fileItem.isFormField() + &quot;, 
FieldName: &quot; + fileItem.getFieldName() + &quot;, File: &quot; + fileItem.getName() + &quot;: &quot; 
+ fileItem.getContentType() );
   }
&lt;p&gt;  }&lt;/p&gt;

&lt;p&gt;The output looks like this with Opera (5 File-Upload-Items, Item 1 has a valid &lt;br/&gt;
file):&lt;br/&gt;
IsFormField: false, FieldName: File1, File: thecorrectfilename.txt: text/plain&lt;br/&gt;
IsFormField: true, FieldName: File2: &lt;br/&gt;
IsFormField: true, FieldName: File3: &lt;br/&gt;
IsFormField: true, FieldName: File4: &lt;br/&gt;
IsFormField: true, FieldName: File5: &lt;/p&gt;

&lt;p&gt;What you see is that empty FileUpload-Fields are recognized as formfields.&lt;br/&gt;
(hope that I didn&apos;t break important info while modifiying the code and output &lt;br/&gt;
to a more readable form).&lt;/p&gt;

&lt;p&gt;My Opera version is 7.21.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12341056">FILEUPLOAD-23</key>
            <summary>[fileupload] Opera-Fileupload-Items are not recognized if empty</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="wknauf@hg-online.de">Wolfgang Knauf</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Oct 2003 23:35:12 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:54 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:54 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12405337" author="martinc" created="Fri, 24 Oct 2003 23:55:04 +0000"  >&lt;p&gt;Unfortunately, I&apos;m not aware of any way of fixing this. The only way of &lt;br/&gt;
distinguishing form fields from file upload fields is that the latter have a &lt;br/&gt;
file name associated with them. In the case you are seeing, where the item is &lt;br/&gt;
empty (but still being submitted anyway???), no file name is provided, and so &lt;br/&gt;
the field is assumed to be a form field.&lt;/p&gt;

&lt;p&gt;If somebody knows of an alternative, more reliable, way of distinguishing &lt;br/&gt;
between the two types of fields, I&apos;ll be happy to make the change. In the &lt;br/&gt;
meantime, however, I&apos;m going to mark this as WONTFIX (since INVALID is a little &lt;br/&gt;
harsh &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;</comment>
                            <comment id="12405338" author="wknauf@hg-online.de" created="Mon, 27 Oct 2003 17:06:53 +0000"  >&lt;p&gt;Created an attachment (id=8748)&lt;br/&gt;
Sample form for file upload (needs TestFileupload.jsp)&lt;/p&gt;</comment>
                            <comment id="12405339" author="wknauf@hg-online.de" created="Mon, 27 Oct 2003 17:07:14 +0000"  >&lt;p&gt;Created an attachment (id=8749)&lt;br/&gt;
Sample JSP for file upload (needs TestFileupload.html)&lt;/p&gt;</comment>
                            <comment id="12405340" author="wknauf@hg-online.de" created="Mon, 27 Oct 2003 17:08:21 +0000"  >&lt;p&gt;I made a small sample form with a processing JSP (outputs only the request &lt;br/&gt;
fields), and found out that all three browsers send an empty file name if field &lt;br/&gt;
is empty. But what&apos;s different is that IE and Mozilla send a content-&lt;br/&gt;
type &quot;application/octet stream&quot; with empty fields, while Opera doesn&apos;t.  Maybe &lt;br/&gt;
that&apos;s why the fields are not recognized.&lt;/p&gt;

&lt;p&gt;I attached the form and the processing JSP.&lt;/p&gt;

&lt;p&gt;Question is: could this be a bug or a standards violation in Opera ?&lt;/p&gt;</comment>
                            <comment id="12405341" author="wknauf@hg-online.de" created="Thu, 30 Oct 2003 16:59:03 +0000"  >&lt;p&gt;Reopened bug, because I would like to know wether you think it&apos;s an opera bug &lt;br/&gt;
or not. I don&apos;t know which browser is more confirm to the &lt;br/&gt;
fileupload &quot;standards&quot;, IE/Mozilla or Opera.&lt;/p&gt;</comment>
                            <comment id="12405342" author="martinc" created="Sun, 25 Jul 2004 12:23:26 +0000"  >&lt;p&gt;I believe this is a bug in Opera, yes. RFC 1867 states, in Section 3.3, &quot;Each &lt;br/&gt;
part should be labelled with an appropriate content-type if the media type is &lt;br/&gt;
known &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt; or as application/octet-stream&quot;. In the case of an empty input &lt;br/&gt;
element of type &apos;file&apos;, the media type is clearly unknown, so the browser &lt;br/&gt;
should be supplying &apos;application/octet-stream&apos;. Since Opera is not doing this, &lt;br/&gt;
it is in violation of RFC 1867.&lt;/p&gt;</comment>
                            <comment id="12405343" author="apachebugs@hallvord.com" created="Wed, 7 Sep 2005 21:30:08 +0000"  >&lt;p&gt;I disagree that this is a bug in Opera. I don&apos;t really see why something that is &lt;br/&gt;
not uploaded should have a content-type of application/octet-stream. You can &lt;br/&gt;
distinguish (empty) file upload fields by looking for &apos;filename=&quot;&quot;&apos;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332587" name="ASF.LICENSE.NOT.GRANTED--TestFileupload.html" size="730" author="wknauf@hg-online.de" created="Mon, 27 Oct 2003 17:06:53 +0000"/>
                            <attachment id="12332588" name="ASF.LICENSE.NOT.GRANTED--TestFileupload.jsp" size="1347" author="wknauf@hg-online.de" created="Mon, 27 Oct 2003 17:07:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24108</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118279</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 10 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slhz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164960</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-22] FileUpload default constructor does not create a factory</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-22</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;The default constructor of the FileUpload class (no parameters) is said by the &lt;br/&gt;
documentation to use &quot;the default factory&quot;, but the code doesn&apos;t actually create &lt;br/&gt;
any factory at all (fileItemFactory attribute is null), so any attempt to use &lt;br/&gt;
the class causes a NullPointerException. Either the documentation or the code &lt;br/&gt;
should be fixed. Personally, I think the code should be fixed. Why make the &lt;br/&gt;
class harder to use than necessary?&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341034">FILEUPLOAD-22</key>
            <summary>FileUpload default constructor does not create a factory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="larsga@garshol.priv.no">Lars Marius Garshol</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Oct 2003 02:41:06 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:54 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:54 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12405296" author="martinc" created="Sun, 1 Feb 2004 12:55:31 +0000"  >&lt;p&gt;Fixed in the 20040201 nightly build.&lt;/p&gt;

&lt;p&gt;I fixed the Javadoc rather than the code because there is no default factory. &lt;br/&gt;
The purpose of the FileUpload class is to enable customised implementations, so &lt;br/&gt;
it cannot know in advance of any particular factory. (The DiskFileUpload class &lt;br/&gt;
provides a standard implementation that saves files to disk, or keeps them in &lt;br/&gt;
memory if they are small enough.)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23822</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118278</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 41 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sli7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164961</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-21] DefaultFileItem.write() throws NullPointerException if a stream cannot be created</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-21</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;In class org.apache.commons.fileupload.DefaultFileItem, the write() method has &lt;br/&gt;
poor error handling, resulting in a NullPointerException.&lt;/p&gt;

&lt;p&gt;The streams &quot;in&quot; and &quot;out&quot; are initialised to null. Then the code attempts to &lt;br/&gt;
assign them to new streams. A &quot;try...finally&quot; attempts to ensure that these &lt;br/&gt;
streams are always closed. However, if one or both streams have not been &lt;br/&gt;
created (e.g. IOException), the &quot;finally&quot; code tries to invoke close() on a &lt;br/&gt;
null reference, causing NullPointerException.&lt;/p&gt;

&lt;p&gt;The simple fix is to check that each stream is not null, before closing it.&lt;/p&gt;

&lt;p&gt;BufferedInputStream in = null;&lt;br/&gt;
BufferedOutputStream out = null;&lt;br/&gt;
try&lt;br/&gt;
{&lt;br/&gt;
  in = new BufferedInputStream(new FileInputStream(outputFile));&lt;br/&gt;
  out = new BufferedOutputStream(new FileOutputStream(file));&lt;br/&gt;
  byte[] bytes = new byte&lt;span class=&quot;error&quot;&gt;&amp;#91;2048&amp;#93;&lt;/span&gt;;&lt;br/&gt;
  int s = 0;&lt;br/&gt;
  while ((s = in.read(bytes)) != -1)&lt;/p&gt;
  {
    out.write(bytes, 0, s);
  }
&lt;p&gt;}&lt;br/&gt;
finally&lt;br/&gt;
{&lt;br/&gt;
  try&lt;/p&gt;
  {
    in.close();
  }
&lt;p&gt;  catch (IOException e)&lt;/p&gt;
  {
    // ignore
  }&lt;br/&gt;
  try&lt;br/&gt;
  {
    out.close();
  }&lt;br/&gt;
  catch (IOException e)&lt;br/&gt;
  {    // ignore  }
&lt;p&gt;}&lt;/p&gt;


&lt;p&gt;Version information:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;$Header: /home/cvs/jakarta-&lt;br/&gt;
commons/fileupload/src/java/org/apache/commons/fileupload/DefaultFileItem.java,&lt;br/&gt;
v 1.21 2003/06/24 05:45:15 martinc Exp $&lt;/li&gt;
	&lt;li&gt;$Revision: 1.21 $&lt;/li&gt;
	&lt;li&gt;$Date: 2003/06/24 05:45:15 $&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12340831">FILEUPLOAD-21</key>
            <summary>DefaultFileItem.write() throws NullPointerException if a stream cannot be created</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="peter.chase@globalgraphics.com">Peter Chase</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Jul 2003 19:39:24 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:54 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:54 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12404649" author="martinc" created="Wed, 2 Jul 2003 11:45:16 +0000"  >&lt;p&gt;Fixed in 20030702 nightly build.&lt;/p&gt;</comment>
                            <comment id="12404650" author="martinc" created="Fri, 15 Aug 2003 10:42:46 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-7&quot; title=&quot;[fileupload] NullPointerException in DefaultFileItem&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-7&quot;&gt;&lt;del&gt;COM-759&lt;/del&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>21221</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118277</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 13 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164962</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-20] [fileupload] Using getSize on DistFileItem after write returns 0 size</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-20</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Steps to reproduce:&lt;/p&gt;

&lt;p&gt;1. Upload a large file to a DiskFileItem so it is stored on the temporary location&lt;br/&gt;
2. Call getSize() to retrieve the uploaded file size&lt;br/&gt;
3. Call write(&apos;newlocation&apos;) to rename/write the file to the final destination&lt;br/&gt;
4. Call getSize()&lt;/p&gt;

&lt;p&gt;In the 4. getSize() call, 0 is returned.&lt;/p&gt;

&lt;p&gt;This is because the getSize() call looks for the no longer existing temporary file.&lt;/p&gt;

&lt;p&gt;We must either make sure that the write() method updates the current file&lt;br/&gt;
location so getSize() can retrieve it from there,&lt;br/&gt;
or getSize is initialized on creation of the fileitem.&lt;/p&gt;

&lt;p&gt;This bug is also present in the 1.2RC1&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12343000">FILEUPLOAD-20</key>
            <summary>[fileupload] Using getSize on DistFileItem after write returns 0 size</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="a.schild">Andre Schild</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 Mar 2006 06:23:38 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:54 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:54 +0000</resolved>
                                    <version>1.1 Final</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12411680" author="martinc" created="Thu, 4 May 2006 11:53:26 +0000"  >&lt;p&gt;Fixed in the 2006-05-04 nightly build.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39160</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118276</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slin:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164963</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-19] File Upload Not Compatible With IE 5.2.3 MacOS X</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-19</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I&apos;ve got a Struts 1.1 application with a file upload field that works on all the browsers that I can &lt;br/&gt;
think of (IE5/6 PC, Mozilla, Safari, etc) except IE5 Macintosh.  I get this exception whether or not a &lt;br/&gt;
file has been selected to upload:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-50&amp;#93;&lt;/span&gt; ERROR org.apache.struts.upload.CommonsMultipartRequestHandler - Failed to parse &lt;br/&gt;
multipart request&lt;br/&gt;
org.apache.commons.fileupload.FileUploadException: Processing of multipart/form-data request &lt;br/&gt;
failed. Stream ended unexpectedly&lt;br/&gt;
        at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:429)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.struts.upload.CommonsMultipartRequestHandler.handleRequest(CommonsMultipartRe&lt;br/&gt;
questHandler.java:233)&lt;br/&gt;
        at org.apache.struts.util.RequestUtils.populate(RequestUtils.java:1209)&lt;br/&gt;
        at org.apache.struts.action.RequestProcessor.processPopulate(RequestProcessor.java:821)&lt;br/&gt;
        at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:254)&lt;br/&gt;
        at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1482)&lt;br/&gt;
        at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:525)&lt;br/&gt;
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:760)&lt;br/&gt;
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:247)&lt;br/&gt;
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)&lt;br/&gt;
        at org.etp.voter.web.client.LoginFilter.doFilter(LoginFilter.java:49)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:213)&lt;br/&gt;
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)&lt;br/&gt;
        at org.etp.voter.web.HibernateFilter.doFilter(HibernateFilter.java:84)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:213)&lt;br/&gt;
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)&lt;br/&gt;
        at org.etp.commons.web.UnicodeFormFilter.doFilter(UnicodeFormFilter.java:35)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:213)&lt;br/&gt;
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)&lt;br/&gt;
        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:256)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipel&lt;br/&gt;
ine.java:643)&lt;br/&gt;
        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)&lt;br/&gt;
        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)&lt;br/&gt;
        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipel&lt;br/&gt;
ine.java:643)&lt;br/&gt;
        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:494)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipel&lt;br/&gt;
ine.java:641)&lt;br/&gt;
        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)&lt;br/&gt;
        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)&lt;br/&gt;
        at org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2415)&lt;br/&gt;
        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:180)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipel&lt;br/&gt;
ine.java:643)&lt;br/&gt;
        at org.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherValve.java:171)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipel&lt;br/&gt;
ine.java:641)&lt;br/&gt;
        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:172)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipel&lt;br/&gt;
ine.java:641)&lt;br/&gt;
        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)&lt;br/&gt;
        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)&lt;br/&gt;
        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:174)&lt;br/&gt;
        at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipel&lt;br/&gt;
ine.java:643)&lt;br/&gt;
        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)&lt;br/&gt;
        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)&lt;br/&gt;
        at org.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:223)&lt;br/&gt;
        at org.apache.jk.server.JkCoyoteHandler.invoke(JkCoyoteHandler.java:261)&lt;br/&gt;
        at org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:360)&lt;br/&gt;
        at org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:604)&lt;br/&gt;
        at org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:562)&lt;br/&gt;
        at org.apache.jk.common.SocketConnection.runIt(ChannelSocket.java:679)&lt;br/&gt;
        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:530)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:554)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12340978">FILEUPLOAD-19</key>
            <summary>File Upload Not Compatible With IE 5.2.3 MacOS X</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jesse@e-thepeople.org">Jesse Costello-Good</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Sep 2003 05:15:15 +0000</created>
                <updated>Mon, 30 Oct 2006 21:40:06 +0000</updated>
                            <resolved>Mon, 30 Oct 2006 21:40:06 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>2</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12405105" author="martinc" created="Wed, 22 Oct 2003 11:14:37 +0000"  >&lt;p&gt;Does this happen every time, or only sometimes? Is there any way you could &lt;br/&gt;
capture the request input stream (e.g. using a sniffer) so that we can see the &lt;br/&gt;
data that&apos;s causing the problem? Unfortunately I don&apos;t have access to a MacOS X &lt;br/&gt;
system to test with.&lt;/p&gt;</comment>
                            <comment id="12405106" author="jesse@e-thepeople.org" created="Sat, 1 Nov 2003 04:34:44 +0000"  >&lt;p&gt;yes it happens each and every time I try to upload.  I&apos;ll attach a file I created with Ethereal (libpcap &lt;br/&gt;
format) ... I hope that is sufficient, I don&apos;t know much about sniffing.  It shows the attempt to &lt;br/&gt;
upload mapB021121093918.gif.  &lt;/p&gt;</comment>
                            <comment id="12405107" author="jesse@e-thepeople.org" created="Sat, 1 Nov 2003 04:36:49 +0000"  >&lt;p&gt;Created an attachment (id=8855)&lt;br/&gt;
package sniff from Ethereal&lt;/p&gt;</comment>
                            <comment id="12405108" author="dms.jakartabug@rocsoft.com" created="Mon, 24 Nov 2003 20:58:51 +0000"  >&lt;p&gt;Created an attachment (id=9261)&lt;br/&gt;
Diff of fix for Mac IE using file upload&lt;/p&gt;</comment>
                            <comment id="12405109" author="dms.jakartabug@rocsoft.com" created="Mon, 24 Nov 2003 20:59:50 +0000"  >&lt;p&gt;Created an attachment (id=9262)&lt;br/&gt;
Code with Mac IE fix in place&lt;/p&gt;</comment>
                            <comment id="12405110" author="dms.jakartabug@rocsoft.com" created="Mon, 24 Nov 2003 21:00:21 +0000"  >&lt;p&gt;It looks to me as if the issue described is because IE on the Mac is sending a&lt;br/&gt;
different file separator character than every other browser.&lt;/p&gt;

&lt;p&gt;I&apos;ve attached code and diff; I&apos;ve included logging statements just for&lt;br/&gt;
illustrative purposes.&lt;/p&gt;

&lt;p&gt;But here&apos;s the diff:&lt;/p&gt;

&lt;p&gt;71a72,73&lt;br/&gt;
&amp;gt; import org.apache.log4j.*;&lt;br/&gt;
&amp;gt;&lt;br/&gt;
135a138,139&lt;br/&gt;
&amp;gt;   static Category logger = Category.getInstance(&lt;br/&gt;
MultipartStream.class.getName() );&lt;br/&gt;
&amp;gt;&lt;br/&gt;
164a169&lt;br/&gt;
&amp;gt;     protected static final byte[] MAC_IE_SEPARATOR = &lt;/p&gt;
{ 0x0A, 0x43 }
&lt;p&gt;;&lt;br/&gt;
391a397&lt;br/&gt;
&amp;gt; logger.warn( &quot;Bytes: &quot; + Byte.toString( marker&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; ) + &quot;, &quot; + Byte.toString(&lt;br/&gt;
marker&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; ) );&lt;br/&gt;
393a400&lt;br/&gt;
&amp;gt; logger.warn( &quot;Stream terminator case...&quot; );&lt;br/&gt;
397a405,410&lt;br/&gt;
&amp;gt; logger.warn( &quot;Field separator case...&quot; );&lt;br/&gt;
&amp;gt;                 nextChunk = true;&lt;br/&gt;
&amp;gt;             }&lt;br/&gt;
&amp;gt;             else if (arrayequals(marker, MAC_IE_SEPARATOR, 2))&lt;br/&gt;
&amp;gt;             {&lt;br/&gt;
&amp;gt; logger.warn( &quot;Mac IE case...&quot; );&lt;br/&gt;
401a415&lt;br/&gt;
&amp;gt; logger.warn( &quot;Error...&quot; );&lt;/p&gt;

&lt;p&gt;Here&apos;s the logger output (I&apos;m assuming that Martin will want to remove the&lt;br/&gt;
logger statements if he chooses to check this in):&lt;/p&gt;

&lt;p&gt;2003-11-17 11:53:17,214 WARN  (MultipartStream.java:397) Bytes: 13, 10&lt;br/&gt;
2003-11-17 11:53:17,216 WARN  (MultipartStream.java:405) Field separator case...&lt;br/&gt;
2003-11-17 11:54:30,040 WARN  (MultipartStream.java:397) Bytes: 10, 67&lt;br/&gt;
2003-11-17 11:54:30,042 WARN  (MultipartStream.java:410) Mac IE case...&lt;br/&gt;
2003-11-17 11:54:30,043 WARN  (MultipartStream.java:397) Bytes: 10, 67&lt;br/&gt;
2003-11-17 11:54:30,044 WARN  (MultipartStream.java:410) Mac IE case...&lt;br/&gt;
2003-11-17 11:54:30,046 WARN  (MultipartStream.java:397) Bytes: 13, 10&lt;br/&gt;
2003-11-17 11:54:30,047 WARN  (MultipartStream.java:405) Field separator case...&lt;br/&gt;
2003-11-17 11:54:30,049 WARN  (MultipartStream.java:397) Bytes: 45, 45&lt;br/&gt;
2003-11-17 11:54:30,050 WARN  (MultipartStream.java:400) Stream terminator case... &lt;/p&gt;</comment>
                            <comment id="12405111" author="martinc" created="Sun, 1 Feb 2004 10:40:50 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-9&quot; title=&quot;IE 5.2 on MacOsx throws Exception in multipart form data sending&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-9&quot;&gt;&lt;del&gt;COM-1077&lt;/del&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12405112" author="martinc" created="Sun, 1 Feb 2004 11:28:01 +0000"  >&lt;p&gt;OK, I&apos;ve finally figured out what&apos;s going on here, and it&apos;s really bizarre. The &lt;br/&gt;
problem is caused by a strange bug in IE 5.23 for Mac. It seems that, when &lt;br/&gt;
writing the boundary (as a separator), the browser terminates the line with &lt;br/&gt;
only an LF character, instead of the CR LF pair - but only sometimes! (When &lt;br/&gt;
writing headers - either the HTTP headers or the part headers - it always &lt;br/&gt;
correctly writes out CR LF.)&lt;/p&gt;

&lt;p&gt;In the Ethereal sniffer output attached to this bug report (thanks for that, &lt;br/&gt;
Jesse), we can see that the boundaries are correct until a binary part is &lt;br/&gt;
uploaded. The boundary following that is incorrect, and the one after that is &lt;br/&gt;
incorrect as well, but after that, it seems to go back to correct boundaries. &lt;br/&gt;
This is a really weird pattern, and I thought it might be a fluke, but it&apos;s &lt;br/&gt;
repeated, in exactly the same manner, the next time a binary part is &lt;br/&gt;
encountered. How someone managed to code that one up is beyond me!&lt;/p&gt;

&lt;p&gt;I&apos;m very reluctant to change FileUpload to accommodate this, for a couple of &lt;br/&gt;
reasons. Firstly, it&apos;s clearly a bug in Mac IE 5.23, so the fix should be in &lt;br/&gt;
that code. Secondly, hacking FileUpload to work around this bug will complicate &lt;br/&gt;
the code quite a bit, and probably cause a performance problem on &lt;b&gt;all&lt;/b&gt; &lt;br/&gt;
platforms.&lt;/p&gt;

&lt;p&gt;I&apos;d like to hear from Mac users about (a) how prevalent IE 5.23 is on Macs, (b) &lt;br/&gt;
how recent it is, and (c) whether or not the problem exists in earlier or later &lt;br/&gt;
versions. Also, it would be good if someone could check that a bug report has &lt;br/&gt;
been entered against Mac IE 5.23.&lt;/p&gt;</comment>
                            <comment id="12405113" author="adrian@ephox.com" created="Fri, 13 Feb 2004 05:56:49 +0000"  >&lt;p&gt;For the record, Mac IE is very prevalent, and it&apos;s no longer being updated so &lt;br/&gt;
filing a bug there won&apos;t do any good.  There is no later version than 5.2.3.&lt;/p&gt;</comment>
                            <comment id="12405114" author="mark.lowe@boxstuff.com" created="Thu, 27 May 2004 21:50:29 +0000"  >&lt;p&gt;I saw this thread and thought I&apos;d give things a test, but as far as I can see I&apos;ve a file upload working fine &lt;br/&gt;
with MSIE 5.2. Why anybody would be silly enough to use it now there&apos;s safari, is another question.&lt;/p&gt;

&lt;p&gt;This app i&apos;m testing with is using the stable struts 1.1 release of struts with TC5. The only problem I&apos;m &lt;br/&gt;
having is with IE mac caching in its own gun slinging way so in my admin form i can see the new image &lt;br/&gt;
when i&apos;m forwarded back to the view (despite a reload to the original action). But its stored in the &lt;br/&gt;
database just fine.&lt;/p&gt;

&lt;p&gt;I&apos;ll try and break it but so far seems to be working fine, was the problem on a deployed apache to &lt;br/&gt;
tomcat (jk and all that jazz) or just using built in http server?&lt;/p&gt;

&lt;p&gt;I&apos;ve just tested on our staging server.&lt;/p&gt;

&lt;p&gt;Apache 2 + jk2 the same app, with msie 5.2 mac. And the same multipart form including an image &lt;br/&gt;
upload worked just fine.&lt;/p&gt;

&lt;p&gt; Apache/2.0.49 (Unix) mod_jk2/2.0.5-dev&lt;/p&gt;

&lt;p&gt;In case it makes any difference both machines i&apos;ve tested on are osx 10.3 , but i really doubt this is the &lt;br/&gt;
issue.&lt;/p&gt;

&lt;p&gt;Just to make treble sure. I&apos;ll test when this app goes live with using jk1 again apache 2 on redhat linux, &lt;br/&gt;
and also on the live version this particular form is served over https so thats another potential factor . &lt;br/&gt;
And in case it makes any difference dev and stage configurations use tc 5.19 while the live deployment &lt;br/&gt;
is new using 5.24.&lt;/p&gt;
</comment>
                            <comment id="12405115" author="mpb@ntsource.com" created="Fri, 4 Jun 2004 23:45:12 +0000"  >&lt;p&gt;Mark - I have some customers that are getting this error as well, and think I &lt;br/&gt;
found out why you can&apos;t duplicate it. &lt;/p&gt;

&lt;p&gt;If the form is submitted using an &amp;lt;html:submit&amp;gt; button, the upload works fine. &lt;br/&gt;
If on the other hand you use an &amp;lt;html:image&amp;gt; button, the error occurs.&lt;/p&gt;</comment>
                            <comment id="12405116" author="justin@armory.com" created="Tue, 13 Jul 2004 02:21:51 +0000"  >&lt;p&gt;We have seen the same problem and submitted a fix in &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-16&quot; title=&quot;[fileupload][PATCH] Workaround for IE5 Mac type=image bug&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-16&quot;&gt;&lt;del&gt;COM-1415&lt;/del&gt;&lt;/a&gt; (with junit test).&lt;/p&gt;</comment>
                            <comment id="12405117" author="martinc" created="Sun, 17 Oct 2004 02:28:08 +0000"  >

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 30061 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332530" name="ASF.LICENSE.NOT.GRANTED--IE5OSXsniff.tgz" size="26074" author="jesse@e-thepeople.org" created="Sat, 1 Nov 2003 04:36:49 +0000"/>
                            <attachment id="12332532" name="ASF.LICENSE.NOT.GRANTED--MultipartStream.java" size="28843" author="dms.jakartabug@rocsoft.com" created="Mon, 24 Nov 2003 20:59:50 +0000"/>
                            <attachment id="12332531" name="ASF.LICENSE.NOT.GRANTED--mac_upload_bug_diff.txt" size="636" author="dms.jakartabug@rocsoft.com" created="Mon, 24 Nov 2003 20:58:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23229</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118275</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 4 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sliv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164964</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-18] contentType comparisons should be case-insensitive</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-18</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;In functions like FileUploadBase.isMultipartContent() the content type&lt;br/&gt;
comparison should be case insensitive, ex.&lt;/p&gt;

&lt;p&gt;org.apache.commons.fileupload.FileUploadBase: line 121 -&lt;/p&gt;

&lt;p&gt;if (contentType.toLowerCase().startsWith(MULTIPART))&lt;/p&gt;

&lt;p&gt;to be able to handle html forms that uppercase some attribute/value pairs:&lt;/p&gt;

&lt;p&gt;&amp;lt;form method=&quot;POST&quot; action=&quot;http://127.0.0.1&quot; enctype=&quot;MULTIPART/FORM_DATA&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;I cant find an RFC that specifies case sensitivity for enctype or or otherwise&lt;br/&gt;
but I&apos;ve come accross web designers/tools that use uppercase.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12341764">FILEUPLOAD-18</key>
            <summary>contentType comparisons should be case-insensitive</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ivo@benetech.org">Ivo Pletikosic</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Oct 2004 02:00:27 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:54 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:54 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12407683" author="martinc" created="Mon, 11 Oct 2004 05:03:27 +0000"  >&lt;p&gt;Fixed in the 10/11/2004 nightly build.&lt;/p&gt;

&lt;p&gt;RFC 2045 states that the values are case-insensitive.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31496</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118274</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 5 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164965</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-17] [fileupload] FileItem.getName() returns filename plus path from Windows/IE</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-17</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;If I upload a file ( /home/msimpson/hello.avi ) from Linux/Mozilla,&lt;br/&gt;
FileItem.getName returns &quot;hello.avi&quot;.  If I upload from Windows(2k)/IE(5),&lt;br/&gt;
getName () returns the filename with pathname, eg &quot;C:\temp\hello.avi&quot;, while&lt;br/&gt;
what I really want is just &quot;hello.avi&quot;.&lt;/p&gt;

&lt;p&gt;Running FileUpload 1.0 beta 1, inside Jboss/Tomcat.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12340593">FILEUPLOAD-17</key>
            <summary>[fileupload] FileItem.getName() returns filename plus path from Windows/IE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="wonderbread55@yahoo.com">Milo Simpson</reporter>
                        <labels>
                    </labels>
                <created>Sat, 8 Mar 2003 05:34:28 +0000</created>
                <updated>Thu, 11 Jul 2013 02:28:27 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:54 +0000</resolved>
                                    <version>1.0 Beta 1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12403813" author="martinc" created="Sat, 8 Mar 2003 12:23:55 +0000"  >&lt;p&gt;The value provided by getName() is whatever the browser supplied in the &lt;br/&gt;
request. If that&apos;s not what you want, you&apos;ll need to process the content of &lt;br/&gt;
that field yourself. FileUpload cannot - and should not try to - predict what &lt;br/&gt;
its clients want from the uploaded values.&lt;/p&gt;</comment>
                            <comment id="12403814" author="martinc" created="Tue, 12 Apr 2005 12:27:42 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-68&quot; title=&quot;[fileupload] Bug in FileUploadBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-68&quot;&gt;&lt;del&gt;COM-2022&lt;/del&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12403815" author="dakota.jack@gmail.com" created="Fri, 15 Apr 2005 17:22:20 +0000"  >&lt;p&gt;(In reply to comment #2)&lt;br/&gt;
&amp;gt; *** &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-68&quot; title=&quot;[fileupload] Bug in FileUploadBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-68&quot;&gt;&lt;del&gt;COM-2022&lt;/del&gt;&lt;/a&gt; has been marked as a duplicate of this bug.&lt;br/&gt;
I think this is a real bug that should be solved as indicated in a patch&lt;br/&gt;
provided in another duplicate offering.  At least commons upload will be of&lt;br/&gt;
little use to me if that patch or one doing the same thing is not applied.&lt;/p&gt;
</comment>
                            <comment id="12403816" author="martinc" created="Sat, 16 Apr 2005 01:00:50 +0000"  >&lt;p&gt;It is not a bug. FileUpload is returning to you exactly what the browser &lt;br/&gt;
provided as content encoded per RFC 1867. As mentioned before in the comments &lt;br/&gt;
for this bug report, it is not the role of FileUpload to interpret the values &lt;br/&gt;
supplied by the browser.&lt;/p&gt;

&lt;p&gt;As for FileUpload being &quot;of little use&quot; without this change, that makes no &lt;br/&gt;
sense, since you can use the same couple of lines of code in your application, &lt;br/&gt;
if this is the ehaviour that you need.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12358528">FILEUPLOAD-122</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12657191">FILEUPLOAD-235</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17794</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118273</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 30 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sljb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164966</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-16] [fileupload][PATCH] Workaround for IE5 Mac type=image bug</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-16</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Gentlehackers,&lt;/p&gt;

&lt;p&gt;Much to our dismay, and we&apos;re sure shortly to yours, we have&lt;br/&gt;
found a bug in IE 5 for Mac where it is (shockingly) not&lt;br/&gt;
conformant to the multipart/form-data specification.&lt;br/&gt;
Our first reaction was whether we could just forget about IE5&lt;br/&gt;
for the Mac, but we are told it is the best browser for Mac&lt;br/&gt;
OS 9, which is still dear to the hearts of our target audience.&lt;br/&gt;
Our second reaction .... well let&apos;s suffice it to say we cooked&lt;br/&gt;
up several plans and it seemed like working around the bug in the&lt;br/&gt;
File Upload code could actually be done simply without harming&lt;br/&gt;
anything else.&lt;/p&gt;

&lt;p&gt;The bug is that the carriage return is missing on any boundary&lt;br/&gt;
line immediately preceding an input with type=image.&lt;br/&gt;
(type=submit does not have the bug.)&lt;/p&gt;

&lt;p&gt;Because the boundary delimiter, not including the trailing&lt;br/&gt;
CRLF, must not appear within any file (RFC 2046, section&lt;br/&gt;
5.1.1), we know the missing CR is due to a buggy browser&lt;br/&gt;
rather than a file containing something similar to a&lt;br/&gt;
boundary.&lt;/p&gt;

&lt;p&gt;This case had previously always been throwing an exception, so&lt;br/&gt;
our patch does not interfere with any previously-working&lt;br/&gt;
situation.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341567">FILEUPLOAD-16</key>
            <summary>[fileupload][PATCH] Workaround for IE5 Mac type=image bug</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="justin@armory.com">Justin Sampson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Jul 2004 02:05:47 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:54 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:54 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12406996" author="justin@armory.com" created="Tue, 13 Jul 2004 02:07:07 +0000"  >&lt;p&gt;Created an attachment (id=12097)&lt;br/&gt;
Patch for IE5 Mac type=image bug&lt;/p&gt;</comment>
                            <comment id="12406997" author="martinc" created="Sun, 17 Oct 2004 02:28:11 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-19&quot; title=&quot;File Upload Not Compatible With IE 5.2.3 MacOS X&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-19&quot;&gt;&lt;del&gt;COM-827&lt;/del&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12406998" author="martinc" created="Sun, 17 Oct 2004 08:03:03 +0000"  >&lt;p&gt;Fixed in the 20041017 nightly build. Thanks for the patch!&lt;/p&gt;

&lt;p&gt;I&apos;ve done extensive testing on Windows to ensure that this change doesn&apos;t break &lt;br/&gt;
anything, and I&apos;m satisfied that it&apos;s stable. However, I don&apos;t have access to a &lt;br/&gt;
Mac in order to verify the fix there, so if a few people could do some &lt;br/&gt;
additional testing on that, I&apos;d appreciate it.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332978" name="ASF.LICENSE.NOT.GRANTED--fileupload-ie5mac.patch" size="4540" author="justin@armory.com" created="Tue, 13 Jul 2004 02:07:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30061</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118272</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 4 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sljj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164967</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-15] the fileupload do not conform to the possible double quoting of the boundary</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-15</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;the RFC 2046 in the 5.1.1 section&lt;br/&gt;
(&lt;a href=&quot;http://www.pro-net.co.uk/site/mod_rfc/24/rfc/2046&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.pro-net.co.uk/site/mod_rfc/24/rfc/2046&lt;/a&gt;) say that the boundary&lt;br/&gt;
definition may be double quoted. &lt;/p&gt;

&lt;p&gt;the FileUploadBase class do not implement this. &lt;/p&gt;

&lt;p&gt;the code to change is at the 331/332 lines of that class.&lt;br/&gt;
before creating the boundary byte array, first check that double quotes are used&lt;br/&gt;
or not.&lt;/p&gt;

&lt;p&gt;here is an exemple of patched code (as i posted to the commons-dev list) :&lt;br/&gt;
byte[] boundary = null;&lt;br/&gt;
if (contentType.charAt(boundaryIndex + 9) == &apos;&quot;&apos; &amp;amp;&amp;amp;&lt;br/&gt;
    contentType.charAt(contentType.length() - 1) == &apos;&quot;&apos;) &lt;br/&gt;
{&lt;br/&gt;
    boundary = contentType.substring(&lt;br/&gt;
        boundaryIndex + 10, contentType.length() - 2).getBytes();&lt;br/&gt;
} else {&lt;br/&gt;
    boundary = contentType.substring(boundaryIndex + 9).getBytes();&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341037">FILEUPLOAD-15</key>
            <summary>the fileupload do not conform to the possible double quoting of the boundary</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rpieroni@dexem.com">Rapha&#235;l Pi&#233;roni</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Oct 2003 22:16:06 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:53 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:53 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12405300" author="martinc" created="Wed, 22 Oct 2003 11:06:45 +0000"  >

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 21269 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23973</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118271</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sljr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164968</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-14] [fileupload] No items in list in uploaded objects</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-14</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Client Side(Just the contents between the form tags shown)&lt;br/&gt;
----------------&lt;br/&gt;
&amp;lt;form name=&quot;MyPicture&quot; method=&quot;post&quot; action=&quot;/DynaPict/performSavePicture.do&quot; &lt;br/&gt;
enctype=&quot;multipart/form-data&quot;&amp;gt;&lt;br/&gt;
&amp;lt;table width=100% height=100%&amp;gt;&lt;br/&gt;
&amp;lt;tr&amp;gt;&amp;lt;td align=&apos;center&apos; valign=&apos;center&apos;&amp;gt;&lt;br/&gt;
&amp;lt;table&amp;gt;&lt;br/&gt;
&amp;lt;tr&amp;gt;&lt;br/&gt;
&amp;lt;td&amp;gt;&lt;br/&gt;
&amp;lt;basefont class=&quot;javawebapp&quot;&amp;gt;User Name:&amp;lt;/basefont&amp;gt;&lt;br/&gt;
&amp;lt;/td&amp;gt;&lt;br/&gt;
&amp;lt;td&amp;gt;&lt;br/&gt;
&amp;lt;input type=&quot;text&quot; name=&quot;userId&quot; maxlength=&quot;20&quot; value=&quot;&quot;&amp;gt;&lt;br/&gt;
&amp;lt;/td&amp;gt;&lt;br/&gt;
&amp;lt;/tr&amp;gt;&lt;br/&gt;
&amp;lt;tr&amp;gt;&lt;br/&gt;
&amp;lt;td&amp;gt;&lt;br/&gt;
&amp;lt;basefont class=&quot;javawebapp&quot;&amp;gt;File Uploader:&amp;lt;/basefont&amp;gt;&lt;br/&gt;
&amp;lt;/td&amp;gt;&lt;br/&gt;
&amp;lt;td&amp;gt;&lt;br/&gt;
&amp;lt;input type=&quot;file&quot; name=&quot;myfile&quot; value=&quot;&quot;&amp;gt;&lt;br/&gt;
&amp;lt;/td&amp;gt;&lt;br/&gt;
&amp;lt;/tr&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;tr&amp;gt;&lt;br/&gt;
&amp;lt;td VALIGN=&apos;top&apos;&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;a &lt;br/&gt;
onMouseOver = &quot;hiLite(&apos;saves1&apos;,&apos;savesover&apos;,&apos;on&apos;)&quot; &lt;br/&gt;
onMouseOut = &quot;hiLite(&apos;saves1&apos;,&apos;saves&apos;,&apos;off&apos;)&quot; &lt;br/&gt;
href=&apos;javascript:document.forms&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;MyPicture&amp;quot;&amp;#93;&lt;/span&gt;.submit();&apos;&amp;gt;&amp;lt;IMG &lt;br/&gt;
SRC=&apos;images/savebutton.jpg&apos; NAME=&apos;saves1&apos; ALT=&apos;Go &apos; ALIGN=&apos;left&apos; VALIGN=&apos;top&apos;&amp;gt;&lt;br/&gt;
&amp;lt;/a&amp;gt;&lt;/p&gt;


&lt;p&gt;&amp;lt;/td&amp;gt;&lt;br/&gt;
&amp;lt;td align=&apos;right&apos; VALIGN=&apos;top&apos;&amp;gt;&lt;br/&gt;
&amp;lt;a style=&quot;color: #3366ff;&quot; onMouseOver = &quot;hiLite&lt;br/&gt;
(&apos;cancels1&apos;,&apos;cancelsover&apos;,&apos;on&apos;)&quot; onMouseOut = &quot;hiLite&lt;br/&gt;
(&apos;cancels1&apos;,&apos;cancels&apos;,&apos;off&apos;)&quot; &lt;br/&gt;
	href=&quot;login.jsp&quot; class=&quot;javawebapp&quot;&lt;br/&gt;
	&amp;gt;&amp;lt;IMG SRC=&apos;images/cancelbutton.jpg&apos; NAME=&apos;cancels1&apos; ALT=&apos;Go &apos; &lt;br/&gt;
VALIGN=&apos;top&apos;&amp;gt;&amp;lt;/A&amp;gt;&lt;br/&gt;
&amp;lt;/td&amp;gt;&lt;br/&gt;
&amp;lt;/td&amp;gt;&lt;br/&gt;
&amp;lt;/tr&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;/table&amp;gt;&lt;br/&gt;
&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&lt;br/&gt;
&amp;lt;/table&amp;gt;&lt;br/&gt;
&amp;lt;/form&amp;gt;&lt;/p&gt;

&lt;p&gt;Server side(Just the first part of the struts execute method shown)&lt;br/&gt;
----------------&lt;br/&gt;
    public ActionForward execute(ActionMapping mapping,&lt;br/&gt;
    ActionForm form,&lt;br/&gt;
    HttpServletRequest request,&lt;br/&gt;
    HttpServletResponse response) throws Exception {&lt;/p&gt;

&lt;p&gt;	ActionForward forward = null;&lt;/p&gt;

&lt;p&gt;	// Create a new file upload handler&lt;br/&gt;
	DiskFileUpload upload = new DiskFileUpload();&lt;/p&gt;

&lt;p&gt;	// Parse the request&lt;br/&gt;
	List items = upload.parseRequest(request);&lt;/p&gt;

&lt;p&gt;	//Test 1-This shows the list contains no items&lt;br/&gt;
	System.out.println(&quot;List Size &quot; + items.size());&lt;/p&gt;

&lt;p&gt;	//Test 2-This shows that the text field from the form is present&lt;br/&gt;
	System.out.println(&quot;UI=&quot; + request.getParameter(&quot;userId&quot;));&lt;/p&gt;

&lt;p&gt;	// Process the uploaded items&lt;br/&gt;
	Iterator iter = items.iterator();&lt;/p&gt;

&lt;p&gt;	while (iter.hasNext()) {&lt;br/&gt;
..........................&lt;/p&gt;

&lt;p&gt;OUTPUT&lt;/p&gt;

&lt;p&gt;List Size 0&lt;br/&gt;
UI=tester&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows 2000&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12342451">FILEUPLOAD-14</key>
            <summary>[fileupload] No items in list in uploaded objects</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="charlesavt@yahoo.com">charles</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Aug 2005 22:20:23 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:53 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:53 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12410055" author="martinc" created="Tue, 9 Aug 2005 15:01:01 +0000"  >&lt;p&gt;Struts has multipart handling built in. If you try to handle it yourself in an&lt;br/&gt;
Action, you will find that the input stream has already been consumed by Struts,&lt;br/&gt;
so there is nothing left for you to parse. That is why you are seeing nothing&lt;br/&gt;
returned.&lt;/p&gt;

&lt;p&gt;All you need to do is define the file items as FormFile items in your form&lt;br/&gt;
beans, and Struts will take care of parsing the request and populating your form&lt;br/&gt;
bean.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36081</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118270</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 14 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sljz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164969</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-13] [fileupload] Use the ServletRequest encoding as default</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-13</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;The fileupload package operates on a ServletRequest to conveniently extract it&apos;s&lt;br/&gt;
content. The ServletRequest.getCharacterEncoding() method &quot;Returns the name of&lt;br/&gt;
the character encoding used in the body of this request&quot;, and thus should be&lt;br/&gt;
used as a default by the fileupload processing as well.&lt;/p&gt;

&lt;p&gt;Further, whether from the servlet request or an explicit set on the FileUpload&lt;br/&gt;
instance, the encoding should propagate to the FileItem (again by default,&lt;br/&gt;
unless it&apos;s overridden by a part content type header or explicit set).&lt;/p&gt;

&lt;p&gt;Currently, in order to have a UTF-8 request properly parsed, one must first call&lt;/p&gt;

&lt;p&gt;request.setCharacterEncoding(&quot;UTF-8&quot;)&lt;/p&gt;

&lt;p&gt;then call&lt;/p&gt;

&lt;p&gt;diskFileUpload.setHeaderEncoding(&quot;UTF-8&quot;)&lt;/p&gt;

&lt;p&gt;and finally use&lt;/p&gt;

&lt;p&gt;fileItem.getString(&quot;UTF-8&quot;)&lt;/p&gt;

&lt;p&gt;There&apos;s no reason for this duplicity - if the first is set, the rest should&lt;br/&gt;
propagate by default, unless explicitly overridden. This is a source for bugs&lt;br/&gt;
and unneeded extra work (it took quite a while to figure these out, after&lt;br/&gt;
examining the source code - this work can be saved for other developers, after&lt;br/&gt;
all, that&apos;s what this package is for!).&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12342193">FILEUPLOAD-13</key>
            <summary>[fileupload] Use the ServletRequest encoding as default</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="amichai">Amichai Rothman</reporter>
                        <labels>
                    </labels>
                <created>Sat, 16 Apr 2005 19:48:27 +0000</created>
                <updated>Tue, 26 Jun 2012 20:10:15 +0000</updated>
                            <resolved>Mon, 30 Oct 2006 21:42:47 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12409165" author="g.hueller@gmx.at" created="Sat, 14 May 2005 01:23:53 +0000"  >&lt;p&gt;yup, just stumbled over the same thing.&lt;br/&gt;
but I think the problem is that item.getString() by default uses &lt;br/&gt;
the &quot;platform&apos;s default encoding&quot; (ie the one on the server), it should instead &lt;br/&gt;
get the request.getCharacterEncoding and use that encoding. If that is not &lt;br/&gt;
given, it might still fall back to the server-side encoding.&lt;/p&gt;</comment>
                            <comment id="12409166" author="martinc" created="Mon, 28 Nov 2005 08:21:30 +0000"  >&lt;p&gt;I&apos;ve fixed the first part of this, such that if FileUpload.getHeaderEncoding()&lt;br/&gt;
returns null, it will use the request encoding, if there is one, getting this&lt;br/&gt;
from ServletRequest or ActionRequest as appropriate.&lt;/p&gt;

&lt;p&gt;The second part of this would cause interface breakage, in order to provide a&lt;br/&gt;
way to pass the encoding to the FileItem instances. Although FileUpload 1.1 has&lt;br/&gt;
not been released, there are so many people using it at this point that I&apos;m&lt;br/&gt;
reluctant to make such changes at this time. Feel free to file a separate&lt;br/&gt;
enhancement request for this, and mark it LATER, if you wish.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="12595975">FILEUPLOAD-208</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34483</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118269</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 50 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slk7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164970</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-12] [fileupload] Remove deprecations issued in IO 1.1</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-12</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Patch follows.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342788">FILEUPLOAD-12</key>
            <summary>[fileupload] Remove deprecations issued in IO 1.1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rahul@apache.org">Rahul Akolkar</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 Dec 2005 08:27:21 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:53 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:53 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12411053" author="rahul@apache.org" created="Mon, 12 Dec 2005 08:28:25 +0000"  >&lt;p&gt;Created an attachment (id=17195)&lt;br/&gt;
IO 1.1 deprecations&lt;/p&gt;</comment>
                            <comment id="12411054" author="martinc" created="Tue, 13 Dec 2005 03:09:08 +0000"  >&lt;p&gt;Fixed in the 20051213 nightly build.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333948" name="ASF.LICENSE.NOT.GRANTED--fileupload_io_1_1_deprecations.patch" size="1339" author="rahul@apache.org" created="Mon, 12 Dec 2005 08:28:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37865</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118268</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 48 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slkf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164971</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>