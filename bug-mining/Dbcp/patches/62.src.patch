diff --git a/src/java/org/apache/commons/dbcp/cpdsadapter/PooledConnectionImpl.java b/src/java/org/apache/commons/dbcp/cpdsadapter/PooledConnectionImpl.java
index 3609fc31..e57639b3 100644
--- a/src/java/org/apache/commons/dbcp/cpdsadapter/PooledConnectionImpl.java
+++ b/src/java/org/apache/commons/dbcp/cpdsadapter/PooledConnectionImpl.java
@@ -410,9 +410,16 @@ class PooledConnectionImpl
             PStmtKey key = (PStmtKey)obj;
             if (null == key._resultSetType 
                     && null == key._resultSetConcurrency) {
-                return new PoolablePreparedStatementStub(
-                        connection.prepareStatement(key._sql),
-                        key, pstmtPool, delegatingConnection);
+                if (null == key._autoGeneratedKeys) {
+                    return new PoolablePreparedStatementStub(
+                            connection.prepareStatement(key._sql),
+                            key, pstmtPool, delegatingConnection);
+                } else {
+                    return new PoolablePreparedStatementStub(
+                            connection.prepareStatement(key._sql,
+                                    key._autoGeneratedKeys.intValue()),
+                            key, pstmtPool, delegatingConnection);
+                }
             } else {
                 return new PoolablePreparedStatementStub(
                         connection.prepareStatement(key._sql,
diff --git a/xdocs/changes.xml b/xdocs/changes.xml
index 8b6d100e..fb51240f 100644
--- a/xdocs/changes.xml
+++ b/xdocs/changes.xml
@@ -42,6 +42,10 @@ The <action> type attribute can be add,update,fix,remove.
      new features as well as bug fixes and instrumentation.  Some bug fixes
      will change semantics (e.g. connection close will become idempotent).
      The minimum JDK level will be increased to 1.4">
+      <action dev="markt" type="fix" issue="DBCP-303" due-to="Dave Oxley">
+        Ensure Statement.getGeneratedKeys() works correctly with the CPDS
+        adapter.
+      </action>
       <action dev="psteitz" type="fix" issue="DBCP-302" due-to="Sebastian Bazley">
         Removed incorrectly advertised ClassNotFoundException from
         JOCLContentHandler.ConstructorDetails.createObject().
