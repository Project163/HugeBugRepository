diff --git a/pom.xml b/pom.xml
index 6b211189..b885dcd1 100644
--- a/pom.xml
+++ b/pom.xml
@@ -117,6 +117,9 @@
     <contributor>
       <name>Jakob Sachse</name>
     </contributor>
+    <contributor>
+      <name>Joel Truher</name>
+    </contributor>
   </contributors>
 
   <dependencies>
diff --git a/project.xml b/project.xml
index 3ca19451..689d2a17 100644
--- a/project.xml
+++ b/project.xml
@@ -164,6 +164,9 @@
     <contributor>
       <name>Jakob Sachse</name>
     </contributor>
+    <contributor>
+      <name>Joel Truher</name>
+    </contributor>
   </contributors>
   
   <dependencies>
diff --git a/src/main/java/org/apache/commons/scxml/Builtin.java b/src/main/java/org/apache/commons/scxml/Builtin.java
index c440121b..96846ec6 100644
--- a/src/main/java/org/apache/commons/scxml/Builtin.java
+++ b/src/main/java/org/apache/commons/scxml/Builtin.java
@@ -126,7 +126,7 @@ public class Builtin implements Serializable {
         } else {
             if (length > 1) {
                 Log log = LogFactory.getLog(Builtin.class);
-                log.warn("Data(): Multiple nodes matching XPath expression"
+                log.warn("Data(): Multiple nodes matching XPath expression \""
                     + path + "\", returning first");
             }
             return result.item(0);
@@ -209,7 +209,7 @@ public class Builtin implements Serializable {
         } else {
             if (length > 1) {
                 Log log = LogFactory.getLog(Builtin.class);
-                log.warn("Data(): Multiple nodes matching XPath expression"
+                log.warn("Data(): Multiple nodes matching XPath expression \""
                     + path + "\", returning first");
             }
             return result.item(0);
diff --git a/src/main/java/org/apache/commons/scxml/model/Assign.java b/src/main/java/org/apache/commons/scxml/model/Assign.java
index 8c3a4827..fb7f8359 100644
--- a/src/main/java/org/apache/commons/scxml/model/Assign.java
+++ b/src/main/java/org/apache/commons/scxml/model/Assign.java
@@ -196,10 +196,11 @@ public class Assign extends Action implements PathResolverHolder {
                         newNode = eval.evalLocation(ctx, expr);
                     }
                     // Remove all children
-                    for (Node child = oldNode.getFirstChild();
-                            child != null;
-                            child = child.getNextSibling()) {
-                        oldNode.removeChild(child);
+                    Node removeChild = oldNode.getFirstChild();
+                    while (removeChild != null) {
+                        Node nextChild = removeChild.getNextSibling();
+                        oldNode.removeChild(removeChild);
+                        removeChild = nextChild;
                     }
                     if (newNode != null) {
                         // Adopt new children
diff --git a/src/test/java/org/apache/commons/scxml/model/AssignTest.java b/src/test/java/org/apache/commons/scxml/model/AssignTest.java
index 261d67b7..7abeb930 100644
--- a/src/test/java/org/apache/commons/scxml/model/AssignTest.java
+++ b/src/test/java/org/apache/commons/scxml/model/AssignTest.java
@@ -45,21 +45,24 @@ public class AssignTest extends TestCase {
     }
 
     // Test data
+    private URL assign01, assign02;
     private SCXMLExecutor exec;
 
     /**
      * Set up instance variables required by this test case.
      */
     public void setUp() {
-        URL assignSample = this.getClass().getClassLoader().
-            getResource("org/apache/commons/scxml/model/assign-test.xml");
-        exec = SCXMLTestHelper.getExecutor(assignSample);
+        assign01 = this.getClass().getClassLoader().
+            getResource("org/apache/commons/scxml/model/assign-test-01.xml");
+        assign02 = this.getClass().getClassLoader().
+            getResource("org/apache/commons/scxml/model/assign-test-02.xml");
     }
 
     /**
      * Tear down instance variables required by this test case.
      */
     public void tearDown() {
+        assign01 = assign02 = null;
         exec = null;
     }
 
@@ -67,6 +70,7 @@ public class AssignTest extends TestCase {
      * Test the implementation
      */
     public void testAssignSrc() {
+        exec = SCXMLTestHelper.getExecutor(assign01);
         Set currentStates = exec.getCurrentStatus().getStates();
         assertEquals(1, currentStates.size());
         assertEquals("assign3", ((State)currentStates.iterator().
@@ -74,7 +78,16 @@ public class AssignTest extends TestCase {
         assertTrue(exec.getCurrentStatus().isFinal());
     }
 
-     public static void main(String args[]) {
+    public void testAssignDeep() {
+        exec = SCXMLTestHelper.getExecutor(assign02);
+        Set currentStates = exec.getCurrentStatus().getStates();
+        assertEquals(1, currentStates.size());
+        assertEquals("assign3", ((State)currentStates.iterator().
+            next()).getId());
+        assertTrue(exec.getCurrentStatus().isFinal());
+    }
+
+    public static void main(String args[]) {
         TestRunner.run(suite());
     }
 }
diff --git a/src/test/java/org/apache/commons/scxml/model/assign-test.xml b/src/test/java/org/apache/commons/scxml/model/assign-test-01.xml
similarity index 100%
rename from src/test/java/org/apache/commons/scxml/model/assign-test.xml
rename to src/test/java/org/apache/commons/scxml/model/assign-test-01.xml
diff --git a/src/test/java/org/apache/commons/scxml/model/assign-test-02.xml b/src/test/java/org/apache/commons/scxml/model/assign-test-02.xml
new file mode 100644
index 00000000..38ab9b3d
--- /dev/null
+++ b/src/test/java/org/apache/commons/scxml/model/assign-test-02.xml
@@ -0,0 +1,46 @@
+<?xml version="1.0"?>
+<!--
+   * Licensed to the Apache Software Foundation (ASF) under one or more
+   * contributor license agreements.  See the NOTICE file distributed with
+   * this work for additional information regarding copyright ownership.
+   * The ASF licenses this file to You under the Apache License, Version 2.0
+   * (the "License"); you may not use this file except in compliance with
+   * the License.  You may obtain a copy of the License at
+   *
+   *     http://www.apache.org/licenses/LICENSE-2.0
+   *
+   * Unless required by applicable law or agreed to in writing, software
+   * distributed under the License is distributed on an "AS IS" BASIS,
+   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+   * See the License for the specific language governing permissions and
+   * limitations under the License.
+-->
+<!-- Regress JIRA 89, incomplete child removal -->
+<scxml xmlns="http://www.w3.org/2005/07/scxml" xmlns:rad="http://foo/bar" version="1.0" initialstate="assign1">
+   <datamodel>
+       <data name="source">
+           <rad:foo>
+               <rad:a>1</rad:a>
+               <rad:b>2</rad:b>
+           </rad:foo>
+       </data>
+       <data name="destination">
+           <rad:bar>
+               <rad:a>3</rad:a>
+               <rad:b>4</rad:b>
+           </rad:bar>
+       </data>
+   </datamodel>
+   <!-- verify the destination contents -->
+   <state id="assign1" final="true">
+       <transition cond="Data(destination,'rad:bar/rad:a') eq 3 and Data(destination,'rad:bar/rad:b') eq 4" target="assign2" />
+   </state>
+   <!-- copy the new contents and verify -->
+   <state id="assign2">
+       <onentry>
+           <assign location="Data(destination,'rad:bar')" expr="Data(source,'rad:foo')" />
+       </onentry>
+       <transition cond="Data(destination,'rad:bar/rad:a') eq 1 and Data(destination,'rad:bar/rad:b') eq 2" target="assign3" />
+   </state>
+   <state id="assign3" final="true" />
+</scxml>
